{"version":3,"sources":["app/authConfig.js","app/modules/Auth/_redux/authCrud.js","app/modules/Auth/_redux/authRedux.js","redux/setupAxios.js","app/modules/Mercados/_redux/mercadosRedux.js","redux/rootReducer.js","redux/store.js","_metronic/_helpers/AssetsHelpers.js","_metronic/_helpers/RouterHelpers.js","_metronic/layout/_core/HTMLClassService.js","_metronic/layout/_core/MetronicLayout.js","_metronic/layout/_core/LayoutConfig.js","_metronic/layout/components/brand/Brand.js","app/config/ability.js","app/config/Can.js","_metronic/layout/components/aside/aside-menu/AsideMenuList.js","_metronic/layout/components/aside/aside-menu/AsideMenu.js","_metronic/layout/components/aside/Aside.js","_metronic/layout/components/footer/Footer.js","_metronic/_assets/js/layout/base/header.js","_metronic/_assets/js/layout/base/header-menu.js","_metronic/_assets/js/layout/base/header-topbar.js","_metronic/_assets/js/layout/base/brand.js","_metronic/_assets/js/layout/base/aside.js","_metronic/_assets/js/layout/base/subheader.js","_metronic/_assets/js/layout/base/sticky-card.js","_metronic/_assets/js/layout/base/aside-menu.js","_metronic/_assets/js/layout/base/aside-toggle.js","_metronic/_assets/js/layout/base/footer.js","_metronic/_assets/js/layout/base/content.js","_metronic/_assets/js/layout/extended/scrolltop.js","_metronic/_assets/js/layout/base/stretched-card.js","_metronic/_assets/js/layout/extended/quick-panel.js","_metronic/_assets/js/layout/extended/quick-user.js","_metronic/layout/components/LayoutInit.js","_metronic/_partials/dropdowns/DropdownMenu1.js","_metronic/_partials/dropdowns/DropdownTopbarItemToggler.js","_metronic/layout/components/subheader/components/QuickActions.js","_metronic/layout/components/subheader/components/BreadCrumbs.js","_metronic/layout/_core/MetronicSubheader.js","_metronic/layout/components/subheader/SubHeader.js","_metronic/layout/components/extras/offcanvas/QuickPanel.js","_metronic/layout/components/extras/offcanvas/QuickUser.js","_metronic/layout/components/extras/ScrollTop.js","_metronic/layout/components/Layout.js","_metronic/layout/components/content/Content.js","_metronic/layout/components/content/ContentRoute.js","_metronic/layout/_core/MetronicSplashScreen.js","_metronic/layout/_core/MaterialThemeProvider.js","app/modules/Mercados/utils.js","app/modules/Mercados/_redux/mercadosActions.js","app/components/Tree/themes/default.js","app/components/Tree/themes/animations.js","app/components/Tree/util/randomString.js","app/components/Tree/components/common/index.js","app/components/Tree/components/Decorators/Container.js","app/components/Tree/components/Decorators/Header.js","app/components/Tree/components/Decorators/Loading.js","app/components/Tree/components/Decorators/Toggle.js","app/components/Tree/components/Decorators/index.js","app/components/Tree/components/NodeHeader.js","app/components/Tree/components/TreeNode/Drawer.js","app/components/Tree/components/TreeNode/Loading.js","app/components/Tree/components/TreeNode/index.js","app/components/Tree/components/index.js","app/components/Tree/components/Decorators/Loader.js","app/components/Tree/util/filter.js","app/modules/Mercados/components/LineGroupDialog.js","app/modules/Mercados/components/LineDialog.js","app/components/SelectVirtualize/index.js","app/modules/Mercados/components/CustomMarketDialog.js","app/Style/GeneralStyles.js","app/components/Tree/components/Semaforo/TrafficLightIcon.jsx","app/modules/Mercados/components/CustomLoader.jsx","app/modules/Mercados/components/CustomMarketTree.js","app/modules/Mercados/components/CustomMarketDeleteDialog.js","app/modules/Mercados/components/CustomMarketAction.js","app/modules/Mercados/components/CustomMarketActionFirma.jsx","app/modules/Mercados/components/CustomMarketLastAuditory.jsx","app/modules/Mercados/components/CustomMarketToolbar.js","app/components/ListCheckbox/Checkboxes.js","app/components/ListCheckbox/VirtualizedCheckbox.js","app/components/ListCheckbox/Loader.js","app/components/ListCheckbox/index.js","app/modules/Mercados/components/ActionTabDialog.js","app/modules/Mercados/components/Forms/Product.js","app/modules/Mercados/components/Forms/ProductPresentation.js","app/modules/Mercados/components/Forms/MarketAssign.js","app/modules/Mercados/customMarketDetailDefault.js","app/modules/Mercados/components/Forms/Laboratory.js","app/modules/Mercados/components/Forms/Drug.js","app/modules/Mercados/components/Forms/CustomMarketPreview.js","app/modules/Mercados/components/ProductTabContainer.js","app/modules/Mercados/components/DrugTabContainer.js","app/modules/Mercados/components/PharmaceuticalFormTabContainer.js","app/modules/Mercados/components/TherapeuticalClassTabContainer.js","app/modules/Mercados/components/LaboratoryTabContainer.js","app/modules/Mercados/components/ProductPresentationTabContainer.js","app/modules/Mercados/components/CustomMarketTabContainer.js","app/modules/ErrorsExamples/ErrorAlert.js","app/modules/Success/SuccessAlert.jsx","app/modules/Mercados/components/Tab.js","app/modules/Mercados/components/CustomMarketGroupDialog.js","app/modules/Mercados/components/CustomMarketGroupDelete.js","app/modules/Mercados/components/CustomMarketGroupAction.js","app/modules/Mercados/components/CustomMarketGroup.js","app/modules/Mercados/components/CustomMarketGroupTab.js","app/modules/Mercados/components/CustomMarketDetailEdit.js","app/modules/Mercados/components/CustomMarketDetailDelete.js","app/modules/Mercados/components/CustomMarketDetail.js","app/modules/Mercados/components/CustomMarketCollapsableDetail.js","app/modules/Mercados/components/CustomMarketManage.js","app/modules/Mercados/components/CustomMarketPreview/dialog.js","app/modules/Mercados/components/CustomMarketPreview.js","app/modules/Mercados/index.js","app/modules/BusinessUnit/_redux/Actions.js","app/modules/BusinessUnit/components/ActionDialog.js","app/modules/BusinessUnit/index.js","app/modules/ProductPresentation/_redux/Actions.js","app/modules/ProductPresentation/components/ActionDialog.js","app/modules/ProductPresentation/index.js","app/modules/Product/_redux/Actions.js","app/modules/Product/components/ActionDialog.js","app/modules/Product/index.js","app/modules/ProductGroup/_redux/Actions.js","app/modules/ProductGroup/components/ActionDialog.js","app/modules/ProductGroup/index.js","app/modules/ProductPresentationGroup/_redux/Actions.js","app/modules/ProductPresentationGroup/components/ActionDialog.js","app/modules/ProductPresentationGroup/index.js","app/modules/LaboratoryGroup/_redux/Actions.js","app/modules/LaboratoryGroup/components/ActionDialog.js","app/modules/LaboratoryGroup/index.js","app/modules/DrugGroup/_redux/Actions.js","app/modules/DrugGroup/components/ActionDialog.js","app/modules/DrugGroup/index.js","app/modules/User/_redux/Actions.js","app/modules/User/components/UserPermissions.js","app/modules/User/components/Panel.js","app/modules/User/components/ActionDialog.js","app/modules/User/index.js","app/modules/Log/_redux/Actions.js","app/modules/Log/index.js","app/BasePage.js","app/modules/Auth/pages/Login.js","app/modules/Auth/pages/AuthPage.js","app/modules/Auth/pages/Logout.js","app/modules/ErrorsExamples/ErrorPage5.js","app/modules/ErrorsExamples/ErrorsPage.js","app/Routes.js","_metronic/i18n/Metronici18n.js","_metronic/i18n/I18nProvider.js","app/App.js","index.js","_metronic/_assets/js/components/cookie.js","_metronic/_assets/js/components/offcanvas.js","_metronic/_assets/js/components/menu.js","_metronic/_assets/js/components/toggle.js","_metronic/_assets/js/components/util.js","_metronic/_assets/js/components/card.js","_metronic/_assets/js/components/scrolltop.js"],"names":["msalConfig","auth","clientId","authority","redirectUri","postLogoutRedirectUri","navigateToLoginRequestUrl","cache","cacheLocation","storeAuthStateInCookie","system","loggerOptions","loggerCallback","level","message","containsPii","LogLevel","Error","console","error","Info","info","Verbose","debug","Warning","warn","msalInstance","PublicClientApplication","loginRequest","scopes","process","LOGIN_URL","userName","password","a","axios","post","withCredentials","adLogin","id","accessToken","response","saga","actionTypes","initialAuthState","user","undefined","authToken","adUser","reducer","persistReducer","storage","key","whitelist","state","action","type","payload","jwtToken","isAdmin","domain","actions","login","logout","setUser","isAbsoluteURLRegex","isRefreshing","failedQueue","processQueue","data","forEach","prom","reject","resolve","initialState","drugs","laboratories","lines","isLoading","linegroups","pharmaceuticalforms","products","productpresentations","producttypes","therapeuticalclasses","customMarket","description","treeVisible","customMarketPreviewAction","item","visible","loading","customMarketGroups","customMarketTree","customMarketPageView","view","loadingProducts","loadingProductPresentations","loadingTherapeuticalClasses","loadingLaboratories","loadingDrugs","pharmaceuticalformsLoading","loadingLineGroups","allCustomMarket","getError","title","getSuccess","lastAuditory","signedMessage","customMarketCount","marketPreviewData","marketHistoryArray","marketHistoryArrayToScreen","customMaketCount","historyData","historyDataToScreen","customMarketSelected","preview","rootSaga","rootReducer","combineReducers","mercados","all","sagaMiddleware","createSagaMiddleware","middleware","getDefaultMiddleware","immutableCheck","serializableCheck","thunk","store","configureStore","devTools","enhancers","reduxBatch","persistor","persistStore","run","toAbsoluteUrl","pathname","checkIsActive","location","url","current","split","getCurrentUrl","indexOf","HtmlClassService","layoutConfig","this","config","preInit","classes","header","header_container","header_mobile","header_menu","aside","aside_menu","subheader","subheader_container","content","content_container","footer_container","attributes","initLayout","initLoader","initHeader","initSubheader","initContent","initAside","initFooter","initTheme","updatedConfig","Object","assign","headerSelfFixedDesktop","objectPath","get","style","fixed","path","toString","Array","isArray","join","brandSkin","logo","getLogo","selfBodyBackgroundImage","document","body","backgroundImage","_selfBodyClass","cssClass","classList","add","push","headerMenuSelfLayout","headerMenuLayoutCssClass","subheaderFixed","subheaderStyle","subheaderClass","asideSelfDisplay","asideMenuDropdown","asideSubmenuDHoverTimeout","brandSelfTheme","headerSelfTheme","LAYOUT_CONFIG_KEY","REACT_APP_LAYOUT_CONFIG_KEY","getConfig","ls","localStorage","getItem","JSON","parse","er","HtmlClassServiceContext","createContext","useHtmlClassService","useContext","Consumer","MetronicLayoutProvider","children","lc","useMemo","hcs","service","setConfig","Provider","value","Brand","uiService","layoutProps","brandClasses","getClasses","asideSelfMinimizeToggle","headerLogo","headerStickyLogo","getStickyLogo","className","to","alt","src","currentAuth","ability","Ability","subjectName","__type","subscribe","prevAuth","getState","update","AbilityBuilder","extract","can","cannot","rules","defineRulesFor","createCanBoundTo","AsideMenuList","useLocation","getMenuItemActive","hasSubmenu","ulClasses","height","Can","I","WorkOutline","bottom","width","AsideMenu","disableScroll","asideMenuAttr","getAttributes","asideClassesFromConfig","Aside","disableAsideSelfDisplay","Footer","today","Date","getFullYear","footerClasses","footerContainerClasses","href","target","rel","KTLayoutHeader","_element","_elementForMobile","init","idForMobile","KTUtil","getById","isFixed","hasClass","getBody","isFixedForMobile","getElement","getElementForMobile","getHeader","getHeight","actualHeight","_getHeight","getHeightForMobile","KTLayoutHeaderMenu","_menuElement","_menuObject","_offcanvasElement","_offcanvasObject","menuId","offcanvasId","KTOffcanvas","overlay","baseClass","closeBy","toggleBy","KTMenu","submenu","desktop","tablet","mobile","accordion","slideSpeed","expandAll","on","menu","isBreakpointDown","hide","getMenuElement","getOffcanvasElement","getMenu","pauseDropdownHover","time","getOffcanvas","closeMobileOffcanvas","isMobileDevice","KTLayoutHeaderTopbar","_toggleElement","KTToggle","targetState","toggleState","getToggleElement","KTLayoutBrand","KTLayoutAside","_body","offcanvasClass","_init","isMinimized","isHoverable","KTLayoutSubheader","KTLayoutStickyCard","_object","offset","KTCard","sticky","zIndex","position","top","pos","isBreakpointUp","left","card","right","cardWidth","parseInt","css","initSticky","addResizeHandler","updateSticky","KTLayoutAsideMenu","scroll","menuDesktopMode","attr","rememberPosition","getViewPort","insideTm","outsideTm","addEvent","e","preventDefault","clearTimeout","setTimeout","addClass","scrollUpdate","scrollTop","removeClass","_initHover","KTLayoutAsideToggle","_toggleObject","toggle","KTCookie","setCookie","getToggle","onToggle","handler","element","KTLayoutFooter","KTLayoutContent","KTLayoutScrolltop","KTScrolltop","speed","KTLayoutStretchedCard","find","cardBody","cardHeader","KTLayoutQuickPanel","_notificationsElement","_logsElement","_settingsElement","_getContentHeight","placement","scrollInit","mobileNativeScroll","resetHeightOnDestroy","handleWindowResize","KTLayoutQuickUser","disableForMobile","LayoutInit","useLayoutEffect","ready","DropdownMenu1","React","forwardRef","props","ref","onClick","displayName","QuickActionsDropdownToggle","QuickActions","OverlayTrigger","Tooltip","Dropdown","drop","alignRight","Toggle","as","Menu","BreadCrumbs","items","length","map","index","getBreadcrumbsAndTitle","pathName","result","breadcrumbs","getElementById","activeLinks","from","getElementsByClassName","filter","el","tagName","link","titleSpans","titleSpan","t","innerHTML","trim","replace","breadCrumbs","getTitle","SubheaderContext","MetronicSubheaderProvider","useState","setTitle","setBreadcrumbs","SubHeader","subheaderMobileToggle","subheaderCssClasses","subheaderContainerCssClasses","useEffect","QuickPanel","selectedTab","setSelectedTab","Tab","Container","defaultActiveKey","Nav","onSelect","_tabName","role","Item","Link","eventKey","onChange","checked","name","QuickUser","history","useHistory","useSelector","shallowEqual","pic","firstname","lastname","occupation","email","click","ScrollTop","Layout","selfLayout","asideDisplay","subheaderDisplay","desktopHeaderDisplay","contentCssClasses","contentContainerClasses","contentExtended","Content","match","useRouteMatch","animationEndClass","cssClassesState","setCssClassesState","fullClasses","startAnimation","timeOutId","ContentRoute","component","render","routeProps","createElement","MetronicSplashScreenContext","MetronicSplashScreenProvider","count","setCount","timeout","splashScreen","remove","LayoutSplashScreen","prev","theme","createMuiTheme","typography","fontFamily","palette","primary","main","secondary","MuiButtonBase","disableRipple","MuiPopover","elevation","MaterialThemeProvider","ThemeProvider","getProducts","getDrugs","getProductPresentations","getLaboratories","getPharmaceuticalForms","getLineGroups","getTherapeuticalClasses","getCustomMarketTree","dispatch","customMarkets","getLastAuditoryMarket","signMarket","headers","resp","status","swal","text","icon","signAll","lineCode","userId","dangerMode","getCustomMarkets","customMarketData","descriptionValues","line","lineGroup","code","toUpperCase","getCustomMarketsByLine","lineCodes","valueEncoded","btoa","stringify","label","itemsChecked","CustomMarketSync","then","drug","setPreviousChecked","isGroup","drugGroupCode","laboratoriesData","laboratory","laboratoryGroupCode","createLine","updateLine","put","getLines","linesData","fullDescription","getLinesByLineGroup","lineGroupCodes","createLineGroup","updateLineGroup","lineGroupCode","lineGroupsData","linegroup","pharmaceuticalformsData","pharmaceuticalform","getPharmaceuticalFormDescription","getPharmaceuticalFormsByProduct","productCodes","productGroupCodes","getPharmaceuticalFormsByProductPresentation","productPresentationCodes","productPresentationGroupCodes","getCustomMarketDescription","lineGroupDescription","lineDescription","pharmaceuticalForm","imscode","setMarketDescriptionTitle","getCustomMarketByCode","getCustomMarket","customMarketDetail","cmd","getCustomMarketGroupByCustomMarketCode","customMarketCode","getCustomMarketGroup","createCustomMarketGroup","customMarketGroup","updateCustomMarketGroup","customMakertGroupCode","deleteCustomMarketGroup","delete","createCustomMarket","updateCustomMarket","order","deleteCustomMarket","cloneCustomMarket","setMarketTreeVisible","productsMercado","product","class","productGroupCode","getProductByDrug","drugCodes","drugGroupCodes","productsData","getProductByLaboratory","laboratoryCodes","laboratoryGroupCodes","getProductByTherapeuticalClass","therapeuticalClassCodes","presentations","presentationsData","presentation","therapeuticalClass","productPresentationGroupCode","getProductTypes","productTypes","productTypesData","productType","getPresentationsbyPharmaceuticalForms","pharmaceuticalFormsCodes","therapeuticalClasses","createProductGroup","createLaboratoryGroup","createDrugGroup","createProductPresentationGroup","getCustomMarketsPreview","customMarketPreview","getHistoricCustomMarketsPreview","getHistoricCustomMarketsPreviewToScreen","getLastSignCustomMarketsPreviewToScreen","dispatchProductLoading","dispatchProductPresentationLoading","dispatchTherapeuticalClassesLoading","dispatchLaboratoriesLoading","dispatchDrugsLoading","dispatchPharmaceuticalFormsLoading","dispatchLineGroupsLoading","dispatchProducts","dispatchProductPresentations","productPresentations","dispatchTherapeuticalClasses","dispatchLaboratories","dispatchDrugs","dispatchPharmaceuticalForms","dispatchLineGroups","setCustomMarketPageView","resetCustomMarket","valueToCompare","setGetError","setGetSuccess","setActionCustomMarketPreview","actionCustomMarketPreviewReset","tree","base","listStyle","backgroundColor","margin","padding","color","fontSize","node","cursor","display","activeLink","background","verticalAlign","marginLeft","wrapper","arrow","fill","strokeWidth","connector","borderLeft","borderBottom","lineHeight","subtree","paddingLeft","toggled","duration","animation","rotateZ","drawer","enter","leave","randomString","Math","random","substring","Div","styled","shouldForwardProp","prop","Ul","animations","renderToggleDecorator","decorators","terminal","customStyles","active","container","renderToggle","Header","PureComponent","defaultProps","selected","Loading","propTypes","PropTypes","object","Polygon","midHeight","points","NodeHeader","nextProps","nextPropKeys","keys","i","deepEqual","strict","styles","Component","Drawer","restAnimationInfo","Li","TreeNode","defaultAnimations","nodeDecorators","propDecorators","child","isFunction","renderChildren","TreeBeard","defaultTheme","castArray","defaultDecorators","Loader","viewBox","foregroundColor","x","y","rx","ry","defaultMatcher","filterText","toLowerCase","findNode","matcher","filterTree","filtered","expandFilteredNodes","childrenWithMatches","shouldExpand","connect","bindActionCreators","open","handleClose","lineGroupSelected","setLoading","initialValues","setInitialValues","getInitialValues","formik","useFormik","enableReinitialize","validate","values","errors","onSubmit","setSubmitting","setErrors","enableLoading","disableLoading","Promise","api","Dialog","maxWidth","fullWidth","onClose","DialogContent","DialogContentText","handleSubmit","TextField","autoComplete","handleChange","touched","Boolean","helperText","DialogActions","Button","disabled","isSubmitting","lineSelected","emptyInitialValues","laboratoryReportHeader","laboratoryReportFooter","drugReportHeader","drugReportFooter","getLine","linesFilter","lineObj","FormControl","Select","lineGroupObj","atob","MenuItem","renderRow","cloneElement","OuterElementContext","OuterElementType","outerProps","ListboxComponent","other","itemData","Children","toArray","useTheme","smUp","useMediaQuery","breakpoints","up","noSsr","itemCount","itemSize","getChildSize","isValidElement","ListSubheader","gridRef","useRef","resetAfterIndex","useResetCache","reduce","b","outerElementType","innerElementType","overscanCount","useStyles","makeStyles","listbox","boxSizing","SelectVirtualize","options","optionLabel","Autocomplete","disableListWrap","getOptionLabel","option","renderInput","params","variant","renderOption","Typography","noWrap","event","isActionClone","footer","marketFilter","drugReport","labReport","controlPanel","productReport","tcReport","testMarket","travelCrm","marketClass","marketReference","responsibleName","responsibleLastName","lineArr","handleCancel","resetForm","Schema","Yup","shape","test","validationSchema","customMarketModified","prepareSave","customMarketCreated","copyCustomMarket","handleChangeLine","handleChangeMarketReference","field","setFieldValue","enterDelay","enterNextDelay","heightW","window","innerHeight","widthW","innerWidth","outline","rowC","flexDirection","borderRadius","marginTop","Lista","textfield","textfield1","root","fixedList","productos","presentaciones","overflow","propiedades","componentes","scrollbarWidth","presentacionCT","overflowY","textfieldCT","textfieldProd","presentacionProd","modal","alignItems","justifyContent","modalCard","closeModalButton","button","borderColor","border","grupos","modalCardMercado","TrafficLightIcon","signed","CustomLoader","Box","bgcolor","CircularProgress","CustomMarketTree","setAllCustomMarkets","customMarketsData","setCustomMarkets","setData","setCursor","openCreateLineGroupModal","setOpenCreateLineGroupModal","setLineGroupSelected","openLineDialog","setOpenLineDialog","setLineSelected","openCustomMarketDialog","setOpenCustomMarketDialog","useDispatch","getItemObject","copyItem","keyObj","handleCloseCreateLineGroupModal","handleOpenCreateLineGroupModal","selectedItem","handleCloseLineDialog","handleSignAllMarkets","handleCloseCustomMarketDialog","getCustomerMarkets","generateNodeTree","onSelectCustomMarketManage","market","customerMarket","onSelectCustomMarketPreview","nodes","treeData","isroot","lineGroupsTree","testMarketNode","parent","childNodes","lineGroupKey","lineGroupKeyEncoded","isTest","marketNodes","childMarket","customMarketDescription","lineKey","lineKeyEncoded","show","contextMenu","subprops","flexWrap","marginBottom","minWidth","IconButton","size","onContextMenu","showIconTree","textAlign","handleOpenLineDialog","handleOpenCustomMarketDialog","handleOpenEditLineDialog","not","onKeyUp","filters","memo","keepMounted","DialogTitle","list","injectIntl","intl","setIsActionClone","anchorEl","setAnchorEl","setDataForTable","tableTitle","setTableTitle","versionDateTitle","setVersionDateTitle","versionCodeTitle","setVersionCodeTitle","openCustomMarketDeleteDialog","setOpenCustomMarketDeleteDialog","openMaterialModal","setOpenMaterialModal","anchorElDropdown","setAnchorElDropdown","openMenu","openDropdown","handleCloseMenu","handleCloseDropdown","handleOpenMaterialModal","screen","formattedDate","versionDate","toLocaleDateString","day","month","year","handleOpenMaterialModalLast","lastItem","stopPropagation","currentTarget","PaperProps","maxHeight","ITEM_HEIGHT","fontWeight","anchorOrigin","vertical","horizontal","transformOrigin","Popover","BackdropProps","columns","formatMessage","rowData","classCode","cellStyle","ensureVisible","graph","resume","expand","filtering","pageSize","pageSizeOptions","searchFieldAlignment","actionsColumnIndex","headerStyle","maxBodyHeight","localization","toolbar","searchTooltip","searchPlaceholder","pagination","labelRowsSelect","labelRowsPerPage","labelDisplayedRows","emptyDataSourceMessage","components","Toolbar","flexGrow","CustomMarketActionFirma","signCurrentMarket","objectToSend","signedUser","CustomMarketLastAuditory","Grid","xs","Checkbox","FormControlLabel","control","Checkboxes","rowHeight","rowCount","labelKey","handleSelectAllChange","onSelectAllChange","rowRenderer","updateItems","it","FilterBar","onSelectItemFromMenu","hasSelectedItems","InputProps","startAdornment","InputAdornment","endAdornment","hasOkButton","hasCancelButton","onOk","onCancel","VirtualizedCheckbox","getFilteredItems","setState","prevState","prepareItems","itm","eventTarget","findIndex","handleOkClick","handleFilterChange","includes","checkedItems","handleCancelClick","propsItems","textFilter","unique","distinct","opt","getDistinctFast","hasFilterBox","propWidth","hasFooter","virtualScrollHeight","h","ListVirtualized","infoRef","marginRight","log","onAccept","productsSelected","formHasBeenSubmited","onChangeStatusForm","formikCreateProduct","prepareToSave","productCode","some","onChangeLoadingForm","productGroupToSave","catch","renderProductsRow","ListItem","productPresentationSelected","prepareProductPresentationToSave","productPresentation","ProductPresentationCodes","productPresentationGroupToSave","itemsSelecteds","customMarketType","formikAsignMarket","prepareToSaveCustomMarket","customMarketDetailValues","intemodifier","modifier","graphs","itemCondition","pattern","productTypeCode","customMarketGroupCode","pharmaceuticalFormCode","productPresentationCode","laboratoryCode","drugCode","therapeuticalClassCode","detailCustomMarketCode","customMarketToSave","customMarketObjError","is","formControl","displayEmpty","selectEmpty","cmg","groupCondition","laboratoriesSelecteds","formikCreateLaboratory","prepareSaveLaboratory","clase","lab","prepareLaboratory","renderLaboratoriesRow","drugSelecteds","formikCreateDrug","prepareDrugToSave","drugsGroupToSave","renderDrugsRow","onDelete","onUpdate","pt","formLoading","setFormLoading","formBtnSubmitDisabled","setFormBtnSubmitDisabled","loadingPharmaceuticalForms","setLoadingPharmaceuticalForms","pharmaceuticalForms","setPharmaceuticalForms","loadingProductPresentation","setLoadingProductPresentation","setProductsSelected","dialogVisibleForProducts","setDialogVisibleForProducts","pharmaceuticalFormSelected","setPharmaceuticalFormSelecteds","setProductPresentation","setProductPresentationSelected","dialogVisibleForMarketAssing","setDialogVisibleForMarketAssing","marketAssignType","setMarketAssignType","marketAssignItems","setMarketAssignItems","dialogVisibleForPresentation","setDialogVisibleForPresentation","setFormHasBeenSubmited","getAllProducts","reloadProductVirtualizedCheckbox","getProductPresentationsByPharmaceuticalForm","productsAllUnchecked","p","onSelectProduct","reloadPharmaceuticalFormVirtualizedCheckbox","productsCodes","productGroupsCodes","productItem","getPharmaceuticalFormByProduct","reloadProductPresentationVirtualizedCheckbox","pharmaceuticalFormCodes","pharmaceuticalFormItem","resetChecked","pharmaceuticalFormPreviousSelecteds","pharmaceuticalformsResponse","pfItem","productPresentationPreviousSelecteds","productPresentationsResponse","onSelectPharmaceuticalForms","onSelectProductPresentation","refreshVirtualizedCheckbox","closeDialog","submitForm","useCallback","spacing","paddingRight","btnDisabled","MarketAssign","setLoadingProducts","setProducts","setDrugSelecteds","dialogVisibleForDrugs","setDialogVisibleForDrugs","productSelecteds","setProductSelecteds","productPresentationSelecteds","setProductPresentationSelecteds","pharmaceuticalFormSelecteds","setPharmaceuticalFormsSelecteds","getAllDrugs","reloadDrugVirtualizedCheckbox","drugsAllUnchecked","d","onSelectDrugs","onSelectProducts","drugItem","productPreviousSelecteds","productsResponse","pItem","Drug","pharmarceuticalFormSelecteds","setPharmaceuticalFormSelected","getAll","reloadPharmaceuticalFormsVirtualizedCheckbox","pharmaceuticalformsAllUnchecked","pf","presentationSelected","therapeuticalClassSelected","setTherapeuticalClassSelected","getAllTherapeuticalClasses","reloadTherapeuticalClassVirtualizedCheckbox","therapeuticalClassesAllUnchecked","tc","onSelectTherapeuticalClasses","therapeuticalClassItem","productPresentationItem","dialogVisibleForLaboratory","setDialogVisibleForLaboratory","setLaboratoriesSelecteds","pharmaceuticalFormsSelecteds","getAllLaboratories","reloadLaboratoryVirtualizedCheckbox","laboratoriesAllUnchecked","l","onSelectLaboratories","laboratoryItem","Laboratory","dialogVisibleForProductPresentation","setDialogVisibleForProductPresentation","getAllProductPresentations","productPresentationsAllUnchecked","onProductPresentation","pharmaceuticalFormsResponse","onPharmaceuticalForm","loadingLinegroups","loadingLines","setLoadingLines","setLines","linesSelected","setLinesSelected","loadingCustomMarkets","setLoadingCustomMarkets","marketSelecteds","setMarketSelecteds","reloadLineGroupVirtualizedCheckbox","lineGroupsAllUnchecked","onSelectLineGroup","onSelectLine","onSelectMarkets","reloadCustomMarketVirtualizedCheckbox","linesCodes","lineItem","linePreviousSelecteds","linesResponse","customMarketPreviousSelecteds","customMarketsResponse","lineGroupItem","marketCodes","marketItem","Alert","severity","AlertTitle","success","TabContainer","dir","paper","FullWidthTabs","setValue","AppBar","Tabs","newValue","indicatorColor","textColor","axis","direction","onChangeIndex","DrugTabContainer","customMarketGroupSelected","CustomMarketGroupAction","openDialog","setOpenDialog","openDeleteDialog","setOpenDeleteDialog","setCustomMarketGroupSelected","handleCloseDialog","CustomMarketGroupDelete","paddingBottom","CustomMarketGroupTab","handleCustomMarketGroupChange","scrollButtons","itemSelectedIndex","ownProduct","itemIndex","prepareDelete","EnhancedTableHead","onSelectAllClick","numSelected","isOwnProduct","headCells","numeric","disablePadding","TableHead","TableRow","TableCell","indeterminate","inputProps","headCell","useToolbarStyles","highlight","lighten","light","dark","flex","EnhancedTableToolbar","clearSelected","openEditModal","setOpenEditModal","openDeleteModal","setOpenDeleteModal","clsx","CustomMarketDetailEdit","CustomMarketDetailDelete","clear","table","visuallyHidden","clip","rows","filterOwnProduct","setSelected","dense","rowsPerPage","switchOwnProduct","setSwitchOwnProduct","setCustomMarketDetail","min","Paper","Switch","ownProductsReport","TableContainer","Table","stickyHeader","newSelecteds","n","TableBody","isItemSelected","isSelected","labelId","hover","selectedIndex","newSelected","concat","slice","handleClick","tabIndex","scope","align","productTypeDescription","heading","pxToRem","fontWeightMedium","useExpansionPanelStyles","expanded","minHeight","expansionPanelClasses","setRows","setCustomMarketGroup","getCustomMarketDetailCustoMarkets","detailCustomMartkets","detailCustomMarketDescription","getCustomMarketDetailDrugs","drugDescription","drugGroupDescription","getCustomMarketDetailLaboratories","laboratoryDescription","laboratoryGroupDescription","getCustomMarketDetailPharmaceuticaForms","pharmaceuticalFormDescription","getCustomMarketDetailProducts","productDescription","productGroupDescription","getCustomMarketDetailProductPresentations","productPresentationDescription","productPresentationGroupDescription","getCustomMarketDetailTherapeuticalClasses","therapeuticalClassDescription","detail","row","cmgSelected","rowDetailFilteredByCustomMarketGroup","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","defaultExpanded","CustomMarketCollapsableDetail","itemUpdate","allowedPermission","setAllowedPermission","itemsToDelete","setItemsToDelete","itemsToEdit","setItemsToEdit","visibleButtonsToolbar","setVisibleButtonsToolbar","customMarketPreviewItem","splice","customMarketSelectedItem","oldMarketPreviewData","customMarketItems","onSave","marketToAdd","existProductPresentation","findProductpresentation","prodPresentationItem","ButtonSave","ButtonCancel","passThrough","allowed","tooltip","isFreeAction","getTree","getAllGroupLines","getAllLines","getAllProductTypes","getAllCustomMarkets","businessUnits","createBusinessUnit","updateBusinessUnit","businessUnitCode","actionType","dialogVisible","closeDialogAndReload","businessUnitsData","setBusinessUnits","dialogAction","setDialogAction","getBusinessUnit","getBusinessUnits","reload","getAllTherapeuticlass","getAllBusinessUnits","updateProductPresentation","thep","bu","productPresentationData","setProductPresentations","therapeuticalClassData","setTherapeuticalClass","getProductsPresentations","getTherapeuticlass","updateProduct","formikProduct","productData","setLaboratories","getProduct","getLaboratory","getAllProductGroup","productGroup","getDetailProductGroup","updateProductGroup","deleteProductGroup","MenuList","isScrolling","isVisible","all_products","productGroupData","setProductGroupData","deleteErrors","setDeleteErrors","productFromDetail","parseProductGroup","minItems","onDeleteProductGroup","renderTitle","isMulti","isSearchable","isOptionSelected","filterOption","createFilter","ignoreAccents","placeholder","openMenuOnClick","menuIsOpen","ProductGroupActions","MercadosActions","setProductGroups","setAllProducts","getProductGroups","editProductGroup","getDetail","hidden","getAllProductPresentationGroup","getAllProductPresentation","getDetailProductPresentationGroup","createPPGroup","updateProductPresentationGroup","deleteProductPresentationGroup","all_productsPresentations","productPresentationGroupData","setProductPresentationGroupData","productPresentationFromDetail","parseProductPresentationGroup","onDeleteProductPresentationGroup","productPresentationGroup","ProductPresentationGroupActions","setProductPresentationGroups","setAllProductsPresentations","getProductPresentationGroups","editProductPresentationGroup","getAllLaboratoriesGroup","laboratoriesGroup","getDetailLaboratoryGroup","createLaboraotryGroup","updateLaboratoryGroup","deleteLaboratoryGroup","all_laboratories","laboratoryGroupData","setLaboratoryGroupData","laboratorySelecteds","setLaboratorySelecteds","laboratoryData","laboratoryFromDetail","parseLaboratoriesGroup","onDeleteLaboratoryGroup","laboratoryGroup","LaboratoryGroupActions","setLaboratoryGroups","setAllLaboratories","getLaboratoriesGroups","laboratoriesGroups","editLaboratoryGroup","getAllDrugGroup","drugGroup","getDetailDrugGroup","updateDrugGroup","deleteDrugGroup","all_drugs","drugGroupData","setDrugGroupData","drugData","drugsFromDetail","parseDrugsGroup","onDeleteDrugGroup","DrugGroupActions","setAllDrugs","getDrugGroups","getDrug","allDrugs","editDrugGroup","getUsers","users","getUserPermissions","userPermissions","updateUserPermissions","permissions","getCustomMarketsFullTree","updateUserAdministrator","createUser","createNewUser","setStateClicked","stateChecked","setStateChecked","stateExpanded","setStateExpanded","fullTree","setFullTree","userPermission","setUserPermission","isSaving","setIsSaving","switchFullAccess","setSwitchFullAccess","customMarketsFullTree","fullAccess","loadTreeChecked","customMarketKey","customMarketKeyEncoded","customMarketCodes","lineFound","getLineInTree","getLineGroupInTree","lg","getLineGroupChecked","targetNode","nodeKey","nodeLineKey","nodeCustomMarketKey","getLineChecked","isFull","lineCodeChilden","nodeKeyParent","nodeKeyLine","getCustomMarketChecked","treeChecked","isLineFull","customMarketCodeChilden","cm","isLineGroupFull","lineChilden","nodeLineGroupKey","c","lineGroupUnChecked","nodeLineGroupUncheckedKey","ln","iconsClass","expandOnClick","checkModel","onCheck","newUserPermission","updateUserPermission","clicked","onExpand","icons","check","uncheck","halfCheck","expandClose","expandOpen","collapseAll","parentClose","parentOpen","leaf","userPermissionToSave","alert","CustomMarketToolbar","closePanel","userData","dominio","usuario","usersData","setUsers","enableEditPermissions","setEnableEditPermission","getAllUsers","Panel","readOnly","getLogs","logs","logsData","setLogsData","getAllLogs","formattedLogs","date","dateString","BasePage","fallback","exact","Mercados","BusinessUnit","ProductPresentation","Product","ProductGroup","ProductPresentationGroup","LaboratoryGroup","DrugGroup","User","Log","setStatus","getFieldProps","AuthPage","isAuthorized","Logout","instance","msalContext","clearCustomMarkets","logoutRedirect","hasAuthToken","mercadosActions","withMsal","ErrorPage5","ErrorsPage","Routes","useMsal","accounts","inProgress","account","useAccount","isAuthenticated","useIsAuthenticated","useMsalAuthentication","InteractionType","Redirect","tokenRequest","acquireTokenSilent","res","handleAzureADLogin","uniqueId","getTokenSilently","I18N_CONFIG_KEY","REACT_APP_I18N_CONFIG_KEY","selectedLang","I18nContext","MetronicI18nProvider","lang","allMessages","de","en","es","fr","ja","zh","I18nProvider","locale","messages","App","basename","interceptors","request","use","Authorization","err","originalRequest","_retry","_redux","Suspense","ReactDOM","getCookie","matches","cookie","RegExp","decodeURIComponent","expires","toUTCString","updatedCookie","encodeURIComponent","optionKey","hasOwnProperty","optionValue","deleteCookie","module","exports","elementId","the","defaultOptions","attrCustom","Plugin","construct","has","build","set","events","deepExtend","classBase","classShown","classOverlay","isShown","eventTrigger","toggleClass","classCustom","insertAfter","removeAttr","mode","args","one","call","fired","setDefaults","apply","addEventListener","query","getByTagName","querySelectorAll","len","closest","parentNode","getSubmenuMode","contains","hideDropdowns","autoScroll","autoScrollSpeed","dropdown","reset","eventHandlers","pauseDropdownHoverTime","uid","getUniqueID","resetSubmenuProps","handleSubmenuAccordion","isConditionalSubmenuDropdown","handleSubmenuDrodownHoverEnter","handleSubmenuDrodownHoverExit","handleSubmenuDropdownClick","handleSubmenuDropdownTabClick","handleLinkClick","off","scrollDestroy","windowScroll","hasAttr","isset","hasClasses","default","submenus","findAll","hasAttribute","getAttribute","resumeDropdownHover","removeAttribute","showSubmenuDropdown","hideSubmenuDropdown","setAttribute","hideSubmenuDropdowns","handleSubmenuDropdownClose","shown","li","subnav","closables","el_","submenu_","slideUp","slideDown","scrollToItem","scrollTo","classAlso","j","cnt","isOffscreen","createSubmenuDropdownClickDropoff","dropoff","appendChild","getTime","resetActiveItem","parents","i_","len_","setActiveItem","getBreadcrumbs","submenuLink","reverse","getPageTitle","removeEvent","scrollReInit","hideDropdown","toggleElement","targetElement","targetToggleMode","toggleOn","toggleOff","Element","prototype","msMatchesSelector","webkitMatchesSelector","s","ancestor","documentElement","parentElement","elem","removeChild","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","callback","currTime","timeToCall","max","Document","DocumentFragment","defineProperty","configurable","enumerable","writable","argArr","arguments","docFrag","createDocumentFragment","argItem","isNode","Node","createTextNode","String","insertBefore","firstChild","getAttributeNames","KTUtilElementDataStore","KTUtilElementDataStoreID","KTUtilDelegatedEventHandlers","resizeHandlers","sm","md","xl","_windowResizeHandler","throttle","timer","_runResizeHandlers","settings","removeResizeHandler","runResizeHandlers","resize","Event","dispatchEvent","evt","createEvent","initUIEvent","getURLParam","paramName","val","search","unescape","getBreakpoint","navigator","userAgent","isDesktopDevice","isInResponsiveRange","breakpoint","prefix","floor","obj","stone","shift","getHighestZindex","isNaN","hasFixedPositionedParent","sleep","milliseconds","start","getRandomInt","isAngularVersion","Zone","out","extend","getByTag","getElementsByTagName","getByClass","classesArr","classNames","triggerCustomEvent","eventName","CustomEvent","initCustomEvent","triggerEvent","doc","ownerDocument","nodeType","eventClass","bubbles","initEvent","synthetic","fireEvent","createEventObject","string","eventTriggered","dataset","triggered","querySelector","referenceNode","nextSibling","selector","matchesSelector","mozMatchesSelector","oMatchesSelector","f","customDataTag","outerWidth","parseFloat","offsetWidth","rect","win","getClientRects","getBoundingClientRect","defaultView","pageYOffset","pageXOffset","outerHeight","withMargin","offsetHeight","getComputedStyle","animate","easing","done","easings","linear","rAF","change","performance","now","loop","timestamp","actualCss","HTMLElement","cssText","actualWidth","getScroll","method","self","browserSupportsBoxModel","styleProp","getPropertyValue","currentStyle","str","letter","oldLeft","oldRsLeft","runtimeStyle","pixelLeft","slide","recalcMaxHeight","calcHeight","calcPaddingTop","calcPaddingBottom","paddingTop","removeEventListener","eventId","targets","callee","hash","charCodeAt","animateClass","animationName","OAnimation","MozAnimation","WebkitAnimation","msAnimation","transitionEnd","transition","transitions","OTransition","MozTransition","WebkitTransition","msTransition","animationEnd","animateDelay","animateDuration","targetPos","scrollPos","attachEvent","readyState","isEmpty","numberString","nStr","x1","x2","rgx","detectIE","ua","msie","rv","edge","isRTL","html","wheelSpeed","swipeEasing","wheelPropagation","minScrollbarLength","maxScrollbarLength","suppressScrollX","ps","attrs","attrName","optionName","filterBoolean","Function","mobileHeight","desktopNativeScroll","PerfectScrollbar","destroy","scrollUpdateAll","scrollers","resetAll","setProperty","setHTML","getHTML","getDocumentHeight","scrollHeight","clientHeight","getScrollTop","scrollingElement","changeColor","col","amt","usePound","num","r","g","func","delay","debounce","btnWait","cls","disable","caption","btnRelease","windowWidth","windowHeight","KTAppSettings","onload","toggleSpeed","releseOnReverse","onScrollSticky","st","resetSticky","setContent","getSelf","collapse","destroySticky","handle"],"mappings":"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","file":"static/js/main.11e904e1.chunk.js","sourcesContent":["/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\nimport { LogLevel, PublicClientApplication } from \"@azure/msal-browser\";\nconst MDA_AZURE_API = process.env.REACT_APP_AZUREURI\n/**\n * Configuration object to be passed to MSAL instance on creation. \n * For a full list of MSAL.js configuration parameters, visit:\n * https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-browser/docs/configuration.md \n */\nexport const msalConfig = {\n    auth: {\n        clientId:  `0d3c348d-341c-4f10-9bf1-f7aa177002fe`, // This is the ONLY mandatory field that you need to supply.\n        authority: `https://login.microsoftonline.com/1748daec-496f-499f-92d1-e1ff0d8f5631`, // Defaults to \"https://login.microsoftonline.com/common\"\n        redirectUri: \"https://desamda.portalcorp.com.ar\", // You must register this URI on Azure Portal/App Registration. Defaults to window.location.origin\n        postLogoutRedirectUri:\"https://desamda.portalcorp.com.ar\", // Indicates the page to navigate after logout.\n        navigateToLoginRequestUrl: false, // If \"true\", will navigate back to the original request location before processing the auth code response.\n    },\n    cache: {\n        cacheLocation: \"localStorage\", // Configures cache location. \"sessionStorage\" is more secure, but \"localStorage\" gives you SSO between tabs.\n        storeAuthStateInCookie: true, // Set this to \"true\" if you are having issues on IE11 or Edge\n    },\n    system: {\n        loggerOptions: {\n            loggerCallback: (level, message, containsPii) => {\n                if (containsPii) {\n                    return;\n                }\n                switch (level) {\n                    case LogLevel.Error:\n                        console.error(message);\n                        return;\n                    case LogLevel.Info:\n                        console.info(message);\n                        return;\n                    case LogLevel.Verbose:\n                        console.debug(message);\n                        return;\n                    case LogLevel.Warning:\n                        console.warn(message);\n                        return;\n                }\n            }\n        }\n    }\n};\n\nexport const msalInstance = new PublicClientApplication(msalConfig);\n\n/**\n * Scopes you add here will be prompted for user consent during sign-in.\n * By default, MSAL.js will add OIDC scopes (openid, profile, email) to any login request.\n * For more information about OIDC scopes, visit: \n * https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-permissions-and-consent#openid-connect-scopes\n */\nexport const loginRequest = {\n    scopes: [\"User.Read\"]\n};\n\n/**\n * Add here the endpoints and scopes when obtaining an access token for protected web APIs. For more information, see:\n * https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-browser/docs/resources-and-scopes.md\n */\nexport const protectedResources = {\n    graphMe: {\n        endpoint: \"https://graph.microsoft.com/v1.0/me\",\n        scopes: [\"User.Read\"],\n    },\n    functionApi: {\n        endpoint: \"/api/hello\",\n        scopes: [`${process.env[\"REACT_APP_AAD_APP_FUNCTION_SCOPE_URI\"]}/access_as_user`], // e.g. api://xxxxxx/access_as_user\n    }\n}\n","import axios from \"axios\";\r\n\r\nexport const LOGIN_URL = \"users/authenticate\";\r\n\r\nexport async function login(userName, password) {\r\n  return await axios.post(LOGIN_URL, { userName, password }, { withCredentials: true });\r\n}\r\n\r\nexport async function adLoginToken(result) {\r\n  const response = axios.get(\"https://graph.microsoft.com/v1.0/me\", {\r\n    headers: {\r\n      Authorization: `Bearer ${result?.accessToken}`,\r\n    },\r\n  })\r\n  return response;\r\n};\r\n\r\nexport async function adLogin(id, accessToken) {\r\n\r\n  const response = await axios.post(\r\n    LOGIN_URL,\r\n    {\r\n      id: id,\r\n      accessToken: accessToken,\r\n    },\r\n    { withCredentials: true }\r\n  );\r\n  return response;\r\n}\r\n","import { persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { put, takeLatest } from \"redux-saga/effects\";\r\n\r\nexport const actionTypes = {\r\n  Login: \"[Login] Action\",\r\n  Logout: \"[Logout] Action\",\r\n  UserRequested: \"[Request User] Action\",\r\n  UserLoaded: \"[Load User] Auth API\",\r\n  SetUser: \"[Set User] Action\",\r\n  AdLogin: \"[AdLogin] Action\",\r\n\r\n};\r\n\r\nconst initialAuthState = {\r\n  user: undefined,\r\n  authToken: undefined,\r\n  adUser: undefined,\r\n};\r\n\r\nexport const reducer = persistReducer(\r\n  { storage, key: \"mda-auth\", whitelist: [\"user\", \"authToken\"] },\r\n  (state = initialAuthState, action) => {\r\n    switch (action.type) {\r\n      case actionTypes.Login: {\r\n        const { jwtToken, id, userName, isAdmin, domain } = action.payload.user;\r\n\r\n        return { authToken: jwtToken, user: {id, userName,isAdmin, domain} };\r\n      }\r\n\r\n      case actionTypes.Logout: {\r\n        // TODO: Change this code. Actions in reducer aren't allowed.\r\n        return initialAuthState;\r\n      }\r\n\r\n      case actionTypes.UserLoaded: {\r\n        const { user } = action.payload;\r\n        return { ...state, user };\r\n      }\r\n\r\n      case actionTypes.SetUser: {\r\n        const { user } = action.payload;\r\n        return { ...state, user };\r\n      }\r\n\r\n      case actionTypes.AdLogin: {\r\n        const { userName } = action.payload.adUser;\r\n\r\n        return { adUser: {userName} };\r\n      }\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n);\r\n\r\nexport const actions = {\r\n  login: (user) => ({ type: actionTypes.Login, payload: { user } }),\r\n  logout: () => ({ type: actionTypes.Logout }),\r\n  setUser: (user) => ({ type: actionTypes.SetUser, payload: { user } }),\r\n  adLogin: (adUser) => ({type: actionTypes.AdLogin, payload: { adUser }})\r\n};\r\n\r\n\r\nexport function* saga() {}","import { msalInstance } from \"../app/authConfig\";\r\nimport { adLogin } from \"../app/modules/Auth/_redux/authCrud\";\r\nimport { actionTypes } from \"../app/modules/Auth/_redux/authRedux\";\r\nimport join from \"url-join\";\r\n\r\nconst isAbsoluteURLRegex = /^(?:\\w+:)\\/\\//;\r\nconst MDA_BACKEND_API = process.env.REACT_APP_MDA_BACKEND_API\r\nlet isRefreshing = false;\r\nlet failedQueue = [];\r\n\r\nconst processQueue = (error, data = null) => {\r\n  failedQueue.forEach(prom => {\r\n    if (error) {\r\n      prom.reject(error);\r\n    } else {\r\n      prom.resolve(data);\r\n    }\r\n  });\r\n\r\n  failedQueue = [];\r\n};\r\n\r\nexport default function setupAxios(axios, store, account) {\r\n\r\n  axios.interceptors.request.use(\r\n    config => {\r\n      const {\r\n        auth: { authToken }\r\n      } = store.getState();\r\n\r\n      if (authToken) {\r\n        config.headers.Authorization = `Bearer ${authToken}`;\r\n      }\r\n\r\n      if (!isAbsoluteURLRegex.test(config.url)) {\r\n        config.url = join(MDA_BACKEND_API, config.url);\r\n      }\r\n\r\n      return config;\r\n    },\r\n    err => Promise.reject(err)\r\n  );\r\n\r\n  axios.interceptors.response.use((response) => {\r\n    return response\r\n  }, async function (error) {\r\n\r\n    const originalRequest = error.config;\r\n    if (error.message != \"Network Error\" && error.response === undefined) {\r\n      Promise.reject(error);\r\n      window.location = './error';\r\n      return error\r\n    }\r\n\r\n\r\n    if (error.response.status === 401 && !originalRequest._retry) {\r\n\r\n      if (account) {\r\n        const tokenRequest = {\r\n          scopes: ['User.Read'],\r\n          account,\r\n        };\r\n        const res = await msalInstance.acquireTokenSilent(tokenRequest);\r\n        const response = await adLogin(res.uniqueId, res.accessToken);\r\n\r\n        store.dispatch({ type: actionTypes.Login, payload: { authToken: response.data.jwtToken, user: response.data } })\r\n        return axios(originalRequest)\r\n      }\r\n\r\n      if (isRefreshing) {\r\n        return new Promise(function (resolve, reject) {\r\n          failedQueue.push({ resolve, reject });\r\n        })\r\n          .then(data => {\r\n            store.dispatch({ type: actionTypes.Login, payload: { user: data } })\r\n            return axios(originalRequest);\r\n          })\r\n          .catch(err => {\r\n            return Promise.reject(err);\r\n          });\r\n      }\r\n\r\n      originalRequest._retry = true;\r\n      isRefreshing = true;\r\n\r\n      return new Promise(function (resolve, reject) {\r\n        axios.post(`users/refresh-token`, {}, { withCredentials: true })\r\n          .then(({ data }) => {\r\n            store.dispatch({ type: actionTypes.Login, payload: { user: data } })\r\n            processQueue(null, data);\r\n            resolve(axios(originalRequest));\r\n          })\r\n          .catch(err => {\r\n            processQueue(err, null);\r\n            store.dispatch({ type: actionTypes.SetUser, payload: { user: null } })\r\n            reject(err);\r\n          })\r\n          .then(() => {\r\n            isRefreshing = false;\r\n          });\r\n      });\r\n    }\r\n    return Promise.reject(error);\r\n  });\r\n}","import { persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { put, takeLatest } from \"redux-saga/effects\";\r\n\r\nexport const actionTypes = {\r\n    RECEIVE_DRUGS_DATA: \"RECEIVE_DRUGS_DATA\",\r\n    RECEIVE_PREVIEW_DATA: \"RECEIVE_PREVIEW_DATA\",\r\n    RECEIVE_PREVIEW_HISTORYDATA:\"RECEIVE_PREVIEW_HISTORYDATA\",\r\n    RECEIVE_PREVIEW_HISTORYDATATOSCREEN:\"RECEIVE_PREVIEW_HISTORYDATATOSCREEN\",\r\n    RECEIVE_LABORATORIES_DATA: \"RECEIVE_LABORATORIES_DATA\",\r\n    RECEIVE_LINEGROUPS_DATA: \"RECEIVE_LINEGROUPS_DATA\",\r\n    RECEIVE_PHARMACEUTICALFORMS_DATA: 'RECEIVE_PHARMACEUTICALFORMS_DATA',\r\n    RECEIVE_PRODUCTS_DATA: \"RECEIVE_PRODUCTS_DATA\",\r\n    RECEIVE_PRODUCT_PRESENTATIONS_DATA: \"RECEIVE_PRODUCT_PRESENTATIONS_DATA\",\r\n    RECEIVE_THERAPEUTICAL_CLASESS_DATA: \"RECEIVE_THERAPEUTICAL_CLASESS_DATA\",\r\n    RECEIVE_LINES_DATA: \"RECEIVE_LINES_DATA\",\r\n    RECEIVE_PRODUCT_TYPES_DATA: \"RECEIVE_PRODUCT_TYPES_DATA\",\r\n    RECEIVE_LAST_AUDITORY_VALUE: \"RECEIVE_LAST_AUDITORY_VALUE\",\r\n    RECEIVE_CUSTOM_MARKET_DATA: 'RECEIVE_CUSTOM_MARKET_DATA',\r\n    RECEIVE_CUSTOM_MARKET_TREE_DATA: 'RECEIVE_CUSTOM_MARKET_TREE_DATA',\r\n    SET_CUSTOM_MARKET_TITLE: 'SET_CUSTOM_MARKET_TITLE',\r\n    SET_CUSTOM_MARKET_TREE_VISIBLE: 'SET_CUSTOM_MARKET_TREE_VISIBLE',\r\n    SET_CUSTOM_MARKET_PAGE_VIEW: 'SET_CUSTOM_MARKET_PAGE_VIEW',\r\n    SET_LOADING: \"SET_LOADING\",\r\n    SET_LOADING_PRODUCTS: \"SET_LOADING_PRODUCTS\",\r\n    SET_LOADING_PRODUCT_PRESENTATIONS: \"SET_LOADING_PRODUCT_PRESENTATIONS\",\r\n    SET_LOADING_THERAPEUTICAL_CLASESS: \"SET_LOADING_THERAPEUTICAL_CLASESS\",\r\n    SET_LOADING_LABORATORIES: \"SET_LOADING_LABORATORIES\",\r\n    SET_LOADING_DRUGS: \"SET_LOADING_DRUGS\",\r\n    SET_LOADING_PHARMACEUTICALFORMS: 'SET_LOADING_PHARMACEUTICALFORMS',\r\n    SET_LOADING_LINEGROUPS: 'SET_LOADING_LINEGROUPS',\r\n    SET_GET_ERROR: 'SET_GET_ERROR',\r\n    SET_GET_SUCCESS: 'SET_GET_SUCCESS',\r\n    SET_CUSTOM_MARKET_SIGNATURE: 'SET_CUSTOM_MARKET_SIGNATURE',\r\n    SET_CUSTOM_MARKET_SIGN_ALL: 'SET_CUSTOM_MARKET_SIGN_ALL',\r\n    SET_CUSTOM_MARKET_SIGN_ALL_COUNT: 'SET_CUSTOM_MARKET_SIGN_ALL_COUNT',\r\n    RESET_CUSTOM_MARKET: 'RESET_CUSTOM_MARKET',\r\n    CUSTOM_MARKET_PREVIEW_ACTION: 'CUSTOM_MARKET_PREVIEW_ACTION',\r\n    STORE_CUSTOM_MARKET_SELECTED: 'STORE_CUSTOM_MARKET_SELECTED',\r\n    STORE_CUSTOM_MARKET_GROUPS: 'STORE_CUSTOM_MARKET_GROUPS',\r\n\r\n};\r\n\r\nconst initialState = {\r\n    drugs: null,\r\n    laboratories: null,\r\n    lines: { data: [], isLoading: false },\r\n    linegroups: null,\r\n    pharmaceuticalforms: null,\r\n    products: null,\r\n    productpresentations: null,\r\n    producttypes: null,\r\n    therapeuticalclasses: null,\r\n    customMarket: { data: {}, isLoading: false, description: '', treeVisible: true },\r\n    customMarketPreviewAction: { type: '', item: null, visible: false, action: null },\r\n    loading: true,\r\n    customMarketGroups: { data: {}, isLoading: false },\r\n    customMarketTree: { data: {}, isLoading: true },\r\n    customMarketPageView: { view: '' },\r\n    loadingProducts: true,\r\n    loadingProductPresentations: true,\r\n    loadingTherapeuticalClasses: true,\r\n    loadingLaboratories: true,\r\n    loadingDrugs: true,\r\n    pharmaceuticalformsLoading: true,\r\n    loadingLineGroups: true,\r\n    allCustomMarket: { data: {}, isLoading: true },\r\n    getError: { visible: false, title: null, description: null },\r\n    getSuccess: { visible: false, title: null, description: null },\r\n    lastAuditory: null,\r\n    signedMessage: null,\r\n    isLoading: false,\r\n    customMarketCount: 0,\r\n    marketPreviewData:null,\r\n    marketHistoryArray:[],\r\n    marketHistoryArrayToScreen:[]\r\n};\r\n\r\nexport const reducer = persistReducer(\r\n    { storage, key: \"mda-components\", whitelist: [\"user\", \"authToken\"] },\r\n    (state = initialState, action) => {\r\n        switch (action.type) {\r\n\r\n            case actionTypes.SET_CUSTOM_MARKET_SIGN_ALL:\r\n                return { ...state, isLoading: action.isLoading,  customMaketCount: action.customMarketCount  }\r\n\r\n            case actionTypes.SET_CUSTOM_MARKET_SIGN_ALL_COUNT:\r\n                return { ...state, customMaketCount: action.customMarketCount }\r\n\r\n            case actionTypes.SET_CUSTOM_MARKET_SIGNATURE:\r\n                return { ...state, signedMessage: action.signedMessage }\r\n\r\n            case actionTypes.RECEIVE_PRODUCTS_DATA:\r\n                return { ...state, products: action.products }\r\n\r\n            case actionTypes.RECEIVE_PREVIEW_DATA:\r\n                return { ...state, marketPreviewData: action.data }   \r\n                \r\n            case actionTypes.RECEIVE_PREVIEW_HISTORYDATA:\r\n                return { ...state, marketHistoryArray: action.historyData }\r\n\r\n            case actionTypes.RECEIVE_PREVIEW_HISTORYDATATOSCREEN:\r\n                return { ...state, marketHistoryArrayToScreen: action.historyDataToScreen }     \r\n\r\n            case actionTypes.RECEIVE_LAST_AUDITORY_VALUE:\r\n                return { ...state, lastAuditory: action.lastAuditory, isLoading: action.isLoading };\r\n\r\n            case actionTypes.RECEIVE_DRUGS_DATA:\r\n                return { ...state, drugs: action.drugs }\r\n\r\n            case actionTypes.RECEIVE_PHARMACEUTICALFORMS_DATA:\r\n                return { ...state, pharmaceuticalforms: action.pharmaceuticalforms }\r\n\r\n            case actionTypes.RECEIVE_PRODUCT_PRESENTATIONS_DATA:\r\n                return { ...state, productpresentations: action.productpresentations }\r\n\r\n            case actionTypes.RECEIVE_LINES_DATA:\r\n                return {\r\n                    ...state,\r\n                    lines: {\r\n                        ...state.lines,\r\n                        data: action.lines,\r\n                        isLoading: action.isLoading\r\n                    }\r\n                }\r\n\r\n            case actionTypes.RECEIVE_LINEGROUPS_DATA:\r\n                return { ...state, linegroups: action.linegroups }\r\n\r\n            case actionTypes.RECEIVE_LABORATORIES_DATA:\r\n                return { ...state, laboratories: action.laboratories }\r\n\r\n            case actionTypes.RECEIVE_THERAPEUTICAL_CLASESS_DATA:\r\n                return { ...state, therapeuticalclasses: action.therapeuticalclasses }\r\n\r\n            case actionTypes.SET_CUSTOM_MARKET_TITLE:\r\n                return {\r\n                    ...state,\r\n                    customMarket: {\r\n                        ...state.customMarket,\r\n                        description: action.description\r\n                    }\r\n                }\r\n\r\n            case actionTypes.STORE_CUSTOM_MARKET_SELECTED:\r\n                return {\r\n                    ...state,\r\n                    customMarket: {\r\n                        ...state.customMarket,\r\n                        data: action.customMarketSelected,\r\n                        isLoading: action.isLoading,\r\n                        treeVisible: action.treeVisible\r\n                    }\r\n                }\r\n\r\n            case actionTypes.SET_CUSTOM_MARKET_TREE_VISIBLE:\r\n                return {\r\n                    ...state,\r\n                    customMarket: {\r\n                        ...state.customMarket,\r\n                        treeVisible: action.visible\r\n                    }\r\n                }\r\n\r\n            case actionTypes.STORE_CUSTOM_MARKET_GROUPS:\r\n                return {\r\n                    ...state,\r\n                    customMarketGroups: {\r\n                        ...state.customMarketGroups,\r\n                        data: action.customMarketGroups,\r\n                        isLoading: action.isLoading\r\n                    }\r\n                }\r\n\r\n            case actionTypes.RECEIVE_PRODUCT_TYPES_DATA:\r\n                return { ...state, producttypes: action.producttypes }\r\n\r\n            case actionTypes.RECEIVE_CUSTOM_MARKET_TREE_DATA:\r\n                return {\r\n                    ...state,\r\n                    customMarketTree: {\r\n                        ...state.customMarketGroups,\r\n                        data: action.customMarketTree,\r\n                        isLoading: action.isLoading\r\n                    }\r\n                }\r\n\r\n            case actionTypes.SET_CUSTOM_MARKET_PAGE_VIEW:\r\n                return {\r\n                    ...state,\r\n                    customMarketPageView: {\r\n                        view: action.view\r\n                    }\r\n                }\r\n            case actionTypes.RESET_CUSTOM_MARKET:\r\n                return initialState;\r\n\r\n            case actionTypes.SET_LOADING:\r\n                return { ...state, loading: action.loading }\r\n\r\n            case actionTypes.SET_LOADING_PRODUCTS:\r\n                return { ...state, loadingProducts: action.loading }\r\n\r\n            case actionTypes.SET_LOADING_PRODUCT_PRESENTATIONS:\r\n                return { ...state, loadingProductPresentations: action.loading }\r\n\r\n            case actionTypes.SET_LOADING_THERAPEUTICAL_CLASESS:\r\n                return { ...state, loadingTherapeuticalClasses: action.loading }\r\n\r\n            case actionTypes.SET_LOADING_LABORATORIES:\r\n                return { ...state, loadingLaboratories: action.loading }\r\n\r\n            case actionTypes.SET_LOADING_DRUGS:\r\n                return { ...state, loadingDrugs: action.loading }\r\n\r\n            case actionTypes.SET_LOADING_PHARMACEUTICALFORMS:\r\n                return { ...state, pharmaceuticalformsLoading: action.loading }\r\n\r\n            case actionTypes.SET_LOADING_LINEGROUPS:\r\n                return { ...state, loadingLineGroups: action.loading }\r\n\r\n            case actionTypes.RECEIVE_CUSTOM_MARKET_DATA:\r\n                return {\r\n                    ...state,\r\n                    allCustomMarket: {\r\n                        data: action.data,\r\n                        isLoading: action.isLoading\r\n                    }\r\n                }\r\n\r\n            case actionTypes.SET_GET_ERROR:\r\n                return {\r\n                    ...state,\r\n                    getError: {\r\n                        visible: action.visible,\r\n                        title: action.title,\r\n                        description: action.description,\r\n                    }\r\n                }\r\n\r\n            case actionTypes.SET_GET_SUCCESS:\r\n                return {\r\n                    ...state,\r\n                    getSuccess: {\r\n                        visible: action.visible,\r\n                        title: action.title,\r\n                        description: action.description,\r\n                    }\r\n                }\r\n            case actionTypes.CUSTOM_MARKET_PREVIEW_ACTION:\r\n                return {\r\n                    ...state,\r\n                    customMarketPreviewAction: {\r\n                        visible: action.preview.visible,\r\n                        type: action.preview.type,\r\n                        item: action.preview.item,\r\n                    }\r\n                }\r\n            default:\r\n                return state;\r\n        }\r\n    }\r\n);\r\n","import {all} from \"redux-saga/effects\";\r\nimport {combineReducers} from \"redux\";\r\n\r\nimport * as auth from \"../app/modules/Auth/_redux/authRedux\";\r\nimport * as mercados from \"../app/modules/Mercados/_redux/mercadosRedux\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  auth: auth.reducer,\r\n  mercados: mercados.reducer\r\n});\r\n\r\nexport function* rootSaga() {\r\n  yield all([auth.saga()]);\r\n}\r\n","import {configureStore, getDefaultMiddleware} from \"@reduxjs/toolkit\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport {reduxBatch} from \"@manaflair/redux-batch\";\r\nimport {persistStore} from \"redux-persist\";\r\nimport {rootReducer, rootSaga} from \"./rootReducer\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    immutableCheck: false,\r\n    serializableCheck: false,\r\n    thunk: true\r\n  }),\r\n  sagaMiddleware\r\n];\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware,\r\n  devTools: process.env.NODE_ENV !== \"production\",\r\n  enhancers: [reduxBatch]\r\n});\r\n\r\n/**\r\n * @see https://github.com/rt2zz/redux-persist#persiststorestore-config-callback\r\n * @see https://github.com/rt2zz/redux-persist#persistor-object\r\n */\r\nexport const persistor = persistStore(store);\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;\r\n","export function removeCSSClass(ele, cls) {\r\n    const reg = new RegExp(\"(\\\\s|^)\" + cls + \"(\\\\s|$)\");\r\n    ele.className = ele.className.replace(reg, \" \");\r\n}\r\n\r\nexport function addCSSClass(ele, cls) {\r\n    ele.classList.add(cls);\r\n}\r\n\r\nexport const toAbsoluteUrl = pathname => process.env.PUBLIC_URL + pathname;\r\n","import * as utils from \"./LocalStorageHelpers\";\r\n\r\nconst localStorageLastLocationKey = \"metronic-lastLocation\";\r\n\r\nfunction acceptLocation(lastLocation) {\r\n    if (\r\n        lastLocation &&\r\n        lastLocation.pathname &&\r\n        lastLocation.pathname !== \"/\" &&\r\n        lastLocation.pathname.indexOf(\"auth\") === -1 &&\r\n        lastLocation.pathname !== \"/logout\"\r\n    ) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport function saveLastLocation(lastLocation) {\r\n    if (acceptLocation(lastLocation)) {\r\n        utils.setStorage(\r\n            localStorageLastLocationKey,\r\n            JSON.stringify(lastLocation),\r\n            120\r\n        );\r\n    }\r\n}\r\n\r\nexport function forgotLastLocation() {\r\n    utils.removeStorage(localStorageLastLocationKey);\r\n}\r\n\r\nexport function getLastLocation() {\r\n    const defaultLocation = { pathname: \"/\", title: \"Dashboard\"};\r\n    const localStorateLocations = utils.getStorage(localStorageLastLocationKey);\r\n    if (!localStorateLocations) {\r\n        return { pathname: \"/\", title: \"Dashboard\"};\r\n    }\r\n\r\n    try {\r\n        const result = JSON.parse(localStorateLocations);\r\n        return result;\r\n    } catch (error) {\r\n        console.error(error);\r\n        return defaultLocation;\r\n    }\r\n}\r\n\r\nexport function getCurrentUrl(location) {\r\n    return location.pathname.split(/[?#]/)[0];\r\n}\r\n\r\nexport function checkIsActive(location, url) {\r\n    const current = getCurrentUrl(location);\r\n    if (!current || !url) {\r\n        return  false;\r\n    }\r\n\r\n    if (current === url) {\r\n        return  true;\r\n    }\r\n\r\n    if (current.indexOf(url) > -1) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n","import objectPath from \"object-path\";\r\nimport {toAbsoluteUrl} from \"../../_helpers\";\r\n\r\nexport class HtmlClassService {\r\n  // Public properties\r\n  config;\r\n  classes;\r\n  attributes;\r\n\r\n  /**\r\n   * Build html element classes from layout config\r\n   * @param layoutConfig\r\n   */\r\n  setConfig(layoutConfig) {\r\n    this.config = this.preInit(layoutConfig);\r\n\r\n    // scope list of classes\r\n    this.classes = {\r\n      header: [],\r\n      header_container: [],\r\n      header_mobile: [],\r\n      header_menu: [],\r\n      aside: [],\r\n      aside_menu: [],\r\n      subheader: [],\r\n      subheader_container: [],\r\n      content: [],\r\n      content_container: [],\r\n      footer_container: []\r\n    };\r\n\r\n    this.attributes = {\r\n      aside_menu: {},\r\n      header_mobile: {},\r\n      header_menu: {}\r\n    };\r\n\r\n    // init base layout\r\n    this.initLayout();\r\n    this.initLoader();\r\n\r\n    // init header and subheader menu\r\n    this.initHeader();\r\n    this.initSubheader();\r\n\r\n    this.initContent();\r\n    // init aside and aside menu\r\n    this.initAside();\r\n\r\n    // init footer\r\n    this.initFooter();\r\n\r\n    // init theme\r\n    this.initTheme();\r\n  }\r\n\r\n  preInit(layoutConfig) {\r\n    const updatedConfig = Object.assign({}, layoutConfig);\r\n    const headerSelfFixedDesktop = objectPath.get(updatedConfig, \"header.self.fixed.desktop\");\r\n    const subheaderFixed = objectPath.get(updatedConfig, \"subheader.fixed\");\r\n    if (subheaderFixed && headerSelfFixedDesktop) {\r\n      // Page::setOption('layout', 'subheader/style', 'solid');\r\n      updatedConfig.subheader.style = \"solid\";      \r\n    } else {\r\n      // Page::setOption('layout', 'subheader/fixed', false);\r\n      updatedConfig.subheader.fixed = false;\r\n    }\r\n    return updatedConfig;\r\n  }\r\n\r\n  /**\r\n   * Returns Classes\r\n   *\r\n   * @param path: string\r\n   * @param toString boolean\r\n   */\r\n  getClasses(path, toString) {\r\n    if (path) {\r\n      const classes = objectPath.get(this.classes, path) || \"\";\r\n      if (toString && Array.isArray(classes)) {\r\n        return classes.join(\" \");\r\n      }\r\n      return classes.toString();\r\n    }\r\n    return this.classes;\r\n  }\r\n\r\n  getAttributes(path) {\r\n    if (path) {\r\n      const attributes = objectPath.get(this.attributes, path) || [];\r\n      return attributes;\r\n    }\r\n    return [];\r\n  }\r\n\r\n  getLogo() {\r\n    const brandSkin = objectPath.get(this.config, \"brand.self.theme\");\r\n    if (brandSkin === \"light\") {\r\n      return toAbsoluteUrl(\"/media/logos/logo-dark.png\");\r\n    } else {\r\n      return toAbsoluteUrl(\"/media/logos/logo-light.png\");\r\n    }\r\n  }\r\n\r\n  getStickyLogo() {\r\n    let logo = objectPath.get(this.config, \"self.logo.sticky\");\r\n    if (typeof logo === \"undefined\") {\r\n      logo = this.getLogo();\r\n    }\r\n    return logo + \"\";\r\n  }\r\n\r\n  /**\r\n   * Init Layout\r\n   */\r\n  initLayout() {\r\n    const selfBodyBackgroundImage = objectPath.get(this.config, \"self.body.background-image\");\r\n    if (selfBodyBackgroundImage) {\r\n      document.body.style.backgroundImage = `url(\"${selfBodyBackgroundImage}'\")`;\r\n    }\r\n\r\n    const _selfBodyClass = objectPath.get(this.config, \"self.body.class\");\r\n    if (_selfBodyClass) {\r\n      const bodyClasses = _selfBodyClass.toString().split(\" \");\r\n      bodyClasses.forEach(cssClass => document.body.classList.add(cssClass));\r\n    }\r\n\r\n    // Offcanvas directions\r\n    document.body.classList.add(\"quick-panel-right\");\r\n    document.body.classList.add(\"demo-panel-right\");\r\n    document.body.classList.add(\"offcanvas-right\");\r\n  }\r\n\r\n  /**\r\n   * Init Loader\r\n   */\r\n  initLoader() {}\r\n\r\n  /**\r\n   * Init Header\r\n   */\r\n  initHeader() {\r\n    // Fixed header\r\n    const headerSelfFixedDesktop = objectPath.get(this.config, \"header.self.fixed.desktop\");\r\n    if (headerSelfFixedDesktop) {\r\n      document.body.classList.add(\"header-fixed\");\r\n      objectPath.push(this.classes, \"header\", \"header-fixed\");\r\n    } else {\r\n      document.body.classList.add(\"header-static\");\r\n    }\r\n\r\n    const headerSelfFixedMobile  = objectPath.get(this.config, \"header.self.fixed.mobile\");\r\n    if (headerSelfFixedMobile) {\r\n      document.body.classList.add(\"header-mobile-fixed\");\r\n      objectPath.push(this.classes, \"header_mobile\", \"header-mobile-fixed\");\r\n    }\r\n\r\n    // Menu\r\n    const headerMenuSelfDisplay = objectPath.get(this.config, \"header.menu.self.display\");\r\n    if (headerMenuSelfDisplay) {\r\n      const headerMenuSelfLayout = objectPath.get(this.config, \"header.menu.self.layout\");\r\n      const headerMenuLayoutCssClass = `header-menu-layout-${headerMenuSelfLayout}`;\r\n      objectPath.push(this.classes, \"header_menu\", headerMenuLayoutCssClass);\r\n\r\n            if (objectPath.get(this.config, \"header.menu.self.root-arrow\")) {\r\n        objectPath.push(this.classes, \"header_menu\", \"header-menu-root-arrow\");\r\n      }\r\n    }\r\n\r\n    const headerSelfWidth = objectPath.get(this.config, \"header.self.width\");\r\n    if (headerSelfWidth === \"fluid\") {\r\n      objectPath.push(this.classes, \"header_container\", \"container-fluid\");\r\n    } else {\r\n      objectPath.push(this.classes, \"header_container\", \"container\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Init Subheader\r\n   */\r\n  initSubheader() {\r\n    const subheaderDisplay = objectPath.get(this.config, \"subheader.display\");\r\n    if (subheaderDisplay) {\r\n      document.body.classList.add(\"subheader-enabled\");\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    // Fixed content head\r\n    const subheaderFixed = objectPath.get(this.config, \"subheader.fixed\");\r\n    const headerSelfFixedDesktop = objectPath.get(this.config, \"header.self.fixed.desktop\");\r\n    if (subheaderFixed && headerSelfFixedDesktop) {\r\n      document.body.classList.add(\"subheader-fixed\");\r\n      // Page::setOption('layout', 'subheader/style', 'solid'); => See preInit()\r\n    } else {\r\n      // Page::setOption('layout', 'subheader/fixed', false); => See preInit()\r\n    }\r\n\r\n    const subheaderStyle = objectPath.get(this.config, \"subheader.style\");\r\n    if (subheaderStyle) {\r\n      const subheaderClass = `subheader-${subheaderStyle}`;\r\n      objectPath.push(this.classes, \"subheader\", subheaderClass);\r\n    }\r\n\r\n    const subheaderWidth = objectPath.get(this.config, \"subheader.width\");\r\n    if (subheaderWidth === \"fluid\") {\r\n      objectPath.push(this.classes, \"subheader_container\", \"container-fluid\");\r\n    } else {\r\n      objectPath.push(this.classes, \"subheader_container\", \"container\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"subheader.clear\")) {\r\n      objectPath.push(this.classes, \"subheader\", \"mb-0\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Init Content\r\n   */\r\n  initContent() {\r\n    if (objectPath.get(this.config, \"content.fit-top\")) {\r\n      objectPath.push(this.classes, \"content\", \"pt-0\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"content.fit-bottom\")) {\r\n      objectPath.push(this.classes, \"content\", \"pb-0\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"content.width\") === \"fluid\") {\r\n      objectPath.push(this.classes, \"content_container\", \"container-fluid\");\r\n    } else {\r\n      objectPath.push(this.classes, \"content_container\", \"container\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Init Aside\r\n   */\r\n  initAside() {\r\n    // Check Aside\r\n    const asideSelfDisplay = objectPath.get(this.config, \"aside.self.display\");\r\n    if (!asideSelfDisplay) {\r\n      return;\r\n    }\r\n\r\n    // Enable Aside\r\n    document.body.classList.add(\"aside-enabled\");\r\n\r\n    // Fixed Aside\r\n    const asideSelfFixed = objectPath.get(this.config, \"aside.self.fixed\");\r\n    if (asideSelfFixed) {\r\n      document.body.classList.add(\"aside-fixed\");\r\n      objectPath.push(this.classes, \"aside\", \"aside-fixed\");\r\n    } else {\r\n      document.body.classList.add(\"aside-static\");\r\n    }\r\n\r\n    // Check Aside\r\n    if (!asideSelfDisplay) {\r\n      return;\r\n    }\r\n\r\n    // Default fixed\r\n    if (objectPath.get(this.config, \"aside.self.minimize.default\")) {\r\n      document.body.classList.add(\"aside-minimize\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"aside.self.minimize.hoverable\")) {\r\n      document.body.classList.add(\"aside-minimize-hoverable\");\r\n    }\r\n\r\n    // Menu\r\n    // Dropdown Submenu\r\n    const asideMenuDropdown = objectPath.get(this.config, \"aside.menu.dropdown\");\r\n    if (asideMenuDropdown) {\r\n      objectPath.push(this.classes, \"aside_menu\", \"aside-menu-dropdown\");\r\n      this.attributes.aside_menu[\"data-menu-dropdown\"] = \"1\";\r\n    }\r\n\r\n    // Scrollable Menu\r\n    this.attributes.aside_menu[\"data-menu-scroll\"] = asideMenuDropdown ? \"0\" : \"1\";\r\n\r\n    const asideSubmenuDHoverTimeout = objectPath.get(\r\n      this.config,\r\n      \"aside.menu.submenu.dropdown.hover-timeout\"\r\n    );\r\n    if (asideSubmenuDHoverTimeout) {\r\n      this.attributes.aside_menu[\r\n        \"data-menu-dropdown-timeout\"\r\n      ] = asideSubmenuDHoverTimeout;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Init Footer\r\n   */\r\n  initFooter() {\r\n    // Fixed header\r\n    if (objectPath.get(this.config, \"footer.fixed\")) {\r\n      document.body.classList.add(\"footer-fixed\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"footer.self.width\") === \"fluid\") {\r\n      objectPath.push(this.classes, \"footer_container\", \"container-fluid\");\r\n    } else {\r\n      objectPath.push(this.classes, \"footer_container\", \"container\");\r\n    }\r\n  }\r\n\r\n  /** Init Theme */\r\n  initTheme() {\r\n    const asideSelfDisplay = objectPath.get(this.config, \"aside.self.display\");\r\n    if (!asideSelfDisplay) {\r\n      const headerSelfTheme = objectPath.get(this.config, \"header.self.theme\");\r\n      document.body.classList.add(`brand-${headerSelfTheme}`);\r\n    } else {\r\n      const brandSelfTheme = objectPath.get(this.config, \"brand.self.theme\");\r\n      document.body.classList.add(`brand-${brandSelfTheme}`);\r\n    }\r\n  }\r\n}\r\n","import React, { createContext, useContext, useMemo } from \"react\";\r\nimport { getInitLayoutConfig } from \"./LayoutConfig\";\r\nimport { HtmlClassService } from \"./HTMLClassService\";\r\n\r\nconst LAYOUT_CONFIG_KEY =\r\n  process.env.REACT_APP_LAYOUT_CONFIG_KEY || \"LayoutConfig\";\r\n\r\nfunction getConfig() {\r\n  const ls = localStorage.getItem(LAYOUT_CONFIG_KEY);\r\n  if (ls) {\r\n    try {\r\n      return JSON.parse(ls);\r\n    } catch (er) {\r\n      console.error(er);\r\n    }\r\n  }\r\n  return getInitLayoutConfig();\r\n}\r\n\r\n// Side effect\r\nexport function setLayoutConfig(config) {\r\n  localStorage.setItem(LAYOUT_CONFIG_KEY, JSON.stringify(config));\r\n  window.location.reload();\r\n}\r\n\r\nconst HtmlClassServiceContext = createContext();\r\n\r\n/**\r\n *\r\n *\r\n * @export\r\n * @returns Layout context from 'localStorage'\r\n */\r\nexport function useHtmlClassService() {\r\n  return useContext(HtmlClassServiceContext);\r\n}\r\n\r\nexport function withHtmlClassService(Component) {\r\n  class WithHtmlClassService extends React.Component {\r\n    static displayName = `WithHtmlClassService(${Component.displayName ||\r\n      Component.name})`;\r\n\r\n    static contextType = HtmlClassServiceContext;\r\n\r\n    render() {\r\n      return <Component {...this.props} htmlClassService={this.context} />;\r\n    }\r\n  }\r\n\r\n  return WithHtmlClassService;\r\n}\r\n\r\nexport const HtmlClassServiceConsumer = HtmlClassServiceContext.Consumer;\r\n\r\nexport function MetronicLayoutProvider({ children }) {\r\n  const lc = useMemo(getConfig, []);\r\n  const hcs = useMemo(() => {\r\n    const service = new HtmlClassService();\r\n\r\n    service.setConfig(lc);\r\n\r\n    return service;\r\n  }, [lc]);\r\n\r\n  return (\r\n    <HtmlClassServiceContext.Provider value={hcs}>\r\n      {children}\r\n    </HtmlClassServiceContext.Provider>\r\n  );\r\n}\r\n","import { toAbsoluteUrl } from \"../../_helpers\";\r\nexport function getInitLayoutConfig() {\r\n  return {\r\n    \"demo\": \"demo1\",\r\n    \"js\": {\r\n      \"breakpoints\": {\r\n        \"sm\": \"576\",\r\n        \"md\": \"768\",\r\n        \"lg\": \"992\",\r\n        \"xl\": \"1200\",\r\n        \"xxl\": \"1200\"\r\n      },\r\n      \"colors\": {\r\n        \"theme\": {\r\n          \"base\": {\r\n            \"white\": \"#ffffff\",\r\n            \"primary\": \"#6993FF\",\r\n            \"secondary\": \"#E5EAEE\",\r\n            \"success\": \"#1BC5BD\",\r\n            \"info\": \"#8950FC\",\r\n            \"warning\": \"#FFA800\",\r\n            \"danger\": \"#F64E60\",\r\n            \"light\": \"#F3F6F9\",\r\n            \"dark\": \"#212121\"\r\n          },\r\n          \"light\": {\r\n            \"white\": \"#ffffff\",\r\n            \"primary\": \"#E1E9FF\",\r\n            \"secondary\": \"#ECF0F3\",\r\n            \"success\": \"#C9F7F5\",\r\n            \"info\": \"#EEE5FF\",\r\n            \"warning\": \"#FFF4DE\",\r\n            \"danger\": \"#FFE2E5\",\r\n            \"light\": \"#F3F6F9\",\r\n            \"dark\": \"#D6D6E0\"\r\n          },\r\n          \"inverse\": {\r\n            \"white\": \"#ffffff\",\r\n            \"primary\": \"#ffffff\",\r\n            \"secondary\": \"#212121\",\r\n            \"success\": \"#ffffff\",\r\n            \"info\": \"#ffffff\",\r\n            \"warning\": \"#ffffff\",\r\n            \"danger\": \"#ffffff\",\r\n            \"light\": \"#464E5F\",\r\n            \"dark\": \"#ffffff\"\r\n          }\r\n        },\r\n        \"gray\": {\r\n          \"gray100\": \"#F3F6F9\",\r\n          \"gray200\": \"#ECF0F3\",\r\n          \"gray300\": \"#E5EAEE\",\r\n          \"gray400\": \"#D6D6E0\",\r\n          \"gray500\": \"#B5B5C3\",\r\n          \"gray600\": \"#80808F\",\r\n          \"gray700\": \"#464E5F\",\r\n          \"gray800\": \"#1B283F\",\r\n          \"gray900\": \"#212121\"\r\n        }\r\n      },\r\n      \"fontFamily\": \"Poppins\"\r\n    },\r\n    \"loader\": {\r\n      \"enabled\": true,\r\n      \"type\": \"\",\r\n      \"logo\": \"/metronic/react/demo1/media/logos/logo-dark-sm.png\",\r\n      \"message\": \"Please wait...\"\r\n    },\r\n    \"toolbar\": {\r\n      \"display\": true\r\n    },\r\n    \"header\": {\r\n      \"self\": {\r\n        \"width\": \"fluid\",\r\n        \"theme\": \"light\",\r\n        \"fixed\": {\r\n          \"desktop\": true,\r\n          \"mobile\": true\r\n        }\r\n      },\r\n      \"menu\": {\r\n        \"self\": {\r\n          \"display\": false,\r\n          \"layout\": \"default\",\r\n          \"root-arrow\": false,\r\n          \"icon-style\": \"duotone\"\r\n        },\r\n        \"desktop\": {\r\n          \"arrow\": true,\r\n          \"toggle\": \"click\",\r\n          \"submenu\": {\r\n            \"theme\": \"light\",\r\n            \"arrow\": true\r\n          }\r\n        },\r\n        \"mobile\": {\r\n          \"submenu\": {\r\n            \"theme\": \"dark\",\r\n            \"accordion\": true\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \"subheader\": {\r\n      \"display\": false,\r\n      \"displayDesc\": false,\r\n      \"displayDaterangepicker\": true,\r\n      \"layout\": \"subheader-v1\",\r\n      \"fixed\": true,\r\n      \"width\": \"fluid\",\r\n      \"clear\": false,\r\n      \"style\": \"solid\"\r\n    },\r\n    \"content\": {\r\n      \"width\": \"fluid\"\r\n    },\r\n    \"brand\": {\r\n      \"self\": {\r\n        \"theme\": \"dark\"\r\n      }\r\n    },\r\n    \"aside\": {\r\n      \"self\": {\r\n        \"theme\": \"dark\",\r\n        \"display\": true,\r\n        \"fixed\": true,\r\n        \"minimize\": {\r\n          \"toggle\": true,\r\n          \"default\": false,\r\n          \"hoverable\": true\r\n        }\r\n      },\r\n      \"footer\": {\r\n        \"self\": {\r\n          \"display\": true\r\n        }\r\n      },\r\n      \"menu\": {\r\n        \"dropdown\": false,\r\n        \"scroll\": true,\r\n        \"icon-style\": \"duotone\",\r\n        \"submenu\": {\r\n          \"accordion\": true,\r\n          \"dropdown\": {\r\n            \"arrow\": true,\r\n            \"hover-timeout\": 500\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \"footer\": {\r\n      \"self\": {\r\n        \"fixed\": true,\r\n        \"width\": \"fluid\"\r\n      }\r\n    },\r\n    \"extras\": {\r\n      \"search\": {\r\n        \"display\": false,\r\n        \"layout\": \"dropdown\",\r\n        \"offcanvas\": {\r\n          \"direction\": \"right\"\r\n        }\r\n      },\r\n      \"notifications\": {\r\n        \"display\": false,\r\n        \"layout\": \"dropdown\",\r\n        \"dropdown\": {\r\n          \"style\": \"dark\"\r\n        },\r\n        \"offcanvas\": {\r\n          \"directions\": \"right\"\r\n        }\r\n      },\r\n      \"quick-actions\": {\r\n        \"display\": false,\r\n        \"layout\": \"dropdown\",\r\n        \"dropdown\": {\r\n          \"style\": \"dark\"\r\n        },\r\n        \"offcanvas\": {\r\n          \"directions\": \"right\"\r\n        }\r\n      },\r\n      \"user\": {\r\n        \"display\": true,\r\n        \"layout\": \"dropdown\",\r\n        \"dropdown\": {\r\n          \"style\": \"dark\"\r\n        },\r\n        \"offcanvas\": {\r\n          \"directions\": \"right\"\r\n        }\r\n      },\r\n      \"languages\": {\r\n        \"display\": false\r\n      },\r\n      \"cart\": {\r\n        \"display\": false,\r\n        \"dropdown\": {\r\n          \"style\": \"dark\"\r\n        }\r\n      },\r\n      \"quick-panel\": {\r\n        \"display\": false,\r\n        \"offcanvas\": {\r\n          \"directions\": \"right\"\r\n        }\r\n      },\r\n      \"chat\": {\r\n        \"display\": true\r\n      },\r\n      \"toolbar\": {\r\n        \"display\": true\r\n      },\r\n      \"scrolltop\": {\r\n        \"display\": true\r\n      }\r\n    }\r\n  };\r\n}\r\n","import React, {useMemo} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport objectPath from \"object-path\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport {useHtmlClassService} from \"../../_core/MetronicLayout\";\r\nimport {toAbsoluteUrl} from \"../../../_helpers\";\r\n\r\nexport function Brand() {\r\n  const uiService = useHtmlClassService();\r\n\r\n  const layoutProps = useMemo(() => {\r\n    return {\r\n      brandClasses: uiService.getClasses(\"brand\", true),\r\n      asideSelfMinimizeToggle: objectPath.get(\r\n          uiService.config,\r\n          \"aside.self.minimize.toggle\"\r\n      ),\r\n      headerLogo: uiService.getLogo(),\r\n      headerStickyLogo: uiService.getStickyLogo()\r\n    };\r\n  }, [uiService]);\r\n\r\n  return (\r\n    <>\r\n      {/* begin::Brand */}\r\n      <div\r\n          className={`brand flex-column-auto ${layoutProps.brandClasses}`}\r\n          id=\"kt_brand\"\r\n      >\r\n        {/* begin::Logo */}\r\n        <Link to=\"\" className=\"brand-logo\">\r\n          <img alt=\"logo\" src={layoutProps.headerLogo}/>\r\n        </Link>\r\n        {/* end::Logo */}\r\n\r\n        {layoutProps.asideSelfMinimizeToggle && (\r\n          <>\r\n            {/* begin::Toggle */}\r\n            <button className=\"brand-toggle btn btn-sm px-0\" id=\"kt_aside_toggle\">\r\n              <span className=\"svg-icon svg-icon-xl\">\r\n                  <SVG src={toAbsoluteUrl(\"/media/svg/icons/Navigation/Angle-double-left.svg\")}/>\r\n              </span>\r\n            </button>\r\n            {/* end::Toolbar */}\r\n            </>\r\n        )}\r\n      </div>\r\n      {/* end::Brand */}\r\n      </>\r\n  );\r\n}\r\n","import { Ability, AbilityBuilder } from '@casl/ability';\r\nimport store from \"../../redux/store\";\r\n\r\n// Defines how to detect object's type\r\nfunction subjectName(item) {\r\n  if (!item || typeof item === 'string') {\r\n    return item;\r\n  }\r\n  return item.__type;\r\n}\r\n\r\nconst ability = new Ability([], { subjectName });\r\n\r\nlet currentAuth;\r\nstore.subscribe(() => {\r\n  const prevAuth = currentAuth;\r\n  //const { auth: { authToken } } = store.getState();\r\n  const { auth: { user } } = store.getState();\r\n  currentAuth = user //store.getState().user;\r\n  if (prevAuth !== currentAuth) {\r\n    ability.update(defineRulesFor(currentAuth));\r\n  }\r\n});\r\n\r\nfunction defineRulesFor(auth) {\r\n  const { can, cannot, rules } = AbilityBuilder.extract();\r\n  if (auth && auth.isAdmin == true) {\r\n    can('view', 'manage-custom-market');\r\n    can('view', 'custom-market-tree-action');\r\n    can('view', 'menu-maestros');\r\n    can('view', 'menu-usuarios');\r\n    can('view', 'menu-logs');\r\n  }\r\n  if (auth && auth.isAdmin == false) {\r\n    cannot('view', 'manage-custom-market');\r\n    cannot('view', 'menu-maestros');\r\n    cannot('view', 'menu-usuarios');\r\n  }\r\n  return rules;\r\n}\r\n\r\nexport default ability;","import { createCanBoundTo } from '@casl/react';\r\nimport ability from './ability';\r\n\r\nexport default createCanBoundTo(ability);","/* eslint-disable jsx-a11y/role-supports-aria-props */\r\n/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { toAbsoluteUrl, checkIsActive } from \"../../../../_helpers\";\r\nimport LayersIcon from '@material-ui/icons/Layers';\r\nimport ImportContactsIcon from '@material-ui/icons/ImportContacts';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport Can from \"../../../../../app/config/Can\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { WorkOutline } from \"@material-ui/icons\";\r\n\r\nexport function AsideMenuList({ layoutProps }) {\r\n  const location = useLocation();\r\n  const getMenuItemActive = (url, hasSubmenu = false) => {\r\n    return checkIsActive(location, url)\r\n      ? ` ${!hasSubmenu &&\r\n          \"menu-item-active\"} menu-item-open menu-item-not-hightlighted`\r\n      : \"\";\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* begin::Menu Nav */}\r\n      <ul className={`menu-nav ${layoutProps.ulClasses}`} style={{height: '100%'}}>\r\n\r\n        <li\r\n            className={`menu-item menu-item-submenu ${getMenuItemActive(\"/administracion-mercados\", true)}`}\r\n            aria-haspopup=\"true\"\r\n            data-menu-toggle=\"hover\"\r\n          >\r\n            <NavLink className=\"menu-link menu-toggle\" to=\"/administracion-mercados\">\r\n              <span className=\"svg-icon menu-icon\">\r\n                <LayersIcon />\r\n              </span>\r\n              <span className=\"menu-text\">\r\n                <FormattedMessage id=\"MENU.MANAGE_CUSTOM_MARKET\" />\r\n              </span>\r\n            </NavLink>\r\n          </li>\r\n          <Can I=\"view\" a=\"menu-maestros\">\r\n            <li\r\n              className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros\", true)}`}\r\n              aria-haspopup=\"true\"\r\n              data-menu-toggle=\"hover\"\r\n            >\r\n              <NavLink className=\"menu-link menu-toggle\" to=\"/google-material\">\r\n                <span className=\"svg-icon menu-icon\">\r\n                  <ImportContactsIcon />\r\n                </span>\r\n                <span className=\"menu-text\">\r\n                  <FormattedMessage id=\"MENU.MASTERS\" />\r\n                </span>\r\n                <i className=\"menu-arrow\" />\r\n              </NavLink>\r\n              <div className=\"menu-submenu \">\r\n                <i className=\"menu-arrow\" />\r\n                <ul className=\"menu-subnav\">\r\n                  <li className=\"menu-item  menu-item-parent\" aria-haspopup=\"true\">\r\n                    <span className=\"menu-link\">\r\n                      <span className=\"menu-text\">\r\n                        <FormattedMessage id=\"MENU.MASTERS\" />\r\n                      </span>\r\n                    </span>\r\n                  </li>\r\n\r\n                  {/* Inputs */}\r\n                  {/*begin::2 Level*/}\r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/grupo-drogas\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/grupo-drogas\"\r\n                    >\r\n                      <span className=\"menu-text\">                        \r\n                        <FormattedMessage id=\"MENU.MASTERS.DRUG_GROUP\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>  \r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/grupo-laboratorios\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/grupo-laboratorios\"\r\n                    >\r\n                      <span className=\"menu-text\">                        \r\n                        <FormattedMessage id=\"MENU.MASTERS.LABORATORY_GROUP\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>         \r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/grupo-presentaciones\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/grupo-presentaciones\"\r\n                    >\r\n                      <span className=\"menu-text\">                        \r\n                        <FormattedMessage id=\"MENU.MASTERS.PRODUCT_PRESENTATION_GROUP\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>                                              \r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/grupo-productos\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/grupo-productos\"\r\n                    >\r\n                      <span className=\"menu-text\">                        \r\n                        <FormattedMessage id=\"MENU.MASTERS.PRODUCT_GROUP\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>     \r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/presentaciones\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/presentaciones\"\r\n                    >\r\n                      <span className=\"menu-text\">\r\n                        <FormattedMessage id=\"MENU.MASTERS.PRODUCT_PRESENTATION\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>                                \r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/productos\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/productos\"\r\n                    >\r\n                      <span className=\"menu-text\">\r\n                        <FormattedMessage id=\"MENU.MASTERS.PRODUCT\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>\r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/unidad-negocios\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/unidad-negocios\"\r\n                    >\r\n                      <span className=\"menu-text\">                        \r\n                        <FormattedMessage id=\"MENU.MASTERS.BUSINESS_UNIT\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>                  \r\n                </ul>\r\n              </div>\r\n            </li>\r\n          </Can>\r\n          <Can I=\"view\" a=\"menu-usuarios\">\r\n            <li\r\n              className={`menu-item menu-item-submenu ${getMenuItemActive(\"/usuarios\", true)}`}\r\n              aria-haspopup=\"true\"\r\n              data-menu-toggle=\"hover\"\r\n            >\r\n              <NavLink className=\"menu-link menu-toggle\" to=\"/usuarios\">\r\n                <span className=\"svg-icon menu-icon\">\r\n                  <PeopleIcon />\r\n                </span>\r\n                <span className=\"menu-text\">\r\n                  <FormattedMessage id=\"MENU.USERS\" />\r\n                </span>\r\n              </NavLink>\r\n            </li>            \r\n          </Can>\r\n          <Can I=\"view\" a=\"menu-logs\">\r\n            <li\r\n              className={`menu-item menu-item-submenu ${getMenuItemActive(\"/logs\", true)}`}\r\n              aria-haspopup=\"true\"\r\n              data-menu-toggle=\"hover\"\r\n            >\r\n              <NavLink className=\"menu-link menu-toggle\" to=\"/logs\">\r\n                <span className=\"svg-icon menu-icon\">\r\n                  <WorkOutline />\r\n                </span>\r\n                <span className=\"menu-text\">\r\n                  <FormattedMessage id=\"MENU.LOG\" />\r\n                </span>\r\n              </NavLink>\r\n            </li>            \r\n          </Can>\r\n\r\n        {/*begin::1 Level*/}\r\n        <li\r\n          style={{bottom: '0px', width: '100%'}}\r\n          className={`position-absolute pb-5 menu-item ${getMenuItemActive(\"/logout\", false)}`}\r\n          aria-haspopup=\"true\"\r\n        >\r\n          <NavLink className=\"menu-link\" to=\"/logout\">\r\n            <span className=\"svg-icon menu-icon\">\r\n              <PowerSettingsNewIcon/>\r\n            </span>\r\n            <span className=\"menu-text\">\r\n              <FormattedMessage id=\"MENU.LOGOUT\" />\r\n            </span>\r\n          </NavLink>\r\n        </li>\r\n        {/*end::1 Level*/}\r\n      </ul>\r\n      {/* end::Menu Nav */}\r\n    </>\r\n  );\r\n}\r\n","import React, {useMemo} from \"react\";\r\nimport {AsideMenuList} from \"./AsideMenuList\";\r\nimport {useHtmlClassService} from \"../../../_core/MetronicLayout\";\r\n\r\nexport function AsideMenu({disableScroll}) {\r\n  const uiService = useHtmlClassService();\r\n  const layoutProps = useMemo(() => {\r\n    return {\r\n      layoutConfig: uiService.config,\r\n      asideMenuAttr: uiService.getAttributes(\"aside_menu\"),\r\n      ulClasses: uiService.getClasses(\"aside_menu_nav\", true),\r\n      asideClassesFromConfig: uiService.getClasses(\"aside_menu\", true)\r\n    };\r\n  }, [uiService]);\r\n\r\n  return (\r\n    <>\r\n      {/* begin::Menu Container */}\r\n      <div\r\n        id=\"kt_aside_menu\"\r\n        data-menu-vertical=\"1\"\r\n        className={`aside-menu my-4 ${layoutProps.asideClassesFromConfig}`}\r\n        {...layoutProps.asideMenuAttr}\r\n      >\r\n        <AsideMenuList layoutProps={layoutProps} />\r\n      </div>\r\n      {/* end::Menu Container */}\r\n    </>\r\n  );\r\n}\r\n","import React, {useMemo} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport objectPath from \"object-path\";\r\nimport {Brand} from \"../brand/Brand\";\r\nimport {AsideMenu} from \"./aside-menu/AsideMenu\";\r\nimport {useHtmlClassService} from \"../../_core/MetronicLayout\";\r\n\r\nexport function Aside() {\r\n  const uiService = useHtmlClassService();\r\n\r\n  const layoutProps = useMemo(() => {\r\n    return {\r\n      disableScroll:\r\n          objectPath.get(uiService.config, \"aside.menu.dropdown\") === \"true\" ||\r\n          false,\r\n      asideClassesFromConfig: uiService.getClasses(\"aside\", true),\r\n      disableAsideSelfDisplay:\r\n          objectPath.get(uiService.config, \"aside.self.display\") === false,\r\n      headerLogo: uiService.getLogo()\r\n    };\r\n  }, [uiService]);\r\n\r\n  return (\r\n      <>\r\n        {/* begin::Aside */}\r\n        <div id=\"kt_aside\"\r\n             className={`aside aside-left  ${layoutProps.asideClassesFromConfig} d-flex flex-column flex-row-auto`}>\r\n          <Brand/>\r\n\r\n          {/* begin::Aside Menu */}\r\n          <div id=\"kt_aside_menu_wrapper\" className=\"aside-menu-wrapper flex-column-fluid\">\r\n            {layoutProps.disableAsideSelfDisplay && (\r\n              <>\r\n                {/* begin::Header Logo */}\r\n                <div className=\"header-logo\">\r\n                  <Link to=\"\">\r\n                    <img alt=\"logo\" src={layoutProps.headerLogo}/>\r\n                  </Link>\r\n                </div>\r\n                {/* end::Header Logo */}\r\n              </>\r\n            )}\r\n            <AsideMenu disableScroll={layoutProps.disableScroll}/>\r\n          </div>\r\n          {/* end::Aside Menu */}\r\n        </div>\r\n        {/* end::Aside */}\r\n      </>\r\n  );\r\n}\r\n","import React, {useMemo} from \"react\";\r\nimport {useHtmlClassService} from \"../../_core/MetronicLayout\";\r\n\r\nexport function Footer() {\r\n  const today = new Date().getFullYear();\r\n  const uiService = useHtmlClassService();\r\n\r\n  const layoutProps = useMemo(() => {\r\n    return {\r\n      footerClasses: uiService.getClasses(\"footer\", true),\r\n      footerContainerClasses: uiService.getClasses(\"footer_container\", true)\r\n    };\r\n  }, [uiService]);\r\n\r\n  return (\r\n    <div\r\n      className={`footer bg-white py-4 d-flex flex-lg-column  ${layoutProps.footerClasses}`}\r\n      id=\"kt_footer\"\r\n    >\r\n      <div\r\n        className={`${layoutProps.footerContainerClasses} d-flex flex-column flex-md-row align-items-center justify-content-between`}\r\n      >\r\n        <div className=\"text-dark order-2 order-md-1\">\r\n          <span className=\"text-muted font-weight-bold mr-2\">{today.toString()}</span> &copy;{\" \"}\r\n          <a\r\n            href=\"http://www.solutica.com.ar\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            className=\"text-dark-75 text-hover-primary\"\r\n          >\r\n            Solutica\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutHeader = function() {\r\n    // Private properties\r\n    var _element;\r\n    var _elementForMobile;\r\n    var _object;\r\n\r\n\t// Private functions\r\n    // Get Height\r\n    var _getHeight = function() {\r\n        var height = 0;\r\n\r\n        if (_element) {\r\n            height = KTUtil.actualHeight(_element) + 1;\r\n        }\r\n\r\n        return height;\r\n    }\r\n\r\n    // Get Height\r\n    var _getHeightForMobile = function() {\r\n        var height;\r\n\r\n        height = KTUtil.actualHeight(_elementForMobile);\r\n\r\n        return height;\r\n    }\r\n\r\n    // Public Methods\r\n\treturn {\r\n\t\tinit: function(id, idForMobile) {\r\n            _element = KTUtil.getById(id);\r\n            _elementForMobile = KTUtil.getById(idForMobile);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\t\t},\r\n\r\n        isFixed: function() {\r\n            return KTUtil.hasClass(KTUtil.getBody(), 'header-fixed')\r\n        },\r\n\r\n        isFixedForMobile: function() {\r\n            return KTUtil.hasClass(KTUtil.getBody(), 'header-mobile-fixed')\r\n        },\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        },\r\n\r\n        getElementForMobile: function() {\r\n            return _elementForMobile;\r\n        },\r\n\r\n        getHeader: function() {\r\n            return _object;\r\n        },\r\n\r\n        getHeight: function() {\r\n            return _getHeight();\r\n        },\r\n\r\n        getHeightForMobile: function() {\r\n            return _getHeightForMobile();\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutHeader;\r\n}\r\n\r\nexport default KTLayoutHeader;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport KTOffcanvas from \"./../../components/offcanvas.js\";\r\nimport KTMenu from \"./../../components/menu.js\";\r\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutHeaderMenu = function() {\r\n    // Private properties\r\n\tvar _menuElement;\r\n    var _menuObject;\r\n    var _offcanvasElement;\r\n    var _offcanvasObject;\r\n\r\n    // Private functions\r\n\tvar _init = function() {\r\n\t\t_offcanvasObject = new KTOffcanvas(_offcanvasElement, {\r\n\t\t\toverlay: true,\r\n\t\t\tbaseClass: 'header-menu-wrapper',\r\n\t\t\tcloseBy: 'kt_header_menu_mobile_close_btn',\r\n\t\t\ttoggleBy: {\r\n\t\t\t\ttarget: 'kt_header_mobile_toggle',\r\n\t\t\t\tstate: 'mobile-toggle-active'\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t_menuObject = new KTMenu(_menuElement, {\r\n\t\t\tsubmenu: {\r\n\t\t\t\tdesktop: 'dropdown',\r\n\t\t\t\ttablet: 'accordion',\r\n\t\t\t\tmobile: 'accordion'\r\n\t\t\t},\r\n\t\t\taccordion: {\r\n\t\t\t\tslideSpeed: 200, // accordion toggle slide speed in milliseconds\r\n\t\t\t\texpandAll: false // allow having multiple expanded accordions in the menu\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Close aside offcanvas panel before page reload On tablet and mobile\r\n        _menuObject.on('linkClick', function(menu) {\r\n            if (KTUtil.isBreakpointDown('lg')) { // Tablet and mobile mode\r\n                _offcanvasObject.hide(); // Hide offcanvas after general link click\r\n            }\r\n        });\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n        init: function(menuId, offcanvasId) {\r\n            _menuElement = KTUtil.getById(menuId);\r\n            _offcanvasElement = KTUtil.getById(offcanvasId);\r\n\r\n            if (!_menuElement) {\r\n                return;\r\n            }\r\n\r\n            // Initialize menu\r\n            _init();\r\n\t\t},\r\n\r\n\t\tgetMenuElement: function() {\r\n\t\t\treturn _menuElement;\r\n\t\t},\r\n\r\n        getOffcanvasElement: function() {\r\n\t\t\treturn _offcanvasElement;\r\n\t\t},\r\n\r\n        getMenu: function() {\r\n\t\t\treturn _menuObject;\r\n\t\t},\r\n\r\n\t\tpauseDropdownHover: function(time) {\r\n\t\t\tif (_menuObject) {\r\n\t\t\t\t_menuObject.pauseDropdownHover(time);\r\n\t\t\t}\r\n\t\t},\r\n\r\n        getOffcanvas: function() {\r\n\t\t\treturn _offcanvasObject;\r\n\t\t},\r\n\r\n\t\tcloseMobileOffcanvas: function() {\r\n\t\t\tif (_menuObject && KTUtil.isMobileDevice()) {\r\n\t\t\t\t_offcanvasObject.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutHeaderMenu;\r\n}\r\n\r\nexport default KTLayoutHeaderMenu;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport KTToggle from \"./../../components/toggle.js\";\r\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutHeaderTopbar = function() {\r\n    // Private properties\r\n\tvar _toggleElement;\r\n    var _toggleObject;\r\n\r\n    // Private functions\r\n    var _init = function() {\r\n\t\t\t_toggleObject = new KTToggle(_toggleElement, KTUtil.getBody(), {\r\n\t\t\t\ttargetState: 'topbar-mobile-on',\r\n\t\t\t\ttoggleState: 'active',\r\n\t\t\t});\r\n    }\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _toggleElement = KTUtil.getById(id);\r\n\r\n\t\t\tif (!_toggleElement) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n            _init();\r\n\t\t},\r\n\r\n        getToggleElement: function() {\r\n            return _toggleElement;\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutHeaderTopbar;\r\n}\r\n\r\nexport default KTLayoutHeaderTopbar;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutBrand = function() {\r\n    // Private properties\r\n    var _element;\r\n\r\n    // Private functions\r\n    var _getHeight = function() {\r\n        var height = 0;\r\n\r\n        if (_element) {\r\n            height = KTUtil.actualHeight(_element);\r\n        }\r\n\r\n        return height;\r\n    }\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\t\t},\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        },\r\n\r\n        getHeight: function() {\r\n            return _getHeight();\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutBrand;\r\n}\r\n\r\nexport default KTLayoutBrand;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./../../components/util.js\";\r\nimport KTOffcanvas from \"./../../components/offcanvas.js\";\r\n\r\nvar KTLayoutAside = function() {\r\n    // Private properties\r\n    var _body;\r\n    var _element;\r\n    var _offcanvasObject;\r\n\r\n    // Private functions\r\n\t// Initialize\r\n\tvar _init = function() {\r\n\t\tvar offcanvasClass = KTUtil.hasClass(_element, 'aside-offcanvas-default') ? 'aside-offcanvas-default' : 'aside';\r\n\r\n        // Initialize mobile aside offcanvas\r\n\t\t_offcanvasObject = new KTOffcanvas(_element, {\r\n\t\t\tbaseClass: offcanvasClass,\r\n\t\t\toverlay: true,\r\n\t\t\tcloseBy: 'kt_aside_close_btn',\r\n\t\t\ttoggleBy: {\r\n\t\t\t\ttarget: 'kt_aside_mobile_toggle',\r\n\t\t\t\tstate: 'mobile-toggle-active'\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n            _body = KTUtil.getBody();\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n            _init();\r\n        },\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        },\r\n\r\n        getOffcanvas: function() {\r\n            return _offcanvasObject;\r\n        },\r\n\r\n        isFixed: function() {\r\n            return KTUtil.hasClass(_body, 'aside-fixed');\r\n        },\r\n\r\n        isMinimized: function() {\r\n            return (KTUtil.hasClass(_body, 'aside-fixed') && KTUtil.hasClass(_body, 'aside-minimize'));\r\n        },\r\n\r\n        isHoverable: function() {\r\n            return (KTUtil.hasClass(_body, 'aside-fixed') && KTUtil.hasClass(_body, 'aside-minimize-hoverable'));\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutAside;\r\n}\r\n\r\nexport default KTLayoutAside;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutSubheader = function() {\r\n    // Private properties\r\n    var _element;\r\n\r\n    // Private functions\r\n    var _getHeight = function() {\r\n        var height = 0;\r\n\r\n        if (_element) {\r\n            height = KTUtil.actualHeight(_element);\r\n        }\r\n\r\n        return height;\r\n    }\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\t\t},\r\n\r\n        isFixed: function() {\r\n            return KTUtil.hasClass(KTUtil.getBody(), 'subheader-fixed');\r\n        },\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        },\r\n\r\n        getHeight: function() {\r\n            return _getHeight();\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutSubheader;\r\n}\r\n\r\nexport default KTLayoutSubheader;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport KTLayoutHeader from \"./header.js\";\r\nimport KTCard from \"./../../components/card.js\";\r\nimport { KTUtil } from \"./../../components/util.js\";\r\nimport KTLayoutSubheader from \"./subheader.js\";\r\n\r\nvar KTLayoutStickyCard = function() {\r\n    // Private properties\r\n\tvar _element;\r\n    var _object;\r\n\r\n\t// Private functions\r\n\tvar _init = function() {\r\n\t\tvar offset = 300;\r\n\r\n\t\tif (typeof KTLayoutHeader !== 'undefined') {\r\n\t\t\toffset = KTLayoutHeader.getHeight();\r\n\t\t}\r\n\r\n        _object = new KTCard(_element, {\r\n\t\t\tsticky: {\r\n\t\t\t\toffset: offset,\r\n\t\t\t\tzIndex: 90,\r\n\t\t\t\tposition: {\r\n\t\t\t\t\ttop: function() {\r\n\t\t\t\t\t\tvar pos = 0;\r\n                        var body = KTUtil.getBody();\r\n\r\n\t\t\t\t\t\tif (KTUtil.isBreakpointUp('lg')) {\r\n\t\t\t\t\t\t\tif (typeof KTLayoutHeader !== 'undefined' && KTLayoutHeader.isFixed()) {\r\n\t\t\t\t\t\t\t\tpos = pos + KTLayoutHeader.getHeight();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (typeof KTLayoutSubheader !== 'undefined' && KTLayoutSubheader.isFixed()) {\r\n\t\t\t\t\t\t\t\tpos = pos + KTLayoutSubheader.getHeight();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (typeof KTLayoutHeader !== 'undefined' && KTLayoutHeader.isFixedForMobile()) {\r\n\t\t\t\t\t\t\t\tpos = pos + KTLayoutHeader.getHeightForMobile();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpos = pos - 1; // remove header border width\r\n\r\n\t\t\t\t\t\treturn pos;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tleft: function(card) {\r\n\t\t\t\t\t\treturn KTUtil.offset(_element).left;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: function(card) {\r\n\t\t\t\t\t\tvar body = KTUtil.getBody();\r\n\r\n\t\t\t\t\t\tvar cardWidth = parseInt(KTUtil.css(_element, 'width'));\r\n\t\t\t\t\t\tvar bodyWidth = parseInt(KTUtil.css(body, 'width'));\r\n\t\t\t\t\t\tvar cardOffsetLeft = KTUtil.offset(_element).left;\r\n\r\n\t\t\t\t\t\treturn bodyWidth - cardWidth - cardOffsetLeft;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t_object.initSticky();\r\n\r\n\t\tKTUtil.addResizeHandler(function() {\r\n\t\t\t_object.updateSticky();\r\n\t\t});\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n\t\t\t_init();\r\n\t\t},\r\n\r\n\t\tupdate: function() {\r\n\t\t\tif (_object) {\r\n\t\t\t\t_object.updateSticky();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutStickyCard;\r\n}\r\n\r\nexport default KTLayoutStickyCard;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./../../components/util.js\";\r\nimport KTLayoutBrand from \"./brand.js\";\r\nimport KTMenu from \"./../../components/menu.js\";\r\nimport KTLayoutAside from \"./aside.js\";\r\n\r\nvar KTLayoutAsideMenu = function() {\r\n    // Private properties\r\n    var _body;\r\n    var _element;\r\n    var _menuObject;\r\n\r\n\t// Initialize\r\n\tvar _init = function() {\r\n\t\tvar menuDesktopMode = (KTUtil.attr(_element, 'data-menu-dropdown') === '1' ? 'dropdown' : 'accordion');\r\n        var scroll;\r\n\r\n\t\tif (KTUtil.attr(_element, 'data-menu-scroll') === '1') {\r\n\t\t\tscroll = {\r\n\t\t\t\trememberPosition: true, // remember position on page reload\r\n\t\t\t\theight: function() { // calculate available scrollable area height\r\n\t\t\t\t\tvar height = parseInt(KTUtil.getViewPort().height);\r\n\r\n\t\t\t\t\tif (KTUtil.isBreakpointUp('lg')) {\r\n\t\t\t\t\t\theight = height - KTLayoutBrand.getHeight();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\theight = height - (parseInt(KTUtil.css(_element, 'marginBottom')) + parseInt(KTUtil.css(_element, 'marginTop')));\r\n\r\n\t\t\t\t\treturn height;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t_menuObject = new KTMenu(_element, {\r\n\t\t\t// Vertical scroll\r\n\t\t\tscroll: scroll,\r\n\r\n\t\t\t// Submenu setup\r\n\t\t\tsubmenu: {\r\n\t\t\t\tdesktop: menuDesktopMode,\r\n\t\t\t\ttablet: 'accordion', // menu set to accordion in tablet mode\r\n\t\t\t\tmobile: 'accordion' // menu set to accordion in mobile mode\r\n\t\t\t},\r\n\r\n\t\t\t// Accordion setup\r\n\t\t\taccordion: {\r\n\t\t\t\texpandAll: false // allow having multiple expanded accordions in the menu\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n    var _initHover = function() {\r\n        // Handle Minimized Aside Hover\r\n\t\tif (KTUtil.hasClass(_body, 'aside-fixed') && KTUtil.hasClass(_body, 'aside-minimize-hoverable')) {\r\n\t\t\tvar insideTm;\r\n\t\t\tvar outsideTm;\r\n\r\n            // Handle Aside Hover Mode\r\n\t\t\tKTUtil.addEvent(_element, 'mouseenter', function(e) {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif (KTUtil.isBreakpointUp('lg') === false) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (outsideTm) {\r\n\t\t\t\t\tclearTimeout(outsideTm);\r\n\t\t\t\t\toutsideTm = null;\r\n\t\t\t\t}\r\n\r\n                if (insideTm) {\r\n\t\t\t\t\tclearTimeout(insideTm);\r\n\t\t\t\t\tinsideTm = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinsideTm = setTimeout(function() {\r\n\t\t\t\t\tif (KTUtil.hasClass(_body, 'aside-minimize') && KTUtil.isBreakpointUp('lg')) {\r\n\t\t\t\t\t\t// Hover class\r\n\t\t\t\t\t\tKTUtil.addClass(_body, 'aside-minimize-hover');\r\n\r\n\t\t\t\t\t\tKTLayoutAsideMenu.getMenu().scrollUpdate();\r\n\t\t\t\t\t\tKTLayoutAsideMenu.getMenu().scrollTop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 50);\r\n\t\t\t});\r\n\r\n\t\t\tKTUtil.addEvent(KTLayoutAside.getElement(), 'mouseleave', function(e) {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif (KTUtil.isBreakpointUp('lg') === false) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (insideTm) {\r\n\t\t\t\t\tclearTimeout(insideTm);\r\n\t\t\t\t\tinsideTm = null;\r\n\t\t\t\t}\r\n\r\n                if (outsideTm) {\r\n\t\t\t\t\tclearTimeout(outsideTm);\r\n\t\t\t\t\toutsideTm = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toutsideTm = setTimeout(function() {\r\n\t\t\t\t    if (KTUtil.hasClass(_body, 'aside-minimize-hover') && KTUtil.isBreakpointUp('lg')) {\r\n\t\t\t\t\t    KTUtil.removeClass(_body, 'aside-minimize-hover');\r\n\r\n\t\t\t\t\t\t// Hover class\r\n                        KTLayoutAsideMenu.getMenu().scrollUpdate();\r\n\t\t\t\t\t\tKTLayoutAsideMenu.getMenu().scrollTop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 100);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _body = KTUtil.getBody();\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize menu\r\n            _init();\r\n            _initHover();\r\n\t\t},\r\n\r\n\t\tgetElement: function() {\r\n\t\t\treturn _element;\r\n\t\t},\r\n\r\n        getMenu: function() {\r\n\t\t\treturn _menuObject;\r\n\t\t},\r\n\r\n        pauseDropdownHover: function(time) {\r\n\t\t\tif (_menuObject) {\r\n\t\t\t\t_menuObject.pauseDropdownHover(time);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcloseMobileOffcanvas: function() {\r\n\t\t\tif (_menuObject && KTUtil.isMobileDevice()) {\r\n\t\t\t\t_menuObject.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutAsideMenu;\r\n}\r\n\r\nexport default KTLayoutAsideMenu;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport KTToggle from \"./../../components/toggle.js\";\r\nimport KTLayoutStickyCard from \"./sticky-card.js\";\r\nimport KTLayoutHeaderMenu from \"./header-menu.js\";\r\nimport KTLayoutAsideMenu from \"./aside-menu.js\";\r\nimport { KTCookie } from \"./../../components/cookie.js\";\r\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutAsideToggle = function() {\r\n    // Private properties\r\n    var _body;\r\n    var _element;\r\n    var _toggleObject;\r\n\r\n\t// Initialize\r\n\tvar _init = function() {\r\n\t\t_toggleObject = new KTToggle(_element, _body, {\r\n\t\t\ttargetState: 'aside-minimize',\r\n\t\t\ttoggleState: 'active'\r\n\t\t});\r\n\r\n\t\t_toggleObject.on('toggle', function(toggle) {\r\n            // Update sticky card\r\n            if (typeof KTLayoutStickyCard !== 'undefined') {\r\n                KTLayoutStickyCard.update();\r\n            }\r\n\r\n            // Pause header menu dropdowns\r\n            if (typeof KTLayoutHeaderMenu !== 'undefined') {\r\n                KTLayoutHeaderMenu.pauseDropdownHover(800);\r\n            }\r\n\r\n            // Pause aside menu dropdowns\r\n            if (typeof KTLayoutAsideMenu !== 'undefined') {\r\n                KTLayoutAsideMenu.pauseDropdownHover(800);\r\n            }\r\n\r\n            // Remember state in cookie\r\n\t\t\tKTCookie.setCookie('kt_aside_toggle_state', toggle.getState());\r\n\t\t\t// to set default minimized left aside use this cookie value in your\r\n\t\t\t// server side code and add \"kt-primary--minimize aside-minimize\" classes to\r\n\t\t\t// the body tag in order to initialize the minimized left aside mode during page loading.\r\n\t\t});\r\n\r\n\t\t_toggleObject.on('beforeToggle', function(toggle) {\r\n\t\t\tif (KTUtil.hasClass(_body, 'aside-minimize') === false && KTUtil.hasClass(_body, 'aside-minimize-hover')) {\r\n\t\t\t\tKTUtil.removeClass(_body, 'aside-minimize-hover');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n            _body = KTUtil.getBody();\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n            _init();\r\n\t\t},\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        },\r\n\r\n        getToggle: function() {\r\n\t\t\treturn _toggleObject;\r\n\t\t},\r\n\r\n\t\tonToggle: function(handler) {\r\n\t\t\tif (typeof _toggleObject.element !== 'undefined') {\r\n\t\t\t\t_toggleObject.on('toggle', handler);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutAsideToggle;\r\n}\r\n\r\nexport default KTLayoutAsideToggle;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutFooter = function() {\r\n    // Private properties\r\n    var _element;\r\n\r\n\t// Private functions\r\n\tvar _getHeight = function() {\r\n\t\tvar height = 0;\r\n\r\n        if (_element) {\r\n            height = KTUtil.actualHeight(_element);\r\n        }\r\n\r\n\t\treturn height;\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\t\t},\r\n\r\n\t\tgetHeight: function() {\r\n\t\t\treturn _getHeight();\r\n\t\t},\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutFooter;\r\n}\r\n\r\nexport default KTLayoutFooter;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./../../components/util.js\";\r\nimport KTLayoutHeader from \"./header.js\";\r\nimport KTLayoutSubheader from \"./subheader.js\";\r\nimport KTLayoutFooter from \"./footer.js\";\r\n\r\nvar KTLayoutContent = function() {\r\n    // Private properties\r\n    var _element;\r\n\r\n\t// Private functions\r\n\tvar _getHeight = function() {\r\n\t\tvar height;\r\n\r\n\t\theight = KTUtil.getViewPort().height;\r\n\r\n        if (_element) {\r\n            height = height - parseInt(KTUtil.css(_element, 'paddingTop')) - parseInt(KTUtil.css(_element, 'paddingBottom'));\r\n        }\r\n\r\n        height = height - KTLayoutHeader.getHeight();\r\n        height = height - KTLayoutSubheader.getHeight();\r\n        height = height - KTLayoutFooter.getHeight();\r\n\r\n\t\treturn height;\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\t\t},\r\n\r\n\t\tgetHeight: function() {\r\n\t\t\treturn _getHeight();\r\n\t\t},\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutContent;\r\n}\r\n\r\nexport default KTLayoutContent;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport KTScrolltop from \"./../../components/scrolltop.js\";\r\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutScrolltop = function() {\r\n    // Private properties\r\n    var _element;\r\n    var _object;\r\n\r\n    // Private functions\r\n    var _init = function() {\r\n        _object = new KTScrolltop(_element, {\r\n          offset: 300,\r\n          speed: 600,\r\n        });\r\n    }\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n            _init();\r\n\t\t},\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutScrolltop;\r\n}\r\n\r\nexport default KTLayoutScrolltop;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./../../components/util.js\";\r\nimport KTLayoutContent from \"./content.js\";\r\n\r\nvar KTLayoutStretchedCard = function() {\r\n    // Private properties\r\n\tvar _element;\r\n\r\n\t// Private functions\r\n\tvar _init = function() {\r\n\t\tvar scroll = KTUtil.find(_element, '.card-scroll');\r\n\t\tvar cardBody = KTUtil.find(_element, '.card-body');\r\n\t\tvar cardHeader = KTUtil.find(_element, '.card-header');\r\n\r\n\t\tvar height = KTLayoutContent.getHeight();\r\n\r\n\t\theight = height - parseInt(KTUtil.actualHeight(cardHeader));\r\n\r\n\t\theight = height - parseInt(KTUtil.css(_element, 'marginTop')) - parseInt(KTUtil.css(_element, 'marginBottom'));\r\n\t\theight = height - parseInt(KTUtil.css(_element, 'paddingTop')) - parseInt(KTUtil.css(_element, 'paddingBottom'));\r\n\r\n\t\theight = height - parseInt(KTUtil.css(cardBody, 'paddingTop')) - parseInt(KTUtil.css(cardBody, 'paddingBottom'));\r\n\t\theight = height - parseInt(KTUtil.css(cardBody, 'marginTop')) - parseInt(KTUtil.css(cardBody, 'marginBottom'));\r\n\r\n\t\theight = height - 3;\r\n\r\n\t\tKTUtil.css(scroll, 'height', height + 'px');\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n\t\t\t_init();\r\n\r\n            // Re-calculate on window resize\r\n            KTUtil.addResizeHandler(function() {\r\n\t\t\t\t_init();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tupdate: function() {\r\n\t\t\t_init();\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutStretchedCard;\r\n}\r\n\r\nexport default KTLayoutStretchedCard;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./../../components/util.js\";\r\nimport KTOffcanvas from \"./../../components/offcanvas.js\";\r\n\r\nvar KTLayoutQuickPanel = function() {\r\n    // Private properties\r\n    var _element;\r\n    var _offcanvasObject;\r\n    var _notificationsElement;\r\n    var _logsElement;\r\n    var _settingsElement;\r\n\r\n    // Private functions\r\n    var _getContentHeight = function() {\r\n        var height;\r\n\r\n        var header = KTUtil.find(_element, '.offcanvas-header');\r\n        var content = KTUtil.find(_element, '.offcanvas-content');\r\n\r\n        var height = parseInt(KTUtil.getViewPort().height);\r\n\r\n        if (header) {\r\n            height = height - parseInt(KTUtil.actualHeight(header));\r\n            height = height - parseInt(KTUtil.css(header, 'marginTop'));\r\n            height = height - parseInt(KTUtil.css(header, 'marginBottom'));\r\n        }\r\n\r\n        if (content) {\r\n            height = height - parseInt(KTUtil.css(content, 'marginTop'));\r\n            height = height - parseInt(KTUtil.css(content, 'marginBottom'));\r\n        }\r\n\r\n        height = height - parseInt(KTUtil.css(_element, 'paddingTop'));\r\n        height = height - parseInt(KTUtil.css(_element, 'paddingBottom'));\r\n\r\n        height = height - 2;\r\n\r\n        return height;\r\n    }\r\n\r\n    var _init = function() {\r\n        _offcanvasObject = new KTOffcanvas(_element, {\r\n            overlay: true,\r\n            baseClass: 'offcanvas',\r\n            placement: 'right',\r\n            closeBy: 'kt_quick_panel_close',\r\n            toggleBy: 'kt_quick_panel_toggle'\r\n        });\r\n    }\r\n\r\n    var _initNotifications = function() {\r\n        KTUtil.scrollInit(_notificationsElement, {\r\n            mobileNativeScroll: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                return _getContentHeight();\r\n            }\r\n        });\r\n    }\r\n\r\n    var _initLogs = function() {\r\n        KTUtil.scrollInit(_logsElement, {\r\n            mobileNativeScroll: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                return _getContentHeight();\r\n            }\r\n        });\r\n    }\r\n\r\n    var _initSettings = function() {\r\n        KTUtil.scrollInit(_settingsElement, {\r\n            mobileNativeScroll: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                return _getContentHeight();\r\n            }\r\n        });\r\n    }\r\n\r\n    var _updateScrollbars = function() {\r\n        $(_element).find('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\r\n            KTUtil.scrollUpdate(_notificationsElement);\r\n            KTUtil.scrollUpdate(_logsElement);\r\n            KTUtil.scrollUpdate(_settingsElement);\r\n        });\r\n    }\r\n\r\n    // Public methods\r\n    return {\r\n        init: function(id) {\r\n            _element = KTUtil.getById(id);\r\n            _notificationsElement = KTUtil.getById('kt_quick_panel_notifications');\r\n            _logsElement = KTUtil.getById('kt_quick_panel_logs');\r\n            _settingsElement = KTUtil.getById('kt_quick_panel_settings');\r\n\r\n            _init();\r\n            _initNotifications();\r\n            _initLogs();\r\n            _initSettings();\r\n\r\n            \r\n        }\r\n    };\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutQuickPanel;\r\n}\r\n\r\nexport default KTLayoutQuickPanel;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./../../components/util.js\";\r\nimport KTOffcanvas from \"./../../components/offcanvas.js\";\r\n\r\nvar KTLayoutQuickUser = function() {\r\n    // Private properties\r\n    var _element;\r\n    var _offcanvasObject;\r\n\r\n    // Private functions\r\n    var _init = function() {\r\n        var header = KTUtil.find(_element, '.offcanvas-header');\r\n        var content = KTUtil.find(_element, '.offcanvas-content');\r\n\r\n        _offcanvasObject = new KTOffcanvas(_element, {\r\n            overlay: true,\r\n            baseClass: 'offcanvas',\r\n            placement: 'right',\r\n            closeBy: 'kt_quick_user_close',\r\n            toggleBy: 'kt_quick_user_toggle'\r\n        });\r\n\r\n        KTUtil.scrollInit(content, {\r\n            disableForMobile: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                var height = parseInt(KTUtil.getViewPort().height);\r\n\r\n                if (header) {\r\n                    height = height - parseInt(KTUtil.actualHeight(header));\r\n                    height = height - parseInt(KTUtil.css(header, 'marginTop'));\r\n                    height = height - parseInt(KTUtil.css(header, 'marginBottom'));\r\n                }\r\n\r\n                if (content) {\r\n                    height = height - parseInt(KTUtil.css(content, 'marginTop'));\r\n                    height = height - parseInt(KTUtil.css(content, 'marginBottom'));\r\n                }\r\n\r\n                height = height - parseInt(KTUtil.css(_element, 'paddingTop'));\r\n                height = height - parseInt(KTUtil.css(_element, 'paddingBottom'));\r\n\r\n                height = height - 2;\r\n\r\n                return height;\r\n            }\r\n        });\r\n    }\r\n\r\n    // Public methods\r\n    return {\r\n        init: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n            _init();\r\n        },\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        }\r\n    };\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutQuickUser;\r\n}\r\n\r\nexport default KTLayoutQuickUser;","import React, {useLayoutEffect} from \"react\";\r\nimport {KTUtil} from \"../../_assets/js/components/util\";\r\nimport KTLayoutHeader from \"../../_assets/js/layout/base/header\";\r\nimport KTLayoutHeaderMenu from \"../../_assets/js/layout/base/header-menu\";\r\nimport KTLayoutHeaderTopbar from \"../../_assets/js/layout/base/header-topbar\";\r\nimport KTLayoutBrand from \"../../_assets/js/layout/base/brand\";\r\nimport KTLayoutAside from \"../../_assets/js/layout/base/aside\";\r\nimport KTLayoutAsideToggle from \"../../_assets/js/layout/base/aside-toggle\";\r\nimport KTLayoutAsideMenu from \"../../_assets/js/layout/base/aside-menu\";\r\nimport KTLayoutContent from \"../../_assets/js/layout/base/content\";\r\nimport KTLayoutFooter from \"../../_assets/js/layout/base/footer\";\r\nimport KTLayoutSubheader from \"../../_assets/js/layout/base/subheader\";\r\nimport KTLayoutScrolltop from \"../../_assets/js/layout/extended/scrolltop\";\r\nimport KTLayoutStickyCard from \"../../_assets/js/layout/base/sticky-card\";\r\nimport KTLayoutStretchedCard from \"../../_assets/js/layout/base/stretched-card\";\r\nimport KTLayoutQuickPanel from \"../../_assets/js/layout/extended/quick-panel\";\r\nimport KTLayoutQuickUser from \"../../_assets/js/layout/extended/quick-user\";\r\n\r\nexport function LayoutInit() {\r\n  useLayoutEffect(() => {\r\n    // Initialization\r\n    KTUtil.ready(function () {\r\n      ////////////////////////////////////////////////////\r\n      // Layout Base Partials(mandatory for core layout)//\r\n      ////////////////////////////////////////////////////\r\n      // Init Desktop & Mobile Headers\r\n      KTLayoutHeader.init('kt_header', 'kt_header_mobile');\r\n\r\n      // Init Header Menu\r\n      KTLayoutHeaderMenu.init('kt_header_menu', 'kt_header_menu_wrapper');\r\n      // Init Header Topbar For Mobile Mode\r\n      KTLayoutHeaderTopbar.init('kt_header_mobile_topbar_toggle');\r\n      // Init Brand Panel For Logo\r\n      KTLayoutBrand.init('kt_brand');\r\n      // Init Aside\r\n      KTLayoutAside.init('kt_aside');\r\n\r\n      // Init Aside Menu Toggle\r\n      KTLayoutAsideToggle.init('kt_aside_toggle');\r\n      //\r\n      // Init Aside Menu\r\n      KTLayoutAsideMenu.init('kt_aside_menu');\r\n\r\n      // Init Content\r\n      KTLayoutContent.init('kt_content');\r\n\r\n      // Init Footer\r\n      KTLayoutFooter.init('kt_footer');\r\n\r\n\r\n      //////////////////////////////////////////////\r\n      // Layout Extended Partials(optional to use)//\r\n      //////////////////////////////////////////////\r\n      KTLayoutSubheader.init('kt_subheader');\r\n\r\n      // Init Scrolltop\r\n      KTLayoutScrolltop.init('kt_scrolltop');\r\n\r\n      // Init Sticky Card\r\n      KTLayoutStickyCard.init('kt_page_sticky_card');\r\n\r\n      // Init Stretched Card\r\n      KTLayoutStretchedCard.init('kt_page_stretched_card');\r\n\r\n      // Init Quick Offcanvas Panel\r\n      KTLayoutQuickPanel.init('kt_quick_panel');\r\n\r\n      // Init Quick User Panel\r\n      KTLayoutQuickUser.init('kt_quick_user');\r\n    });\r\n  }, []);\r\n  return <></>;\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\n\r\nexport function DropdownMenu1() {\r\n    return (<>\r\n        {/*begin::Navigation*/}\r\n        <ul className=\"navi navi-hover\">\r\n            <li className=\"navi-header font-weight-bold py-5\">\r\n                <span className=\"font-size-lg\">Choose Label:</span>\r\n                <i className=\"flaticon2-information icon-md text-muted\" data-toggle=\"tooltip\" data-placement=\"right\"\r\n                   title=\"Click to learn more...\"></i>\r\n            </li>\r\n            <li className=\"navi-separator mb-3 opacity-70\"></li>\r\n            <li className=\"navi-item\">\r\n                <a href=\"#\" className=\"navi-link\">\r\n            <span className=\"navi-text\">\r\n                <span className=\"label label-xl label-inline label-light-success\">Customer</span>\r\n            </span>\r\n                </a>\r\n            </li>\r\n            <li className=\"navi-item\">\r\n                <a href=\"#\" className=\"navi-link\">\r\n            <span className=\"navi-text\">\r\n                <span className=\"label label-xl label-inline label-light-danger\">Partner</span>\r\n            </span>\r\n                </a>\r\n            </li>\r\n            <li className=\"navi-item\">\r\n                <a href=\"#\" className=\"navi-link\">\r\n            <span className=\"navi-text\">\r\n                <span className=\"label label-xl label-inline label-light-warning\">Suplier</span>\r\n            </span>\r\n                </a>\r\n            </li>\r\n            <li className=\"navi-item\">\r\n                <a href=\"#\" className=\"navi-link\">\r\n            <span className=\"navi-text\">\r\n                <span className=\"label label-xl label-inline label-light-primary\">Member</span>\r\n            </span>\r\n                </a>\r\n            </li>\r\n            <li className=\"navi-item\">\r\n                <a href=\"#\" className=\"navi-link\">\r\n            <span className=\"navi-text\">\r\n                <span className=\"label label-xl label-inline label-light-dark\">Staff</span>\r\n            </span>\r\n                </a>\r\n            </li>\r\n            <li className=\"navi-separator mt-3 opacity-70\"></li>\r\n            <li className=\"navi-footer pt-5 pb-4\">\r\n                <a className=\"btn btn-clean font-weight-bold btn-sm\" href=\"#\">\r\n                    <i className=\"ki ki-plus icon-sm\"></i>\r\n                    Add new\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        {/*end::Navigation*/}\r\n    </>);\r\n}\r\n","import React from \"react\";\r\n\r\nexport const DropdownTopbarItemToggler = React.forwardRef((props, ref) => {\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className=\"topbar-item\"\r\n      onClick={e => {\r\n        e.preventDefault();\r\n        props.onClick(e);\r\n      }}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n});\r\n\r\nDropdownTopbarItemToggler.displayName = 'DropdownTopbarItemToggler';\r\n","/* eslint-disable no-restricted-imports */\r\n/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React, {forwardRef} from \"react\";\r\nimport {OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport {DropdownMenu1} from \"../../../../_partials/dropdowns\";\r\nimport {toAbsoluteUrl} from \"../../../../_helpers\";\r\n\r\nconst QuickActionsDropdownToggle = forwardRef((props, ref) => {\r\n  return (\r\n    <a\r\n      ref={ref}\r\n      href=\"#\"\r\n      onClick={e => {\r\n        e.preventDefault();\r\n        props.onClick(e);\r\n      }}\r\n      id=\"kt_subheader_quick_actions\"\r\n      className=\"btn btn-sm btn-clean btn-icon\"\r\n    >\r\n      {\" \"}\r\n      <span className=\"svg-icon svg-icon-success svg-icon-lg\">\r\n        <span className=\"svg-icon-success svg-icon-2x\">\r\n          <SVG  src={toAbsoluteUrl(\"/media/svg/icons/Files/File-plus.svg\")} />\r\n        </span>\r\n      </span>\r\n    </a>\r\n  );\r\n});\r\n\r\nexport function QuickActions() {\r\n  return (\r\n      <>\r\n        <OverlayTrigger\r\n            placement=\"left\"\r\n            overlay={<Tooltip id=\"quick-actions-tooltip\">Quick actions</Tooltip>}\r\n        >\r\n          <Dropdown className=\"dropdown-inline\" drop=\"down\" alignRight>\r\n            <Dropdown.Toggle\r\n                as={QuickActionsDropdownToggle}\r\n                id=\"dropdown-toggle-quick-actions-subheader\"\r\n            />\r\n\r\n            <Dropdown.Menu className=\"dropdown-menu p-0 m-0 dropdown-menu-md dropdown-menu-right\">\r\n              <DropdownMenu1 />\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </OverlayTrigger>\r\n      </>\r\n  );\r\n}\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport function BreadCrumbs({ items }) {\r\n  if (!items || !items.length) {\r\n    return \"\";\r\n  }\r\n\r\n  return (\r\n    <ul className=\"breadcrumb breadcrumb-transparent breadcrumb-dot font-weight-bold p-0 my-2\">\r\n      <li className=\"breadcrumb-item\">\r\n        <Link to=\"/dashboard\">\r\n          <i className=\"flaticon2-shelter text-muted icon-1x\" />\r\n        </Link>\r\n      </li>\r\n      {items.map((item, index) => (\r\n        <li key={`bc${index}`} className=\"breadcrumb-item\">\r\n          <Link className=\"text-muted\" to={{ pathname: item.pathname }}>\r\n            {item.title}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React, { createContext, useState, useContext } from \"react\";\r\n\r\nexport function getBreadcrumbsAndTitle(menuId, pathName) {\r\n  const result = {\r\n    breadcrumbs: [],\r\n    title: \"\",\r\n  };\r\n\r\n  const menu = document.getElementById(menuId);\r\n  if (!menu) {\r\n    return result;\r\n  }\r\n\r\n  const activeLinksArray = Array.from(\r\n    menu.getElementsByClassName(\"active\") || []\r\n  );\r\n  const activeLinks = activeLinksArray.filter((el) => el.tagName === \"A\");\r\n  if (!activeLinks) {\r\n    return result;\r\n  }\r\n\r\n  activeLinks.forEach((link) => {\r\n    const titleSpans = link.getElementsByClassName(\"menu-text\");\r\n    if (titleSpans) {\r\n      const titleSpan = Array.from(titleSpans).find(\r\n        (t) => t.innerHTML && t.innerHTML.trim().length > 0\r\n      );\r\n      if (titleSpan) {\r\n        result.breadcrumbs.push({\r\n          pathname: link.pathname.replace(process.env.PUBLIC_URL, \"\"),\r\n          title: titleSpan.innerHTML,\r\n        });\r\n      }\r\n    }\r\n  });\r\n  result.title = getTitle(result.breadcrumbs, pathName);\r\n  return result;\r\n}\r\n\r\nexport function getTitle(breadCrumbs, pathname) {\r\n  if (!breadCrumbs || !pathname) {\r\n    return \"\";\r\n  }\r\n\r\n  const length = breadCrumbs.length;\r\n  if (!length) {\r\n    return \"\";\r\n  }\r\n\r\n  return breadCrumbs[length - 1].title;\r\n}\r\n\r\nconst SubheaderContext = createContext();\r\n\r\nexport function useSubheader() {\r\n  return useContext(SubheaderContext);\r\n}\r\n\r\nexport const SubheaderConsumer = SubheaderContext.Consumer;\r\n\r\nexport function MetronicSubheaderProvider({ children }) {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [breadcrumbs, setBreadcrumbs] = useState([]);\r\n  const value = { title, setTitle, breadcrumbs, setBreadcrumbs };\r\n  return (\r\n    <SubheaderContext.Provider value={value}>\r\n      {children}\r\n    </SubheaderContext.Provider>\r\n  );\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React, {useMemo, useLayoutEffect, useEffect} from \"react\";\r\nimport objectPath from \"object-path\";\r\nimport {useLocation} from \"react-router-dom\";\r\nimport {QuickActions} from \"./components/QuickActions\";\r\nimport {BreadCrumbs} from \"./components/BreadCrumbs\";\r\nimport {getBreadcrumbsAndTitle, useSubheader} from \"../../_core/MetronicSubheader\";\r\nimport {useHtmlClassService} from \"../../_core/MetronicLayout\"\r\n\r\nexport function SubHeader() {\r\n  const uiService = useHtmlClassService();\r\n  const location = useLocation();\r\n  const subheader = useSubheader();\r\n\r\n  const layoutProps = useMemo(() => {\r\n    return {\r\n      config: uiService.config,\r\n      subheaderMobileToggle: objectPath.get(\r\n          uiService.config,\r\n          \"subheader.mobile-toggle\"\r\n      ),\r\n      subheaderCssClasses: uiService.getClasses(\"subheader\", true),\r\n      subheaderContainerCssClasses: uiService.getClasses(\r\n          \"subheader_container\",\r\n          true\r\n      )\r\n    };\r\n  }, [uiService]);\r\n\r\n  useLayoutEffect(() => {\r\n    const aside = getBreadcrumbsAndTitle(\"kt_aside_menu\", location.pathname);\r\n    const header = getBreadcrumbsAndTitle(\"kt_header_menu\", location.pathname);\r\n    const breadcrumbs = (aside && aside.breadcrumbs.length > 0) ? aside.breadcrumbs : header.breadcrumbs;\r\n    subheader.setBreadcrumbs(breadcrumbs);\r\n    subheader.setTitle((aside && aside.title && aside.title.length > 0) ? aside.title : header.title);\r\n    // eslint-disable-next-line\r\n  }, [location.pathname]);\r\n\r\n  // Do not remove this useEffect, need from update title/breadcrumbs outside (from the page)\r\n  useEffect(() => {}, [subheader]);\r\n\r\n  return (\r\n      <div\r\n          id=\"kt_subheader\"\r\n          className={`subheader py-2 py-lg-4   ${layoutProps.subheaderCssClasses}`}\r\n      >\r\n        <div\r\n            className={`${layoutProps.subheaderContainerCssClasses} d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap`}\r\n        >\r\n          {/* Info */}\r\n          <div className=\"d-flex align-items-center flex-wrap mr-1\">\r\n            {layoutProps.subheaderMobileToggle && (\r\n                <button\r\n                    className=\"burger-icon burger-icon-left mr-4 d-inline-block d-lg-none\"\r\n                    id=\"kt_subheader_mobile_toggle\"\r\n                >\r\n                  <span/>\r\n                </button>\r\n            )}\r\n\r\n            <div className=\"d-flex align-items-baseline mr-5\">\r\n              <h5 className=\"text-dark font-weight-bold my-2 mr-5\">\r\n                <>\r\n                  {subheader.title}\r\n                </>\r\n                {/*<small></small>*/}\r\n              </h5>\r\n\r\n            </div>\r\n\r\n\r\n            <BreadCrumbs items={subheader.breadcrumbs} />\r\n          </div>\r\n\r\n          {/* Toolbar */}\r\n          <div className=\"d-flex align-items-center\">\r\n            <a href=\"#\" className=\"btn btn-light btn-sm font-weight-bold\" id=\"kt_dashboard_daterangepicker\"\r\n               data-toggle=\"tooltip\" title=\"Select dashboard daterange\" data-placement=\"left\">\r\n              <span className=\"text-muted font-weight-bold mr-2\" id=\"kt_dashboard_daterangepicker_title\">Today</span>\r\n              <span className=\"text-primary font-weight-bold\" id=\"kt_dashboard_daterangepicker_date\">Aug 16</span>\r\n            </a>\r\n            <QuickActions/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,no-undef */\r\nimport React, {useState} from \"react\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport {Tab, Nav} from \"react-bootstrap\";\r\nimport {toAbsoluteUrl} from \"../../../../_helpers\";\r\n\r\nexport function QuickPanel() {\r\n  const [selectedTab, setSelectedTab] = useState(\"AuditLogs\");\r\n\r\n  const setTab = _tabName => {\r\n    setSelectedTab(_tabName);\r\n  };\r\n\r\n  return (\r\n      <div id=\"kt_quick_panel\" className=\"offcanvas offcanvas-left pt-5 pb-10\">\r\n        <Tab.Container\r\n            defaultActiveKey={selectedTab}\r\n        >\r\n          {/*begin::Header*/}\r\n          <div\r\n              className=\"offcanvas-header offcanvas-header-navs d-flex align-items-center justify-content-between mb-5\">\r\n            <Nav\r\n                onSelect={setTab}\r\n                as=\"ul\"\r\n                role=\"tablist\"\r\n                className=\"nav nav-bold nav-tabs nav-tabs-line nav-tabs-line-3x nav-tabs-primary flex-grow-1 px-10\"\r\n            >\r\n              <Nav.Item as=\"li\">\r\n                <Nav.Link\r\n                    eventKey=\"AuditLogs\"\r\n                    className={`nav-link ${\r\n                        selectedTab === \"AuditLogs\" ? \"active\" : \"\"\r\n                    }`}\r\n                >\r\n                  Audit Logs\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item className=\"nav-item\" as=\"li\">\r\n                <Nav.Link\r\n                    eventKey=\"Notifications\"\r\n                    className={`nav-link ${\r\n                        selectedTab === \"Notifications\" ? \"active\" : \"\"\r\n                    }`}\r\n                >\r\n                  Notifications\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item as=\"li\">\r\n                <Nav.Link\r\n                    eventKey=\"Settings\"\r\n                    className={`nav-link ${\r\n                        selectedTab === \"Settings\" ? \"active\" : \"\"\r\n                    }`}\r\n                >\r\n                  Settings\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n            </Nav>\r\n\r\n            <div className=\"offcanvas-close mt-n1 pr-5\" style={{position: \"absolute\", top: \"15px\", right: \"10px\"}}>\r\n              <a\r\n                  href=\"#\"\r\n                  className=\"btn btn-xs btn-icon btn-light btn-hover-primary\"\r\n                  id=\"kt_quick_panel_close\"\r\n              >\r\n                <i className=\"ki ki-close icon-xs text-muted\"></i>\r\n              </a>\r\n            </div>\r\n          </div>\r\n          {/*end::Header*/}\r\n\r\n          {/*begin::Content*/}\r\n          <div className=\"offcanvas-content px-10\">\r\n            <div className=\"tab-content\">\r\n              <div\r\n                  id=\"kt_quick_panel_logs\"\r\n                  role=\"tabpanel\"\r\n                  className={`tab-pane fade pt-3 pr-5 mr-n5 scroll ps ${selectedTab === \"AuditLogs\" ? \"active show\" : \"\"}`}\r\n              >\r\n                <div className=\"mb-15\">\r\n                  <h5 className=\"font-weight-bold mb-5\">System Messages</h5>\r\n                  <div className=\"d-flex align-items-center flex-wrap mb-5\">\r\n                    <div className=\"symbol symbol-50 symbol-light mr-5\">\r\n                    <span className=\"symbol-label\">\r\n                      <img\r\n                          src={toAbsoluteUrl(\"/media/svg/misc/006-plurk.svg\")}\r\n                          alt=\"\"\r\n                          className=\"h-50 align-self-center\"\r\n                      />\r\n                    </span>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-bolder text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Top Authors\r\n                      </a>\r\n                      <span className=\"text-muted font-weight-bold\">\r\n                      Most Successful Fellas\r\n                    </span>\r\n                    </div>\r\n                    <span className=\"btn btn-sm btn-light font-weight-bolder py-1 my-lg-0 my-2 text-dark-50\">\r\n                    +82$\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center flex-wrap mb-5\">\r\n                    <div className=\"symbol symbol-50 symbol-light mr-5\">\r\n                    <span className=\"symbol-label\">\r\n                      <img\r\n                          src={toAbsoluteUrl(\"/media/svg/misc/015-telegram.svg\")}\r\n                          alt=\"\"\r\n                          className=\"h-50 align-self-center\"\r\n                      />\r\n                    </span>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-bolder text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Popular Authors\r\n                      </a>\r\n                      <span className=\"text-muted font-weight-bold\">\r\n                      Most Successful Fellas\r\n                    </span>\r\n                    </div>\r\n                    <span className=\"btn btn-sm btn-light font-weight-bolder  my-lg-0 my-2 py-1 text-dark-50\">\r\n                    +280$\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center flex-wrap mb-5\">\r\n                    <div className=\"symbol symbol-50 symbol-light mr-5\">\r\n                    <span className=\"symbol-label\">\r\n                      <img\r\n                          src={toAbsoluteUrl(\"/media/svg/misc/003-puzzle.svg\")}\r\n                          alt=\"\"\r\n                          className=\"h-50 align-self-center\"\r\n                      />\r\n                    </span>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-bolder text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        New Users\r\n                      </a>\r\n                      <span className=\"text-muted font-weight-bold\">\r\n                      Most Successful Fellas\r\n                    </span>\r\n                    </div>\r\n                    <span className=\"btn btn-sm btn-light font-weight-bolder  my-lg-0 my-2 py-1 text-dark-50\">\r\n                    +4500$\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center flex-wrap mb-5\">\r\n                    <div className=\"symbol symbol-50 symbol-light mr-5\">\r\n                    <span className=\"symbol-label\">\r\n                      <img\r\n                          src={toAbsoluteUrl(\"/media/svg/misc/005-bebo.svg\")}\r\n                          alt=\"\"\r\n                          className=\"h-50 align-self-center\"\r\n                      />\r\n                    </span>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-bolder text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Active Customers\r\n                      </a>\r\n                      <span className=\"text-muted font-weight-bold\">\r\n                      Most Successful Fellas\r\n                    </span>\r\n                    </div>\r\n                    <span className=\"btn btn-sm btn-light font-weight-bolder my-lg-0 my-2 py-1 text-dark-50\">\r\n                    +4500$\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center flex-wrap\">\r\n                    <div className=\"symbol symbol-50 symbol-light mr-5\">\r\n                    <span className=\"symbol-label\">\r\n                      <img\r\n                          src={toAbsoluteUrl(\r\n                              \"/media/svg/misc/014-kickstarter.svg\"\r\n                          )}\r\n                          alt=\"\"\r\n                          className=\"h-50 align-self-center\"\r\n                      />\r\n                    </span>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-bolder text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Bestseller Theme\r\n                      </a>\r\n                      <span className=\"text-muted font-weight-bold\">\r\n                      Most Successful Fellas\r\n                    </span>\r\n                    </div>\r\n                    <span className=\"btn btn-sm btn-light font-weight-bolder my-lg-0 my-2 py-1 text-dark-50\">\r\n                    +4500$\r\n                  </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mb-5\">\r\n                  <h5 className=\"font-weight-bold mb-5\">Notifications</h5>\r\n\r\n                  <div className=\"d-flex align-items-center bg-light-warning rounded p-5 mb-5\">\r\n                  <span className=\"svg-icon svg-icon-warning mr-5\">\r\n                    <SVG\r\n                        src={toAbsoluteUrl(\"/media//svg/icons/Home/Library.svg\")}\r\n                        className=\"svg-icon svg-icon-lg\"\r\n                    ></SVG>\r\n                  </span>\r\n\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-normal text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Another purpose persuade\r\n                      </a>\r\n                      <span className=\"text-muted font-size-sm\">\r\n                      Due in 2 Days\r\n                    </span>\r\n                    </div>\r\n\r\n                    <span className=\"font-weight-bolder text-warning py-1 font-size-lg\">\r\n                    +28%\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center bg-light-success rounded p-5 mb-5\">\r\n                  <span className=\"svg-icon svg-icon-success mr-5\">\r\n                    <SVG\r\n                        src={toAbsoluteUrl(\r\n                            \"/media/svg/icons/Communication/Write.svg\"\r\n                        )}\r\n                        className=\"svg-icon svg-icon-lg\"\r\n                    ></SVG>\r\n                  </span>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-normal text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Would be to people\r\n                      </a>\r\n                      <span className=\"text-muted font-size-sm\">\r\n                      Due in 2 Days\r\n                    </span>\r\n                    </div>\r\n\r\n                    <span className=\"font-weight-bolder text-success py-1 font-size-lg\">\r\n                    +50%\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center bg-light-danger rounded p-5 mb-5\">\r\n                  <span className=\"svg-icon svg-icon-danger mr-5\">\r\n                    <SVG\r\n                        src={toAbsoluteUrl(\r\n                            \"/media/svg/icons/Communication/Group-chat.svg\"\r\n                        )}\r\n                        className=\"svg-icon svg-icon-lg\"\r\n                    ></SVG>\r\n                  </span>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-normel text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Purpose would be to persuade\r\n                      </a>\r\n                      <span className=\"text-muted font-size-sm\">\r\n                      Due in 2 Days\r\n                    </span>\r\n                    </div>\r\n\r\n                    <span className=\"font-weight-bolder text-danger py-1 font-size-lg\">\r\n                    -27%\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center bg-light-info rounded p-5\">\r\n                  <span className=\"svg-icon svg-icon-info mr-5\">\r\n                    <SVG\r\n                        src={toAbsoluteUrl(\r\n                            \"/media/svg/icons/General/Attachment2.svg\"\r\n                        )}\r\n                        className=\"svg-icon svg-icon-lg\"\r\n                    ></SVG>\r\n                  </span>\r\n\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-normel text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        The best product\r\n                      </a>\r\n                      <span className=\"text-muted font-size-sm\">\r\n                      Due in 2 Days\r\n                    </span>\r\n                    </div>\r\n\r\n                    <span className=\"font-weight-bolder text-info py-1 font-size-lg\">\r\n                    +8%\r\n                  </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div\r\n                  id=\"kt_quick_panel_notifications\"\r\n                  role=\"tabpanel\"\r\n                  className={`tab-pane fade pt-2 pr-5 mr-n5 scroll ps ${selectedTab === \"Notifications\" ? \"active show\" : \"\"}`}\r\n              >\r\n                <div className=\"navi navi-icon-circle navi-spacer-x-0\">\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-bell text-success icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold font-size-lg\">\r\n                          5 new user generated report\r\n                        </div>\r\n                        <div className=\"text-muted\">Reports based on sales</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon2-box text-danger icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          2 new items submited\r\n                        </div>\r\n                        <div className=\"text-muted\">by Grog John</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-psd text-primary icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          79 PSD files generated\r\n                        </div>\r\n                        <div className=\"text-muted\">Reports based on sales</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon2-supermarket text-warning icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          $2900 worth producucts sold\r\n                        </div>\r\n                        <div className=\"text-muted\">Total 234 items</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-paper-plane-1 text-success icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          4.5h-avarage response time\r\n                        </div>\r\n                        <div className=\"text-muted\">Fostest is Barry</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-safe-shield-protection text-danger icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          3 Defence alerts\r\n                        </div>\r\n                        <div className=\"text-muted\">\r\n                          40% less alerts thar last week\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-notepad text-primary icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          Avarage 4 blog posts per author\r\n                        </div>\r\n                        <div className=\"text-muted\">Most posted 12 time</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-users-1 text-warning icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          16 authors joined last week\r\n                        </div>\r\n                        <div className=\"text-muted\">\r\n                          9 photodrapehrs, 7 designer\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon2-box text-info icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          2 new items have been submited\r\n                        </div>\r\n                        <div className=\"text-muted\">by Grog John</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon2-download text-success icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          2.8 GB-total downloads size\r\n                        </div>\r\n                        <div className=\"text-muted\">\r\n                          Mostly PSD end AL concepts\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon2-supermarket text-danger icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          $2900 worth producucts sold\r\n                        </div>\r\n                        <div className=\"text-muted\">Total 234 items</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-bell text-primary icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          7 new user generated report\r\n                        </div>\r\n                        <div className=\"text-muted\">Reports based on sales</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-paper-plane-1 text-success icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          4.5h-avarage response time\r\n                        </div>\r\n                        <div className=\"text-muted\">Fostest is Barry</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              <div\r\n                  id=\"kt_quick_panel_settings\"\r\n                  role=\"tabpanel\"\r\n                  className={`tab-pane fade pt-3 pr-5 mr-n5 scroll ps ${selectedTab === \"Settings\" ? \"active show\" : \"\"}`}\r\n              >\r\n                <form className=\"form\">\r\n                  <div>\r\n                    <h5 className=\"font-weight-bold mb-3\">Customer Care</h5>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Enable Notifications:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-success switch-sm\">\r\n                        <label>\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              onChange={() => {\r\n                              }}\r\n                              checked\r\n                              name=\"\"\r\n                          />\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Enable Case Tracking:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-success switch-sm\">\r\n                        <label>\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              name=\"quick_panel_notifications_2\"\r\n                              onChange={() => {\r\n                              }}\r\n                          />\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Support Portal:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-success switch-sm\">\r\n                        <label>\r\n                          <input type=\"checkbox\" name=\"\" onChange={() => {\r\n                          }}/>\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"separator separator-dashed my-6\"></div>\r\n\r\n                  <div className=\"pt-2\">\r\n                    <h5 className=\"font-weight-bold mb-3\">Reports</h5>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Generate Reports:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-sm switch-danger\">\r\n                        <label>\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              name=\"\"\r\n                              onChange={() => {\r\n                              }}\r\n                              checked\r\n                          />\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Enable Report Export:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-sm switch-danger\">\r\n                        <label>\r\n                          <input type=\"checkbox\" name=\"\" onChange={() => {\r\n                          }}/>\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Allow Data Collection:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-sm switch-danger\">\r\n                        <label>\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              name=\"\"\r\n                              onChange={() => {\r\n                              }}\r\n                              checked\r\n                          />\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"separator separator-dashed my-6\"></div>\r\n\r\n                  <div className=\"pt-2\">\r\n                    <h5 className=\"font-weight-bold mb-3\">Memebers</h5>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Enable Member singup:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-sm switch-primary\">\r\n                        <label>\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              checked\r\n                              onChange={() => {\r\n                              }}\r\n                              name=\"\"\r\n                          />\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Allow User Feedbacks:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-sm switch-primary\">\r\n                        <label>\r\n                          <input type=\"checkbox\" name=\"\" onChange={() => {\r\n                          }}/>\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Enable Customer Portal:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-sm switch-primary\">\r\n                        <label>\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              checked\r\n                              onChange={() => {\r\n                              }}\r\n                              name=\"\"\r\n                          />\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/*end::Content*/}\r\n        </Tab.Container>\r\n      </div>\r\n  );\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,no-undef */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toAbsoluteUrl } from \"../../../../_helpers\";\r\n\r\nexport function QuickUser() {\r\n  const history = useHistory();\r\n  const user = useSelector((state) => state.auth.user, shallowEqual);\r\n  const logoutClick = () => {\r\n    const toggle = document.getElementById(\"kt_quick_user_toggle\");\r\n    if (toggle) {\r\n      toggle.click();\r\n    }\r\n    history.push(\"/logout\");\r\n  };\r\n\r\n  return (\r\n    <div\r\n      id=\"kt_quick_user\"\r\n      className=\"offcanvas offcanvas-right offcanvas p-10\"\r\n    >\r\n      <div className=\"offcanvas-header d-flex align-items-center justify-content-between pb-5\">\r\n        <h3 className=\"font-weight-bold m-0\">\r\n          User Profile\r\n          <small className=\"text-muted font-size-sm ml-2\">12 messages</small>\r\n        </h3>\r\n        <a\r\n          className=\"btn btn-xs btn-icon btn-light btn-hover-primary cursor-pointer\"\r\n          id=\"kt_quick_user_close\"\r\n        >\r\n          <i className=\"ki ki-close icon-xs text-muted\" />\r\n        </a>\r\n      </div>\r\n\r\n      <div className=\"offcanvas-content pr-5 mr-n5\">\r\n        <div className=\"d-flex align-items-center mt-5\">\r\n          <div className=\"symbol symbol-100 mr-5\">\r\n            <div\r\n              className=\"symbol-label\"\r\n              style={{\r\n                backgroundImage: `url(${user.pic})`,\r\n              }}\r\n            />\r\n            <i className=\"symbol-badge bg-success\" />\r\n          </div>\r\n          <div className=\"d-flex flex-column\">\r\n            <a\r\n              href=\"#\"\r\n              className=\"font-weight-bold font-size-h5 text-dark-75 text-hover-primary\"\r\n            >\r\n              {user.firstname} {user.lastname}\r\n            </a>\r\n            <div className=\"text-muted mt-1\">{user.occupation}</div>\r\n            <div className=\"navi mt-2\">\r\n              <a className=\"navi-item cursor-pointer\">\r\n                <span className=\"navi-link p-0 pb-2\">\r\n                  <span className=\"navi-icon mr-1\">\r\n                    <span className=\"svg-icon-lg svg-icon-primary\">\r\n                      <SVG\r\n                        src={toAbsoluteUrl(\r\n                          \"/media/svg/icons/Communication/Mail-notification.svg\"\r\n                        )}\r\n                      ></SVG>\r\n                    </span>\r\n                  </span>\r\n                  <span className=\"navi-text text-muted text-hover-primary\">\r\n                    {user.email}\r\n                  </span>\r\n                </span>\r\n              </a>\r\n            </div>\r\n            {/* <Link to=\"/logout\" className=\"btn btn-light-primary btn-bold\">\r\n                Sign Out\r\n              </Link> */}\r\n            <button\r\n              className=\"btn btn-light-primary btn-bold\"\r\n              onClick={logoutClick}\r\n            >\r\n              Sign out\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"separator separator-dashed mt-8 mb-5\" />\r\n\r\n        <div className=\"navi navi-spacer-x-0 p-0\">\r\n          <Link to=\"/user-profile\" className=\"navi-item\">\r\n            <div className=\"navi-link\">\r\n              <div className=\"symbol symbol-40 bg-light mr-3\">\r\n                <div className=\"symbol-label\">\r\n                  <span className=\"svg-icon svg-icon-md svg-icon-success\">\r\n                    <SVG\r\n                      src={toAbsoluteUrl(\r\n                        \"/media/svg/icons/General/Notification2.svg\"\r\n                      )}\r\n                    ></SVG>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"navi-text\">\r\n                <div className=\"font-weight-bold\">My Profile</div>\r\n                <div className=\"text-muted\">\r\n                  Account settings and more{\" \"}\r\n                  <span className=\"label label-light-danger label-inline font-weight-bold\">\r\n                    update\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n\r\n          <Link to=\"/user-profile\" className=\"navi-item\">\r\n            <div className=\"navi-link\">\r\n              <div className=\"symbol symbol-40 bg-light mr-3\">\r\n                <div className=\"symbol-label\">\r\n                  <span className=\"svg-icon svg-icon-md svg-icon-warning\">\r\n                    <SVG\r\n                      src={toAbsoluteUrl(\r\n                        \"/media/svg/icons/Shopping/Chart-bar1.svg\"\r\n                      )}\r\n                    ></SVG>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"navi-text\">\r\n                <div className=\"font-weight-bold\">My Messages</div>\r\n                <div className=\"text-muted\">Inbox and tasks</div>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n\r\n          <a href=\"/user/profile\" className=\"navi-item\">\r\n            <div className=\"navi-link\">\r\n              <div className=\"symbol symbol-40 bg-light mr-3\">\r\n                <div className=\"symbol-label\">\r\n                  <span className=\"svg-icon svg-icon-md svg-icon-danger\">\r\n                    <SVG\r\n                      src={toAbsoluteUrl(\r\n                        \"/media/svg/icons/Files/Selected-file.svg\"\r\n                      )}\r\n                    ></SVG>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"navi-text\">\r\n                <div className=\"font-weight-bold\">My Activities</div>\r\n                <div className=\"text-muted\">Logs and notifications</div>\r\n              </div>\r\n            </div>\r\n          </a>\r\n\r\n          <a href=\"/user/profile\" className=\"navi-item\">\r\n            <div className=\"navi-link\">\r\n              <div className=\"symbol symbol-40 bg-light mr-3\">\r\n                <div className=\"symbol-label\">\r\n                  <span className=\"svg-icon svg-icon-md svg-icon-primary\">\r\n                    <SVG\r\n                      src={toAbsoluteUrl(\r\n                        \"/media/svg/icons/Communication/Mail-opened.svg\"\r\n                      )}\r\n                    ></SVG>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"navi-text\">\r\n                <div className=\"font-weight-bold\">My Tasks</div>\r\n                <div className=\"text-muted\">latest tasks and projects</div>\r\n              </div>\r\n            </div>\r\n          </a>\r\n        </div>\r\n\r\n        <div className=\"separator separator-dashed my-7\"></div>\r\n\r\n        <div>\r\n          <h5 className=\"mb-5\">Recent Notifications</h5>\r\n\r\n          <div className=\"d-flex align-items-center bg-light-warning rounded p-5 gutter-b\">\r\n            <span className=\"svg-icon svg-icon-warning mr-5\">\r\n              <SVG\r\n                src={toAbsoluteUrl(\"/media/svg/icons/Home/Library.svg\")}\r\n                className=\"svg-icon svg-icon-lg\"\r\n              ></SVG>\r\n            </span>\r\n\r\n            <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n              <a\r\n                href=\"#\"\r\n                className=\"font-weight-normal text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n              >\r\n                Another purpose persuade\r\n              </a>\r\n              <span className=\"text-muted font-size-sm\">Due in 2 Days</span>\r\n            </div>\r\n\r\n            <span className=\"font-weight-bolder text-warning py-1 font-size-lg\">\r\n              +28%\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"d-flex align-items-center bg-light-success rounded p-5 gutter-b\">\r\n            <span className=\"svg-icon svg-icon-success mr-5\">\r\n              <SVG\r\n                src={toAbsoluteUrl(\"/media/svg/icons/Communication/Write.svg\")}\r\n                className=\"svg-icon svg-icon-lg\"\r\n              ></SVG>\r\n            </span>\r\n            <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n              <a\r\n                href=\"#\"\r\n                className=\"font-weight-normal text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n              >\r\n                Would be to people\r\n              </a>\r\n              <span className=\"text-muted font-size-sm\">Due in 2 Days</span>\r\n            </div>\r\n\r\n            <span className=\"font-weight-bolder text-success py-1 font-size-lg\">\r\n              +50%\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"d-flex align-items-center bg-light-danger rounded p-5 gutter-b\">\r\n            <span className=\"svg-icon svg-icon-danger mr-5\">\r\n              <SVG\r\n                src={toAbsoluteUrl(\r\n                  \"/media/svg/icons/Communication/Group-chat.svg\"\r\n                )}\r\n                className=\"svg-icon svg-icon-lg\"\r\n              ></SVG>\r\n            </span>\r\n            <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n              <a\r\n                href=\"#\"\r\n                className=\"font-weight-normel text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n              >\r\n                Purpose would be to persuade\r\n              </a>\r\n              <span className=\"text-muted font-size-sm\">Due in 2 Days</span>\r\n            </div>\r\n\r\n            <span className=\"font-weight-bolder text-danger py-1 font-size-lg\">\r\n              -27%\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"d-flex align-items-center bg-light-info rounded p-5\">\r\n            <span className=\"svg-icon svg-icon-info mr-5\">\r\n              <SVG\r\n                src={toAbsoluteUrl(\"/media/svg/icons/General/Attachment2.svg\")}\r\n                className=\"svg-icon svg-icon-lg\"\r\n              ></SVG>\r\n            </span>\r\n\r\n            <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n              <a\r\n                href=\"#\"\r\n                className=\"font-weight-normel text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n              >\r\n                The best product\r\n              </a>\r\n              <span className=\"text-muted font-size-sm\">Due in 2 Days</span>\r\n            </div>\r\n\r\n            <span className=\"font-weight-bolder text-info py-1 font-size-lg\">\r\n              +8%\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport {toAbsoluteUrl} from \"../../../_helpers\";\r\n\r\nexport function ScrollTop() {\r\n  return (\r\n      <div id=\"kt_scrolltop\" className=\"scrolltop\">\r\n        <span className=\"svg-icon\">\r\n          <SVG src={toAbsoluteUrl(\"/media/svg/icons/Navigation/Up-2.svg\")}></SVG>\r\n        </span>{\" \"}\r\n      </div>\r\n  );\r\n}\r\n","import React, {useMemo} from \"react\";\r\nimport objectPath from \"object-path\";\r\n// LayoutContext\r\nimport {useHtmlClassService} from \"../_core/MetronicLayout\";\r\n// Import Layout components\r\nimport {Aside} from \"./aside/Aside\";\r\nimport {Footer} from \"./footer/Footer\";\r\nimport {LayoutInit} from \"./LayoutInit\";\r\nimport {SubHeader} from \"./subheader/SubHeader\";\r\nimport {QuickPanel} from \"./extras/offcanvas/QuickPanel\";\r\nimport {QuickUser} from \"./extras/offcanvas/QuickUser\";\r\nimport {ScrollTop} from \"./extras/ScrollTop\";\r\n\r\nexport function Layout({ children }) {\r\n    const uiService = useHtmlClassService();\r\n    // Layout settings (cssClasses/cssAttributes)\r\n    const layoutProps = useMemo(() => {\r\n        return {\r\n            layoutConfig: uiService.config,\r\n            selfLayout: objectPath.get(uiService.config, \"self.layout\"),\r\n            asideDisplay: objectPath.get(uiService.config, \"aside.self.display\"),\r\n            subheaderDisplay: objectPath.get(uiService.config, \"subheader.display\"),\r\n            desktopHeaderDisplay: objectPath.get(\r\n                uiService.config,\r\n                \"header.self.fixed.desktop\"\r\n            ),\r\n            contentCssClasses: uiService.getClasses(\"content\", true),\r\n            contentContainerClasses: uiService.getClasses(\"content_container\", true),\r\n            contentExtended: objectPath.get(uiService.config, \"content.extended\")\r\n        };\r\n    }, [uiService]);\r\n\r\n    return layoutProps.selfLayout !== \"blank\" ? (\r\n        <>\r\n            {/*begin::Main*/}\r\n            <div className=\"d-flex flex-column flex-root pt-0\">\r\n                {/*begin::Page*/}\r\n                <div className=\"d-flex flex-row flex-column-fluid page\">\r\n                    {layoutProps.asideDisplay && (<Aside/>)}\r\n                    {/*begin::Wrapper*/}\r\n                    <div className=\"d-flex flex-column flex-row-fluid wrapper pt-0\" id=\"kt_wrapper\">\r\n                        {/*begin::Content*/}\r\n                        <div\r\n                            id=\"kt_content\"\r\n                            className={`content ${layoutProps.contentCssClasses} d-flex flex-column flex-column-fluid`}\r\n                        >\r\n                            {layoutProps.subheaderDisplay && <SubHeader/>}\r\n                            {/*begin::Entry*/}\r\n                            {!layoutProps.contentExtended && (\r\n                                <div className=\"d-flex flex-column-fluid\">\r\n                                    {/*begin::Container*/}\r\n                                    <div className={layoutProps.contentContainerClasses}>\r\n                                        {children}\r\n                                    </div>\r\n                                    {/*end::Container*/}\r\n                                </div>\r\n                            )}\r\n\r\n                            {layoutProps.contentExtended && {children}}\r\n                            {/*end::Entry*/}\r\n                        </div>\r\n                        {/*end::Content*/}\r\n                        <Footer/>\r\n                    </div>\r\n                    {/*end::Wrapper*/}\r\n                </div>\r\n                {/*end::Page*/}\r\n            </div>\r\n            <QuickUser/>\r\n            <QuickPanel/>\r\n            <ScrollTop/>\r\n            {/*end::Main*/}\r\n            <LayoutInit />\r\n        </>\r\n    ) : (\r\n        // BLANK LAYOUT\r\n        <div className=\"d-flex flex-column flex-root\">{children}</div>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {useRouteMatch} from \"react-router-dom\";\r\n\r\nexport function Content({ children }) {\r\n  const match = useRouteMatch() || {};\r\n  const animationEndClass = \"grid-animateContent-finished\";\r\n  const [cssClassesState, setCssClassesState] = useState([\r\n    \"grid-animateContent\",\r\n    animationEndClass\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    // for animation start should toggle 'grid-animateContent-finished' css class\r\n    // TODO: change useMemo\r\n    const fullClasses = [...cssClassesState];\r\n    const startAnimation = fullClasses.filter(el => el !== animationEndClass);\r\n    setCssClassesState(startAnimation);\r\n    const timeOutId = setTimeout(() => {\r\n      setCssClassesState(fullClasses);\r\n    }, 200);\r\n\r\n    return () => {\r\n      clearTimeout(timeOutId);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [match.url]);\r\n\r\n  return <>{children}</>;\r\n}\r\n","import React from \"react\";\r\nimport {Route} from \"react-router-dom\";\r\nimport {Content} from \"./Content\";\r\n\r\nexport function ContentRoute({ children, component, render, ...props }) {\r\n  return (\r\n    <Route {...props}>\r\n      {routeProps => {\r\n        if (typeof children === \"function\") {\r\n          return <Content>{children(routeProps)}</Content>;\r\n        }\r\n\r\n        if (!routeProps.match) {\r\n          return null;\r\n        }\r\n\r\n        if (children) {\r\n          return <Content>{children}</Content>;\r\n        }\r\n\r\n        if (component) {\r\n          return (\r\n            <Content>{React.createElement(component, routeProps)}</Content>\r\n          );\r\n        }\r\n\r\n        if (render) {\r\n          return <Content>{render(routeProps)}</Content>;\r\n        }\r\n\r\n        return null;\r\n      }}\r\n    </Route>\r\n  );\r\n}\r\n","import React, {createContext, useContext, useState, useEffect} from \"react\";\r\n\r\nconst MetronicSplashScreenContext = createContext();\r\n\r\nexport function MetronicSplashScreenProvider({ children }) {\r\n  const [count, setCount] = useState(0);\r\n  let visible = count > 0;\r\n\r\n  useEffect(() => {\r\n    const splashScreen = document.getElementById(\"splash-screen\");\r\n\r\n    // Show SplashScreen\r\n    if (splashScreen && visible) {\r\n      splashScreen.classList.remove(\"hidden\");\r\n\r\n      return () => {\r\n        splashScreen.classList.add(\"hidden\");\r\n      };\r\n    }\r\n\r\n    // Hide SplashScreen\r\n    let timeout;\r\n    if (splashScreen && !visible) {\r\n      timeout = setTimeout(() => {\r\n        splashScreen.classList.add(\"hidden\");\r\n      }, 3000);\r\n    }\r\n\r\n    return () => {\r\n      clearTimeout(timeout);\r\n    };\r\n  }, [visible]);\r\n\r\n  return (\r\n    <MetronicSplashScreenContext.Provider value={setCount}>\r\n      {children}\r\n    </MetronicSplashScreenContext.Provider>\r\n  );\r\n}\r\n\r\nexport function LayoutSplashScreen({ visible = true }) {\r\n  // Everything are ready - remove splashscreen\r\n  const setCount = useContext(MetronicSplashScreenContext);\r\n\r\n  useEffect(() => {\r\n    if (!visible) {\r\n      return;\r\n    }\r\n\r\n    setCount(prev => {\r\n      return prev + 1;\r\n    });\r\n\r\n    return () => {\r\n      setCount(prev => {\r\n        return prev - 1;\r\n      });\r\n    };\r\n  }, [setCount, visible]);\r\n\r\n  return null;\r\n}\r\n","import React from \"react\";\r\nimport {createMuiTheme, ThemeProvider} from \"@material-ui/core\";\r\n\r\nconst theme = createMuiTheme(\r\n  /**\r\n   * @see https://material-ui.com/customization/themes/#theme-configuration-variables\r\n   */\r\n  {\r\n    // direction: \"rtl\",\r\n    typography: {\r\n      fontFamily: [\"Poppins\"].join(\",\")\r\n    },\r\n\r\n    palette: {\r\n      primary: {\r\n        // light: will be calculated from palette.primary.main,\r\n        main: \"#17c191\",\r\n        // dark: will be calculated from palette.primary.main,\r\n        // contrastText: \"#fff\" //will be calculated to contrast with palette.primary.main\r\n      },\r\n      secondary: {\r\n        // light: will be calculated from palette.primary.main,\r\n        main: \"#3783e7\",\r\n        // dark: will be calculated from palette.primary.main,\r\n        // contrastText: \"#fff\" //will be calculated to contrast with palette.primary.main\r\n      },\r\n      error: {\r\n        // light: will be calculated from palette.primary.main,\r\n        main: \"#f018a6\",\r\n        // dark: will be calculated from palette.primary.main,\r\n        // contrastText: \"#fff\" //will be calculated to contrast with palette.primary.main\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @see https://material-ui.com/customization/globals/#default-props\r\n     */\r\n    props: {\r\n      // Name of the component \r\n      MuiButtonBase: {\r\n        // The properties to apply\r\n        disableRipple: false // No more ripple, on the whole application !\r\n      },\r\n\r\n      // Set default elevation to 1 for popovers.\r\n      MuiPopover: {\r\n        elevation: 1\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nexport function MaterialThemeProvider(props) {\r\n  const { children } = props;\r\n\r\n  return <ThemeProvider theme={theme}>{children}</ThemeProvider>;\r\n}\r\n","import axios from 'axios'\r\n\r\nclass CustomMarketSync {\r\n\r\n    getProducts = async() => {\r\n        return await axios.get(`products/components`)\r\n    }\r\n    getDrugs = async() => {\r\n        return await axios.get(`drugs/components`)\r\n    }\r\n    getProductPresentations = async() => {\r\n        return await axios.get(`productpresentations/components`)\r\n    }\r\n    getLaboratories = async() => {\r\n        return await axios.get(`laboratories/components`)\r\n    }\r\n    getPharmaceuticalForms = async() => {\r\n        return await axios.get(`pharmaceuticalforms`)\r\n    }\r\n\r\n    getLineGroups = async() => {\r\n        return await axios.get(`linegroups`)\r\n    }\r\n    \r\n    getTherapeuticalClasses = async() => {\r\n        return await axios.get(`therapeuticalclasses/component`)\r\n    }\r\n}\r\n\r\nexport default new CustomMarketSync;","import React from 'react';\r\nimport axios from 'axios';\r\nimport CustomMarketSync from '../utils'\r\nimport { actionTypes } from './mercadosRedux'\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport swal from 'sweetalert';\r\n\r\nexport const getCustomMarketTree = () => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.RECEIVE_CUSTOM_MARKET_TREE_DATA, isLoading: true, customMarketTree: [] })\r\n    const customMarkets = await axios.get(`customMarkets/tree`)\r\n    dispatch({ type: actionTypes.RECEIVE_CUSTOM_MARKET_TREE_DATA, isLoading: false, customMarketTree: customMarkets.data })\r\n  }\r\n}\r\n\r\n\r\nexport const getLastAuditoryMarket = () => {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch({ type: actionTypes.RECEIVE_LAST_AUDITORY_VALUE, isLoading: true, lastAuditory: null });\r\n      const response = await axios.get(`customMarkets/GetLastAuditory`);\r\n      const lastAuditory = response.data;\r\n      dispatch({ type: actionTypes.RECEIVE_LAST_AUDITORY_VALUE, isLoading: false, lastAuditory });\r\n    } catch (error) {\r\n      dispatch({ type: actionTypes.SET_GET_ERROR, visible: true, title: 'Error', description: error.message });\r\n    }\r\n  };\r\n};\r\n\r\nexport const signMarket = (data) => {\r\n  return async function (dispatch) {\r\n    try {\r\n\r\n      dispatch({ type: actionTypes.SET_CUSTOM_MARKET_SIGNATURE, isLoading: true, signedMessage: null });\r\n      const resp = await axios.post('customMarkets/SignMarket', data, { headers: { 'Content-Type': 'application/json' } });\r\n      const response = resp.data;\r\n\r\n      if (response.status) {\r\n        dispatch({ type: actionTypes.SET_GET_SUCCESS, visible: true, title: 'Exito!', description: response.message });\r\n        swal({\r\n          title: \"Exito\",\r\n          text: response.message,\r\n          icon: \"success\",\r\n        })\r\n\r\n        dispatch(getCustomMarketTree());\r\n      }\r\n      else {\r\n        dispatch({ type: actionTypes.SET_GET_ERROR, visible: true, title: 'Error', description: response.message });\r\n        swal({\r\n          title: \"Error\",\r\n          text: response.message,\r\n          icon: \"warning\",\r\n        })\r\n      }\r\n    }\r\n    catch (error) {\r\n      console.error(\"Error in SignMarket request:\", error);\r\n      dispatch({ type: actionTypes.SET_GET_ERROR, visible: true, title: 'Error', description: error.message });\r\n    }\r\n  }\r\n}\r\n\r\nexport const signAll = (lineCode, userId, customMarketCount) => {\r\n  return async function (dispatch) {\r\n    try {\r\n     \r\n      await dispatch({ type: actionTypes.SET_CUSTOM_MARKET_SIGN_ALL, isLoading: true, customMarketCount: customMarketCount });      \r\n      const resp = await axios.post(`customMarkets/SignAllMarket/${lineCode}/${userId}`);\r\n\r\n      const response = resp.data;\r\n\r\n      if (response.status) {\r\n        await dispatch(getCustomMarketTree());\r\n\r\n        swal({\r\n          title: \"Exito\",\r\n          text: response.message,\r\n          icon: \"success\",\r\n          dangerMode: false,\r\n        });\r\n        await dispatch({ type: actionTypes.SET_CUSTOM_MARKET_SIGN_ALL, isLoading: false, signedMessage: null });\r\n        // await dispatch({ type: actionTypes.SET_GET_SUCCESS, visible: true, title: 'Exito!', description: response.message });\r\n\r\n      }\r\n      else {\r\n        dispatch({ type: actionTypes.SET_GET_ERROR, visible: true, title: 'Error', description: response.message });\r\n      }\r\n    }\r\n    catch (error) {\r\n      console.error(\"Error in SignMarket request:\", error);\r\n      dispatch({ type: actionTypes.SET_GET_ERROR, visible: true, title: 'Error', description: error.message });\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const getCustomMarkets = () => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.RECEIVE_CUSTOM_MARKET_DATA, isLoading: true, customMarket: [] })\r\n    const customMarketData = await axios.get(`customMarkets`)\r\n    let customMarkets = [];\r\n    if (customMarketData && customMarketData.data) {\r\n      customMarketData.data.map(customMarket => {\r\n        //let valueEncoded = btoa(JSON.stringify(customMarket));\r\n\r\n        let descriptionValues = []\r\n        if (customMarket.description) {\r\n          descriptionValues.push(customMarket.description)\r\n        }\r\n        if (customMarket.line) {\r\n          descriptionValues.push(customMarket.line)\r\n        }\r\n        if (customMarket.lineGroup) {\r\n          descriptionValues.push(customMarket.lineGroup)\r\n        }\r\n        let description = descriptionValues.join(' / ');\r\n\r\n        customMarkets.push({ code: customMarket.code, description: description.toUpperCase() })\r\n      })\r\n    }\r\n    dispatch({ type: actionTypes.RECEIVE_CUSTOM_MARKET_DATA, isLoading: false, data: customMarkets })\r\n  }\r\n}\r\n\r\nexport const getCustomMarketsByLine = (lineCodes) => {\r\n  return async function (dispatch) {\r\n    const customMarketData = await axios.get(`customMarkets/by-line?lineCodes=${lineCodes}`)\r\n    //const customMarketData = await axios.get(`customMarkets`)\r\n    let customMarkets = [];\r\n    if (customMarketData && customMarketData.data) {\r\n      customMarketData.data.map(customMarket => {\r\n        let valueEncoded = btoa(JSON.stringify(customMarket));\r\n\r\n        let descriptionValues = []\r\n        if (customMarket.description) {\r\n          descriptionValues.push(customMarket.description)\r\n        }\r\n        if (customMarket.line) {\r\n          descriptionValues.push(customMarket.line)\r\n        }\r\n        /*             if (customMarket.lineGroup) {\r\n                      descriptionValues.push(customMarket.lineGroup)\r\n                    } */\r\n        let description = descriptionValues.join(' - ');\r\n\r\n        customMarkets.push({ label: description.toUpperCase(), value: valueEncoded, checked: false })\r\n      })\r\n    }\r\n    return customMarkets\r\n  }\r\n}\r\n\r\nexport const getDrugs = (itemsChecked) => {\r\n  return function async(dispatch) {\r\n    dispatch({ type: actionTypes.SET_LOADING_DRUGS, loading: true })\r\n    CustomMarketSync.getDrugs().then(response => {\r\n      let drugs = [];\r\n      if (response && response.data) {\r\n        response.data.map(drug => {\r\n          let valueEncoded = btoa(JSON.stringify(drug));\r\n          let checked = setPreviousChecked(itemsChecked, valueEncoded)\r\n\r\n          drugs.push({ label: drug.description.toUpperCase(), value: valueEncoded, checked: checked, isGroup: drug.drugGroupCode != null })\r\n        })\r\n      }\r\n      dispatch({ type: actionTypes.RECEIVE_DRUGS_DATA, drugs: drugs })\r\n      dispatch({ type: actionTypes.SET_LOADING_DRUGS, loading: false })\r\n    });\r\n  }\r\n}\r\n\r\nexport const getLaboratories = (itemsChecked) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.SET_LOADING_LABORATORIES, loading: true })\r\n    const laboratoriesData = await axios.get(`laboratories/components`)\r\n    let laboratories = [];\r\n    if (laboratoriesData && laboratoriesData.data) {\r\n      laboratoriesData.data.map(laboratory => {\r\n        let valueEncoded = btoa(JSON.stringify(laboratory));\r\n        let checked = setPreviousChecked(itemsChecked, valueEncoded)\r\n\r\n        laboratories.push({ label: laboratory.description.toUpperCase(), value: valueEncoded, checked: checked, isGroup: laboratory.laboratoryGroupCode != null })\r\n      })\r\n    }\r\n    dispatch({ type: actionTypes.RECEIVE_LABORATORIES_DATA, laboratories: laboratories })\r\n    dispatch({ type: actionTypes.SET_LOADING_LABORATORIES, loading: false })\r\n  }\r\n}\r\n\r\nexport const createLine = (line) => {\r\n  return async function (dispatch) {\r\n    return axios.post(`lines`, line)\r\n  }\r\n}\r\n\r\nexport const updateLine = (lineCode, line) => {\r\n  return async function (dispatch) {\r\n    return axios.put(`lines/${lineCode}`, line)\r\n  }\r\n}\r\n\r\nexport const getLines = () => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.RECEIVE_LINES_DATA, isLoading: true, lines: [] })\r\n    const lines = await axios.get(`lines`)\r\n    let linesData = [];\r\n    if (lines && lines.data) {\r\n      lines.data.map(line => {\r\n        let fullDescription = line.description\r\n        if (line.lineGroup && line.lineGroup.description) {\r\n          fullDescription += ' / ' + line.lineGroup.description\r\n        }\r\n        line.fullDescription = fullDescription\r\n        linesData.push(line)\r\n      })\r\n    }\r\n    dispatch({ type: actionTypes.RECEIVE_LINES_DATA, isLoading: false, lines: linesData })\r\n  }\r\n}\r\n\r\nexport const getLinesByLineGroup = (lineGroupCodes) => {\r\n  return async function (dispatch) {\r\n    const linesData = await axios.get(`lines/by-linegroup?lineGroupCodes=${lineGroupCodes}`)\r\n    let lines = [];\r\n    if (linesData && linesData.data) {\r\n      linesData.data.map(line => {\r\n        let valueEncoded = btoa(JSON.stringify(line));\r\n        lines.push({ label: line.description.toUpperCase(), value: valueEncoded, checked: false })\r\n      })\r\n    }\r\n    return lines\r\n  }\r\n}\r\n\r\nexport const createLineGroup = (lineGroup) => {\r\n  return async function (dispatch) {\r\n    return axios.post(`lineGroups`, lineGroup)\r\n  }\r\n}\r\n\r\nexport const updateLineGroup = (lineGroupCode, lineGroup) => {\r\n  return async function (dispatch) {\r\n    return axios.put(`lineGroups/${lineGroupCode}`, lineGroup)\r\n  }\r\n}\r\n\r\nexport const getLineGroups = () => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.SET_LOADING_LINEGROUPS, loading: true })\r\n    const lineGroupsData = await axios.get(`linegroups`)\r\n    let linegroups = [];\r\n    if (lineGroupsData && lineGroupsData.data) {\r\n      lineGroupsData.data.map(linegroup => {\r\n        let valueEncoded = btoa(JSON.stringify(linegroup));\r\n        linegroups.push({ label: linegroup.description.toUpperCase(), value: valueEncoded, checked: false })\r\n      })\r\n    }\r\n    dispatch({ type: actionTypes.RECEIVE_LINEGROUPS_DATA, linegroups: linegroups })\r\n    dispatch({ type: actionTypes.SET_LOADING_LINEGROUPS, loading: false })\r\n  }\r\n}\r\n\r\nexport const getPharmaceuticalForms = () => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.SET_LOADING_PHARMACEUTICALFORMS, loading: true })\r\n    const pharmaceuticalformsData = await axios.get(`pharmaceuticalforms`)\r\n    let pharmaceuticalforms = [];\r\n    if (pharmaceuticalformsData && pharmaceuticalformsData.data) {\r\n      pharmaceuticalformsData.data.map(pharmaceuticalform => {\r\n        let valueEncoded = btoa(JSON.stringify(pharmaceuticalform));\r\n        let description = getPharmaceuticalFormDescription(pharmaceuticalform)\r\n        pharmaceuticalforms.push({ label: description.toUpperCase(), value: valueEncoded, checked: false })\r\n      })\r\n    }\r\n    dispatch({ type: actionTypes.RECEIVE_PHARMACEUTICALFORMS_DATA, pharmaceuticalforms: pharmaceuticalforms })\r\n    dispatch({ type: actionTypes.SET_LOADING_PHARMACEUTICALFORMS, loading: false })\r\n  }\r\n}\r\n\r\nexport const getPharmaceuticalFormsByProduct = (productCodes, productGroupCodes) => {\r\n  return async function (dispatch) {\r\n    try {\r\n      const pharmaceuticalformsData = await axios.get(`pharmaceuticalforms/by-product?productCodes=${productCodes}&productGroupCodes=${productGroupCodes}`)\r\n      let pharmaceuticalforms = [];\r\n      if (pharmaceuticalformsData && pharmaceuticalformsData.data) {\r\n        pharmaceuticalformsData.data.map(pharmaceuticalform => {\r\n          let valueEncoded = btoa(JSON.stringify(pharmaceuticalform));\r\n          let description = getPharmaceuticalFormDescription(pharmaceuticalform)\r\n          pharmaceuticalforms.push({ label: description.toUpperCase(), value: valueEncoded, checked: false })\r\n        })\r\n      }\r\n      return pharmaceuticalforms\r\n    } catch (e) {\r\n      dispatch({\r\n        type: actionTypes.SET_GET_ERROR,\r\n        visible: true,\r\n        title: <FormattedMessage id=\"CUSTOM_MARKET_TAB.ERROR.TITLE\" />,\r\n        description: <FormattedMessage id=\"CUSTOM_MARKET_TAB.ERROR.DESCRIPTION\" />\r\n      })\r\n      return []\r\n    }\r\n  }\r\n}\r\n\r\nexport const getPharmaceuticalFormsByProductPresentation = (productPresentationCodes, productPresentationGroupCodes) => {\r\n  return async function (dispatch) {\r\n    try {\r\n      const pharmaceuticalformsData = await axios.get(`pharmaceuticalforms/by-productpresentation?productPresentationCodes=${productPresentationCodes}&productPresentationGroupCodes=${productPresentationGroupCodes}`)\r\n      let pharmaceuticalforms = [];\r\n      if (pharmaceuticalformsData && pharmaceuticalformsData.data) {\r\n        pharmaceuticalformsData.data.map(pharmaceuticalform => {\r\n          let valueEncoded = btoa(JSON.stringify(pharmaceuticalform));\r\n          let description = getPharmaceuticalFormDescription(pharmaceuticalform)\r\n          pharmaceuticalforms.push({ label: description.toUpperCase(), value: valueEncoded, checked: false })\r\n        })\r\n      }\r\n      return pharmaceuticalforms\r\n    } catch (e) {\r\n      dispatch({\r\n        type: actionTypes.SET_GET_ERROR,\r\n        visible: true,\r\n        title: <FormattedMessage id=\"CUSTOM_MARKET_TAB.ERROR.TITLE\" />,\r\n        description: <FormattedMessage id=\"CUSTOM_MARKET_TAB.ERROR.DESCRIPTION\" />\r\n      })\r\n      return []\r\n    }\r\n  }\r\n}\r\n\r\nexport const getCustomMarketDescription = (customMarket) => {\r\n  let description = []\r\n  if (customMarket.lineGroupDescription) {\r\n    description.push(customMarket.lineGroupDescription)\r\n  }\r\n  if (customMarket.lineDescription) {\r\n    description.push(customMarket.lineDescription)\r\n  }\r\n  if (customMarket.description) {\r\n    description.push(customMarket.description)\r\n  }\r\n  return description.join(' / ')\r\n}\r\n\r\n\r\nconst getPharmaceuticalFormDescription = (pharmaceuticalForm) => {\r\n  let description = []\r\n  if (pharmaceuticalForm.imscode) {\r\n    description.push(pharmaceuticalForm.imscode)\r\n  }\r\n  if (pharmaceuticalForm.description) {\r\n    description.push(pharmaceuticalForm.description)\r\n  }\r\n  return description.join(' - ')\r\n}\r\n\r\nexport const setMarketDescriptionTitle = (description) => {\r\n  return async function (dispatch) {\r\n    return dispatch({ type: actionTypes.SET_CUSTOM_MARKET_TITLE, description })\r\n  }\r\n}\r\nexport const getCustomMarketByCode = (code) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.STORE_CUSTOM_MARKET_SELECTED, isLoading: true })\r\n    const getCustomMarket = await axios.get(`customMarkets/${code}`)\r\n    if (getCustomMarket && getCustomMarket.data) {\r\n      getCustomMarket.data.customMarketDetail.forEach(function (cmd, index) {\r\n        cmd.index = index;\r\n      });\r\n\r\n      getCustomMarket.data.fullDescription = getCustomMarketDescription(getCustomMarket.data)\r\n\r\n      return dispatch({ type: actionTypes.STORE_CUSTOM_MARKET_SELECTED, isLoading: false, customMarketSelected: getCustomMarket.data })\r\n    }\r\n  }\r\n}\r\n\r\nexport const getCustomMarketGroupByCustomMarketCode = (customMarketCode) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.STORE_CUSTOM_MARKET_GROUPS, isLoading: true, customMarketGroups: null })\r\n    const getCustomMarketGroup = await axios.get(`customMarketGroups/by-custommarket?customMarketCode=${customMarketCode}`)\r\n    if (getCustomMarketGroup && getCustomMarketGroup.data) {\r\n      return dispatch({ type: actionTypes.STORE_CUSTOM_MARKET_GROUPS, isLoading: false, customMarketGroups: getCustomMarketGroup.data })\r\n    }\r\n  }\r\n}\r\n\r\nexport const createCustomMarketGroup = (customMarketGroup) => {\r\n  return async function (dispatch) {\r\n    return axios.post(`customMarketGroups`, customMarketGroup)\r\n  }\r\n}\r\n\r\nexport const updateCustomMarketGroup = (customMakertGroupCode, customMarketGroup) => {\r\n  return async function (dispatch) {\r\n    return axios.put(`customMarketGroups/${customMakertGroupCode}`, customMarketGroup)\r\n  }\r\n}\r\n\r\nexport const deleteCustomMarketGroup = (customMakertGroupCode) => {\r\n  return async function (dispatch) {\r\n    return axios.delete(`customMarketGroups/${customMakertGroupCode}`)\r\n  }\r\n}\r\n\r\nexport const createCustomMarket = (customMarket) => {\r\n  return async function (dispatch) {\r\n    return await axios.post(`customMarkets`, customMarket)\r\n  }\r\n}\r\n\r\nexport const updateCustomMarket = (customMarket) => {\r\n  customMarket.customMarketDetail.forEach(function (cmd, index) {\r\n    cmd.order = index;\r\n  });\r\n\r\n  return async function (dispatch) {\r\n    //dispatch({type: actionTypes.STORE_CUSTOM_MARKET_SELECTED, isLoading: true })\r\n    const getCustomMarket = await axios.put(`customMarkets/${customMarket.code}`, customMarket)\r\n    if (getCustomMarket && getCustomMarket.data) {\r\n      getCustomMarket.data.customMarketDetail.forEach(function (cmd, index) {\r\n        cmd.index = index;\r\n      });\r\n\r\n      getCustomMarket.data.fullDescription = getCustomMarketDescription(getCustomMarket.data)\r\n\r\n      return dispatch({ type: actionTypes.STORE_CUSTOM_MARKET_SELECTED, isLoading: false, customMarketSelected: getCustomMarket.data })\r\n    }\r\n  }\r\n}\r\n\r\nexport const deleteCustomMarket = (customMarket) => {\r\n  return async function (dispatch) {\r\n    //dispatch({type: actionTypes.STORE_CUSTOM_MARKET_SELECTED, isLoading: true })\r\n    await axios.delete(`customMarkets/${customMarket.code}`)\r\n    return dispatch({ type: actionTypes.STORE_CUSTOM_MARKET_SELECTED, isLoading: false, customMarketSelected: {}, treeVisible: true })\r\n  }\r\n}\r\n\r\nexport const cloneCustomMarket = (customMarket) => {\r\n  return async function (dispatch) {\r\n    customMarket.customMarketDetail = null\r\n    return await axios.post(`customMarkets/clone/${customMarket.code}`, customMarket)\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const setMarketTreeVisible = (visible) => {\r\n  return async function (dispatch) {\r\n    return dispatch({ type: actionTypes.SET_CUSTOM_MARKET_TREE_VISIBLE, visible })\r\n  }\r\n}\r\n\r\nexport const getProducts = (itemsChecked) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.SET_LOADING_PRODUCTS, loading: true })\r\n    const products = await axios.get(`products/components`)\r\n    if (products && products.data) {\r\n      let productsMercado = [];\r\n      products.data.map(product => {\r\n        let valueEncoded = btoa(JSON.stringify(product));\r\n        let checked = setPreviousChecked(itemsChecked, valueEncoded)\r\n\r\n        let descriptionValues = []\r\n        if (product.description) {\r\n          descriptionValues.push(product.description)\r\n        }\r\n        if (product.class) {\r\n          descriptionValues.push(product.class)\r\n        }\r\n        if (product.laboratory) {\r\n          descriptionValues.push(product.laboratory)\r\n        }\r\n        let description = descriptionValues.join(' - ');\r\n        productsMercado.push({ label: description.toUpperCase(), value: valueEncoded, checked: checked, isGroup: product.productGroupCode != null })\r\n      })\r\n      dispatch({ type: actionTypes.RECEIVE_PRODUCTS_DATA, products: productsMercado })\r\n      dispatch({ type: actionTypes.SET_LOADING_PRODUCTS, loading: false })\r\n    }\r\n  }\r\n}\r\n\r\nexport const getProductByDrug = (drugCodes, drugGroupCodes) => {\r\n  return async function (dispatch) {\r\n    try {\r\n      const productsData = await axios.get(`products/by-drug?drugCodes=${drugCodes}&drugGroupCodes=${drugGroupCodes}`)\r\n      let products = [];\r\n      if (productsData && productsData.data) {\r\n        productsData.data.map(product => {\r\n          let valueEncoded = btoa(JSON.stringify(product));\r\n          let descriptionValues = []\r\n          if (product.description) {\r\n            descriptionValues.push(product.description)\r\n          }\r\n          if (product.class) {\r\n            descriptionValues.push(product.class)\r\n          }\r\n          if (product.laboratory) {\r\n            descriptionValues.push(product.laboratory)\r\n          }\r\n          let description = descriptionValues.join(' - ');\r\n          products.push({ label: description.toUpperCase(), value: valueEncoded, checked: false, isGroup: product.productGroupCode != null })\r\n        })\r\n      }\r\n      return products\r\n    } catch (e) {\r\n      dispatch({\r\n        type: actionTypes.SET_GET_ERROR,\r\n        visible: true,\r\n        title: <FormattedMessage id=\"CUSTOM_MARKET_TAB.ERROR.TITLE\" />,\r\n        description: <FormattedMessage id=\"CUSTOM_MARKET_TAB.ERROR.DESCRIPTION\" />\r\n      })\r\n      return []\r\n    }\r\n  }\r\n}\r\n\r\nexport const getProductByLaboratory = (laboratoryCodes, laboratoryGroupCodes) => {\r\n  return async function (dispatch) {\r\n    const productsData = await axios.get(`products/by-laboratory?laboratoryCodes=${laboratoryCodes}&laboratoryGroupCodes=${laboratoryGroupCodes}`)\r\n    let products = [];\r\n    if (productsData && productsData.data) {\r\n      productsData.data.map(product => {\r\n        let valueEncoded = btoa(JSON.stringify(product));\r\n        let descriptionValues = []\r\n        if (product.description) {\r\n          descriptionValues.push(product.description)\r\n        }\r\n        if (product.class) {\r\n          descriptionValues.push(product.class)\r\n        }\r\n        if (product.laboratory) {\r\n          descriptionValues.push(product.laboratory)\r\n        }\r\n        let description = descriptionValues.join(' - ');\r\n        products.push({ label: description.toUpperCase(), value: valueEncoded, checked: false, isGroup: product.productGroupCode != null })\r\n      })\r\n    }\r\n    return products\r\n  }\r\n}\r\n\r\nexport const getProductByTherapeuticalClass = (therapeuticalClassCodes) => {\r\n  return async function (dispatch) {\r\n    const productsData = await axios.get(`products/by-therapeuticalClass?therapeuticalClassCodes=${therapeuticalClassCodes}`)\r\n    let products = [];\r\n    if (productsData && productsData.data) {\r\n      productsData.data.map(product => {\r\n        let valueEncoded = btoa(JSON.stringify(product));\r\n        let descriptionValues = []\r\n        if (product.description) {\r\n          descriptionValues.push(product.description)\r\n        }\r\n        if (product.class) {\r\n          descriptionValues.push(product.class)\r\n        }\r\n        if (product.laboratory) {\r\n          descriptionValues.push(product.laboratory)\r\n        }\r\n        let description = descriptionValues.join(' - ');\r\n        products.push({ label: description.toUpperCase(), value: valueEncoded, checked: false, isGroup: product.productGroupCode != null })\r\n      })\r\n    }\r\n    return products\r\n  }\r\n}\r\n\r\nexport const getProductPresentations = (itemsChecked) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.SET_LOADING_PRODUCT_PRESENTATIONS, loading: true })\r\n    const presentations = await axios.get(`productpresentations/components`)\r\n    let presentationsData = [];\r\n    if (presentations && presentations.data) {\r\n      presentations.data.map(presentation => {\r\n        let valueEncoded = btoa(JSON.stringify(presentation));\r\n        let checked = setPreviousChecked(itemsChecked, valueEncoded)\r\n\r\n        let descriptionValues = []\r\n        if (presentation.description) {\r\n          descriptionValues.push(presentation.description)\r\n        }\r\n        if (presentation.class) {\r\n          descriptionValues.push(presentation.class)\r\n        }\r\n        if (presentation.laboratory) {\r\n          descriptionValues.push(presentation.laboratory)\r\n        }\r\n        if (presentation.therapeuticalClass) {\r\n          descriptionValues.push(presentation.therapeuticalClass)\r\n        }\r\n        let description = descriptionValues.join(' - ');\r\n        presentationsData.push({ label: description.toUpperCase(), value: valueEncoded, checked: checked, isGroup: presentation.productPresentationGroupCode != null })\r\n      })\r\n    }\r\n    dispatch({ type: actionTypes.RECEIVE_PRODUCT_PRESENTATIONS_DATA, productpresentations: presentationsData })\r\n    dispatch({ type: actionTypes.SET_LOADING_PRODUCT_PRESENTATIONS, loading: false })\r\n  }\r\n}\r\n\r\nexport const getProductTypes = () => {\r\n  return async function (dispatch) {\r\n    const productTypes = await axios.get(`producttypes`)\r\n    let productTypesData = [];\r\n    if (productTypes && productTypes.data) {\r\n      productTypes.data.map(productType => {\r\n        productTypesData.push({ code: productType.code, description: productType.description })\r\n      })\r\n    }\r\n    dispatch({ type: actionTypes.RECEIVE_PRODUCT_TYPES_DATA, producttypes: productTypesData })\r\n  }\r\n}\r\n\r\nexport const getPresentationsbyPharmaceuticalForms = (pharmaceuticalFormsCodes, productCodes = null, productGroupCodes = null) => {\r\n  return async function (dispatch) {\r\n    const presentations = await axios.get(`productpresentations/by-pharmaceuticalForm?pharmaceuticalFormCodes=${pharmaceuticalFormsCodes}&productCodes=${productCodes}&productGroupCodes=${productGroupCodes}`)\r\n    let presentationsData = [];\r\n    if (presentations && presentations.data) {\r\n      presentations.data.map(presentation => {\r\n        let valueEncoded = btoa(JSON.stringify(presentation));\r\n        let descriptionValues = []\r\n        if (presentation.description) {\r\n          descriptionValues.push(presentation.description)\r\n        }\r\n        if (presentation.class) {\r\n          descriptionValues.push(presentation.class)\r\n        }\r\n        if (presentation.laboratory) {\r\n          descriptionValues.push(presentation.laboratory)\r\n        }\r\n        if (presentation.therapeuticalClass) {\r\n          descriptionValues.push(presentation.therapeuticalClass)\r\n        }\r\n        let description = descriptionValues.join(' - ');\r\n        presentationsData.push({ label: description.toUpperCase(), value: valueEncoded, checked: false, isGroup: presentation.productPresentationGroupCode != null })\r\n      })\r\n    }\r\n    return presentationsData\r\n  }\r\n}\r\n\r\nexport const getTherapeuticalClasses = () => {\r\n  return function async(dispatch) {\r\n    dispatch({ type: actionTypes.SET_LOADING_THERAPEUTICAL_CLASESS, loading: true })\r\n    CustomMarketSync.getTherapeuticalClasses().then(response => {\r\n      let therapeuticalClasses = [];\r\n      if (response && response.data) {\r\n        response.data.map(therapeuticalClass => {\r\n          let valueEncoded = btoa(JSON.stringify(therapeuticalClass));\r\n          let descriptionValues = []\r\n          if (therapeuticalClass.imscode) {\r\n            descriptionValues.push(therapeuticalClass.imscode)\r\n          }\r\n          if (therapeuticalClass.description) {\r\n            descriptionValues.push(therapeuticalClass.description)\r\n          }\r\n          let description = descriptionValues.join(' - ');\r\n          therapeuticalClasses.push({ label: description.toUpperCase(), value: valueEncoded, checked: false })\r\n        })\r\n      }\r\n      dispatch({ type: actionTypes.RECEIVE_THERAPEUTICAL_CLASESS_DATA, therapeuticalclasses: therapeuticalClasses })\r\n      dispatch({ type: actionTypes.SET_LOADING_THERAPEUTICAL_CLASESS, loading: false })\r\n    });\r\n  }\r\n}\r\n\r\n\r\nexport const createProductGroup = (data) => {\r\n  return async function (dispatch) {\r\n    const createProductGroup = await axios.post(`products/group`, data, { headers: { 'Content-Type': 'application/json' } })\r\n  }\r\n}\r\n\r\nexport const createLaboratoryGroup = (data) => {\r\n  return async function (dispatch) {\r\n    const createLaboraotryGroup = await axios.post(`laboratories/group`, data, { headers: { 'Content-Type': 'application/json' } })\r\n  }\r\n}\r\n\r\nexport const createDrugGroup = (data) => {\r\n  return async function (dispatch) {\r\n    const createDrugGroup = await axios.post(`drugs/group`, data, { headers: { 'Content-Type': 'application/json' } })\r\n  }\r\n}\r\n\r\nexport const createProductPresentationGroup = (data) => {\r\n  return async function (dispatch) {\r\n    const createPPGroup = await axios.post(`productpresentations/group`, data, { headers: { 'Content-Type': 'application/json' } })\r\n  }\r\n}\r\n\r\nexport const getCustomMarketsPreview = (code) => {\r\n  return async function (dispatch) {\r\n    const customMarketPreview = await axios.get(`customMarkets/preview/${code}`)\r\n    return customMarketPreview.data\r\n  }\r\n}\r\nexport const getHistoricCustomMarketsPreview = (code) => {\r\n  return async function (dispatch) {\r\n    const customMarketPreview = await axios.get(`customMarkets/historicpreviews/${code}`)\r\n    return customMarketPreview.data\r\n  }\r\n}\r\nexport const getHistoricCustomMarketsPreviewToScreen = (code) => {\r\n  return async function (dispatch) {\r\n    const customMarketPreview = await axios.get(`customMarkets/historicpreviewstoscreen/${code}`)\r\n    debugger;\r\n    return customMarketPreview\r\n  }\r\n}\r\nexport const getLastSignCustomMarketsPreviewToScreen = (code) => {\r\n  return async function (dispatch) {\r\n    debugger;\r\n    const customMarketPreview = await axios.get(`customMarkets/lastsignpreviewstoscreen/${code}`)\r\n    debugger;\r\n    return customMarketPreview\r\n  }\r\n}\r\nexport const dispatchProductLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({ type: actionTypes.SET_LOADING_PRODUCTS, loading: loading })\r\n  }\r\n}\r\n\r\nexport const dispatchProductPresentationLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({ type: actionTypes.SET_LOADING_PRODUCT_PRESENTATIONS, loading: loading })\r\n  }\r\n}\r\n\r\nexport const dispatchTherapeuticalClassesLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({ type: actionTypes.SET_LOADING_THERAPEUTICAL_CLASESS, loading: loading })\r\n  }\r\n}\r\n\r\nexport const dispatchLaboratoriesLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({ type: actionTypes.SET_LOADING_LABORATORIES, loading: loading })\r\n  }\r\n}\r\n\r\nexport const dispatchDrugsLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({ type: actionTypes.SET_LOADING_DRUGS, loading: loading })\r\n  }\r\n}\r\n\r\n\r\nexport const dispatchPharmaceuticalFormsLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({ type: actionTypes.SET_LOADING_PHARMACEUTICALFORMS, loading: false })\r\n  }\r\n}\r\n\r\nexport const dispatchLineGroupsLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({ type: actionTypes.SET_LOADING_LINEGROUPS, loading: false })\r\n  }\r\n}\r\n\r\n\r\nexport const dispatchProducts = (products) => {\r\n  return function (dispatch) {\r\n    return dispatch({ type: actionTypes.RECEIVE_PRODUCTS_DATA, products: products })\r\n  }\r\n}\r\n\r\nexport const dispatchProductPresentations = (productPresentations) => {\r\n  return function (dispatch) {\r\n    return dispatch({ type: actionTypes.RECEIVE_PRODUCT_PRESENTATIONS_DATA, productpresentations: productPresentations })\r\n  }\r\n}\r\n\r\nexport const dispatchTherapeuticalClasses = (therapeuticalClasses) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.RECEIVE_THERAPEUTICAL_CLASESS_DATA, therapeuticalclasses: therapeuticalClasses })\r\n  }\r\n}\r\n\r\nexport const dispatchLaboratories = (laboratories) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.RECEIVE_LABORATORIES_DATA, laboratories: laboratories })\r\n  }\r\n}\r\n\r\nexport const dispatchDrugs = (drugs) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.RECEIVE_DRUGS_DATA, drugs: drugs })\r\n  }\r\n}\r\n\r\nexport const dispatchPharmaceuticalForms = (pharmaceuticalforms) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.RECEIVE_PHARMACEUTICALFORMS_DATA, pharmaceuticalforms: pharmaceuticalforms })\r\n  }\r\n}\r\n\r\nexport const dispatchLineGroups = (linegroups) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.RECEIVE_LINEGROUPS_DATA, linegroups: linegroups })\r\n  }\r\n}\r\n\r\nexport const setCustomMarketPageView = (view) => {\r\n  return function (dispatch) {\r\n    return dispatch({ type: actionTypes.SET_CUSTOM_MARKET_PAGE_VIEW, view })\r\n  }\r\n}\r\n\r\nexport const resetCustomMarket = () => {\r\n  return function (dispatch) {\r\n    return dispatch({ type: actionTypes.RESET_CUSTOM_MARKET })\r\n  }\r\n}\r\n\r\nexport const setPreviousChecked = (itemsChecked, valueToCompare) => {\r\n  let checked = false\r\n  if (itemsChecked) {\r\n    itemsChecked.map(item => {\r\n      if (item.value == valueToCompare) {\r\n        checked = true\r\n      }\r\n    })\r\n  }\r\n  return checked\r\n}\r\n\r\n\r\nexport const setGetError = (visible, title = null, description = null) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.SET_GET_ERROR, visible: visible, title: title, description: description })\r\n  }\r\n}\r\n\r\nexport const setGetSuccess = (visible, title = null, description = null) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.SET_GET_SUCCESS, visible: visible, title: title, description: description })\r\n  }\r\n}\r\n\r\nexport const setActionCustomMarketPreview = (action) => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.CUSTOM_MARKET_PREVIEW_ACTION, preview: { type: action.type, visible: action.visible, item: action.item } })\r\n  }\r\n}\r\n\r\nexport const actionCustomMarketPreviewReset = () => {\r\n  return async function (dispatch) {\r\n    dispatch({ type: actionTypes.CUSTOM_MARKET_PREVIEW_ACTION, preview: { type: '', visible: false, item: null } })\r\n  }\r\n}\r\n","export default {\r\n    tree: {\r\n        base: {\r\n            listStyle: 'none',\r\n            backgroundColor: '#21252B',\r\n            margin: 0,\r\n            padding: 0,\r\n            color: '#9DA5AB',\r\n            fontFamily: 'lucida grande ,tahoma,verdana,arial,sans-serif',\r\n            fontSize: '14px'\r\n        },\r\n        node: {\r\n            base: {\r\n                position: 'relative'\r\n            },\r\n            link: {\r\n                cursor: 'pointer',\r\n                position: 'relative',\r\n                padding: '0px 5px',\r\n                display: 'block'\r\n            },\r\n            activeLink: {\r\n                background: '#31363F'\r\n            },\r\n            toggle: {\r\n                base: {\r\n                    position: 'relative',\r\n                    display: 'inline-block',\r\n                    verticalAlign: 'top',\r\n                    marginLeft: '-5px',\r\n                    height: '24px',\r\n                    width: '24px'\r\n                },\r\n                wrapper: {\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    margin: '-7px 0 0 -7px',\r\n                    height: '14px'\r\n                },\r\n                height: 14,\r\n                width: 14,\r\n                arrow: {\r\n                    fill: '#9DA5AB',\r\n                    strokeWidth: 0\r\n                }\r\n            },\r\n            header: {\r\n                base: {\r\n                    display: 'inline-block',\r\n                    verticalAlign: 'top',\r\n                    color: '#9DA5AB'\r\n                },\r\n                connector: {\r\n                    width: '2px',\r\n                    height: '12px',\r\n                    borderLeft: 'solid 2px black',\r\n                    borderBottom: 'solid 2px black',\r\n                    position: 'absolute',\r\n                    top: '0px',\r\n                    left: '-21px'\r\n                },\r\n                title: {\r\n                    lineHeight: '24px',\r\n                    verticalAlign: 'middle'\r\n                }\r\n            },\r\n            subtree: {\r\n                listStyle: 'none',\r\n                paddingLeft: '19px'\r\n            },\r\n            loading: {\r\n                color: '#E2C089'\r\n            }\r\n        }\r\n    }\r\n};\r\n","export default {\r\n    toggle: ({node: {toggled}}, duration = 300) => ({\r\n        animation: {rotateZ: toggled ? 90 : 0},\r\n        duration: duration\r\n    }),\r\n    drawer: (/* props */) => ({\r\n        enter: {\r\n            animation: 'slideDown',\r\n            duration: 300\r\n        },\r\n        leave: {\r\n            animation: 'slideUp',\r\n            duration: 300\r\n        }\r\n    })\r\n};\r\n","const randomString = () => Math.random().toString(36).substring(7);\r\n\r\nexport default randomString;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Div = styled('div', {\r\n    shouldForwardProp: prop => ['className', 'children'].indexOf(prop) !== -1\r\n})((({style}) => style));\r\n\r\nexport const Ul = styled('ul', {\r\n    shouldForwardProp: prop => ['className', 'children'].indexOf(prop) !== -1\r\n})((({style}) => style));\r\n","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {VelocityComponent} from 'velocity-react';\r\n\r\nclass Container extends PureComponent {\r\n    renderToggle() {\r\n        const {animations} = this.props;\r\n\r\n        if (!animations) {\r\n            return this.renderToggleDecorator();\r\n        }\r\n\r\n        return (\r\n            <VelocityComponent animation={animations.toggle.animation} duration={animations.toggle.duration}>\r\n                {this.renderToggleDecorator()}\r\n            </VelocityComponent>\r\n        );\r\n    }\r\n\r\n    renderToggleDecorator() {\r\n        const {style, decorators, onClick} = this.props;\r\n        return <decorators.Toggle style={style.toggle} onClick={onClick}/>;\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            style, decorators, terminal, node, onSelect, customStyles\r\n        } = this.props;\r\n        return (\r\n            <div style={node.active ? {...style.container} : {...style.link}}>\r\n                {!terminal ? this.renderToggle() : null}\r\n                <decorators.Header node={node} style={style.header} customStyles={customStyles} onSelect={onSelect}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nContainer.propTypes = {\r\n    customStyles: PropTypes.object,\r\n    style: PropTypes.object.isRequired,\r\n    decorators: PropTypes.object.isRequired,\r\n    terminal: PropTypes.bool.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    onSelect: PropTypes.func,\r\n    animations: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.bool\r\n    ]).isRequired,\r\n    node: PropTypes.object.isRequired\r\n};\r\n\r\nContainer.defaultProps = {\r\n    onSelect: null,\r\n    customStyles: {}\r\n};\r\n\r\nexport default Container;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {Div} from '../common';\r\n\r\nconst Header = ({onSelect, node, style, customStyles}) => (\r\n    <div style={style.base} onClick={onSelect}>\r\n        <Div style={node.selected ? {...style.title, ...customStyles.header.title} : style.title}>\r\n            {node.name}\r\n        </Div>\r\n    </div>\r\n);\r\n\r\nHeader.propTypes = {\r\n    onSelect: PropTypes.func,\r\n    style: PropTypes.object,\r\n    customStyles: PropTypes.object,\r\n    node: PropTypes.object.isRequired\r\n};\r\n\r\nHeader.defaultProps = {\r\n    customStyles: {}\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from '@emotion/styled';\r\n\r\nconst Loading = styled(({className}) => (\r\n    <div className={className}>loading...</div>\r\n))(({style}) => style);\r\n\r\nLoading.propTypes = {\r\n    style: PropTypes.object\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from '@emotion/styled';\r\n\r\nimport {Div} from '../common';\r\n\r\nconst Polygon = styled('polygon', {\r\n    shouldForwardProp: prop => ['className', 'children', 'points'].indexOf(prop) !== -1\r\n})((({style}) => style));\r\n\r\nconst Toggle = ({style, onClick}) => {\r\n    const {height, width} = style;\r\n    const midHeight = height * 0.5;\r\n    const points = `0,0 0,${height} ${width},${midHeight}`;\r\n\r\n    return (\r\n        <div style={style.base} onClick={onClick}>\r\n            <Div style={style.wrapper}>\r\n                <svg {...{height, width}}>\r\n                    <Polygon points={points} style={style.arrow}/>\r\n                </svg>\r\n            </Div>\r\n        </div>\r\n    );\r\n};\r\n\r\nToggle.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    style: PropTypes.object\r\n};\r\n\r\nexport default Toggle;\r\n","import Container from './Container';\r\nimport Header from './Header';\r\nimport Loading from './Loading';\r\nimport Toggle from './Toggle';\r\n\r\nexport default {\r\n    Container,\r\n    Header,\r\n    Loading,\r\n    Toggle\r\n};\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport shallowEqual from 'shallowequal';\r\nimport deepEqual from 'deep-equal';\r\n\r\nclass NodeHeader extends Component {\r\n    shouldComponentUpdate(nextProps) {\r\n        const props = this.props;\r\n        const nextPropKeys = Object.keys(nextProps);\r\n\r\n        for (let i = 0; i < nextPropKeys.length; i++) {\r\n            const key = nextPropKeys[i];\r\n            if (key === 'animations') {\r\n                continue;\r\n            }\r\n\r\n            const isEqual = shallowEqual(props[key], nextProps[key]);\r\n            if (!isEqual) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return !deepEqual(props.animations, nextProps.animations, {strict: true});\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            animations, decorators, node, onClick, style, onSelect, customStyles\r\n        } = this.props;\r\n        const {active, children} = node;\r\n        const terminal = !children;\r\n        let styles;\r\n        if (active) {\r\n            styles = Object.assign(style, {container: {...style.link, ...style.activeLink}});\r\n        } else {\r\n            styles = style;\r\n        }\r\n        return (\r\n            <decorators.Container\r\n                animations={animations}\r\n                decorators={decorators}\r\n                node={node}\r\n                onClick={onClick}\r\n                customStyles={customStyles}\r\n                onSelect={onSelect}\r\n                terminal={terminal}\r\n                style={styles}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nNodeHeader.propTypes = {\r\n    style: PropTypes.object.isRequired,\r\n    customStyles: PropTypes.object,\r\n    decorators: PropTypes.object.isRequired,\r\n    animations: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.bool\r\n    ]).isRequired,\r\n    node: PropTypes.object.isRequired,\r\n    onClick: PropTypes.func,\r\n    onSelect: PropTypes.func\r\n};\r\n\r\nNodeHeader.defaultProps = {\r\n    customStyles: {}\r\n};\r\n\r\nexport default NodeHeader;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {VelocityTransitionGroup} from 'velocity-react';\r\n\r\nconst Drawer = ({restAnimationInfo, children}) => (\r\n    <VelocityTransitionGroup {...restAnimationInfo}>\r\n        {children}\r\n    </VelocityTransitionGroup>\r\n);\r\n\r\nDrawer.propTypes = {\r\n    restAnimationInfo: PropTypes.shape({}).isRequired,\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.func,\r\n        PropTypes.arrayOf(PropTypes.func, PropTypes.shape({})),\r\n        PropTypes.shape({})\r\n    ])\r\n};\r\n\r\nexport default Drawer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {Ul} from '../common';\r\n\r\nconst Loading = ({style, decorators}) => (\r\n    <Ul style={style.subtree}>\r\n        <li>\r\n            <decorators.Loading style={style.loading}/>\r\n        </li>\r\n    </Ul>\r\n);\r\n\r\nLoading.propTypes = {\r\n    decorators: PropTypes.object.isRequired,\r\n    style: PropTypes.object.isRequired\r\n};\r\n\r\nexport default Loading;\r\n","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from '@emotion/styled';\r\nimport {isArray, isFunction} from 'lodash';\r\n\r\nimport defaultAnimations from '../../themes/animations';\r\nimport {randomString} from '../../util';\r\nimport {Ul} from '../common';\r\nimport NodeHeader from '../NodeHeader';\r\nimport Drawer from './Drawer';\r\nimport Loading from './Loading';\r\n\r\nconst Li = styled('li', {\r\n    shouldForwardProp: prop => ['className', 'children', 'ref'].indexOf(prop) !== -1\r\n})(({style}) => style);\r\n\r\nclass TreeNode extends PureComponent {\r\n    onClick() {\r\n        const {node, onToggle} = this.props;\r\n        if (onToggle) {\r\n            onToggle(node, !node.toggled);\r\n        }\r\n    }\r\n\r\n    animations() {\r\n        const {animations, node} = this.props;\r\n        if (!animations) {\r\n            return {\r\n                toggle: defaultAnimations.toggle(this.props, 0)\r\n            };\r\n        }\r\n        const animation = Object.assign({}, animations, node.animations);\r\n        return {\r\n            toggle: animation.toggle(this.props),\r\n            drawer: animation.drawer(this.props)\r\n        };\r\n    }\r\n\r\n    decorators() {\r\n        const {decorators, node} = this.props;\r\n        let nodeDecorators = node.decorators || {};\r\n\r\n        return Object.assign({}, decorators, nodeDecorators);\r\n    }\r\n\r\n    renderChildren(decorators) {\r\n        const {\r\n            animations, decorators: propDecorators, node, style, onToggle, onSelect, customStyles\r\n        } = this.props;\r\n\r\n        if (node.loading) {\r\n            return (\r\n                <Loading decorators={decorators} style={style}/>\r\n            );\r\n        }\r\n\r\n        let children = node.children;\r\n        if (!isArray(children)) {\r\n            children = children ? [children] : [];\r\n        }\r\n\r\n        return (\r\n            <Ul style={style.subtree}>\r\n                {children.map(child => (\r\n                    <TreeNode\r\n                        onSelect={onSelect}\r\n                        onToggle={onToggle}\r\n                        animations={animations}\r\n                        style={style}\r\n                        customStyles={customStyles}\r\n                        decorators={propDecorators}\r\n                        key={child.id || randomString()}\r\n                        node={child}\r\n                    />\r\n                ))}\r\n            </Ul>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            node, style, onSelect, customStyles\r\n        } = this.props;\r\n        const decorators = this.decorators();\r\n        const animations = this.animations();\r\n        const {...restAnimationInfo} = animations.drawer;\r\n        return (\r\n            <Li style={style.base}>\r\n                <NodeHeader\r\n                    decorators={decorators}\r\n                    animations={animations}\r\n                    node={node}\r\n                    style={style}\r\n                    customStyles={customStyles}\r\n                    onClick={() => this.onClick()}\r\n                    onSelect={isFunction(onSelect) ? (() => this.props.onToggle(node)) : undefined}\r\n                />\r\n                <Drawer restAnimationInfo={{...restAnimationInfo}}>\r\n                    {node.toggled ? this.renderChildren(decorators, animations) : null}\r\n                </Drawer>\r\n            </Li>\r\n        );\r\n    }\r\n}\r\n\r\nTreeNode.propTypes = {\r\n    onSelect: PropTypes.func,\r\n    onToggle: PropTypes.func,\r\n    style: PropTypes.object.isRequired,\r\n    customStyles: PropTypes.object,\r\n    node: PropTypes.object.isRequired,\r\n    decorators: PropTypes.object.isRequired,\r\n    animations: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.bool\r\n    ]).isRequired\r\n};\r\n\r\nTreeNode.defaultProps = {\r\n    customStyles: {}\r\n};\r\n\r\nexport default TreeNode;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {castArray} from 'lodash';\r\n\r\nimport defaultTheme from '../themes/default';\r\nimport defaultAnimations from '../themes/animations';\r\nimport {randomString} from '../util';\r\nimport {Ul} from './common';\r\nimport defaultDecorators from './Decorators';\r\nimport TreeNode from './TreeNode';\r\n\r\nconst TreeBeard = ({\r\n    animations, decorators, data, onToggle, style, onSelect, customStyles\r\n}) => (\r\n    <Ul style={{...defaultTheme.tree.base, ...style.tree.base}}>\r\n        {castArray(data).map(node => (\r\n            <TreeNode\r\n                decorators={decorators}\r\n                node={node}\r\n                onToggle={onToggle}\r\n                animations={animations}\r\n                onSelect={onSelect}\r\n                customStyles={customStyles}\r\n                key={node.id || randomString()}\r\n                style={{...defaultTheme.tree.node, ...style.tree.node}}\r\n            />\r\n        ))}\r\n    </Ul>\r\n);\r\n\r\nTreeBeard.propTypes = {\r\n    style: PropTypes.object,\r\n    customStyles: PropTypes.object,\r\n    data: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.array\r\n    ]).isRequired,\r\n    animations: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.bool\r\n    ]),\r\n    onToggle: PropTypes.func,\r\n    onSelect: PropTypes.func,\r\n    decorators: PropTypes.object\r\n};\r\n\r\nTreeBeard.defaultProps = {\r\n    style: defaultTheme,\r\n    animations: defaultAnimations,\r\n    decorators: defaultDecorators,\r\n    customStyles: {}\r\n};\r\n\r\nexport default TreeBeard;\r\n","import React from 'react'\r\nimport ContentLoader from 'react-content-loader'\r\n\r\nconst Loader = props => {\r\n  return (\r\n    <ContentLoader\r\n      width={450}\r\n      height={700}\r\n      viewBox=\"0 0 450 700\"\r\n      backgroundColor=\"#f5f5f5\"\r\n      foregroundColor=\"#dbdbdb\"\r\n      {...props}\r\n    >\r\n      <rect x=\"0\" y=\"5\" rx=\"3\" ry=\"3\" width=\"350\" height=\"50\" />\r\n      \r\n      <rect x=\"0\" y=\"70\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"105\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"140\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"175\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"210\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"245\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"280\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"315\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"350\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"385\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"420\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"455\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"490\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"525\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"560\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"595\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"630\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"665\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"700\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />      \r\n    </ContentLoader>\r\n  )\r\n}\r\n\r\nexport default Loader","// Helper functions for filtering\r\nexport const defaultMatcher = (filterText, node) => {\r\n    return node.name !== undefined && node.name.toLowerCase().indexOf(filterText.toLowerCase()) !== -1;\r\n};\r\n\r\nexport const findNode = (node, filter, matcher) => {\r\n    return matcher(filter, node) || // i match\r\n        (node.children && // or i have decendents and one of them match\r\n            node.children.length &&\r\n            !!node.children.find(child => findNode(child, filter, matcher)));\r\n};\r\n\r\nexport const filterTree = (node, filter, matcher = defaultMatcher) => {\r\n    // If im an exact match then all my children get to stay\r\n    if (matcher(filter, node) || !node.children) {\r\n        return node;\r\n    }\r\n    // If not then only keep the ones that match or have matching descendants\r\n    const filtered = node.children\r\n        .filter(child => findNode(child, filter, matcher))\r\n        .map(child => filterTree(child, filter, matcher));\r\n    return Object.assign({}, node, {children: filtered});\r\n};\r\n\r\nexport const expandFilteredNodes = (node, filter, matcher = defaultMatcher) => {\r\n    let children = node.children;\r\n    if (!children || children.length === 0) {\r\n        return Object.assign({}, node, {toggled: false});\r\n    }\r\n    const childrenWithMatches = node.children.filter(child => findNode(child, filter, matcher));\r\n    const shouldExpand = childrenWithMatches.length > 0;\r\n    // If im going to expand, go through all the matches and see if thier children need to expand\r\n    if (shouldExpand) {\r\n        children = childrenWithMatches.map(child => {\r\n            return expandFilteredNodes(child, filter, matcher);\r\n        });\r\n    }\r\n    return Object.assign({}, node, {\r\n        children: children,\r\n        toggled: shouldExpand\r\n    });\r\n};","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst LineGroupDialog = (props) => {\r\n  const {open, handleClose, lineGroupSelected} = props;\r\n  const [loading, setLoading] = useState(false);    \r\n  const [initialValues, setInitialValues] = useState({ description: '' }); \r\n\r\n  const getInitialValues = (lineGroupSelected) => {\r\n    if (lineGroupSelected == null) {\r\n      setInitialValues({ description: '' })\r\n    } else {\r\n      setInitialValues({ description: lineGroupSelected.name })\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    getInitialValues(lineGroupSelected)\r\n  }, [lineGroupSelected])   \r\n\r\n  const validate = values => {\r\n    const errors = {};\r\n    if (values.description == '') {\r\n        errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n    }    \r\n        \r\n    return errors;\r\n  }\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: initialValues,\r\n    validate: validate,\r\n    onSubmit: (values, { setSubmitting, setErrors }) => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n        try {  \r\n          let lineGroup = {\r\n            description: values.description\r\n          }\r\n          if (lineGroupSelected == null) {\r\n            await props.createLineGroup(lineGroup)\r\n          } else {\r\n            await props.updateLineGroup(lineGroupSelected.key, lineGroup)\r\n          }\r\n          disableLoading();\r\n          handleClose()\r\n          await Promise.all([props.getCustomMarketTree(), props.getLineGroups()])\r\n        } catch(err) {\r\n          setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n          disableLoading();\r\n        } finally {\r\n          setSubmitting(false);\r\n        }   \r\n      }, 500)\r\n    }\r\n  });\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n    setLoading(false);\r\n  };  \r\n\r\n  return (\r\n    <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText>\r\n        <strong>\r\n          {(lineGroupSelected == null) ? <FormattedMessage id=\"LINE_GROUP_DIALOG.TITLE.CREATE\" /> : <FormattedMessage id=\"LINE_GROUP_DIALOG.TITLE.EDIT\" />}\r\n        </strong>\r\n      </DialogContentText>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"description\"\r\n          name=\"description\"\r\n          label={<FormattedMessage id=\"LINE_GROUP_DIALOG.DESCRIPTION\" />}\r\n          value={formik.values.description}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.description && Boolean(formik.errors.description)}\r\n          helperText={formik.touched.description && formik.errors.description}\r\n        />\r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          {formik.errors.api &&\r\n            <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{formik.errors.api}</div>\r\n          }                \r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n              <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n          </Button>\r\n          <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n              <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n            </span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(LineGroupDialog);","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst LineDialog = (props) => {\r\n  const {open, handleClose, linegroups, lines, lineSelected, lineGroupSelected} = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const emptyInitialValues = { description: '', lineGroupCode: '', laboratoryReportHeader: '', laboratoryReportFooter: '', drugReportHeader: '', drugReportFooter: '' }    \r\n  const [initialValues, setInitialValues] = useState(emptyInitialValues); \r\n\r\n  const getInitialValues = (lineSelected, lineGroupSelected) => {\r\n    if (lineSelected == null && lineGroupSelected == null) {\r\n      setInitialValues(emptyInitialValues)\r\n    } else if (lineSelected != null) {\r\n       let lineObj = getLine(lineSelected)\r\n      if (lineObj) {\r\n        setInitialValues({ \r\n          description: lineObj.description,\r\n          lineGroupCode: lineObj.lineGroup.code,\r\n          laboratoryReportHeader: lineObj.laboratoryReportHeader,\r\n          laboratoryReportFooter: lineObj.laboratoryReportFooter,\r\n          drugReportHeader: lineObj.drugReportHeader,\r\n          drugReportFooter: lineObj.drugReportFooter\r\n        })\r\n      } else {\r\n        setInitialValues(emptyInitialValues)\r\n      }\r\n    } else if (lineGroupSelected != null) {\r\n         setInitialValues({ \r\n           description: '',\r\n           lineGroupCode: lineGroupSelected.key,\r\n           laboratoryReportHeader: '',\r\n           laboratoryReportFooter: '',\r\n           drugReportHeader: '',\r\n           drugReportFooter: ''\r\n         })\r\n    }\r\n  }\r\n\r\n const getLine = (lineSelected) => {\r\n   let linesFilter = lines.data.filter(x => x.code == lineSelected.key)\r\n   if (linesFilter.length > 0) {\r\n     return linesFilter[0]\r\n   }\r\n   return null\r\n }\r\n\r\n const getItemObject = (item) => {\r\n    let itemObj = JSON.parse(atob(item.value))\r\n    return itemObj\r\n}\r\n\r\n  React.useEffect(() => { \r\n    getInitialValues(lineSelected, lineGroupSelected)\r\n  }, [lineSelected, lineGroupSelected])   \r\n\r\n  const validate = values => {\r\n    const errors = {};\r\n    if (values.description == '') {\r\n        errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n    }    \r\n\r\n    if (values.lineGroupCode == '' || values.lineGroupCode == undefined || values.lineGroupCode == null) {\r\n      errors.lineGroupCode = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n    }\r\n        \r\n    return errors;\r\n  }\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: initialValues,\r\n    validate: validate,\r\n    onSubmit: (values, { setSubmitting, setErrors }) => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n        try {  \r\n          let line = {\r\n            description: values.description, \r\n            lineGroupCode: values.lineGroupCode, \r\n            laboratoryReportHeader: values.laboratoryReportHeader, \r\n            laboratoryReportFooter: values.laboratoryReportFooter, \r\n            drugReportHeader: values.drugReportHeader, \r\n            drugReportFooter: values.drugReportFooter \r\n          }\r\n          if (lineSelected == null) {\r\n            await props.createLine(line)\r\n          } else {\r\n            await props.updateLine(lineSelected.key, line)\r\n          }\r\n          disableLoading();\r\n          handleClose()\r\n          await Promise.all([props.getCustomMarketTree(), props.getLines()])\r\n        } catch(err) {\r\n          setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n          disableLoading();\r\n        } finally {\r\n          setSubmitting(false);\r\n        } \r\n      }, 500)\r\n    }\r\n  });\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n    setLoading(false);\r\n  };  \r\n\r\n  return (\r\n    <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText>\r\n        <strong>\r\n          {(lineSelected == null) ? <FormattedMessage id=\"LINE_DIALOG.TITLE.CREATE\" /> : <FormattedMessage id=\"LINE_DIALOG.TITLE.EDIT\" />}\r\n        </strong>\r\n      </DialogContentText>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"description\"\r\n          name=\"description\"\r\n          label={<FormattedMessage id=\"LINE_DIALOG.DESCRIPTION\" />}\r\n          value={formik.values.description}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.description && Boolean(formik.errors.description)}\r\n          helperText={formik.touched.description && formik.errors.description}\r\n        />\r\n        <FormControl className={`d-block mb-4 mt-2`}>\r\n          <label className={(formik.touched.lineGroupCode && Boolean(formik.errors.lineGroupCode)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n            <FormattedMessage id=\"LINE_DIALOG.LINE_GROUP\" />\r\n          </label>\r\n          <Select\r\n              className={`mt-0`}\r\n              fullWidth\r\n              id=\"lineGroupCode\"\r\n              name=\"lineGroupCode\"\r\n              label=\"lineGroupCode\"\r\n              value={formik.values.lineGroupCode}\r\n              onChange={formik.handleChange}\r\n              error={formik.touched.lineGroupCode && Boolean(formik.errors.lineGroupCode)}\r\n              helperText={formik.touched.lineGroupCode && formik.errors.lineGroupCode}\r\n          >\r\n            {linegroups && linegroups.map((lineGroup) => {\r\n                let lineGroupObj = getItemObject(lineGroup)\r\n                return (\r\n                  <MenuItem key={lineGroupObj.code} value={lineGroupObj.code}>{lineGroupObj.description.toUpperCase()}</MenuItem>\r\n                )\r\n            })}\r\n          </Select>\r\n          {formik.touched.lineGroupCode && Boolean(formik.errors.lineGroupCode) &&\r\n            <p className=\"MuiFormHelperText-root Mui-error\">{formik.touched.lineGroupCode && formik.errors.lineGroupCode}</p>\r\n          }              \r\n        </FormControl>         \r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"laboratoryReportHeader\"\r\n          name=\"laboratoryReportHeader\"\r\n          label={<FormattedMessage id=\"LINE_DIALOG.LABORATORY_REPORT_HEADER\" />}\r\n          value={formik.values.laboratoryReportHeader}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.laboratoryReportHeader && Boolean(formik.errors.laboratoryReportHeader)}\r\n          helperText={formik.touched.laboratoryReportHeader && formik.errors.laboratoryReportHeader}\r\n        />\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"laboratoryReportFooter\"\r\n          name=\"laboratoryReportFooter\"\r\n          label={<FormattedMessage id=\"LINE_DIALOG.LABORATORY_REPORT_FOOTER\" />}\r\n          value={formik.values.laboratoryReportFooter}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.laboratoryReportFooter && Boolean(formik.errors.laboratoryReportFooter)}\r\n          helperText={formik.touched.laboratoryReportFooter && formik.errors.laboratoryReportFooter}\r\n        />\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"drugReportHeader\"\r\n          name=\"drugReportHeader\"\r\n          label={<FormattedMessage id=\"LINE_DIALOG.DRUG_REPORT_HEADER\" />}\r\n          value={formik.values.drugReportHeader}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.drugReportHeader && Boolean(formik.errors.drugReportHeader)}\r\n          helperText={formik.touched.drugReportHeader && formik.errors.drugReportHeader}\r\n        />\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"drugReportFooter\"\r\n          name=\"drugReportFooter\"\r\n          label={<FormattedMessage id=\"LINE_DIALOG.DRUG_REPORT_FOOTER\" />}\r\n          value={formik.values.drugReportFooter}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.drugReportFooter && Boolean(formik.errors.drugReportFooter)}\r\n          helperText={formik.touched.drugReportFooter && formik.errors.drugReportFooter}\r\n        />                \r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          {formik.errors.api &&\r\n            <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{formik.errors.api}</div>\r\n          }          \r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n              <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n          </Button>\r\n          <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n              <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n            </span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        linegroups: state.mercados.linegroups,\r\n        lines: state.mercados.lines\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(LineDialog);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\r\nimport { VariableSizeList } from 'react-window';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst LISTBOX_PADDING = 8; // px\r\n\r\nfunction renderRow(props) {\r\n  const { data, index, style } = props;\r\n  return React.cloneElement(data[index], {\r\n    style: {\r\n      ...style,\r\n      top: style.top + LISTBOX_PADDING,\r\n    },\r\n  });\r\n}\r\n\r\nconst OuterElementContext = React.createContext({});\r\n\r\nconst OuterElementType = React.forwardRef((props, ref) => {\r\n  const outerProps = React.useContext(OuterElementContext);\r\n  return <div ref={ref} {...props} {...outerProps} />;\r\n});\r\n\r\nfunction useResetCache(data) {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (ref.current != null) {\r\n      ref.current.resetAfterIndex(0, true);\r\n    }\r\n  }, [data]);\r\n  return ref;\r\n}\r\n\r\n// Adapter for react-window\r\nconst ListboxComponent = React.forwardRef(function ListboxComponent(props, ref) {\r\n  const { children, ...other } = props;\r\n  const itemData = React.Children.toArray(children);\r\n  const theme = useTheme();\r\n  const smUp = useMediaQuery(theme.breakpoints.up('sm'), { noSsr: true });\r\n  const itemCount = itemData.length;\r\n  const itemSize = smUp ? 36 : 48;\r\n\r\n  const getChildSize = (child) => {\r\n    if (React.isValidElement(child) && child.type === ListSubheader) {\r\n      return 48;\r\n    }\r\n\r\n    return itemSize;\r\n  };\r\n\r\n  const getHeight = () => {\r\n    if (itemCount > 8) {\r\n      return 8 * itemSize;\r\n    }\r\n    return itemData.map(getChildSize).reduce((a, b) => a + b, 0);\r\n  };\r\n\r\n  const gridRef = useResetCache(itemCount);\r\n\r\n  return (\r\n    <div ref={ref}>\r\n      <OuterElementContext.Provider value={other}>\r\n        <VariableSizeList\r\n          itemData={itemData}\r\n          height={getHeight() + 2 * LISTBOX_PADDING}\r\n          width=\"100%\"\r\n          ref={gridRef}\r\n          outerElementType={OuterElementType}\r\n          innerElementType=\"ul\"\r\n          itemSize={(index) => getChildSize(itemData[index])}\r\n          overscanCount={5}\r\n          itemCount={itemCount}\r\n        >\r\n          {renderRow}\r\n        </VariableSizeList>\r\n      </OuterElementContext.Provider>\r\n    </div>\r\n  );\r\n});\r\n\r\nListboxComponent.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nconst useStyles = makeStyles({\r\n  listbox: {\r\n    boxSizing: 'border-box',\r\n    '& ul': {\r\n      padding: 0,\r\n      margin: 0,\r\n    },\r\n  },\r\n});\r\n\r\nconst SelectVirtualize = (props) => {\r\n  const { id, options, optionLabel, value, onChange, disabled } = props\r\n  const classes = useStyles();\r\n\r\n  const onAutoCompleteChange = (event, values) => {\r\n    onChange(values?.code || null)\r\n  }\r\n\r\n  return (\r\n    <Autocomplete\r\n      id={id}\r\n      fullWidth\r\n      disableListWrap\r\n      disabled={disabled == true ? true : false}\r\n      classes={classes}\r\n      ListboxComponent={ListboxComponent}\r\n      options={options}\r\n      getOptionLabel={(option) => option[optionLabel]}\r\n      renderInput={(params) => (\r\n        <TextField {...params} variant=\"standard\"/>\r\n      )}\r\n      renderOption={(option) => <Typography noWrap>{option[optionLabel]}</Typography>}\r\n      onChange={onAutoCompleteChange}\r\n      value={(options && options.filter(x => x.code == value)[0]) || null}\r\n    />\r\n  );\r\n}\r\n\r\nexport default SelectVirtualize\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from \"yup\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport SelectVirtualize from '../../../components/SelectVirtualize'\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n\r\nconst CustomMarketDialog = (props) => {    \r\n  const {customMarket, lineSelected, isActionClone, allCustomMarket, lines, open, handleClose} = props;\r\n  const [loading, setLoading] = useState(false);    \r\n  const emptyInitialValues = {\r\n    description: '',\r\n    footer: '',\r\n    header: '',\r\n    lineCode: '',\r\n    // order: '',\r\n    marketFilter: 0,        \r\n    drugReport: false,\r\n    labReport: false,\r\n    controlPanel: false,\r\n    productReport: true,\r\n    tcReport: false,\r\n    testMarket: false,\r\n    travelCrm: false,\r\n    marketClass: 0,  \r\n    marketReference: 0 ,\r\n    adUser: '',\r\n    responsibleName: '',\r\n    responsibleLastName: ''   \r\n  }\r\n  const [initialValues, setInitialValues] = useState(emptyInitialValues); \r\n\r\n  const getInitialValues = () => {\r\n    if (props.customMarket != null) {\r\n      setInitialValues({\r\n        description: (isActionClone == true) ? '' : props.customMarket.data.description,\r\n        footer: props.customMarket.data.footer,\r\n        header: props.customMarket.data.header,\r\n        lineCode: props.customMarket.data.lineCode,\r\n        // order: props.customMarket.data.order,\r\n        marketFilter: props.customMarket.data.marketFilter,        \r\n        drugReport: props.customMarket.data.drugReport,\r\n        labReport: props.customMarket.data.labReport,\r\n        controlPanel: props.customMarket.data.controlPanel,\r\n        productReport: props.customMarket.data.productReport,\r\n        tcReport: props.customMarket.data.tcReport,\r\n        testMarket: props.customMarket.data.testMarket ,\r\n        travelCrm: props.customMarket.data.travelCrm,\r\n        marketClass: props.customMarket.data.marketClass,  \r\n        marketReference: props.customMarket.data.marketReference,\r\n        adUser: props.customMarket.data.adUser,\r\n        responsibleName: props.customMarket.data.responsibleName,\r\n        responsibleLastName: props.customMarket.data.responsibleLastName       \r\n      })\r\n    } else if (props.lineSelected != null) {\r\n        let lineObj = getLine(props.lineSelected)\r\n        setInitialValues({\r\n            description: '',\r\n            footer: '',\r\n            header: '',\r\n            lineCode: lineObj.code,\r\n            // order: '',\r\n            marketFilter: 0,        \r\n            drugReport: false,\r\n            labReport: false,\r\n            controlPanel: false,\r\n            productReport: true,\r\n            tcReport: false,\r\n            testMarket: lineObj.code == null,\r\n            travelCrm: false,\r\n            marketClass: 0,  \r\n            marketReference: 0,\r\n            adUser: '',\r\n            responsibleName: '',\r\n            responsibleLastName: '' \r\n        })        \r\n    } else {\r\n        setInitialValues(emptyInitialValues)\r\n    }\r\n  }\r\n\r\n  const getLine = (lineSelected) => {\r\n    let lineArr = lines.data.filter(x => x.code == lineSelected.key)\r\n    if (lineArr.length > 0) {\r\n        return lineArr[0]\r\n    } else {\r\n        return { code: null }\r\n    }\r\n  }\r\n\r\n  const handleCancel = () => {\r\n      handleClose()\r\n      formik.resetForm()\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    getInitialValues()\r\n  }, [customMarket, lineSelected, isActionClone])\r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (values.description == '') {\r\n            errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }    \r\n        if (values.order == '') {\r\n            errors.order = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        if ((values.testMarket == '' || values.testMarket == false) && (values.lineCode == '' || values.lineCode == null)) {\r\n            errors.lineCode = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        return errors;\r\n    };\r\n\r\n    const Schema = Yup.object().shape({\r\n        order: Yup.number()     \r\n        .test(\r\n            'is-decimal',   \r\n            'Formato invalido',\r\n            value => value == undefined || (value + \"\").match(/^[0-9]+$/) ,\r\n        )\r\n      });  \r\n\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: initialValues,\r\n        validationSchema: Schema,\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    let customMarketModified = prepareSave(values)\r\n                    if (props.customMarket != null) {\r\n                        if (isActionClone == true){\r\n                            await props.cloneCustomMarket(customMarketModified)\r\n                        }  else {\r\n                            await props.updateCustomMarket(customMarketModified)\r\n                        }\r\n                    } else if (props.lineSelected != null) {\r\n                        let customMarketCreated = await props.createCustomMarket(customMarketModified)\r\n                        props.setCustomMarketPageView('manage')\r\n                        props.setMarketTreeVisible(false);\r\n                        await Promise.all([props.getCustomMarketByCode(customMarketCreated.data.code), props.getCustomMarketGroupByCustomMarketCode(customMarketCreated.data.code)])\r\n                    }\r\n                    disableLoading();\r\n                    handleClose()\r\n                    await Promise.all([props.getCustomMarketTree(), props.getCustomMarkets()])\r\n                } catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                    formik.resetForm()\r\n                }\r\n            }, 500)\r\n        }\r\n    }\r\n  );\r\n\r\n\r\n  const prepareSave = ({description, footer, header, lineCode, adUser, responsibleName,\r\n    responsibleLastName, order, marketFilter, drugReport, labReport, controlPanel, productReport, tcReport, testMarket, travelCrm, marketClass, marketReference}) => {\r\n    let copyCustomMarket = {}                    \r\n    if (customMarket && customMarket.data) {\r\n        copyCustomMarket = JSON.parse(JSON.stringify(customMarket.data))\r\n    }\r\n\r\n    if (description !== null) {\r\n        copyCustomMarket.description = description\r\n    }\r\n    if (footer !== null) {\r\n        copyCustomMarket.footer = footer\r\n    }\r\n    if (header !== null) {\r\n        copyCustomMarket.header = header\r\n    }\r\n    if (adUser !== null) {\r\n        copyCustomMarket.adUser = adUser\r\n    }\r\n    if (responsibleName !== null) {\r\n        copyCustomMarket.responsibleName = responsibleName\r\n    }\r\n    if (responsibleLastName !== null) {\r\n        copyCustomMarket.responsibleLastName = responsibleLastName\r\n    }\r\n    if (lineCode !== null) {\r\n        copyCustomMarket.lineCode = parseInt(lineCode)\r\n    }\r\n    // if (order !== null) {\r\n    //     copyCustomMarket.order = parseInt(order)\r\n    // } \r\n    if (marketFilter !== null) {\r\n        copyCustomMarket.marketFilter = parseInt(marketFilter)\r\n    }\r\n    if (drugReport !== null) {\r\n        copyCustomMarket.drugReport = drugReport\r\n    }\r\n    if (labReport !== null) {\r\n        copyCustomMarket.labReport = labReport\r\n    }\r\n    if (controlPanel !== null) {\r\n        copyCustomMarket.controlPanel = controlPanel\r\n    }\r\n    if (productReport !== null) {\r\n        copyCustomMarket.productReport = productReport\r\n    }\r\n    if (tcReport !== null) {\r\n        copyCustomMarket.tcReport = tcReport\r\n    }\r\n    if (testMarket !== null) {\r\n        copyCustomMarket.testMarket = testMarket\r\n        if (testMarket == true) {  \r\n            copyCustomMarket.lineCode = null\r\n        }\r\n    } \r\n\r\n    if(travelCrm !== null){\r\n        copyCustomMarket.travelCrm = travelCrm;\r\n    }\r\n\r\n    if (marketClass !== null) {\r\n        copyCustomMarket.marketClass = parseInt(marketClass)\r\n        copyCustomMarket.marketReference = parseInt(marketClass) == 3 ? parseInt(marketReference) : null\r\n    }    \r\n\r\n    return copyCustomMarket\r\n  }\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n    setLoading(false);\r\n  };  \r\n\r\n  const handleChangeLine = (value) => {\r\n    handleChange('lineCode', value)\r\n  }\r\n\r\n  const handleChangeMarketClass = (value) => {\r\n    handleChange('marketClass', value.target.value)\r\n    if(value.target.value != 3) {\r\n        handleChangeMarketReference(null)\r\n    }\r\n  }\r\n\r\n  const handleChangeMarketReference = (value) => {\r\n    handleChange('marketReference', value)\r\n  }\r\n\r\n  const handleChange = (field, value) => {\r\n    formik.setFieldValue(field, value);\r\n  }\r\n\r\n  return (\r\n    <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open} \r\n        onClose={handleCancel} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText> \r\n          {(customMarket && customMarket.data) ? ((isActionClone == true) ? <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TITLE.CLONE_CUSTOM_MARKET\" /> : customMarket?.data?.fullDescription) : <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TITLE.CREATE_CUSTOM_MARKET\" />}\r\n        </DialogContentText>\r\n        <form onSubmit={formik.handleSubmit}>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.DESCRIPTION\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                > \r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"description\"\r\n                    name=\"description\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.DESCRIPTION\" />}\r\n                    helperText={\"errorMessage\"}\r\n                    value={formik.values.description}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.description && Boolean(formik.errors.description)}\r\n                    helperText={formik.touched.description && formik.errors.description}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.HEADER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"header\"\r\n                    name=\"header\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.HEADER\" />}\r\n                    value={formik.values.header}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.header && Boolean(formik.errors.header)}\r\n                    helperText={formik.touched.header && formik.errors.header}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.ADUSER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"adUser\"\r\n                    name=\"adUser\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.ADUSER\" />}\r\n                    value={formik.values.adUser}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.adUser && Boolean(formik.errors.adUser)}\r\n                    helperText={formik.touched.adUser && formik.errors.adUser}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.RESPONSIBLENAME\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"responsibleName\"\r\n                    name=\"responsibleName\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.RESPONSIBLENAME\" />}\r\n                    value={formik.values.responsibleName}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.responsibleName && Boolean(formik.errors.responsibleName)}\r\n                    helperText={formik.touched.responsibleName && formik.errors.responsibleName}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.RESPONSIBLELASTNAME\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"responsibleLastName\"\r\n                    name=\"responsibleLastName\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.RESPONSIBLELASTNAME\" />}\r\n                    value={formik.values.responsibleLastName}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.responsibleLastName && Boolean(formik.errors.responsibleLastName)}\r\n                    helperText={formik.touched.responsibleLastName && formik.errors.responsibleLastName}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.FOOTER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"footer\"\r\n                    name=\"footer\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.FOOTER\" />}\r\n                    value={formik.values.footer}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.footer && Boolean(formik.errors.footer)}\r\n                    helperText={formik.touched.footer && formik.errors.footer}\r\n                />\r\n            </Tooltip>                \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.LINE\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >            \r\n                <FormControl className={`d-block mb-4 mt-2`}>\r\n                        <label className={(formik.touched.lineCode && Boolean(formik.errors.lineCode)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n                            <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.LINE\" />\r\n                        </label>\r\n                    <SelectVirtualize id=\"lineCode\" options={!lines.isLoading && lines.data} optionLabel=\"fullDescription\" value={formik.values.lineCode} onChange={handleChangeLine}/>                        \r\n                    {formik.touched.lineCode && Boolean(formik.errors.lineCode) &&\r\n                        <p className=\"MuiFormHelperText-root Mui-error\" style={{color: '#f018a6', fontSize: '0.75rem'}}>{formik.touched.lineCode && formik.errors.lineCode}</p>\r\n                    }\r\n                </FormControl>\r\n            </Tooltip>\r\n            {/* <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.ORDER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                   \r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"order\"\r\n                    name=\"order\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.ORDER\" />}\r\n                    type=\"number\"\r\n                    value={formik.values.order}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.order && Boolean(formik.errors.order)}\r\n                    helperText={formik.touched.order && formik.errors.order}\r\n                />\r\n            </Tooltip> */}\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.MARKET_FILTER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >               \r\n                <FormControl className={`d-block mb-4 mt-2`}>\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.MARKET_FILTER\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"marketFilter\"\r\n                        name=\"marketFilter\"\r\n                        label=\"marketFilter\"\r\n                        value={formik.values.marketFilter}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.marketFilter && Boolean(formik.errors.marketFilter)}\r\n                    >\r\n                        <MenuItem key='TOTAL' value={0}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.TOTAL\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='ETICO' value={1}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.ETICO\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='POPULAR' value={2}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.POPULAR\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl> \r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.MARKET_CLASS\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >               \r\n                <FormControl className={`d-block mb-4 mt-2`}>\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.MARKET_CLASS\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"marketClass\"\r\n                        name=\"marketClass\"\r\n                        label=\"marketClass\"\r\n                        value={formik.values.marketClass}\r\n                        onChange={handleChangeMarketClass}\r\n                        error={formik.touched.marketClass && Boolean(formik.errors.marketClass)}\r\n                    >\r\n                        <MenuItem key='TOTAL' value={0}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.TOTAL\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='ETICO' value={1}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.ETICO\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='POPULAR' value={2}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.POPULAR\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='OTHER' value={3}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.OTHER\" />\r\n                        </MenuItem>                    \r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.MARKET_REFERENCE\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                      \r\n                <FormControl className={`d-block mb-4 mt-2`}>\r\n                    <label className=\"pf-10\" style={{color: formik.values.marketClass != 3 ? 'silver': ''}}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.MARKET_REFERENCE\" />\r\n                    </label>\r\n                    <SelectVirtualize \r\n                        id=\"marketReference\" \r\n                        options={!allCustomMarket.isLoading && allCustomMarket.data} \r\n                        optionLabel=\"description\" value={formik.values.marketReference} \r\n                        onChange={handleChangeMarketReference} \r\n                        disabled={formik.values.marketClass != 3}\r\n                    />                        \r\n                </FormControl>                             \r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.DRUG_REPORT\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                      \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}            \r\n                        id=\"drugReport\"\r\n                        name=\"drugReport\"\r\n                        label=\"drugReport\"\r\n                        checked={formik.values.drugReport}\r\n                        onChange={formik.handleChange}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.DRUG_REPORT\" />\r\n                    </label>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.LAB_REPORT\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >          \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}            \r\n                        id=\"labReport\"\r\n                        name=\"labReport\"\r\n                        label=\"labReport\"\r\n                        checked={formik.values.labReport}\r\n                        onChange={formik.handleChange}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.LAB_REPORT\" />\r\n                    </label>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.CONTROL_PANEL\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                       \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}            \r\n                        id=\"controlPanel\"\r\n                        name=\"controlPanel\"\r\n                        label=\"controlPanel\"\r\n                        checked={formik.values.controlPanel}\r\n                        onChange={formik.handleChange}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.CONTROL_PANEL\" />\r\n                    </label>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.PRODUCT_REPORT\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                      \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}            \r\n                        id=\"productReport\"\r\n                        name=\"productReport\"\r\n                        label=\"productReport\"\r\n                        checked={formik.values.productReport}\r\n                        onChange={formik.handleChange}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.PRODUCT_REPORT\" />\r\n                    </label>\r\n                </FormControl> \r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.TC_REPORT\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >          \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}\r\n                        id=\"tcReport\"\r\n                        name=\"tcReport\"\r\n                        label=\"tcReport\"\r\n                        checked={formik.values.tcReport}\r\n                        onChange={formik.handleChange}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TC_REPORT\" />\r\n                    </label>\r\n                </FormControl>   \r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.TEST_MARKET\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                                                                                  \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}\r\n                        id=\"testMarket\"\r\n                        name=\"testMarket\"\r\n                        label=\"testMarket\"\r\n                        checked={formik.values.testMarket}\r\n                        onChange={(e) => { \r\n                            formik.handleChange(e)\r\n                            if (!formik.values.testMarket) {\r\n                                handleChangeLine(null)\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TEST_MARKET\" />\r\n                    </label>\r\n                </FormControl> \r\n            </Tooltip> \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.TRAVEL_CRM\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                                                                                  \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}\r\n                        id=\"travelCrm\"\r\n                        name=\"travelCrm\"\r\n                        label=\"travelCrm\"\r\n                        checked={formik.values.travelCrm}\r\n                        onChange={(e) => { \r\n                            formik.handleChange(e)\r\n                            // if (!formik.values.travelCrm) {\r\n                            //     handleChangeLine(null)\r\n                            // }\r\n                        }}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TRAVEL_CRM\" />\r\n                    </label>\r\n                </FormControl> \r\n            </Tooltip> \r\n        </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n            {formik.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{formik.errors.api}</div>\r\n            }\r\n            <Button \r\n            onClick={handleCancel} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n                <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n            </Button>\r\n            <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n                <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n            </span>\r\n            </Button>\r\n        </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        allCustomMarket: state.mercados.allCustomMarket,\r\n        lines: state.mercados.lines\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CustomMarketDialog);","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst heightW = window.innerHeight;\r\nconst widthW = window.innerWidth;\r\n\r\nexport const useStyles = makeStyles({\r\n    '@global': {\r\n      '*::-webkit-scrollbar': {\r\n        width: '0.8em'\r\n      },\r\n      '*::-webkit-scrollbar-track': {\r\n        '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.00)'\r\n      },\r\n      '*::-webkit-scrollbar-thumb': {\r\n        backgroundColor: 'rgba(0,0,0,.1)',\r\n        outline: '1px solid slategrey'\r\n      }\r\n    },\r\n    rowC: {\r\n      display: 'flex',\r\n      flexDirection: 'row'\r\n    },\r\n    card: {\r\n      width: widthW * 0.19,\r\n      height: heightW * 0.35,\r\n      borderRadius: 5,\r\n      marginTop: '1%',\r\n    },\r\n    title: {\r\n      fontSize: 18,\r\n      marginLeft: '2%'\r\n    },\r\n    pos: {\r\n      marginTop: '5%',\r\n      fontSize: 14\r\n    },\r\n    Lista: {\r\n      marginLeft: '7%'\r\n    },\r\n    textfield: {\r\n      borderRadius: 5,\r\n      width: '97%',\r\n      marginLeft: '3%'\r\n    },\r\n    textfield1: {\r\n      width: '96.56%',\r\n      borderRadius: 5,\r\n      marginLeft: '2%'\r\n    },\r\n    root: {\r\n      width: '100%',\r\n      maxWidth: 360,\r\n      marginLeft: '5%'\r\n    },\r\n    fixedList: {\r\n      width: '100%',\r\n      height: heightW * 0.32,\r\n      backgroundColor: 'white'\r\n    },\r\n    productos: {\r\n      width: widthW * 0.19,\r\n      height: heightW * 0.35,\r\n      position: 'center',\r\n      borderRadius: 5,\r\n      marginTop: '1%',\r\n      marginLeft: '1%',\r\n    },\r\n    presentaciones: {\r\n      height: heightW * 0.34,\r\n      width: '96.56%',\r\n      position: 'center',\r\n      borderRadius: 5,\r\n      marginTop: '1.5%',\r\n      marginLeft: '2%'\r\n    },\r\n    preview: {\r\n      height: heightW * 0.39,\r\n      position: 'center',\r\n      borderRadius: 5,\r\n      marginTop: '1.3%',\r\n      overflow: 'auto',\r\n      width: '100.57%'\r\n    },\r\n    propiedades: {\r\n      height: heightW * 0.39,\r\n      borderRadius: 5,\r\n      marginTop: '3%',\r\n      overflow: 'auto'\r\n    },\r\n    componentes: {\r\n      height: heightW * 0.34,\r\n      position: 'center',\r\n      borderRadius: 5,\r\n      marginTop: '3%',\r\n      marginLeft: '3%',\r\n      overflow: 'auto',\r\n      scrollbarWidth: 'none'\r\n    },\r\n    presentacionCT: {\r\n      height: heightW * 0.34,\r\n      width: '95%',\r\n      position: 'center',\r\n      borderRadius: 5,\r\n      marginTop: '3%',\r\n      marginLeft: '2%',\r\n      overflow: 'auto',\r\n      overflowY: 'hidden'\r\n      \r\n    },\r\n    textfieldCT: {\r\n      width: '95%',\r\n      borderRadius: 5,\r\n      marginLeft: '2%'\r\n    },\r\n    textfieldProd: {\r\n      width: '98%',\r\n      borderRadius: 5,\r\n      marginLeft: '1%'\r\n    },\r\n    presentacionProd: {\r\n      height: heightW * 0.34,\r\n      width: '98%',\r\n      position: 'center',\r\n      borderRadius: 5,\r\n      marginTop: '1%',\r\n      marginLeft: '1%'\r\n    },\r\n    modal: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      alignItems: 'center',\r\n      justifyContent: 'center'\r\n    },\r\n    modalCard: {\r\n      width: '20%',\r\n      height: '20%'\r\n    },\r\n    closeModalButton: {\r\n      width: '100%',\r\n      height: '100%',\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      justifyContent: 'flex-end'\r\n    },\r\n    button: {\r\n      height: '150%',\r\n      width: 100,\r\n      borderRadius: 10,\r\n      borderColor: 'black',\r\n      border: '2px solid black'\r\n    },\r\n    grupos: {\r\n      width: '100%',\r\n      height: '96%',\r\n      marginTop: '5.1%'\r\n    },\r\n    modalCardMercado: {\r\n      width: '20%',\r\n      height: '50%',\r\n      overflow: 'auto'\r\n    },\r\n    drawer: {\r\n      backgroundColor: '#fff',\r\n      position: 'relative',\r\n      left: '13.8%',\r\n      width: 300,\r\n      top: '7%'\r\n    }\r\n  });","// TrafficLightIcon.js\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TrafficLightIcon = ({ signed }) => {\r\n    const color = signed ? 'green' : 'yellow';\r\n    \r\n    return (\r\n        <div style={{\r\n            width: 10,\r\n            height: 10,\r\n            borderRadius: '50%',\r\n            backgroundColor: color,\r\n            display: 'inline-block',\r\n            marginLeft: 8,\r\n        }} />\r\n    );\r\n};\r\n\r\nTrafficLightIcon.propTypes = {\r\n    signed: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default TrafficLightIcon;\r\n","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nexport const CustomLoader = () => {\r\n    return (\r\n        <Box\r\n            position=\"fixed\"\r\n            top={0}\r\n            left={0}\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            display=\"flex\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n            bgcolor=\"rgba(0, 0, 0, 0.7)\"\r\n            zIndex={1300} // Asegrate de que el zIndex sea suficientemente alto\r\n        >\r\n            <CircularProgress style={{ width: '80px', height: '80px' }} />\r\n        </Box>\r\n    );\r\n};\r\n","import React from 'react'\r\nimport { connect, useDispatch, useSelector } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { Treebeard } from '../../../components/Tree';\r\nimport Loader from '../../../components/Tree/components/Decorators/Loader';\r\nimport * as filters from '../../../components/Tree/util/filter';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\r\nimport { Menu, Item, contextMenu } from 'react-contexify';\r\nimport 'react-contexify/dist/ReactContexify.css';\r\nimport LineGroupDialog from './LineGroupDialog'\r\nimport LineDialog from './LineDialog'\r\nimport CustomMarketDialog from './CustomMarketDialog'\r\nimport Can from './../../../config/Can';\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\nimport TrafficLightIcon from '../../../components/Tree/components/Semaforo/TrafficLightIcon';\r\nimport { CustomLoader } from './CustomLoader';\r\n\r\n\r\nconst CustomMarketTree = (props) => {\r\n\r\n    const clases = useStyles()\r\n    const { customMarket, customMarketTree } = props;\r\n    const [loading, setLoading] = React.useState(true)\r\n    const [allCustomMarkets, setAllCustomMarkets] = React.useState([])\r\n    const [customMarketsData, setCustomMarkets] = React.useState([])\r\n    const [data, setData] = React.useState([])\r\n    const [cursor, setCursor] = React.useState(false);\r\n    const [openCreateLineGroupModal, setOpenCreateLineGroupModal] = React.useState(false);\r\n    const [lineGroupSelected, setLineGroupSelected] = React.useState(null);\r\n    const [openLineDialog, setOpenLineDialog] = React.useState(false);\r\n    const [lineSelected, setLineSelected] = React.useState(null);\r\n    const [openCustomMarketDialog, setOpenCustomMarketDialog] = React.useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n    const { user } = useSelector(state => state.auth);\r\n    const { isLoading } = useSelector(state => state.mercados);\r\n\r\n    const getItemObject = (item) => {\r\n        let copyItem = JSON.parse(JSON.stringify(item))\r\n        let keyObj = JSON.parse(atob(copyItem.key))\r\n        copyItem.key = keyObj.key\r\n        return copyItem\r\n    }\r\n\r\n    const handleCloseCreateLineGroupModal = () => {\r\n        setOpenCreateLineGroupModal(false);\r\n    };\r\n\r\n    const handleOpenCreateLineGroupModal = (event, selectedItem) => {\r\n        let item = null\r\n        if (selectedItem != undefined && selectedItem != null) {\r\n            item = getItemObject(selectedItem)\r\n        }\r\n        setLineGroupSelected(item);\r\n        setOpenCreateLineGroupModal(true);\r\n    };\r\n\r\n    const handleCloseLineDialog = () => {\r\n        setOpenLineDialog(false);\r\n    };\r\n\r\n    const handleOpenLineDialog = (event, selectedItem) => {\r\n        let item = null\r\n        if (selectedItem != undefined && selectedItem != null) {\r\n            item = getItemObject(selectedItem)\r\n        }\r\n\r\n        setLineSelected(item);\r\n        setLineGroupSelected(null);\r\n        setOpenLineDialog(true);\r\n    };\r\n\r\n    const handleSignAllMarkets = async (event, selectedItem) => {\r\n        const lineCode = selectedItem.code;\r\n        const userId = user.id;\r\n\r\n        await Promise.all([props.signAll(lineCode, userId, selectedItem.children.length)]);\r\n    }\r\n\r\n    const handleOpenEditLineDialog = (event, selectedItem) => {\r\n        let item = null\r\n        if (selectedItem != undefined && selectedItem != null) {\r\n            item = getItemObject(selectedItem)\r\n        }\r\n\r\n        setLineSelected(null);\r\n        setLineGroupSelected(item);\r\n        setOpenLineDialog(true);\r\n    };\r\n\r\n    const handleCloseCustomMarketDialog = () => {\r\n        setOpenCustomMarketDialog(false);\r\n    };\r\n\r\n    const handleOpenCustomMarketDialog = (event, selectedItem) => {\r\n\r\n        let item = null\r\n        if (selectedItem != undefined && selectedItem != null) {\r\n            item = getItemObject(selectedItem)\r\n        }\r\n        setLineSelected(item);\r\n        setOpenCustomMarketDialog(true);\r\n    };\r\n\r\n    const getCustomerMarkets = async () => {\r\n        if (props.customMarketTree.isLoading === false) {\r\n            setAllCustomMarkets(props.customMarketTree.data)\r\n            setCustomMarkets(props.customMarketTree.data)\r\n            setData(generateNodeTree(props.customMarketTree.data))\r\n            setLoading(false)\r\n\r\n\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        getCustomerMarkets()\r\n    }, [customMarketTree])\r\n\r\n    const onSelectCustomMarketManage = async (market) => {\r\n        props.setCustomMarketPageView('manage')\r\n        props.setMarketTreeVisible(false);\r\n        await Promise.all([props.getCustomMarketByCode(market.customerMarket.customMarketCode), props.getCustomMarketGroupByCustomMarketCode(market.customerMarket.customMarketCode)])\r\n    }\r\n\r\n    const onSelectCustomMarketPreview = async (market) => {\r\n        props.setCustomMarketPageView('preview')\r\n        props.setMarketTreeVisible(false);\r\n        await Promise.all([props.getCustomMarketByCode(market.customerMarket.customMarketCode), props.getCustomMarketGroupByCustomMarketCode(market.customerMarket.customMarketCode)])\r\n    }\r\n\r\n    const generateNodeTree = (nodes) => {\r\n        const treeData = { id: 1, name: ' ', isroot: true, toggled: true };\r\n        let lineGroupsTree = []\r\n        let testMarketNode = null\r\n        nodes.map(parent => {\r\n            let childNodes = []\r\n            let lineGroupKey = { key: parent.lineGroupCode, type: 'linegroup', name: parent.lineGroupDescription.toUpperCase() }\r\n            let lineGroupKeyEncoded = btoa(JSON.stringify(lineGroupKey));\r\n            if (parent.lines.length == 1 && parent.lines[0].lineDescription == undefined) {\r\n                lineGroupsTree.push({ key: lineGroupKeyEncoded, type: 'linegroup', name: parent.lineGroupDescription.toUpperCase(), children: [], active: true, isTest: parent.lineGroupCode == undefined })\r\n            } else {\r\n                parent.lines.map(child => {\r\n                    let marketNodes = []\r\n                    child.customMarkets.map(childMarket => {\r\n                        if (childMarket.customMarketCode) {\r\n                            marketNodes.push({\r\n                                key: childMarket.customMarketCode,\r\n                                value: {\r\n                                    customerMarket: childMarket,\r\n                                    lineDescription: child.lineDescription,\r\n                                    lineGroupCode: parent.lineGroupDescription\r\n                                },\r\n                                name: (<>\r\n                                    {childMarket.customMarketDescription.toUpperCase()}\r\n                                    <TrafficLightIcon signed={childMarket.signed} /></>),\r\n                                signed: childMarket.signed,\r\n                            })\r\n                        }\r\n                    })\r\n                    let lineKey = { key: child.lineCode, type: 'line', name: child.lineDescription.toUpperCase() }\r\n                    let lineKeyEncoded = btoa(JSON.stringify(lineKey));\r\n                    childNodes.push({ key: lineKeyEncoded, type: 'line', code: child.lineCode, name: child.lineDescription.toUpperCase(), children: marketNodes, active: true, isTest: child.lineCode == undefined })\r\n                })\r\n\r\n                if (parent.lineGroupCode == undefined) {\r\n                    testMarketNode = { key: lineGroupKeyEncoded, type: 'linegroup', name: parent.lineGroupDescription.toUpperCase(), children: childNodes, active: true, isTest: parent.lineGroupCode == undefined }\r\n                } else {\r\n                    lineGroupsTree.push({ key: lineGroupKeyEncoded, type: 'linegroup', name: parent.lineGroupDescription.toUpperCase(), children: childNodes, active: true, isTest: parent.lineGroupCode == undefined })\r\n                }\r\n            }\r\n        })\r\n\r\n        if (testMarketNode) {\r\n            lineGroupsTree.push(testMarketNode)\r\n        }\r\n\r\n        treeData.children = lineGroupsTree;\r\n        return treeData;\r\n    }\r\n\r\n    const onToggle = (node, toggled) => {\r\n        if (cursor) {\r\n            cursor.active = false;\r\n        }\r\n        node.active = true;\r\n        if (node.children) {\r\n            node.toggled = toggled;\r\n        }\r\n        setCursor(node);\r\n        setData(Object.assign({}, data))\r\n    }\r\n\r\n    const onFilterKeyUp = ({ target: { value } }) => {\r\n        let treeData = generateNodeTree(customMarketsData)\r\n        const filter = value.trim();\r\n        if (!filter || filter == '') {\r\n            return setData(treeData)\r\n        } else {\r\n            let filtered = filters.filterTree(treeData, filter);\r\n            filtered = filters.expandFilteredNodes(filtered, filter);\r\n            setData(filtered)\r\n        }\r\n    }\r\n\r\n    const show = (id, e) => {\r\n        contextMenu.show({\r\n            id,\r\n            event: e\r\n        })\r\n    }\r\n\r\n\r\n    const showIconTree = (active, type, onClick) => {\r\n        if (type == 'linegroup') {\r\n            if (active) {\r\n                return <KeyboardArrowDownIcon onClick={onClick} style={{ cursor: 'pointer' }} />\r\n            } else {\r\n                return <KeyboardArrowRightIcon onClick={onClick} style={{ cursor: 'pointer' }} />\r\n            }\r\n        }\r\n        if (type == 'line') {\r\n            if (active) {\r\n                return <KeyboardArrowDownIcon onClick={onClick} style={{ cursor: 'pointer' }} />\r\n            } else {\r\n                return <KeyboardArrowRightIcon onClick={onClick} style={{ cursor: 'pointer' }} />\r\n            }\r\n        }\r\n\r\n    }\r\n    const decorators = {\r\n\r\n        Container: (subprops) => {\r\n            if (subprops && subprops.node.children) {\r\n                let { type, key } = subprops.node;\r\n                return (\r\n                    <>\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            flexWrap: 'wrap',\r\n                            height: 30,\r\n                            marginBottom: (subprops.node && subprops.node.isroot) ? '10px' : '4px',\r\n                        }}\r\n                        >\r\n                            {subprops.node && subprops.node.isroot &&\r\n                                <>\r\n                                    <Can I=\"view\" a=\"custom-market-tree-action\">\r\n                                        <div\r\n                                            className=\"position-absolute pt-1 pl-1 pr-10 ml-6 mb-2 justify-content-start text-dark\"\r\n                                            style={{ backgroundColor: 'rgb(58 61 64 / 68%)', minWidth: '380px', height: '31px', borderRadius: '4px', cursor: 'pointer' }}\r\n                                            onClick={handleOpenCreateLineGroupModal}\r\n                                        >\r\n                                            <span className=\"pl-0 ml-0 font-italic\">\r\n                                                <IconButton size='small' aria-label=\"\" style={{ color: 'rgb(197 218 239)' }}>\r\n                                                    <AddIcon />\r\n                                                    <span style={{ fontSize: '0.875rem' }} className=\"pl-3\">\r\n                                                        <FormattedMessage id=\"CUSTOM_MARKET_TREE.ACTION.LINE_GROUP.CREATE\" />\r\n                                                    </span>\r\n                                                </IconButton>\r\n                                            </span>\r\n                                        </div>\r\n                                    </Can>\r\n                                    <LineGroupDialog open={openCreateLineGroupModal} handleClose={handleCloseCreateLineGroupModal} lineGroupSelected={lineGroupSelected} />\r\n                                    <LineDialog open={openLineDialog} handleClose={handleCloseLineDialog} lineSelected={lineSelected} lineGroupSelected={lineGroupSelected} />\r\n                                    <CustomMarketDialog open={openCustomMarketDialog} handleClose={handleCloseCustomMarketDialog} customMarket={null} lineSelected={lineSelected} isActionClone={false} />\r\n                                </>\r\n                            }\r\n                            {subprops.node && !subprops.node.isroot &&\r\n                                <>\r\n                                    <Button\r\n                                        className=\"justify-content-start text-dark pr-5\"\r\n                                        style={type == 'linegroup' ?\r\n                                            ({ backgroundColor: 'rgb(23 107 193 / 40%)', minWidth: '380px' }) :\r\n                                            ({ backgroundColor: 'rgb(23 107 193 / 15%)', minWidth: '345px' })\r\n                                        }\r\n                                        onClick={() => subprops.onClick}\r\n                                        onContextMenu={(e) => show(subprops.node.key, e)}\r\n                                    >\r\n                                        {showIconTree(subprops.node.toggled, subprops.node.type, subprops.onClick)}\r\n                                        <span style={{ marginLeft: 10, cursor: 'pointer', width: '100%', textAlign: 'left' }} onClick={subprops.onClick} onContextMenu={(e) => show(subprops.node.key, e)}>{subprops.node.name}</span>\r\n                                    </Button>\r\n                                    <Can I=\"view\" a=\"custom-market-tree-action\">\r\n                                        <Menu id={subprops.node.key}>\r\n                                            <>\r\n                                                {subprops.node.type == 'line' &&\r\n                                                    <>\r\n                                                        <Item\r\n                                                            onClick={(event) => handleOpenLineDialog(event, subprops.node)}\r\n                                                            disabled={subprops.node.isTest ? 'disabled' : ''}\r\n                                                        >\r\n                                                            <FormattedMessage id=\"CUSTOM_MARKET_TREE.ACTION.LINE.EDIT\" />\r\n                                                        </Item>\r\n                                                        <Item\r\n                                                            onClick={(event) => handleOpenCustomMarketDialog(event, subprops.node)}\r\n                                                        >\r\n                                                            <FormattedMessage id=\"CUSTOM_MARKET_TREE.ACTION.CUSTOM_MARKET.CREATE\" />\r\n                                                        </Item>\r\n                                                        <Item\r\n                                                            onClick={(event) => handleSignAllMarkets(event, subprops.node)}\r\n                                                        >\r\n                                                            <FormattedMessage id=\"CUSTOM_MARKET_TREE.ACTION.CUSTOM_MARKET.SIGN_ALL\" />\r\n                                                        </Item>\r\n                                                    </>\r\n                                                }\r\n                                                {subprops.node.type == 'linegroup' &&\r\n                                                    <>\r\n                                                        <Item\r\n                                                            onClick={(event) => handleOpenCreateLineGroupModal(event, subprops.node)}\r\n                                                            disabled={subprops.node.isTest ? 'disabled' : ''}\r\n                                                        >\r\n                                                            <FormattedMessage id=\"CUSTOM_MARKET_TREE.ACTION.LINE_GROUP.EDIT\" />\r\n                                                        </Item>\r\n                                                        <Item onClick={(event) => handleOpenEditLineDialog(event, subprops.node)}>\r\n                                                            <FormattedMessage id=\"CUSTOM_MARKET_TREE.ACTION.LINE.CREATE\" />\r\n                                                        </Item>\r\n                                                    </>\r\n                                                }\r\n                                            </>\r\n                                        </Menu>\r\n                                    </Can>\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </>\r\n                );\r\n\r\n            } else {\r\n                return (\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        flexWrap: 'wrap',\r\n                        height: 30\r\n                    }}\r\n                    >\r\n                        <Can not I=\"view\" a=\"manage-custom-market\">\r\n                            <span style={{ marginLeft: 10, cursor: 'pointer', width: '100%', textAlign: 'left', fontSize: '12px' }} onClick={() => onSelectCustomMarketPreview(subprops.node.value)}>{subprops.node.name}</span>\r\n                        </Can>\r\n                        <Can I=\"view\" a=\"manage-custom-market\">\r\n                            <span style={{ marginLeft: 10, cursor: 'pointer', width: '100%', textAlign: 'left', fontSize: '12px' }} onClick={() => onSelectCustomMarketManage(subprops.node.value)}>{subprops.node.name}</span>\r\n                        </Can>\r\n                    </div>\r\n                );\r\n\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {isLoading && <CustomLoader />}\r\n\r\n            {loading &&\r\n                <Loader />\r\n            }\r\n            {!loading && Object.keys(customMarket.data).length > 0 &&\r\n                <IconButton aria-label=\"\" onClick={() => props.setMarketTreeVisible(false)} className=\"float-right\">\r\n                    <CloseIcon />\r\n                </IconButton>\r\n            }\r\n            {!loading && customMarketsData.length > 0 &&\r\n                <>\r\n                    <div style={{ width: '380px' }} className=\"mb-5 ml-6\">\r\n                        <TextField\r\n                            style={{ width: '100%' }}\r\n                            id=\"filterTree\"\r\n                            label='Buscar'\r\n                            variant=\"outlined\"\r\n                            onKeyUp={onFilterKeyUp}\r\n                            autoComplete=\"off\"\r\n                        />\r\n                    </div>\r\n                    <Treebeard\r\n                        data={data}\r\n                        onToggle={onToggle}\r\n                        style={styles}\r\n                        decorators={decorators}\r\n                    />\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nconst styles = {\r\n    tree: {\r\n        base: {\r\n            listStyle: 'none',\r\n            backgroundColor: '#fff',\r\n            margin: 0,\r\n            padding: 0,\r\n            color: '#000',\r\n            fontFamily: 'lucida grande ,tahoma,verdana,arial,sans-serif',\r\n            fontSize: '14px'\r\n        },\r\n        node: {\r\n            base: {\r\n                position: 'relative'\r\n            },\r\n            link: {\r\n                cursor: 'pointer',\r\n                position: 'relative',\r\n                padding: '0px 5px',\r\n                display: 'block'\r\n            },\r\n            activeLink: {\r\n                background: '#fff'\r\n            },\r\n            toggle: {\r\n                base: {\r\n                    position: 'relative',\r\n                    display: 'inline-block',\r\n                    verticalAlign: 'top',\r\n                    marginLeft: '-5px',\r\n                    height: '24px',\r\n                    width: '24px'\r\n                },\r\n                wrapper: {\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    margin: '-7px 0 0 -7px',\r\n                    height: '14px'\r\n                },\r\n                height: 14,\r\n                width: 14,\r\n                arrow: {\r\n                    fill: '#9DA5AB',\r\n                    strokeWidth: 0\r\n                }\r\n            },\r\n            header: {\r\n                base: {\r\n                    display: 'inline-block',\r\n                    verticalAlign: 'top',\r\n                    color: '#000'\r\n                },\r\n                connector: {\r\n                    width: '2px',\r\n                    height: '12px',\r\n                    borderLeft: 'solid 2px black',\r\n                    borderBottom: 'solid 2px black',\r\n                    position: 'absolute',\r\n                    top: '0px',\r\n                    left: '-21px'\r\n                },\r\n                title: {\r\n                    lineHeight: '24px',\r\n                    verticalAlign: 'middle'\r\n                }\r\n            },\r\n            subtree: {\r\n                listStyle: 'none',\r\n                paddingLeft: '19px'\r\n            },\r\n            loading: {\r\n                color: '#E2C089'\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarket: state.mercados.customMarket,\r\n        customMarketTree: state.mercados.customMarketTree,\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(CustomMarketTree));","import React, { useState } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst CustomMarketDeleteDialog = (props) => {\r\n  const {customMarket, open, handleClose} = props\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n      setLoading(false);\r\n  };     \r\n\r\n  const handleDelete = () => {\r\n    setErrors({})\r\n    enableLoading()\r\n    setTimeout( async () => {\r\n        try {    \r\n            await props.deleteCustomMarket(customMarket.data)\r\n            disableLoading()\r\n            handleClose()\r\n            await Promise.all([props.getCustomMarketTree(),props.getCustomMarkets()])\r\n        } catch(e) {\r\n          if (e.response && e.response.data.message == 'is_not_valid_delete_custom_market') {\r\n              setErrors( {api: <FormattedMessage id=\"CUSTOM_MARKET_DELETE_DIALOG.MARKET_REFERENCE_EXCEPTION\" values={{ list: e.response.data.customMarketDescription }} />} )\r\n          } else {          \r\n              setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n            }\r\n          disableLoading()\r\n        }\r\n    }, 500);\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    setErrors({})\r\n  }, [open])\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open}\r\n        keepMounted\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\">\r\n          <FormattedMessage id=\"CUSTOM_MARKET_DELETE_DIALOG.TITLE\" />\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n            <FormattedMessage id=\"CUSTOM_MARKET_DELETE_DIALOG.MESSAGE\" />\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {errors.api &&\r\n            <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{errors.api}</div>\r\n          }           \r\n          <Button onClick={handleClose} color=\"primary\" disabled={loading}>\r\n            <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n          </Button>\r\n          <Button onClick={handleDelete} className=\"text-danger\" disabled={loading}>\r\n          {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n              <FormattedMessage id=\"FORM.ACTION.DELETE\" />\r\n            </span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      customMarket: state.mercados.customMarket\r\n  }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CustomMarketDeleteDialog);","import React, { useEffect, useState } from 'react';\r\nimport { connect, useDispatch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport PreviewIcon from '@material-ui/icons/Visibility';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport HistoryIcon from '@material-ui/icons/History';\r\nimport CustomMarketDialog from './CustomMarketDialog';\r\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\r\nimport CustomMarketDeleteDialog from './CustomMarketDeleteDialog';\r\nimport Can from '../../../config/Can';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { actionTypes } from '../_redux/mercadosRedux';\r\nimport MaterialTable, { MTableToolbar } from 'material-table';\r\nimport { Grid } from 'react-virtualized';\r\nimport { CircularProgress, Dialog, Drawer, Popover } from '@material-ui/core';\r\n\r\nfunction CustomMarketAction(props) {\r\n  const { customMarketPageView, customMarket, lineSelected, marketHistoryArray, marketHistoryArrayToScreen, intl } = props;\r\n  const [isActionClone, setIsActionClone] = React.useState(false);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [openCustomMarketDialog, setOpenCustomMarketDialog] = React.useState(false);\r\n  const [dataForTable, setDataForTable] = useState([])\r\n  const [tableTitle, setTableTitle] = useState('')\r\n  const [versionDateTitle, setVersionDateTitle] = useState('')\r\n  const [versionCodeTitle, setVersionCodeTitle] = useState('')\r\n  const [openCustomMarketDeleteDialog, setOpenCustomMarketDeleteDialog] = React.useState(false);\r\n  const [openMaterialModal, setOpenMaterialModal] = React.useState(false);\r\n  const [anchorElDropdown, setAnchorElDropdown] = React.useState(null);\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  const openMenu = Boolean(anchorEl);\r\n  const openDropdown = Boolean(anchorElDropdown);\r\n  const ITEM_HEIGHT = 48;\r\n\r\n  useEffect(() => {\r\n    getHistoricCustomMarketsPreview()\r\n  }, [customMarket.data.code, lineSelected, customMarketPageView, openCustomMarketDialog])\r\n\r\n\r\n  const getHistoricCustomMarketsPreview = async () => {\r\n    if (customMarketPageView.view == 'preview') {\r\n      let preview = await props.getHistoricCustomMarketsPreview(customMarket.data.code)\r\n      dispatch({ type: actionTypes.RECEIVE_PREVIEW_HISTORYDATA, historyData: preview?.result })\r\n    }\r\n  }\r\n\r\n  const getHistoricCustomMarketsPreviewToScreen = async (item) => {\r\n    if (customMarketPageView.view == 'preview') {\r\n      let preview = await props.getHistoricCustomMarketsPreviewToScreen(item.code)\r\n      debugger;\r\n      dispatch({ type: actionTypes.RECEIVE_PREVIEW_HISTORYDATATOSCREEN, historyDataToScreen: preview?.data })\r\n    }\r\n  }\r\n\r\n  const getLastSignCustomMarketsPreviewToScreen = async (item) => {\r\n    if (customMarketPageView.view == 'preview') {\r\n      let preview = await props.getLastSignCustomMarketsPreviewToScreen(item.code)\r\n      debugger;\r\n      dispatch({ type: actionTypes.RECEIVE_PREVIEW_HISTORYDATATOSCREEN, historyDataToScreen: preview?.data })\r\n    }\r\n  }\r\n\r\n  const handleOpenMenu = (event) => {\r\n    event.stopPropagation();\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseMenu = (event) => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleOpenDropdown = (event, screen) => {\r\n    setTableTitle(screen)\r\n    setAnchorElDropdown(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseDropdown = () => {\r\n    setAnchorElDropdown(null);\r\n\r\n  };\r\n\r\n  const handleOpenMaterialModal = async (item,screen) => {\r\n    await getHistoricCustomMarketsPreviewToScreen(item);\r\n    setTableTitle(screen)\r\n    const formattedDate = new Date(item?.versionDate).toLocaleDateString('es-ES', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n    });\r\n    setVersionDateTitle(formattedDate);\r\n    setVersionCodeTitle(item?.code)\r\n    setDataForTable(marketHistoryArrayToScreen ? marketHistoryArrayToScreen : []);\r\n    handleCloseDropdown();\r\n    setOpenMaterialModal(true);\r\n  };\r\n\r\n  const handleOpenMaterialModalLast = async (screen) => {\r\n    setTableTitle(screen)\r\n    const lastItem = customMarket?.data\r\n    await getLastSignCustomMarketsPreviewToScreen(lastItem)\r\n    setDataForTable(marketHistoryArrayToScreen ? marketHistoryArrayToScreen : [])\r\n    handleCloseDropdown();\r\n    setOpenMaterialModal(true);\r\n  };\r\n\r\n  const handleCloseMaterialModal = () => {\r\n    setOpenMaterialModal(false);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setOpenCustomMarketDialog(false);\r\n\r\n  };\r\n\r\n  const handleOpenEditDialog = (event) => {\r\n    handleCloseMenu()\r\n    setIsActionClone(false)\r\n    setOpenCustomMarketDialog(true);\r\n  };\r\n\r\n  const handleOpenCloneDialog = (event) => {\r\n    handleCloseMenu()\r\n    setIsActionClone(true)\r\n    setOpenCustomMarketDialog(true);\r\n  };\r\n\r\n  const handleOpenDeleteDialog = (event) => {\r\n    handleCloseMenu()\r\n    setOpenCustomMarketDeleteDialog(true);\r\n  };\r\n\r\n  const handleCloseDeleteDialog = () => {\r\n    setOpenCustomMarketDeleteDialog(false);\r\n  };\r\n\r\n  const renderClass = (classCode) => {\r\n    if (classCode == 1) {\r\n      return intl.formatMessage({ id: \"MASTER.CLASS.ETICO.SHORT\" })\r\n    }\r\n    if (classCode == 2) {\r\n      return intl.formatMessage({ id: \"MASTER.CLASS.POPULAR.SHORT\" })\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Can I=\"view\" a=\"manage-custom-market\">\r\n        <>\r\n          <IconButton aria-label=\"\" onClick={handleOpenMenu} color=\"primary\">\r\n            <MoreVertIcon style={{ fontSize: '1.8rem' }} />\r\n          </IconButton>\r\n          <Menu\r\n            id=\"customMarketMenu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={openMenu}\r\n            onClose={handleCloseMenu}\r\n            PaperProps={{\r\n              style: {\r\n                maxHeight: ITEM_HEIGHT * 4.5,\r\n                width: '24ch',\r\n              },\r\n            }}\r\n          >\r\n            <MenuItem key='menuItemEdit' onClick={handleOpenEditDialog}>\r\n              <FormattedMessage id=\"CUSTOM_MARKET_ACTION.EDIT\" />\r\n            </MenuItem>\r\n            <MenuItem key='menuItemClone' onClick={handleOpenCloneDialog}>\r\n              <FormattedMessage id=\"CUSTOM_MARKET_ACTION.CLONE\" />\r\n            </MenuItem>\r\n            <MenuItem key='menuItemDelete' onClick={handleOpenDeleteDialog}>\r\n              <FormattedMessage id=\"CUSTOM_MARKET_ACTION.DELETE\" />\r\n            </MenuItem>\r\n          </Menu>\r\n          <div className=\"float-right ml-15\">\r\n            {customMarketPageView.view == 'manage' && (\r\n              <div\r\n                id=\"btn_preview\"\r\n                className={`btn btn-secondary font-weight-bold px-2 pr-6 py-0 mb-2`}\r\n                style={{ fontWeight: '600' }}\r\n                onClick={() => props.setCustomMarketPageView('preview')}\r\n              >\r\n                <IconButton aria-label=\"\" color=\"primary\">\r\n                  <PreviewIcon color=\"primary\" />\r\n                </IconButton>\r\n                <span style={{ color: '#17c191' }}>\r\n                  <FormattedMessage id=\"CUSTOM_MARKET_ACTION.PREVIEW\" />\r\n                </span>\r\n              </div>\r\n            )}\r\n            {customMarketPageView.view == 'preview' && (\r\n              <div\r\n                id=\"btn_manage\"\r\n                className={`btn btn-secondary font-weight-bold px-2 pr-6 py-0 mb-2`}\r\n                style={{ fontWeight: '600' }}\r\n                onClick={() => props.setCustomMarketPageView('manage')}\r\n              >\r\n                <IconButton aria-label=\"\" color=\"primary\">\r\n                  <EditIcon color=\"primary\" />\r\n                </IconButton>\r\n                <span style={{ color: '#17c191' }}>\r\n                  <FormattedMessage id=\"CUSTOM_MARKET_ACTION.MANAGE\" />\r\n                </span>\r\n              </div>\r\n            )}\r\n            {customMarketPageView.view == 'preview' && (\r\n              <div\r\n                id=\"btn_manage\"\r\n                className={`btn btn-secondary font-weight-bold px-2 pr-6 py-0 mb-2 ml-2`}\r\n                style={{ fontWeight: '600' }}\r\n                onClick={(e) => { handleOpenMaterialModalLast(e, 'lastSign') }}\r\n\r\n              >\r\n                <IconButton aria-label=\"\" color=\"primary\">\r\n                  <AssignmentTurnedInIcon color=\"primary\" />\r\n                </IconButton>\r\n                <span style={{ color: '#17c191' }}>\r\n                  <FormattedMessage id=\"CUSTOM_MARKET_ACTION.LASTSIGNATURE\" />\r\n                </span>\r\n              </div>\r\n            )}\r\n            {customMarketPageView.view === 'preview' && (\r\n              <>\r\n                <div\r\n                  id=\"PREVIEWHISTORY\"\r\n                  className=\"btn btn-secondary font-weight-bold px-2 pr-6 py-0 mb-2 ml-2\"\r\n                  style={{ fontWeight: '600' }}\r\n                  onClick={(e) => { handleOpenDropdown(e, 'historicSign') }}\r\n                >\r\n                  <IconButton aria-label=\"\" color=\"primary\">\r\n                    <HistoryIcon color=\"primary\" />\r\n                  </IconButton>\r\n                  <span style={{ color: '#17c191' }}>\r\n                    <FormattedMessage id=\"CUSTOM_MARKET_ACTION.PREVIEWHISTORY\" />\r\n                  </span>\r\n                </div>\r\n                <Menu\r\n                  id=\"previewHistoryDropdown\"\r\n                  anchorEl={anchorElDropdown}\r\n                  open={openDropdown}\r\n                  onClose={handleCloseDropdown}\r\n                  anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                  }}\r\n                  transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                  }}\r\n                  PaperProps={{\r\n                    style: {\r\n                      display: \"flex\",\r\n                      justifyContent: \"center\",\r\n                      alignItems: \"center\",\r\n                      width: '15ch',\r\n                      marginLeft: \"22px\",\r\n                      marginTop: '43px', // Espacio entre el botn y el dropdown\r\n                    },\r\n                  }}\r\n                >\r\n                  <div style={{\r\n                    maxHeight: '300px',\r\n                    overflowY: 'auto', \r\n                  }}>\r\n                    {marketHistoryArray && marketHistoryArray?.length > 0 ? (\r\n                      marketHistoryArray?.map((item, index) => {\r\n                        const formattedDate = new Date(item?.versionDate).toLocaleDateString('es-ES', {\r\n                          day: '2-digit',\r\n                          month: '2-digit',\r\n                          year: 'numeric',\r\n                        });\r\n\r\n                        return (\r\n                          <MenuItem style={{ marginTop: \"1px\" }} key={index} onClick={() => handleOpenMaterialModal(item,'historicSign')}>\r\n                            {item?.versionDate ? formattedDate : <CircularProgress style={{ marginTop: \"6px\" }} />}\r\n                          </MenuItem>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <CircularProgress style={{ marginTop: \"6px\" }} />\r\n                    )}\r\n                  </div>\r\n                </Menu>\r\n              </>\r\n            )}\r\n          </div>\r\n        </>\r\n      </Can>\r\n\r\n      <CustomMarketDialog open={openCustomMarketDialog} handleClose={handleCloseDialog} customMarket={customMarket} lineSelected={lineSelected} isActionClone={isActionClone} />\r\n      <CustomMarketDeleteDialog open={openCustomMarketDeleteDialog} handleClose={handleCloseDeleteDialog} customMarket={customMarket} />\r\n\r\n      {/* Modal para mostrar la tabla de materiales */}\r\n      <Popover\r\n        BackdropProps={{\r\n          style: {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.6)', // Fondo oscuro con opacidad\r\n          },\r\n        }}\r\n        style={{ width: \"80%\", margin: \"0 auto\" }}\r\n        open={openMaterialModal}\r\n        onClose={handleCloseMaterialModal}>\r\n        <MaterialTable\r\n          title={tableTitle === 'historicSign' ? `Tabla historica: Version ${versionCodeTitle} - Fecha: ${versionDateTitle}` : 'Ultima Firmada'}\r\n          columns={[\r\n            { title: intl.formatMessage({ id: \"CUSTOM_MARKET_PREVIEW.CODE.SHORT\" }), field: 'id' },\r\n            { title: intl.formatMessage({ id: \"CUSTOM_MARKET_PREVIEW.LABORATORY.SHORT\" }), field: 'labDescription' },\r\n            {\r\n              title: intl.formatMessage({ id: \"LABORATORY_GROUP.FORM_CLASS\" }),\r\n              field: 'classCode',\r\n              render: rowData => renderClass(rowData.classCode)\r\n            },\r\n            { title: intl.formatMessage({ id: \"CUSTOM_MARKET_PREVIEW.BUSINESS_UIT.SHORT\" }), field: 'businessUnit' },\r\n            { title: intl.formatMessage({ id: \"CUSTOM_MARKET_PREVIEW.TERAPEUTICAL_CLASS\" }), field: 'tcCode' },\r\n            { title: intl.formatMessage({ id: \"CUSTOM_MARKET_PREVIEW.DRUG\" }), field: 'drug' },\r\n            { title: intl.formatMessage({ id: \"CUSTOM_MARKET_PREVIEW.PHARMACEUTICAL_FORM\" }), field: 'pfCode' },\r\n            {\r\n              title: intl.formatMessage({ id: \"CUSTOM_MARKET_PREVIEW.PRESENTATION\" }),\r\n              field: 'productPresentationDescription',\r\n              cellStyle: {\r\n                minWidth: '300px'\r\n              }\r\n            },\r\n            { title: intl.formatMessage({ id: \"CUSTOM_MARKET_PREVIEW.ORDEN\" }), field: 'orden' },\r\n            { title: intl.formatMessage({ id: \"CUSTOM_MARKET_GROUP_DIALOG.GROUP_CONDITION\" }), field: 'itemCondition' },\r\n            { title: intl.formatMessage({ id: \"CUSTOM_MARKET_DETAIL.PATTERN\" }), field: 'pattern' },\r\n            {\r\n              title: intl.formatMessage({ id: \"CUSTOM_MARKET_DETAIL.ENSURE_VISIBLE\" }),\r\n              field: 'ensureVisible',\r\n              render: rowData => rowData.ensureVisible == true ? intl.formatMessage({ id: \"MASTER.YES\" }) : intl.formatMessage({ id: \"MASTER.NO\" })\r\n            },\r\n            {\r\n              title: intl.formatMessage({ id: \"CUSTOM_MARKET_DETAIL.GRAPHS\" }),\r\n              field: 'graph',\r\n              render: rowData => rowData.graph == true ? intl.formatMessage({ id: \"MASTER.YES\" }) : intl.formatMessage({ id: \"MASTER.NO\" })\r\n            },\r\n            {\r\n              title: intl.formatMessage({ id: \"CUSTOM_MARKET_DETAIL.RESUME\" }),\r\n              field: 'resume',\r\n              render: rowData => rowData.resume == true ? intl.formatMessage({ id: \"MASTER.YES\" }) : intl.formatMessage({ id: \"MASTER.NO\" })\r\n            },\r\n            {\r\n              title: intl.formatMessage({ id: \"CUSTOM_MARKET_DETAIL.EXPAND\" }),\r\n              field: 'expand',\r\n              render: rowData => rowData.expand == true ? intl.formatMessage({ id: \"MASTER.YES\" }) : intl.formatMessage({ id: \"MASTER.NO\" })\r\n            },\r\n            { title: intl.formatMessage({ id: \"CUSTOM_MARKET_PREVIEW.MODIFIER\" }), field: 'modifier' },\r\n            { title: intl.formatMessage({ id: \"CUSTOM_MARKET_PREVIEW.INTEMODIFIER\" }), field: 'intemodifier' }\r\n          ]}\r\n          data={marketHistoryArrayToScreen ? marketHistoryArrayToScreen : []}\r\n          options={{\r\n            filtering: true,\r\n            pageSize: 10,\r\n            pageSizeOptions: [10, 25, 50, 100],\r\n            searchFieldAlignment: 'right',\r\n            actionsColumnIndex: -1,\r\n            headerStyle: { position: 'sticky', top: 0 },\r\n            maxBodyHeight: '600px',\r\n            padding: 2\r\n          }}\r\n          localization={{\r\n            toolbar: {\r\n              searchTooltip: 'Buscar',\r\n              searchPlaceholder: 'Buscar'\r\n            },\r\n            header: {\r\n              actions: ''\r\n            },\r\n            pagination: {\r\n              labelRowsSelect: 'resultados',\r\n              labelRowsPerPage: 'resultados',\r\n              labelDisplayedRows: '{from}-{to} de {count}'\r\n            },\r\n            body: {\r\n              emptyDataSourceMessage: 'No hay datos disponibles',\r\n            },\r\n            \r\n            \r\n          }}\r\n          components={{\r\n            Toolbar: props => (\r\n              <div style={{ padding: '10px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <div style={{ flexGrow: 1 }}>\r\n                  <MTableToolbar {...props} />\r\n                </div>\r\n              </div>\r\n            )\r\n          }}\r\n        />\r\n      </Popover>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    customMarketPageView: state.mercados.customMarketPageView,\r\n    marketHistoryArray: state.mercados.marketHistoryArray,\r\n    marketHistoryArrayToScreen: state.mercados.marketHistoryArrayToScreen\r\n\r\n\r\n  };\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(CustomMarketAction));","import React from 'react'\r\nimport { IconButton } from '@material-ui/core'\r\nimport PreviewIcon from '@material-ui/icons/Visibility';\r\nimport Signature from '@material-ui/icons/BorderColor';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport Can from '../../../config/Can';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { signMarket } from '../_redux/mercadosActions';\r\n\r\nexport const CustomMarketActionFirma = () => {\r\n\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector(state => state.auth);\r\n  const { customMarket } = useSelector(state => state.mercados);\r\n\r\n  const signCurrentMarket = async () => {\r\n\r\n    const objectToSend = {\r\n      signedUser: user.id,\r\n      customMarketCode: customMarket.data.code\r\n    };\r\n    await dispatch(signMarket(objectToSend));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Can I=\"view\" a=\"manage-custom-market\">\r\n        <div\r\n          id=\"btn_preview\"\r\n          className={`btn btn-secondary font-weight-bold px-2 pr-6 py-0 mb-2 ml-10`}\r\n          style={{ fontWeight: '600' }}\r\n          onClick={() => signCurrentMarket()}\r\n        >\r\n          <IconButton aria-label=\"\" color=\"primary\">\r\n            <Signature color=\"primary\" />\r\n          </IconButton>\r\n          <span style={{ color: '#17c191' }}>\r\n            <FormattedMessage id=\"CUSTOM_MARKET_ACTION.SIGNATURE\" />\r\n          </span>\r\n        </div>\r\n      </Can>\r\n    </>\r\n\r\n  )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getLastAuditoryMarket } from '../_redux/mercadosActions';\r\n\r\nconst CustomMarketLastAuditory = () => {\r\n    const dispatch = useDispatch();\r\n    const { lastAuditory } = useSelector(state => state.mercados);\r\n\r\n    useEffect(() => {\r\n        dispatch(getLastAuditoryMarket());\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <span style={{ color: '#17c191' }}>\r\n            {/* <FormattedMessage id=\"CUSTOM_MARKET_ACTION.LASTAUDITORY\" /> */}\r\n            {lastAuditory}\r\n        </span>\r\n    );\r\n}\r\n\r\nexport default CustomMarketLastAuditory;\r\n","import React from 'react';\r\nimport { connect, useDispatch } from 'react-redux'\r\nimport { injectIntl } from \"react-intl\";\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport CustomMarketAction from './CustomMarketAction'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport AccountTreeIcon from '@material-ui/icons/AccountTree';\r\nimport { CustomMarketActionFirma } from './CustomMarketActionFirma';\r\nimport CustomMarketLastAuditory from './CustomMarketLastAuditory';\r\nimport { actionTypes } from '../_redux/mercadosRedux';\r\n\r\nconst CustomMarketToolbar = (props) => {\r\n  const { intl, customMarket } = props;\r\n  const dispatch = useDispatch();\r\n\r\n  if (customMarket.isLoading || Object.keys(customMarket.data).length == 0) {\r\n    return null\r\n  }\r\n\r\n  const handleClearData = () => {\r\n\r\n    dispatch({ type: actionTypes.RECEIVE_PREVIEW_HISTORYDATA, historyData: [] })\r\n    \r\n  }\r\n\r\n  return (\r\n    <Grid item xs={12} className=\"pt-1 pl-0 pr-0 pb-0\">\r\n      <div style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n        marginBottom: 8,\r\n        justifyContent: 'space-between'  // Esta lnea asegura que los elementos se distribuyan con espacio entre ellos\r\n      }}>\r\n        <div style={{\r\n          display: 'inline-flex',\r\n          alignItems: 'center',\r\n          flexWrap: 'wrap',\r\n          marginBottom: 8\r\n        }}>\r\n          <div\r\n            id=\"btn_tree\"\r\n            className={`btn btn-secondary font-weight-bold px-2 py-0 mb-2`}\r\n            onClick={() => props.setMarketTreeVisible(true)}\r\n          >\r\n            <Tooltip title={intl.formatMessage({ id: \"CUSTOM_MARKET_TREE.TITLE\" })}>\r\n              <IconButton onClick={handleClearData} aria-label=\"\" color=\"primary\">\r\n                <AccountTreeIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </div>\r\n          <span\r\n            className={`ml-10`}\r\n            style={{ fontSize: '16px', fontWeight: '500', borderBottom: '2px solid #17c191', color: '#636060' }}>\r\n            {customMarket.data.lineGroupDescription && (\r\n              <>\r\n                {customMarket.data.lineGroupDescription.toUpperCase()}\r\n                <span style={{ color: 'rgb(56 56 197 / 48%)' }} className=\"pl-4 pr-4\">|</span>\r\n              </>\r\n            )}\r\n            {customMarket.data.lineDescription && (\r\n              <>\r\n                {customMarket.data.lineDescription.toUpperCase()}\r\n                <span style={{ color: 'rgb(56 56 197 / 48%)' }} className=\"pl-4 pr-4\">|</span>\r\n              </>\r\n            )}\r\n            {customMarket.data.description.toUpperCase()}\r\n          </span>\r\n          <CustomMarketAction customMarket={customMarket} lineSelected={null} />\r\n          <CustomMarketActionFirma />\r\n        </ div>\r\n        <CustomMarketLastAuditory />\r\n      </div>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    customMarket: state.mercados.customMarket\r\n  }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(actions, dispatch);\r\n}\r\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(CustomMarketToolbar));","import React, { Component } from 'react';\r\nimport { List } from 'react-virtualized';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport CheckboxUi from '@material-ui/core/Checkbox';\r\n\r\nconst Checkbox = ({ onChange, checked, label, isGroup, style, value }) =>\r\n  <div style={{ ...style }}>\r\n    <FormControlLabel control={\r\n      <CheckboxUi \r\n        checked={checked || false}\r\n        onChange={onChange}\r\n        value={value}\r\n        />\r\n        }\r\n        label = {[label, isGroup ? <span className=\"text-primary pl-4\" key={value}><strong>&#8859;</strong></span> : null]}\r\n      />\r\n  </div>; \r\n\r\nconst Checkboxes = (props) => {\r\n\r\n  const { items, rowHeight, height, width } = props;\r\n  const rowCount = items.length + 1;\r\n\r\n  const handleChange = event => {\r\n    const { labelKey, onChange } = props;\r\n    onChange({ [labelKey]: event.target.value, checked: event.target.checked });\r\n  };\r\n\r\n  const handleSelectAllChange = event => {\r\n    const { onSelectAllChange } = props;\r\n    onSelectAllChange(event.target.checked);\r\n  };\r\n  const checkboxRenderer = ({ index, style }) => {\r\n    const { items, filtered, labelKey } = props;\r\n\r\n    if (index === 0) {\r\n      const label = filtered ? '(Todos los filtrados)' : '(Todos)';\r\n      const checked = items.filter(i => i.checked).length === items.length;\r\n      return (\r\n        <Checkbox\r\n          style={style}\r\n          key={'#ALL#'}\r\n          onChange={handleSelectAllChange}\r\n          label={label}\r\n          checked={checked}\r\n        />\r\n      );\r\n    }\r\n    const item = items[index - 1];\r\n    return (\r\n      <Checkbox\r\n        style={style}\r\n        key={item.value}\r\n        onChange={handleChange}\r\n        label={item.label}\r\n        value={item.value}\r\n        checked={item.checked}\r\n        isGroup={item.isGroup}\r\n      />\r\n    );\r\n  };\r\n  \r\n    \r\n    return (\r\n      <List\r\n        height={height}\r\n        width={width}\r\n        rowCount={rowCount}\r\n        rowHeight={rowHeight}\r\n        rowRenderer={checkboxRenderer}\r\n      />\r\n    );\r\n  \r\n}\r\n\r\nexport default Checkboxes;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { AutoSizer } from 'react-virtualized';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Checkboxes from './Checkboxes';\r\n\r\nfunction getDistinctFast(items, key) {\r\n  let unique = {};\r\n  let distinct = [];\r\n  for (let opt of items) {\r\n    if (typeof unique[opt[key]] === 'undefined') {\r\n      distinct.push(opt);\r\n    }\r\n    unique[opt[key]] = 0;\r\n  }\r\n  return distinct;\r\n}\r\n\r\n// Fast function to update items\r\n// Use the fact that both arrays are sorted and have no duplicates\r\n// and that all elements of the second array are present in the first array\r\nfunction updateItems(base, items, labelKey) {\r\n  let index = 0;\r\n  for (let it of items) {\r\n    while (base[index][labelKey] !== it[labelKey]) {\r\n      index += 1;\r\n    }\r\n    base[index].checked = it.checked;\r\n  }\r\n  return base;\r\n}\r\n\r\nconst FilterBar = ({ value, onChange, height, width, title, options, onSelectItemFromMenu, hasSelectedItems }) => {\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = (event) => {\r\n    event.stopPropagation();\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const onSelectOption = (action) => {\r\n    onSelectItemFromMenu(action)\r\n    handleClose();\r\n  }\r\n  \r\n  /*const options = [\r\n    'Asignar al mercado',\r\n    'Crear grupo',\r\n  ];*/\r\n  const ITEM_HEIGHT = 48;\r\n\r\n  return (\r\n    <div style={{ height }}>\r\n      <div style={{width: '80%'}}>\r\n          <TextField \r\n            autoComplete=\"off\"\r\n            style={{width}}\r\n            id=\"filter\" \r\n            label={title} \r\n            variant=\"outlined\"\r\n            onChange={event => onChange(event.target.value)}\r\n            value={value}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon />\r\n                </InputAdornment>\r\n              ),\r\n              endAdornment: (\r\n                <div>\r\n                  {options !== undefined && options.length > 0 &&\r\n                    <>\r\n                      <InputAdornment onClick={handleClick} style={{cursor:'pointer'}} position='end'>\r\n                        <IconButton>\r\n                          <MoreVertIcon />\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                      <Menu\r\n                        id=\"long-menu\"\r\n                        anchorEl={anchorEl}\r\n                        keepMounted\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        PaperProps={{\r\n                          style: {\r\n                            maxHeight: ITEM_HEIGHT * 4.5,\r\n                            width: '24ch',\r\n                          },\r\n                        }}\r\n                      >\r\n                        {options.map((option,key) => (\r\n                          <MenuItem key={key} onClick={() => onSelectOption(option.action)} disabled={!hasSelectedItems}>\r\n                            {option.title}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Menu>\r\n                    </>\r\n                  }\r\n                </div>\r\n              )\r\n            }}\r\n          />\r\n        </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nconst Footer = ({\r\n  width,\r\n  height,\r\n  hasOkButton,\r\n  hasCancelButton,\r\n  onOk,\r\n  onCancel\r\n}) =>\r\n  <div style={{ display: 'flex', width, height }}>\r\n    {hasOkButton && <input type=\"button\" value=\"Ok\" onClick={onOk} />}\r\n    {hasCancelButton &&\r\n      <input type=\"button\" value=\"Cancel\" onClick={onCancel} />}\r\n  </div>;\r\n\r\nclass VirtualizedCheckbox extends Component {\r\n  static propTypes = {\r\n    hasCancelButton: PropTypes.bool,\r\n    hasFilterBox: PropTypes.bool,\r\n    hasOkButton: PropTypes.bool,\r\n    height: PropTypes.number,\r\n    items: PropTypes.array,\r\n    labelKey: PropTypes.string,\r\n    onCancel: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n    onOk: PropTypes.func,\r\n    rowHeight: PropTypes.number,\r\n    textFilter: PropTypes.string\r\n  };\r\n\r\n  static defaultProps = {\r\n    hasOkButton: false,\r\n    hasCancelButton: false,\r\n    hasFilterBox: true,\r\n    labelKey: 'value',\r\n    onCancel: () => null,\r\n    onChange: () => null,\r\n    onOk: () => null,\r\n    items: [],\r\n    rowHeight: 35,\r\n    textFilter: ''\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { items: propsItems, labelKey, textFilter } = props;\r\n\r\n    this.state = {\r\n      items: [],\r\n      filter: ''\r\n    }\r\n    if(this.props.items.length > 0) {\r\n      const objectItems =\r\n        typeof propsItems[0] === 'string'\r\n          ? propsItems.map(item => ({ [labelKey]: item }))\r\n          : propsItems;\r\n      const items = getDistinctFast(objectItems, labelKey);\r\n      this.state = {\r\n        items,\r\n        filter: textFilter\r\n      };\r\n\r\n    }\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if(this.props.item !== nextProps.items) {\r\n      this.setState({ items: nextProps.items})\r\n    }\r\n  }\r\n\r\n  handleSelectAllChange = checked => {\r\n    const items = this.getFilteredItems().map(it => ({ ...it, checked }));\r\n    this.setState(prevState => ({\r\n      items: updateItems(prevState.items, items, this.props.labelKey)\r\n    }));\r\n    let prepareItems = []\r\n    items.map(itm => {\r\n      if(itm.checked) {\r\n        prepareItems.push(itm)\r\n      }\r\n    })\r\n    this.props.onOk(prepareItems)\r\n  };\r\n\r\n  handleChange = eventTarget => {\r\n    const index = this.state.items.findIndex(\r\n      it => it[this.props.labelKey] === eventTarget[this.props.labelKey]\r\n    );\r\n    const items = [...this.state.items];\r\n    items[index].checked = eventTarget.checked;\r\n    this.setState(prevState => ({\r\n      items\r\n    }));\r\n    if (this.props.onChange) {\r\n      this.props.onChange(items[index]);\r\n    }\r\n    this.handleOkClick();\r\n  };\r\n\r\n  handleFilterChange = filter => {\r\n    this.setState(() => ({\r\n      filter\r\n    }));\r\n  };\r\n\r\n  getFilteredItems = () => {\r\n    const { items, filter } = this.state;\r\n    return items.filter(\r\n      it =>\r\n        it[this.props.labelKey] &&\r\n        it.label.toLowerCase().includes(filter.toLowerCase())\r\n    );\r\n  };\r\n\r\n  handleOkClick = () => {\r\n    const { items, filter } = this.state;\r\n    const checkedItems = items.filter(i => i.checked);\r\n    this.props.onOk(checkedItems, checkedItems.length === items.length, filter);\r\n  };\r\n\r\n  handleCancelClick = () => this.props.onCancel();\r\n  \r\n  hasSelectedItems = () => {\r\n    return this.state.items.filter(i => i.checked).length\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      rowHeight,\r\n      hasOkButton,\r\n      hasCancelButton,\r\n      hasFilterBox,\r\n      height,\r\n      width: propWidth,\r\n      title,\r\n      options,\r\n      onSelectItemFromMenu\r\n    } = this.props;\r\n    const hasFooter = hasOkButton || hasCancelButton;\r\n    const virtualScrollHeight = h => {\r\n      let i = 0;\r\n      if (hasFooter) {\r\n        i += 1;\r\n      }\r\n      if (hasFilterBox) {\r\n        i += 1;\r\n      }\r\n      const actualHeight = height || h;\r\n      return actualHeight - i * rowHeight;\r\n    };\r\n    \r\n    return (\r\n      <AutoSizer>\r\n        {({ width, height }) =>\r\n          <div>\r\n            {hasFilterBox\r\n              ? <FilterBar\r\n                  value={this.state.filter}\r\n                  onChange={this.handleFilterChange}\r\n                  height={60}\r\n                  width={propWidth || width}\r\n                  title={title}\r\n                  options={options}\r\n                  hasSelectedItems={this.hasSelectedItems()}\r\n                  onSelectItemFromMenu={onSelectItemFromMenu}\r\n                />\r\n              : null}\r\n              {this.props.items.length > 0 &&\r\n                <Checkboxes\r\n                  height={virtualScrollHeight(height)}\r\n                  width={propWidth || width}\r\n                  items={this.getFilteredItems()}\r\n                  labelKey={this.props.labelKey}\r\n                  filtered={!!this.state.filter}\r\n                  rowHeight={rowHeight}\r\n                  onChange={this.handleChange}\r\n                  onSelectAllChange={this.handleSelectAllChange}\r\n                />\r\n              }\r\n            {hasFooter\r\n              ? <Footer\r\n                  onOk={this.handleOkClick}\r\n                  onCancel={this.handleCancelClick}\r\n                  width={propWidth || width}\r\n                  height={rowHeight}\r\n                  hasOkButton={false}\r\n                  hasCancelButton={false}\r\n                />\r\n              : null}\r\n          </div>}\r\n      </AutoSizer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VirtualizedCheckbox;","import React from 'react'\r\nimport ContentLoader from 'react-content-loader'\r\n\r\nconst Loader = props => {\r\n  return (\r\n    <ContentLoader\r\n      width={300}\r\n      height={360}\r\n      viewBox=\"0 0 280 360\"\r\n      backgroundColor=\"#f5f5f5\"\r\n      foregroundColor=\"#dbdbdb\"\r\n      {...props}\r\n    >\r\n      <rect x=\"0\" y=\"10\" rx=\"3\" ry=\"3\" width=\"280\" height=\"25\" />\r\n      \r\n      <rect x=\"0\" y=\"40\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"40\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"60\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"60\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"80\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />      \r\n      <rect x=\"11\" y=\"80\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n\r\n      <rect x=\"0\" y=\"100\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"100\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"120\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"120\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"140\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"140\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n\r\n      <rect x=\"0\" y=\"160\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"160\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"180\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"180\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"200\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"200\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n\r\n      <rect x=\"0\" y=\"220\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"220\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"240\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"240\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"260\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"260\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n\r\n      <rect x=\"0\" y=\"280\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"280\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n     <rect x=\"0\" y=\"300\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"300\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"320\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"320\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />      \r\n\r\n      <rect x=\"0\" y=\"340\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"340\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"360\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"360\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n    </ContentLoader>\r\n  )\r\n}\r\n\r\nexport default Loader","import React from 'react'\r\nimport { AutoSizer } from 'react-virtualized';\r\nimport VirtualizedCheckbox from './VirtualizedCheckbox'\r\nimport Loader from './Loader'\r\n\r\nconst ListVirtualized = (props) => {\r\n\r\n    const { items, isLoading,title, onChange,options, onSelectItemFromMenu, infoRef } = props;\r\n    const [ filter, setFilter ] = React.useState('')\r\n\r\n    const onSelect = (selected) => {\r\n        props.onChange(selected);\r\n    }\r\n    return (\r\n        <div style={{width: '100%', height: '100%', marginRight: 10}}>\r\n            {isLoading &&\r\n                <Loader />\r\n            }\r\n            {!isLoading  &&\r\n                <VirtualizedCheckbox\r\n                    items={items || []}\r\n                    title={title}\r\n                    onOk={onSelect}\r\n                    options={options}\r\n                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                    onCancel={ () => console.log('')}\r\n                />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListVirtualized;","import React from 'react'\r\nimport { DialogContent } from '@material-ui/core'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport { injectIntl } from \"react-intl\";\r\n\r\n\r\nconst ActionTabDialog = (props) => {\r\n    const { children, onAccept, onCancel, title, description, visible, isLoading, type, intl } = props;\r\n    \r\n    const handleClose = () => {\r\n        if(!isLoading) {\r\n            props.onCancel();\r\n        }\r\n    }\r\n    return (\r\n        <Dialog \r\n            onClose={handleClose} \r\n            open={visible}\r\n            maxWidth='sm'\r\n            fullWidth={true}\r\n            keepMounted\r\n            aria-labelledby=\"alert-dialog-slide-title\"\r\n            aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n        <DialogContent>\r\n          <DialogContentText className=\"mb-8\">\r\n            <strong>\r\n                {title}\r\n            </strong>\r\n            <p></p>\r\n            {description}\r\n          </DialogContentText>                       \r\n                {children}\r\n                <DialogActions>\r\n                    <Button onClick={onCancel} color=\"primary\" disabled={isLoading ? true : false}>\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button onClick={onAccept} color=\"primary\" disabled={isLoading ? true : false} className={(type && type == 'delete')? \"text-danger\": \"\"}>\r\n                        {isLoading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n                        <span style={{paddingLeft:'25px'}}>{type && type == 'delete' ? intl.formatMessage({id: \"FORM.ACTION.DELETE\"}) : intl.formatMessage({id: \"FORM.ACTION.SAVE\"})}</span>\r\n                    </Button>\r\n                </DialogActions>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default injectIntl(ActionTabDialog);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport { List,ListItem,ListItemText, TextField } from '@material-ui/core'\r\nimport { FixedSizeList } from 'react-window';\r\nimport { useFormik } from 'formik';\r\nimport { useStyles } from '../../../../Style/GeneralStyles';\r\n\r\n\r\nconst ProductForm = (props) => {\r\n\r\n    const { productsSelected, formHasBeenSubmited, onChangeStatusForm } = props;\r\n    const classes = useStyles();\r\n\r\n    const detectFormSubmited = () => {\r\n        if(formHasBeenSubmited) {\r\n            formikCreateProduct.handleSubmit();\r\n            onChangeStatusForm();\r\n        }\r\n    }\r\n    React.useEffect(() => {\r\n\r\n        detectFormSubmited()\r\n\r\n        return () => {}\r\n        \r\n    }, [formHasBeenSubmited])\r\n\r\n\r\n    const prepareToSave = ({description}) => {   \r\n        let t = []\r\n        productsSelected.map(x => {\r\n            let product = getItemObject(x)\r\n            if(product && product.productCode) {\r\n                t.push(product.productCode)\r\n            }\r\n        })\r\n        return JSON.stringify({description: description, productCodes: t})\r\n    }\r\n\r\n    const validateProduct = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n            errors.description = 'campo obligatorio';\r\n        }\r\n      \r\n        if (productsSelected.some(x => x.isGroup == true)) {\r\n            errors.api = 'No es posible crear un grupo de productos con elementos de tipo grupo'\r\n        }\r\n\r\n        return errors;\r\n    };\r\n    const formikCreateProduct = useFormik({\r\n        initialValues: {\r\n          description: '',\r\n        },\r\n        validate: validateProduct,\r\n        onSubmit: async(values) => {\r\n\r\n            props.onChangeLoadingForm(true)\r\n            setTimeout(() => {\r\n                let productGroupToSave = prepareToSave(values)\r\n                props.createProductGroup(productGroupToSave)\r\n                    .then(() => {\r\n                        props.onChangeLoadingForm(false)\r\n                        props.onClose()\r\n                    })\r\n                    .catch((e) => {\r\n                        console.error(e)\r\n                        props.onChangeLoadingForm(false)\r\n                        //setSubmitting(false);\r\n                    });\r\n            }, 1000);\r\n        },\r\n    });\r\n\r\n    const renderProductsRow = (props) => {\r\n        const { index, style } = props;\r\n      \r\n        return (\r\n          <ListItem button style={style} key={index}>\r\n            <span className={ (productsSelected[index].isGroup == true) ? \"text-danger\" : \"\"}>\r\n                {productsSelected[index].label }\r\n                { productsSelected[index].isGroup == true &&\r\n                    <span className=\"text-danger pl-4\" key={productsSelected[index].value}><strong>&#8859;</strong></span>\r\n                }\r\n            </span>\r\n          </ListItem>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={formikCreateProduct.handleSubmit}>\r\n            <TextField\r\n                className={`mb-4`}\r\n                fullWidth\r\n                autoComplete='off'\r\n                name=\"description\"\r\n                label=\"Descripcin\"\r\n                type='text'\r\n                onChange={formikCreateProduct.handleChange}\r\n                value={formikCreateProduct.values.description}\r\n                error={formikCreateProduct.touched.description && Boolean(formikCreateProduct.errors.description)}\r\n                helperText={formikCreateProduct.touched.description && formikCreateProduct.errors.description}\r\n            />\r\n            <div>\r\n                <span>Seleccionados</span>\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <FixedSizeList height={200} width={'100%'} itemSize={30} itemCount={productsSelected.length}>\r\n                        {renderProductsRow}\r\n                    </FixedSizeList>\r\n                </div>\r\n            </div> \r\n            {formikCreateProduct.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-0 pt-7\" style={{width: '100%'}}>{formikCreateProduct.errors.api}</div>\r\n            }\r\n        </form>\r\n    )\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(ProductForm);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport { ListItem,ListItemText, TextField } from '@material-ui/core'\r\nimport { FixedSizeList } from 'react-window';\r\n\r\nimport { useFormik } from 'formik';\r\nimport { useStyles } from '../../../../Style/GeneralStyles';\r\n\r\n\r\nconst ProductPresentationForm = (props) => {\r\n\r\n    const { productPresentationSelected, formHasBeenSubmited, onChangeStatusForm } = props;\r\n    const classes = useStyles();\r\n\r\n    const detectFormSubmited = () => {\r\n        if(formHasBeenSubmited) {\r\n            formikCreateProduct.handleSubmit();\r\n            onChangeStatusForm();\r\n        }\r\n    }\r\n    React.useEffect(() => {\r\n\r\n        detectFormSubmited()\r\n\r\n        return () => {}\r\n        \r\n    }, [formHasBeenSubmited])\r\n\r\n\r\n    const prepareProductPresentationToSave = ({description}) => {\r\n        \r\n        let t = []\r\n        productPresentationSelected.map(x => {\r\n            let productPresentation = getItemObject(x)\r\n            if (productPresentation.code) {\r\n                t.push(productPresentation.code)\r\n            }\r\n        })\r\n        return JSON.stringify({description: description, ProductPresentationCodes: t})\r\n        \r\n    }\r\n    const validateProduct = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = 'campo obligatorio';\r\n        }\r\n\r\n        if (productPresentationSelected.some(x => x.isGroup == true)) {\r\n            errors.api = 'No es posible crear un grupo de presentaciones con elementos de tipo grupo'\r\n        }\r\n      \r\n        return errors;\r\n    };\r\n    const formikCreateProduct = useFormik({\r\n        initialValues: {\r\n          description: '',\r\n        },\r\n        validate: validateProduct,\r\n        onSubmit: async(values) => {\r\n\r\n            props.onChangeLoadingForm(true)\r\n            setTimeout(() => {\r\n                let productPresentationGroupToSave = prepareProductPresentationToSave(values)\r\n                props.createProductPresentationGroup(productPresentationGroupToSave)\r\n                    .then(() => {\r\n                        props.onChangeLoadingForm(false)\r\n                        props.onClose()\r\n                    })\r\n                    .catch((e) => {\r\n                        console.error(e)\r\n                        props.onChangeLoadingForm(false)\r\n                        //setSubmitting(false);\r\n                    });\r\n            }, 1000);\r\n        },\r\n    });\r\n\r\n    const renderProductsRow = (props) => {\r\n        const { index, style } = props;\r\n      \r\n        return (\r\n          <ListItem button style={style} key={index}>\r\n            <span className={ (productPresentationSelected[index].isGroup == true) ? \"text-danger\" : \"\"}>\r\n                {productPresentationSelected[index].label }\r\n                { productPresentationSelected[index].isGroup == true &&\r\n                    <span className=\"text-danger pl-4\" key={productPresentationSelected[index].value}><strong>&#8859;</strong></span>\r\n                }\r\n            </span>            \r\n          </ListItem>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={formikCreateProduct.handleSubmit}>\r\n            <TextField\r\n                className={`mb-4`}\r\n                fullWidth\r\n                autoComplete='off'\r\n                name=\"description\"\r\n                label=\"Descripcin\"\r\n                type='text'\r\n                onChange={formikCreateProduct.handleChange}\r\n                value={formikCreateProduct.values.description}\r\n                error={formikCreateProduct.touched.description && Boolean(formikCreateProduct.errors.description)}\r\n                helperText={formikCreateProduct.touched.description && formikCreateProduct.errors.description}                \r\n            />\r\n            <div>\r\n                <span>Seleccionados</span>\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <FixedSizeList height={200} width={'100%'} itemSize={30} itemCount={productPresentationSelected.length}>\r\n                        {renderProductsRow}\r\n                    </FixedSizeList>\r\n                </div>\r\n            </div> \r\n            {formikCreateProduct.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-0 pt-7\" style={{width: '100%'}}>{formikCreateProduct.errors.api}</div>\r\n            }            \r\n        </form>\r\n    )\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(ProductPresentationForm);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport { useFormik } from 'formik'\r\nimport { List,ListItem,ListItemText, TextField, Grid,  } from '@material-ui/core'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { FixedSizeList } from 'react-window';\r\nimport { customMarketDetailDefault } from '../../customMarketDetailDefault'\r\nimport { useStyles } from '../../../../Style/GeneralStyles';\r\n\r\n\r\nconst MarketAssignForm = (props) => {\r\n\r\n    const { itemsSelecteds, customMarketGroups, formHasBeenSubmited, onChangeStatusForm, customMarketType } = props;\r\n    const classes = useStyles();\r\n\r\n    const detectFormSubmited = () => {\r\n        if(formHasBeenSubmited) {\r\n            formikAsignMarket.handleSubmit();\r\n            onChangeStatusForm();\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n\r\n        detectFormSubmited()\r\n\r\n        return () => {}\r\n        \r\n    }, [formHasBeenSubmited])\r\n\r\n    const prepareToSaveCustomMarket = ({customMarketGroup}) => {        \r\n        let copyCustomMarket = JSON.parse(JSON.stringify(props.customMarket.data))        \r\n\r\n        itemsSelecteds.map(x => {\r\n            if(customMarketType == 'marketAssignFromProduct') {\r\n                let product = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                if(product && product.productGroupCode) {\r\n                    \r\n                    customMarketDetailValues.productGroupCode = product.productGroupCode\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                if(product && product.productCode) {\r\n                    customMarketDetailValues.productCode = product.productCode\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n            }\r\n            if(customMarketType == 'marketAssignFromPharmaceuticalForm') {\r\n                let pharmaceuticalForm = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                \r\n                if(pharmaceuticalForm && pharmaceuticalForm.code) {\r\n                    customMarketDetailValues.pharmaceuticalFormCode = pharmaceuticalForm.code\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n\r\n            }\r\n            if(customMarketType == 'marketAssignFromProductPresentation') {\r\n                let productPresentation = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n\r\n                if (productPresentation && productPresentation.code) {\r\n                    customMarketDetailValues.productPresentationCode = productPresentation.code;\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                \r\n                if (productPresentation && productPresentation.productPresentationGroupCode) {\r\n                    customMarketDetailValues.productPresentationGroupCode = productPresentation.productPresentationGroupCode;\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                \r\n            }\r\n            if(customMarketType == 'marketAssignFromLaboratory') {\r\n                let laboratory = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                \r\n                if(laboratory && laboratory.laboratoryGroupCode) {\r\n                    customMarketDetailValues.laboratoryGroupCode = laboratory.laboratoryGroupCode\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                if(laboratory && laboratory.laboratoryCode) {\r\n                    customMarketDetailValues.laboratoryCode = laboratory.laboratoryCode\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n\r\n                }\r\n            }\r\n            if(customMarketType == 'marketAssignFromDrug') {\r\n                let drug = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n\r\n                if(drug && drug.drugCode) {\r\n                    customMarketDetailValues.drugCode = drug.drugCode\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                if(drug && drug.drugGroupCode) {\r\n                    customMarketDetailValues.drugGroupCode = drug.drugGroupCode\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                \r\n            }\r\n            if(customMarketType == 'marketAssignFromTherapeuticalClass') {\r\n                let therapeuticalClass = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                \r\n                if(therapeuticalClass && therapeuticalClass.code) {\r\n                    customMarketDetailValues.therapeuticalClassCode = therapeuticalClass.code\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                \r\n            }\r\n            if(customMarketType == 'marketAssignFromMarkets') {\r\n                let market = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                if(market && market.code) {\r\n                    customMarketDetailValues.detailCustomMarketCode = market.code\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                \r\n            }\r\n        })\r\n\r\n        return copyCustomMarket;\r\n        \r\n    }\r\n    const validateAsignMarket = values => {\r\n        const errors = {};\r\n        if (!values.customMarketGroup) {\r\n          errors.customMarketGroup = 'campo obligatorio';\r\n        }\r\n      \r\n        return errors;\r\n    };\r\n    const formikAsignMarket = useFormik({\r\n        initialValues: {\r\n            customMarketGroup: -1,\r\n        },\r\n        validate: validateAsignMarket,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            props.onChangeLoadingForm(true)\r\n            setTimeout(async () => {\r\n                try {\r\n                    let customMarketToSave = prepareToSaveCustomMarket(values)\r\n                    await props.updateCustomMarket(customMarketToSave)            \r\n                    props.onChangeLoadingForm(false)\r\n                    props.onClose()\r\n                } catch (e) {\r\n                    if (e.response && e.response.data && e.response.data.detailCustomMarketCode) {\r\n                        let customMarketObjError = itemsSelecteds.filter(is =>  e.response.data.detailCustomMarketCode == getItemObject(is).code) \r\n                        if (customMarketObjError && customMarketObjError[0] && customMarketObjError[0].label) {\r\n                            setErrors( {api: 'No se ha podido asignar el mercado: ' + customMarketObjError[0].label } )\r\n                        } else {\r\n                            setErrors( {api: \"No se ha podido completar la accin\"} )    \r\n                        }\r\n                    } else {\r\n                        setErrors( {api: \"No se ha podido completar la accin\"} )\r\n                    }\r\n                    props.onChangeLoadingForm(false)\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 1000);\r\n        },\r\n    });\r\n\r\n    const renderProductsRow = (props) => {\r\n        const { index, style } = props;\r\n      \r\n        return (\r\n          <ListItem style={{...style, backgroundColor: 'rgb(160 158 158 / 4%)', borderBottom: '1px solid #423a3a'}} key={index}>\r\n            <span>\r\n                {itemsSelecteds[index].label }\r\n                { itemsSelecteds[index].isGroup == true &&\r\n                    <span className=\"text-primary pl-4\" key={itemsSelecteds[index].value}><strong>&#8859;</strong></span>\r\n                }\r\n            </span>\r\n          </ListItem>\r\n        );\r\n    }\r\n    return (\r\n        <form onSubmit={formikAsignMarket.handleSubmit}>\r\n            <FormControl className={classes.formControl} style={{display: 'flow-root'}}>\r\n                <label \r\n                    style={{fontSize: '14px'}}\r\n                    className={(formikAsignMarket.touched.customMarketGroup && Boolean(formikAsignMarket.errors.customMarketGroup)) ? 'm-0 pf-10 pr-10 MuiFormLabel-root Mui-error' : 'm-0 pf-10 pr-10 pf-10' }>\r\n                        Agrupacin\r\n                </label>\r\n                <Select\r\n                    id=\"customMarketGroup\"\r\n                    name='customMarketGroup'\r\n                    value={formikAsignMarket.values.customMarketGroup}\r\n                    onChange={formikAsignMarket.handleChange}\r\n                    displayEmpty\r\n                    style={{margin: '0px'}}\r\n                    className={classes.selectEmpty}\r\n                >\r\n                <MenuItem key='default' value={-1}>SIN AGRUPACIN</MenuItem>\r\n                {customMarketGroups && customMarketGroups.data && customMarketGroups.data.length > 0 && (customMarketGroups.data.map((cmg, index) => {\r\n                    return (<MenuItem \r\n                                key={cmg.code} \r\n                                value={cmg.code}\r\n                                className={(cmg.groupCondition == 'N') ? 'text-danger' : (cmg.groupCondition == 'A') ? 'text-primary' : ''}\r\n                                >\r\n                                <label className={(cmg.groupCondition == 'N') ? 'text-danger' : (cmg.groupCondition == 'A') ? 'text-primary' : ''}>\r\n                                    {cmg.description.toUpperCase()}\r\n                                </label>\r\n                            </MenuItem>)\r\n                    }))\r\n                }\r\n                </Select>\r\n                {formikAsignMarket.touched.customMarketGroup && Boolean(formikAsignMarket.errors.customMarketGroup) &&\r\n                    <p className=\"MuiFormHelperText-root Mui-error\">{formikAsignMarket.touched.customMarketGroup && formikAsignMarket.errors.customMarketGroup}</p>\r\n                }                    \r\n            </FormControl>\r\n            <div className=\"mt-10\">\r\n                <span style={{fontSize: '14px'}}>Seleccionados</span>\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <FixedSizeList height={200} width={'100%'} itemSize={30} itemCount={itemsSelecteds.length}>\r\n                        {renderProductsRow}\r\n                    </FixedSizeList>\r\n                </div>\r\n            </div> \r\n            {formikAsignMarket.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-0 pt-7\" style={{width: '100%'}}>{formikAsignMarket.errors.api}</div>\r\n            }\r\n        </form>   \r\n    )\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return { \r\n        mercados: state.mercados,\r\n        customMarketGroups: state.mercados.customMarketGroups,\r\n        customMarket: state.mercados.customMarket,\r\n      }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(MarketAssignForm);","export function customMarketDetailDefault() {\r\n    return {\r\n        intemodifier: \"1\",\r\n        modifier: \"1\",\r\n        ensureVisible: false,\r\n        expand: false,\r\n        graphs: false,\r\n        resume: false,        \r\n        itemCondition: 'O',\r\n        pattern: '',\r\n        productTypeCode: null \r\n    };\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport { useFormik } from 'formik'\r\nimport { ListItem,ListItemText, TextField  } from '@material-ui/core'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { FixedSizeList } from 'react-window';\r\nimport { useStyles } from '../../../../Style/GeneralStyles';\r\n\r\n\r\nconst LaboratoryForm = (props) => {\r\n\r\n    const { laboratoriesSelecteds,  formHasBeenSubmited, onChangeStatusForm } = props;\r\n    const classes = useStyles();\r\n                                                \r\n    const detectFormSubmited = () => {\r\n        if(formHasBeenSubmited) {\r\n            formikCreateLaboratory.handleSubmit();\r\n            onChangeStatusForm();\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n\r\n        detectFormSubmited()\r\n\r\n        return () => {}\r\n        \r\n    }, [formHasBeenSubmited])\r\n\r\n    const prepareSaveLaboratory = ({description, clase}) => {\r\n        \r\n        let t = []\r\n        laboratoriesSelecteds.map(lab => {\r\n            let laboratory = getItemObject(lab)\r\n            if(laboratory && laboratory.laboratoryCode) {\r\n                t.push(laboratory.laboratoryCode)\r\n            }\r\n        })\r\n        return JSON.stringify({description, class: clase,  laboratoryCodes: t})\r\n        \r\n    }\r\n    const validateLaboratory = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = 'campo obligatorio';\r\n        }\r\n      \r\n        if (!values.clase) {\r\n          errors.clase = 'campo obligatorio';\r\n        }\r\n\r\n        if (laboratoriesSelecteds.some(x => x.isGroup == true)) {\r\n            errors.api = 'No es posible crear un grupo de laboratorios con elementos de tipo grupo'\r\n        }        \r\n      \r\n        return errors;\r\n    };\r\n    const formikCreateLaboratory = useFormik({\r\n        initialValues: {\r\n          description: '',\r\n          clase: ''\r\n        },\r\n        validate: validateLaboratory,\r\n        onSubmit: async(values) => {\r\n            props.onChangeLoadingForm(true)\r\n            setTimeout(() => {\r\n                let prepareLaboratory = prepareSaveLaboratory(values)\r\n                props.createLaboratoryGroup(prepareLaboratory)\r\n                    .then(() => {\r\n                        props.onChangeLoadingForm(false)\r\n                        props.onClose()\r\n                    })\r\n                    .catch((e) => {\r\n                        console.error(e)\r\n                        props.onChangeLoadingForm(false)\r\n                        //setSubmitting(false);\r\n                    });\r\n                }, 1000);\r\n        },\r\n    });\r\n\r\n    const renderLaboratoriesRow = (props) => {\r\n        const { index, style } = props;\r\n      \r\n        return (\r\n          <ListItem button style={style} key={index}>\r\n            <span className={ (laboratoriesSelecteds[index].isGroup == true) ? \"text-danger\" : \"\"}>\r\n                {laboratoriesSelecteds[index].label }\r\n                { laboratoriesSelecteds[index].isGroup == true &&\r\n                    <span className=\"text-danger pl-4\" key={laboratoriesSelecteds[index].value}><strong>&#8859;</strong></span>\r\n                }\r\n            </span>                       \r\n          </ListItem>\r\n        );\r\n    }\r\n    return (\r\n        <form onSubmit={formikCreateLaboratory.handleSubmit}>\r\n            <TextField\r\n                className={`mb-4`}\r\n                fullWidth\r\n                autoComplete='off'\r\n                name=\"description\"\r\n                label=\"Descripcin\"\r\n                type='text'\r\n                onChange={formikCreateLaboratory.handleChange}\r\n                value={formikCreateLaboratory.values.description}\r\n                error={formikCreateLaboratory.touched.description && Boolean(formikCreateLaboratory.errors.description)}\r\n                helperText={formikCreateLaboratory.touched.description && formikCreateLaboratory.errors.description}\r\n            />\r\n            <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label className={(formikCreateLaboratory.touched.clase && Boolean(formikCreateLaboratory.errors.clase)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>Clase</label>\r\n                <Select\r\n                    className={`mt-0`}\r\n                    fullWidth\r\n                    id=\"clase\"\r\n                    name=\"clase\"\r\n                    value={formikCreateLaboratory.values.clase}\r\n                    onChange={formikCreateLaboratory.handleChange}\r\n                    error={formikCreateLaboratory.touched.clase && Boolean(formikCreateLaboratory.errors.clase)}\r\n                    helperText={formikCreateLaboratory.touched.clase && formikCreateLaboratory.errors.clase}\r\n                >\r\n                    <MenuItem value={'T'} key={1}>Total</MenuItem>\r\n                    <MenuItem value={'E'} key={2}>Etico</MenuItem>\r\n                    <MenuItem value={'P'} key={3}>Popular</MenuItem>\r\n                </Select>\r\n                {formikCreateLaboratory.touched.clase && Boolean(formikCreateLaboratory.errors.clase) &&\r\n                  <p className=\"MuiFormHelperText-root Mui-error\">{formikCreateLaboratory.touched.clase && formikCreateLaboratory.errors.clase}</p>\r\n                }                \r\n            </FormControl>\r\n            <div>\r\n                <span>Seleccionados</span>\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <FixedSizeList height={200} width={'100%'} itemSize={30} itemCount={laboratoriesSelecteds.length}>\r\n                        {renderLaboratoriesRow}\r\n                    </FixedSizeList>\r\n                </div>\r\n            </div> \r\n            {formikCreateLaboratory.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-0 pt-7\" style={{width: '100%'}}>{formikCreateLaboratory.errors.api}</div>\r\n            }            \r\n        </form>   \r\n    )\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(LaboratoryForm);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport { useFormik } from 'formik'\r\nimport { List,ListItem,ListItemText, TextField, Grid,  } from '@material-ui/core'\r\nimport { FixedSizeList } from 'react-window';\r\nimport { useStyles } from '../../../../Style/GeneralStyles';\r\n\r\n\r\nconst DrugForm = (props) => {\r\n\r\n    const { drugSelecteds, formHasBeenSubmited, onChangeStatusForm } = props;\r\n    const classes = useStyles();\r\n\r\n    const detectFormSubmited = () => {\r\n        if(formHasBeenSubmited) {\r\n            formikCreateDrug.handleSubmit();\r\n            onChangeStatusForm();\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n\r\n        detectFormSubmited()\r\n\r\n        return () => {}\r\n        \r\n    }, [formHasBeenSubmited])\r\n\r\n    const prepareDrugToSave = ({description}) => {\r\n        \r\n        let t = []\r\n        drugSelecteds.map(x => {\r\n            let drug = getItemObject(x)\r\n            t.push(drug.drugCode)\r\n        })\r\n        return JSON.stringify({description: description, drugCodes: t})\r\n        \r\n    }\r\n    const validateDrug = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = 'campo obligatorio';\r\n        }\r\n\r\n        if (drugSelecteds.some(x => x.isGroup == true)) {\r\n            errors.api = 'No es posible crear un grupo de drogas con elementos de tipo grupo'\r\n        }                \r\n      \r\n        return errors;\r\n    };\r\n    const formikCreateDrug = useFormik({\r\n        initialValues: {\r\n          description: '',\r\n        },\r\n        validate: validateDrug,\r\n        onSubmit: async(values) => {\r\n            props.onChangeLoadingForm(true)\r\n            setTimeout(() => {\r\n                let drugsGroupToSave = prepareDrugToSave(values)\r\n                props.createDrugGroup(drugsGroupToSave)\r\n                    .then(() => {\r\n                        props.onChangeLoadingForm(false)\r\n                        props.onClose()\r\n                    })\r\n                    .catch((e) => {\r\n                        console.error(e)\r\n                        props.onChangeLoadingForm(false)\r\n                        //setSubmitting(false);\r\n                    });\r\n                }, 1000);\r\n        },\r\n    });\r\n    \r\n\r\n    const renderDrugsRow = (props) => {\r\n        const { index, style } = props;\r\n      \r\n        return (\r\n          <ListItem button style={style} key={index}>\r\n            <span className={ (drugSelecteds[index].isGroup == true) ? \"text-danger\" : \"\"}>\r\n                {drugSelecteds[index].label }\r\n                { drugSelecteds[index].isGroup == true &&\r\n                    <span className=\"text-danger pl-4\" key={drugSelecteds[index].value}><strong>&#8859;</strong></span>\r\n                }\r\n            </span>                                  \r\n          </ListItem>\r\n        );\r\n    }\r\n    return (\r\n        <form onSubmit={formikCreateDrug.handleSubmit}>\r\n            <TextField\r\n                className={`mb-4`}\r\n                fullWidth\r\n                autoComplete='off'\r\n                name=\"description\"\r\n                label=\"Descripcin\"\r\n                type='text'\r\n                onChange={formikCreateDrug.handleChange}\r\n                value={formikCreateDrug.values.description}\r\n                error={formikCreateDrug.touched.description && Boolean(formikCreateDrug.errors.description)}\r\n                helperText={formikCreateDrug.touched.description && formikCreateDrug.errors.description}\r\n            />\r\n            <div>\r\n                <span>Seleccionados</span>\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <FixedSizeList height={200} width={'100%'} itemSize={30} itemCount={drugSelecteds.length}>\r\n                        {renderDrugsRow}\r\n                    </FixedSizeList>\r\n                </div>\r\n            </div> \r\n            {formikCreateDrug.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-0 pt-7\" style={{width: '100%'}}>{formikCreateDrug.errors.api}</div>\r\n            }                        \r\n        </form>   \r\n    )\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return { \r\n        mercados: state.mercados,\r\n      }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(DrugForm);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport { useFormik } from 'formik'\r\nimport * as Yup from \"yup\";\r\nimport { TextField } from '@material-ui/core'\r\nimport { injectIntl, FormattedMessage } from \"react-intl\";\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { useStyles } from '../../../../Style/GeneralStyles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n\r\nconst CustomMarketPreviewForm = (props) => {\r\n\r\n    const { action, formHasBeenSubmited, onChangeStatusForm, intl, productTypes } = props;\r\n    const [loading, setLoading] = React.useState(false);\r\n    const classes = useStyles();\r\n\r\n    const detectFormSubmited = () => {\r\n        if(formHasBeenSubmited) {\r\n            onChangeStatusForm();\r\n            if(action.type == 'delete') {\r\n                props.onDelete(action.item)\r\n            }else{\r\n                formik.handleSubmit();\r\n            }\r\n        }\r\n    }\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n\r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };\r\n\r\n    const initialValues = {\r\n        intemodifier: action.type == 'edit' ? action.item.intemodifier :  '',\r\n        modifier: action.type == 'edit' ? action.item.modifier : '',\r\n        ensureVisible: action.type == 'edit' ? Boolean(action.item.ensureVisible) : '',\r\n        expand: action.type == 'edit' ? Boolean(action.item.expand) : '',\r\n        graph: action.type == 'edit' ? Boolean(action.item.graph) : '',\r\n        resume: action.type == 'edit' ? Boolean(action.item.resume) : '',\r\n        id: action.type == 'edit' ? action.item.id : '',\r\n        productPresentationCode: action.type == 'edit' ? action.item.productPresentationCode : '',\r\n        pattern: action.type == 'edit' ? action.item.pattern : '',\r\n        productTypeCode: action.type == 'edit' ? action.item.productTypeCode : ''\r\n\r\n    };\r\n    \r\n    React.useEffect(() => {\r\n\r\n        detectFormSubmited()\r\n\r\n        return () => {}\r\n        \r\n    }, [formHasBeenSubmited])\r\n\r\n\r\n    const Schema = Yup.object().shape({\r\n        intemodifier: Yup.string()     \r\n        .test(\r\n            'is-decimal',   \r\n            'Formato invalido',\r\n            value => value == undefined || (value + \"\").match(/^[0-9]+([,][0-9]{1,2})?$/) ,\r\n        ),\r\n        modifier:  Yup.string()\r\n        .test(\r\n            'is-decimal',   \r\n            'Formato invalido',\r\n            value => value == undefined || (value + \"\").match(/^[0-9]+([,][0-9]{1,2})?$/) ,\r\n        ),\r\n      });        \r\n    \r\n    const formik = useFormik({\r\n        initialValues,\r\n        validationSchema: Schema,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            //props.onChangeLoadingForm(true)\r\n            //setTimeout(async () => {\r\n                //try {\r\n                    props.onUpdate(values)\r\n                    //props.onChangeLoadingForm(false)\r\n                    handleClose()\r\n                /*} catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    props.onChangeLoadingForm(false)\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }*/\r\n            //}, 1000);\r\n        },\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.onClose();\r\n    }\r\n\r\n    \r\n    if(action.type == 'edit') {\r\n        return (\r\n            <form\r\n                onSubmit={formik.handleSubmit}\r\n                className=\"form fv-plugins-bootstrap fv-plugins-framework\"\r\n            >\r\n            {formik.status ? (\r\n            <div className=\"mb-10 alert alert-custom alert-light-danger alert-dismissible\">\r\n                <div className=\"alert-text font-weight-bold\">{formik.status}</div>\r\n            </div>\r\n            ): null }\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.INTEMODIFIER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"intemodifier\"\r\n                    name=\"intemodifier\"\r\n                    label={intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.INTEMODIFIER\"})}\r\n                    type=\"text\"\r\n                    value={formik.values.intemodifier}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.intemodifier && Boolean(formik.errors.intemodifier)}\r\n                    helperText={formik.touched.intemodifier && formik.errors.intemodifier}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.MODIFIER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"modifier\"\r\n                    name=\"modifier\"\r\n                    label={intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.MODIFIER\"})}\r\n                    type=\"text\"\r\n                    value={formik.values.modifier}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.modifier && Boolean(formik.errors.modifier)}\r\n                    helperText={formik.touched.modifier && formik.errors.modifier}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.ENSURE_VISIBLE\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        {intl.formatMessage({id:\"CUSTOM_MARKET_DETAIL.ENSURE_VISIBLE\"})}\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"ensureVisible\"\r\n                        name=\"ensureVisible\"\r\n                        label=\"ensureVisible\"\r\n                        value={formik.values.ensureVisible}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.ensureVisible && Boolean(formik.errors.ensureVisible)}\r\n                        helperText={formik.touched.ensureVisible && formik.errors.ensureVisible}\r\n                    >\r\n                        <MenuItem key='yes' value={true} selected={formik.values.ensureVisible === true ? true : false}>\r\n                        <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false} selected={formik.values.ensureVisible === false ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.EXPAND\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.EXPAND\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"expand\"\r\n                        name=\"expand\"\r\n                        label=\"expand\"\r\n                        value={formik.values.expand}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.expand && Boolean(formik.errors.expand)}\r\n                        helperText={formik.touched.expand && formik.errors.expand}\r\n                    >\r\n                        <MenuItem key='yes' value={true} selected={action.item.expand == true ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false} selected={action.item.expand == false ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl> \r\n            </Tooltip>         \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.GRAPHS\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.GRAPHS\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"graphs\"\r\n                        name=\"graph\"\r\n                        label=\"graph\"\r\n                        value={formik.values.graph}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.graph && Boolean(formik.errors.graph)}\r\n                        helperText={formik.touched.graph && formik.errors.graph}\r\n                    >\r\n                        <MenuItem key='yes' value={true} selected={formik.values.graph == true ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false} selected={formik.values.graph == false ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl> \r\n            </Tooltip>     \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.RESUME\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.RESUME\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"resume\"\r\n                        name=\"resume\"\r\n                        label=\"resume\"\r\n                        value={formik.values.resume}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.resume && Boolean(formik.errors.resume)}\r\n                        helperText={formik.touched.resume && formik.errors.resume}\r\n                    >\r\n                        <MenuItem key='yes' value={true} selected={formik.values.resume == true ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false} selected={formik.values.resume == false ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.PATTERN\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"pattern\"\r\n                    name=\"pattern\"\r\n                    label={intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.PATTERN\"})}\r\n                    type=\"text\"\r\n                    value={formik.values.pattern}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.pattern && Boolean(formik.errors.pattern)}\r\n                    helperText={formik.touched.pattern && formik.errors.pattern}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.PRODUCT_TYPE\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.PRODUCT_TYPE\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"productTypeCode\"\r\n                        name=\"productTypeCode\"\r\n                        label=\"productTypeCode\"\r\n                        value={formik.values.productTypeCode}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.productTypeCode && Boolean(formik.errors.productTypeCode)}\r\n                        helperText={formik.touched.productTypeCode && formik.errors.productTypeCode}\r\n                    >\r\n                        <MenuItem key='-1' value={\"\"}>&nbsp;</MenuItem>\r\n                        {productTypes && (productTypes.map((pt, index) => {\r\n                                return <MenuItem key={pt.code} value={pt.code}>{pt.description.toUpperCase()}</MenuItem>\r\n                            }))\r\n                        }\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n        </form>\r\n        )\r\n\r\n    }\r\n    return null\r\n\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return { \r\n        mercados: state.mercados,\r\n        productTypes: state.mercados.producttypes,\r\n        productPresentation: state.mercados.productpresentations,\r\n        \r\n      }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(CustomMarketPreviewForm));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { MarketAssignForm, ProductForm, ProductPresentationForm } from './Forms'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst ProductTabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, products, loadingProducts } = props\r\n\r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ formBtnSubmitDisabled, setFormBtnSubmitDisabled ] = React.useState(false)\r\n    const [ loadingPharmaceuticalForms, setLoadingPharmaceuticalForms] = React.useState(false);\r\n    const [ pharmaceuticalForms, setPharmaceuticalForms ] = React.useState([])\r\n    const [ loadingProductPresentation, setLoadingProductPresentation] = React.useState(false);\r\n    const [ productsSelected, setProductsSelected ] = React.useState([])\r\n    const [ dialogVisibleForProducts, setDialogVisibleForProducts ] = React.useState(false);\r\n    const [ pharmaceuticalFormSelected, setPharmaceuticalFormSelecteds ] = React.useState([])\r\n    const [ productPresentation, setProductPresentation ] = React.useState([])\r\n    const [ productPresentationSelected, setProductPresentationSelected ] = React.useState([])\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n    const [ dialogVisibleForPresentation , setDialogVisibleForPresentation] = React.useState(false)\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n\r\n    const getAllProducts = async(itemsChecked) => {\r\n        await props.getProducts(itemsChecked);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (!products) {\r\n            getAllProducts(null)\r\n        }\r\n    },[])\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadProductVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])    \r\n\r\n    React.useEffect(() => {\r\n        getProductPresentationsByPharmaceuticalForm()\r\n     }, [pharmaceuticalForms]);    \r\n\r\n    const reloadProductVirtualizedCheckbox = () => {\r\n        \r\n        props.dispatchProductLoading(true)\r\n        if (products) {\r\n            let productsAllUnchecked = products.map(p => ({ ...p, checked: false }));\r\n            props.dispatchProducts(productsAllUnchecked)\r\n            onSelectProduct([])\r\n            setPharmaceuticalFormSelecteds([])\r\n            setProductPresentationSelected([])\r\n        }\r\n        props.dispatchProductLoading(false)        \r\n    }\r\n\r\n    const reloadPharmaceuticalFormVirtualizedCheckbox = async () => {\r\n\r\n        setPharmaceuticalFormSelecteds([])\r\n        setProductPresentationSelected([])\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n\r\n        productsSelected.map(productItem => {               \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        \r\n        await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes, true)\r\n    }    \r\n\r\n    const reloadProductPresentationVirtualizedCheckbox = async () => {\r\n        \r\n        setProductPresentationSelected([])\r\n        let pharmaceuticalFormCodes = []\r\n\r\n        pharmaceuticalFormSelected.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        \r\n        await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes, true)\r\n    } \r\n\r\n    const getPharmaceuticalFormByProduct = async (productCodes, productGroupCodes, resetChecked = false) => {\r\n        setLoadingPharmaceuticalForms(true)\r\n        let pharmaceuticalFormPreviousSelecteds = !resetChecked ? pharmaceuticalForms.filter(x => x.checked ==true) : []\r\n        await props.getPharmaceuticalFormsByProduct(productCodes.join(','), productGroupCodes.join(',')) \r\n            .then(async (pharmaceuticalformsResponse) => {\r\n                let pharmaceuticalforms = pharmaceuticalformsResponse.map(pharmaceuticalform => {\r\n                    if (pharmaceuticalFormPreviousSelecteds.some(x => x.value == pharmaceuticalform.value)) {\r\n                        pharmaceuticalform.checked = true\r\n                    }\r\n                    return pharmaceuticalform\r\n                })            \r\n\r\n                setPharmaceuticalForms(pharmaceuticalforms)\r\n                setPharmaceuticalFormSelecteds(pharmaceuticalforms.filter(x => x.checked === true))\r\n                setLoadingPharmaceuticalForms(false)\r\n        })    \r\n    }\r\n\r\n    const getProductPresentationsByPharmaceuticalForm = async (pharmaceuticalFormCodes, resetChecked = false) => {\r\n        if (pharmaceuticalFormCodes == null || pharmaceuticalFormCodes == undefined) {\r\n            pharmaceuticalFormCodes = []\r\n            let pharmaceuticalFormsPreviousSelecteds = pharmaceuticalForms.filter(pfItem => pfItem.checked == true)\r\n            pharmaceuticalFormsPreviousSelecteds.map(pharmaceuticalFormItem => {            \r\n                let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n                pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n            })\r\n\r\n            if (pharmaceuticalFormCodes.length == 0) {\r\n                setProductPresentation([])\r\n                setProductPresentationSelected([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingProductPresentation(true)\r\n\r\n        let productCodes = productsSelected.map(productItem => {               \r\n            return getItemObject(productItem).productCode || null\r\n        })\r\n        productCodes = productCodes.filter(p => p !== null)\r\n\r\n        let productGroupCodes = productsSelected.map(productItem => {               \r\n            return getItemObject(productItem).productGroupCode || null\r\n        })        \r\n        productGroupCodes = productGroupCodes.filter(p => p !== null)\r\n\r\n        let productPresentationPreviousSelecteds = !resetChecked ? productPresentation.filter(x => x.checked ==true) : []\r\n        await props.getPresentationsbyPharmaceuticalForms(pharmaceuticalFormCodes.join(','), productCodes.join(','), productGroupCodes.join(',')) \r\n            .then((productPresentationsResponse) => {\r\n                let productPresentations = productPresentationsResponse.map(productPresentation => {\r\n                    if (productPresentationPreviousSelecteds.some(x => x.value == productPresentation.value)) {\r\n                        productPresentation.checked = true\r\n                    }\r\n                    return productPresentation\r\n                })            \r\n                setProductPresentation(productPresentations)\r\n                setProductPresentationSelected(productPresentations.filter(x => x.checked === true))\r\n                setLoadingProductPresentation(false)\r\n        })    \r\n    }\r\n\r\n    const onSelectProduct = async(items) => {\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(productItem => {               \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n\r\n        setProductsSelected(itemsChecked)\r\n        if(productsCodes.length > 0  || productGroupsCodes.length > 0) {\r\n            await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes)\r\n        } else {\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }\r\n    }\r\n\r\n    const onSelectPharmaceuticalForms = async(items) => {\r\n        let pharmaceuticalFormCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n\r\n        setPharmaceuticalFormSelecteds(itemsChecked)\r\n        if(pharmaceuticalFormCodes.length > 0) {\r\n            await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes)\r\n        } else {\r\n            setProductPresentation([])\r\n            setProductPresentationSelected([])\r\n        }   \r\n    }\r\n\r\n    const onSelectProductPresentation = async(items) => {\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n        setProductPresentationSelected(itemsChecked)\r\n    }\r\n\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'marketAssignFromProduct') {\r\n            if(productsSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productsSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'createProductGroup') {\r\n            if(productsSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForProducts(true)\r\n            }\r\n        } else if(action == 'createPresentationGroup') {\r\n            if(productPresentationSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForPresentation(true)\r\n            }\r\n        } else if(action == 'marketAssignFromPharmaceuticalForm') {\r\n            if(pharmaceuticalFormSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(pharmaceuticalFormSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'marketAssignFromProductPresentation') {\r\n            if(productPresentationSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productPresentationSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const refreshVirtualizedCheckbox = async () => {\r\n\r\n        closeDialog()\r\n        \r\n        if(marketAssignType == 'marketAssignFromProduct') {\r\n            reloadProductVirtualizedCheckbox()\r\n        } else if (marketAssignType == 'createProductGroup') {\r\n            reloadProductVirtualizedCheckbox()\r\n            await getAllProducts(null)                \r\n        } else if(marketAssignType == 'marketAssignFromPharmaceuticalForm') {\r\n            await reloadPharmaceuticalFormVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromProductPresentation'  || marketAssignType == 'createPresentationGroup') {\r\n            await reloadProductPresentationVirtualizedCheckbox()\r\n        }\r\n\r\n    }\r\n    \r\n    const closeDialog = () => {\r\n        setMarketAssignItems([])\r\n        setMarketAssignType('')\r\n        setFormLoading(false)\r\n        setFormHasBeenSubmited(false)\r\n        setDialogVisibleForProducts(false)\r\n        setDialogVisibleForPresentation(false)\r\n        setDialogVisibleForMarketAssing(false)      \r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n            setFormBtnSubmitDisabled(true)\r\n        },\r\n        []\r\n    );\r\n    \r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={products}\r\n                                    isLoading={loadingProducts}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT\"})}\r\n                                    onChange={onSelectProduct}\r\n                                    onSelectAllChange={onSelectProduct}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createProductGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromProduct'},\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={pharmaceuticalForms}\r\n                                    isLoading={loadingProducts || loadingPharmaceuticalForms}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PHARMACEUTICAL_FORM\"})}\r\n                                    onChange={onSelectPharmaceuticalForms}\r\n                                    onSelectAllChange={onSelectPharmaceuticalForms}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromPharmaceuticalForm'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={6} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={productPresentation}\r\n                                    isLoading={loadingProducts || loadingPharmaceuticalForms || loadingProductPresentation}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT_PRESENTATION\"})}\r\n                                    onChange={onSelectProductPresentation}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action: 'createPresentationGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromProductPresentation'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={() => closeDialog()}\r\n                        btnDisabled={formBtnSubmitDisabled}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForProducts}\r\n                    >\r\n                        <ProductForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productsSelected={productsSelected} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={()=> refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={() => setDialogVisibleForMarketAssing(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                        <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={()=> refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForPresentation(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForPresentation}\r\n                    >\r\n                        <ProductPresentationForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productPresentationSelected={productPresentationSelected} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={()=> refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    \r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n      customMarket: state.mercados.customMarket,\r\n      products: state.mercados.products,\r\n      loadingProducts: state.mercados.loadingProducts\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(ProductTabContainer));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport { MarketAssignForm, DrugForm, ProductForm, ProductPresentationForm, LaboratoryForm } from './Forms'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst DrugabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, drugs, loadingDrugs } = props\r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    const [ loadingProducts, setLoadingProducts] = React.useState(false);\r\n    const [ products, setProducts ] = React.useState([])\r\n    const [ loadingPharmaceuticalForms, setLoadingPharmaceuticalForms] = React.useState(false);\r\n    const [ pharmaceuticalForms, setPharmaceuticalForms ] = React.useState([])\r\n    const [ loadingProductPresentation, setLoadingProductPresentation] = React.useState(false);\r\n    const [ productPresentation, setProductPresentation ] = React.useState([])\r\n    const [ drugSelecteds, setDrugSelecteds] = React.useState([])\r\n    const [ dialogVisibleForDrugs, setDialogVisibleForDrugs ] = React.useState(false);\r\n    const [ productSelecteds, setProductSelecteds] = React.useState([])\r\n    const [ dialogVisibleForProducts, setDialogVisibleForProducts ] = React.useState(false);\r\n    const [ dialogVisibleForPresentation , setDialogVisibleForPresentation] = React.useState(false)\r\n    const [ productPresentationSelecteds, setProductPresentationSelecteds ] = React.useState([])\r\n    const [ pharmaceuticalFormSelecteds, setPharmaceuticalFormsSelecteds ] = React.useState([])\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n\r\n    const getAllDrugs = async(itemsChecked) => {\r\n        await props.getDrugs(itemsChecked);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadDrugVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])\r\n\r\n    React.useEffect(() => {\r\n        if (!drugs) {\r\n            getAllDrugs(null)\r\n        }\r\n\r\n    },[])\r\n\r\n    React.useEffect(() => {\r\n        getPharmaceuticalFormByProduct()\r\n     }, [products]);      \r\n     \r\n    React.useEffect(() => {\r\n        getProductPresentationsByPharmaceuticalForm()\r\n    }, [pharmaceuticalForms]);           \r\n\r\n    const reloadDrugVirtualizedCheckbox = () => {\r\n        props.dispatchDrugsLoading(true)\r\n        if (drugs) {\r\n            let drugsAllUnchecked = drugs.map(d => ({ ...d, checked: false }));\r\n            props.dispatchDrugs(drugsAllUnchecked)\r\n            onSelectDrugs([])\r\n            onSelectProducts([])\r\n            onSelectPharmaceuticalForms([])\r\n            onSelectProductPresentation([])\r\n        }\r\n        props.dispatchDrugsLoading(false)        \r\n    }\r\n\r\n    const reloadProductVirtualizedCheckbox = async () => {\r\n\r\n        setProductSelecteds([])\r\n        setPharmaceuticalFormsSelecteds([])\r\n        setProductPresentationSelecteds([])\r\n\r\n\r\n        let drugCodes = []\r\n        let drugGroupCodes = []\r\n\r\n        drugSelecteds.map(drugItem => {\r\n            if(drugItem.checked) {                \r\n                let drug = getItemObject(drugItem)\r\n                if (drug.drugCode) {\r\n                    drugCodes.push(drug.drugCode)\r\n                } else if (drug.drugGroupCode) {\r\n                    drugGroupCodes.push(drug.drugGroupCode)\r\n                }\r\n    \r\n            }\r\n        })\r\n\r\n        await getProductByDrug(drugCodes, drugGroupCodes, true)\r\n    }\r\n\r\n    const reloadPharmaceuticalFormVirtualizedCheckbox = async () => {\r\n        setPharmaceuticalFormsSelecteds([])\r\n        setProductPresentationSelecteds([])\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n\r\n        productSelecteds.map(productItem => {               \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        \r\n        await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes, true)        \r\n    }\r\n\r\n    const reloadProductPresentationVirtualizedCheckbox = async () => {\r\n        \r\n        setProductPresentationSelecteds([])\r\n        let pharmaceuticalFormCodes = []\r\n\r\n        pharmaceuticalFormSelecteds.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        \r\n        await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes, true)\r\n    } \r\n\r\n\r\n    const closeDialog = () => {\r\n        setMarketAssignItems([])\r\n        setMarketAssignType('')\r\n        setFormHasBeenSubmited(false)\r\n        setDialogVisibleForDrugs(false)\r\n        setDialogVisibleForProducts(false)\r\n        setDialogVisibleForPresentation(false)\r\n        setDialogVisibleForMarketAssing(false)\r\n    }\r\n\r\n    const getProductByDrug = async (drugCodes, drugGroupCodes, resetChecked = false) => {\r\n        setLoadingProducts(true)\r\n        let productPreviousSelecteds = !resetChecked ? products.filter(x => x.checked ==true) : []\r\n        await props.getProductByDrug(drugCodes.join(','), drugGroupCodes.join(',')) \r\n            .then(async (productsResponse) => {\r\n                let products = productsResponse.map(product => {\r\n                    if (productPreviousSelecteds.some(x => x.value == product.value)) {\r\n                        product.checked = true\r\n                    }\r\n                    return product\r\n                })            \r\n                setProducts(products)\r\n                setProductSelecteds(products.filter(x => x.checked === true))\r\n                setLoadingProducts(false)\r\n        })    \r\n    }\r\n\r\n    const getPharmaceuticalFormByProduct = async (productCodes, productGroupCodes, resetChecked = false) => {\r\n        if (productCodes == null || productGroupCodes == null) {\r\n            productCodes = []\r\n            productGroupCodes = []\r\n            let productsPreviousSelecteds = products.filter(pItem => pItem.checked == true)\r\n            productsPreviousSelecteds.map(productItem => {            \r\n                let product = getItemObject(productItem)\r\n                if (product.productCode) {\r\n                    productCodes.push(product.productCode)\r\n                } else if (product.productGroupCode) {\r\n                    productGroupCodes.push(product.productGroupCode)\r\n                }\r\n            })\r\n\r\n            if (productCodes.length == 0 && productGroupCodes == 0) {\r\n                setPharmaceuticalForms([])\r\n                setPharmaceuticalFormsSelecteds([])\r\n                setProductPresentation([])\r\n                setProductPresentationSelecteds([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingPharmaceuticalForms(true)\r\n        let pharmaceuticalFormPreviousSelecteds = !resetChecked ? pharmaceuticalForms.filter(x => x.checked ==true) : []\r\n        await props.getPharmaceuticalFormsByProduct(productCodes.join(','), productGroupCodes.join(',')) \r\n            .then(async (pharmaceuticalformsResponse) => {\r\n                let pharmaceuticalforms = pharmaceuticalformsResponse.map(pharmaceuticalform => {\r\n                    if (pharmaceuticalFormPreviousSelecteds.some(x => x.value == pharmaceuticalform.value)) {\r\n                        pharmaceuticalform.checked = true\r\n                    }\r\n                    return pharmaceuticalform\r\n                })            \r\n                setPharmaceuticalForms(pharmaceuticalforms)\r\n                setPharmaceuticalFormsSelecteds(pharmaceuticalforms.filter(x => x.checked === true))\r\n                setLoadingPharmaceuticalForms(false)\r\n        })    \r\n    }    \r\n\r\n    const getProductPresentationsByPharmaceuticalForm = async (pharmaceuticalFormCodes, resetChecked = false) => {\r\n        if (pharmaceuticalFormCodes == null || pharmaceuticalFormCodes == undefined) {\r\n            pharmaceuticalFormCodes = []\r\n            let pharmaceuticalFormsPreviousSelecteds = pharmaceuticalForms.filter(pfItem => pfItem.checked == true)\r\n            pharmaceuticalFormsPreviousSelecteds.map(pharmaceuticalFormItem => {            \r\n                let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n                pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n            })\r\n\r\n            if (pharmaceuticalFormCodes.length == 0) {\r\n                setProductPresentation([])\r\n                setProductPresentationSelecteds([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingProductPresentation(true)\r\n\r\n        let productCodes = productSelecteds.map(productItem => {               \r\n            return getItemObject(productItem).productCode || null\r\n        })\r\n        productCodes = productCodes.filter(p => p !== null)\r\n\r\n        let productGroupCodes = productSelecteds.map(productItem => {               \r\n            return getItemObject(productItem).productGroupCode || null\r\n        })        \r\n        productGroupCodes = productGroupCodes.filter(p => p !== null)        \r\n\r\n        let productPresentationPreviousSelecteds = !resetChecked ? productPresentation.filter(x => x.checked ==true) : []\r\n        await props.getPresentationsbyPharmaceuticalForms(pharmaceuticalFormCodes.join(','), productCodes.join(','), productGroupCodes.join(',')) \r\n            .then((productPresentationsResponse) => {\r\n                let productPresentations = productPresentationsResponse.map(productPresentation => {\r\n                    if (productPresentationPreviousSelecteds.some(x => x.value == productPresentation.value)) {\r\n                        productPresentation.checked = true\r\n                    }\r\n                    return productPresentation\r\n                })            \r\n                setProductPresentation(productPresentations)\r\n                setProductPresentationSelecteds(productPresentations.filter(x => x.checked === true))\r\n                setLoadingProductPresentation(false)\r\n        })    \r\n    }\r\n\r\n    const onSelectDrugs = async(items) => {\r\n        let drugCodes = []\r\n        let drugGroupCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true); \r\n\r\n        items.map(drugItem => {\r\n            if(drugItem.checked) {                \r\n                let drug = getItemObject(drugItem)\r\n                if (drug.drugCode) {\r\n                    drugCodes.push(drug.drugCode)\r\n                } else if (drug.drugGroupCode) {\r\n                    drugGroupCodes.push(drug.drugGroupCode)\r\n                }\r\n    \r\n            }\r\n        })\r\n        setDrugSelecteds(itemsChecked)\r\n        if(drugCodes.length > 0  || drugGroupCodes.length > 0) {\r\n            await getProductByDrug(drugCodes, drugGroupCodes)\r\n        } else {\r\n            setProducts([])\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }        \r\n    }\r\n\r\n    const onSelectProducts = async(items) => {\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(productItem => {              \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        setProductSelecteds(itemsChecked)\r\n        if(productsCodes.length > 0  || productGroupsCodes.length > 0) {\r\n            await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes)\r\n        } else {\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }\r\n    }\r\n\r\n    const onSelectPharmaceuticalForms = async(items) => {\r\n        let pharmaceuticalFormCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n        \r\n        itemsChecked.map(pharmaceuticalFormItem => {              \r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        setPharmaceuticalFormsSelecteds(itemsChecked)\r\n        if(pharmaceuticalFormCodes.length > 0) {\r\n            await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes)\r\n        } else {\r\n            setProductPresentation([])\r\n        }        \r\n    }\r\n\r\n    const onSelectProductPresentation = async(items) => {\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        setProductPresentationSelecteds(itemsChecked)\r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },\r\n        []\r\n    )\r\n\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'createDrugGroup') {\r\n            if(drugSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForDrugs(true)\r\n            }\r\n        } else if(action == 'marketAssignFromDrug') {\r\n            if(drugSelecteds.length > 0) {\r\n                setMarketAssignItems(drugSelecteds)\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'marketAssignFromProduct') {\r\n            if(productSelecteds.length > 0) {\r\n                setMarketAssignItems(productSelecteds)\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else  if(action == 'createProductGroup') {\r\n            if(productSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForProducts(true)\r\n            }\r\n        } else if(action == 'marketAssignFromPharmaceuticalForm') {\r\n            if(pharmaceuticalFormSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(pharmaceuticalFormSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'createPresentationGroup') {\r\n            if(productPresentationSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForPresentation(true)\r\n            }\r\n        } else if(action == 'marketAssignFromProductPresentation') {\r\n            if(productPresentationSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productPresentationSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const refreshVirtualizedCheckbox = async () => {\r\n\r\n        closeDialog()\r\n        \r\n        if (marketAssignType == 'marketAssignFromDrug') {\r\n            reloadDrugVirtualizedCheckbox()\r\n        } else if (marketAssignType == 'createDrugGroup') {\r\n            reloadDrugVirtualizedCheckbox()\r\n            await getAllDrugs(null)\r\n        } else if(marketAssignType == 'marketAssignFromProduct' || marketAssignType == 'createProductGroup') {\r\n            await reloadProductVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromPharmaceuticalForm') {\r\n            await reloadPharmaceuticalFormVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromProductPresentation'  || marketAssignType == 'createPresentationGroup') {\r\n            await reloadProductPresentationVirtualizedCheckbox()\r\n        }\r\n\r\n    }      \r\n    \r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={9} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={drugs}\r\n                                    isLoading={loadingDrugs}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.DRUG\"})}\r\n                                    onChange={onSelectDrugs}\r\n                                    onSelectAllChange={onSelectDrugs}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createDrugGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromDrug'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={products}\r\n                                    isLoading={loadingDrugs || loadingProducts}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT\"})}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createProductGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromProduct'}\r\n                                    ]}\r\n                                    onChange={onSelectProducts}\r\n                                    onSelectAllChange={onSelectProducts}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={0} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0, display:'none'}}>}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={pharmaceuticalForms}\r\n                                    isLoading={loadingDrugs || loadingProducts || loadingPharmaceuticalForms}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PHARMACEUTICAL_FORM\"})}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromPharmaceuticalForm',}\r\n                                    ]}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    onChange={onSelectPharmaceuticalForms}\r\n                                    onSelectAllChange={onSelectPharmaceuticalForms}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={0} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0, display:'none'}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={productPresentation}\r\n                                    isLoading={loadingDrugs || loadingProducts || loadingPharmaceuticalForms || loadingProductPresentation}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT_PRESENTATION\"})}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action: 'createPresentationGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromProductPresentation',}\r\n                                    ]}\r\n                                    onChange={onSelectProductPresentation}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.DRUG\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForDrugs(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForDrugs}\r\n                    >\r\n                        <DrugForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            drugSelecteds={drugSelecteds} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />   \r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForMarketAssing(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                        <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForProducts(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForProducts}\r\n                    >\r\n                       <ProductForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productsSelected={productSelecteds} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForPresentation(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForPresentation}\r\n                    >\r\n                        <ProductPresentationForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productPresentationSelected={productPresentationSelecteds} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n      customMarket: state.mercados.customMarket,\r\n      drugs: state.mercados.drugs,\r\n      loadingDrugs: state.mercados.loadingDrugs\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(DrugabContainer));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { MarketAssignForm } from './Forms'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst PharmaceuticalFormTabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, pharmaceuticalforms, pharmaceuticalformsLoading } = props\r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ pharmarceuticalFormSelecteds, setPharmaceuticalFormSelected ] = React.useState([])\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n\r\n    const getAll = async() => {\r\n        await props.getPharmaceuticalForms();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadPharmaceuticalFormsVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])\r\n\r\n    React.useEffect(() => {\r\n        if (!pharmaceuticalforms) {\r\n            getAll()\r\n        }\r\n    },[])\r\n\r\n    const reloadPharmaceuticalFormsVirtualizedCheckbox = () => {\r\n        props.dispatchPharmaceuticalFormsLoading(true)\r\n        if (pharmaceuticalforms) {\r\n            let pharmaceuticalformsAllUnchecked = pharmaceuticalforms.map(pf => ({ ...pf, checked: false }));\r\n            props.dispatchPharmaceuticalForms(pharmaceuticalformsAllUnchecked)\r\n            onSelectPharmaceuticalForms([])\r\n        }\r\n        props.dispatchPharmaceuticalFormsLoading(false)\r\n    }\r\n\r\n    const closeDialog = () => {\r\n        setFormHasBeenSubmited(false)\r\n        setDialogVisibleForMarketAssing(false)\r\n        setMarketAssignType('')\r\n        setMarketAssignItems([])\r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },\r\n        []\r\n    );\r\n\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'marketAssignFromPharmaceuticalForm') {\r\n            if(pharmarceuticalFormSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(pharmarceuticalFormSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onSelectPharmaceuticalForms = async(items) => {\r\n        let pharmaceuticalFormCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        setPharmaceuticalFormSelected(itemsChecked)\r\n    }\r\n\r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={12}>\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={pharmaceuticalforms}\r\n                                    isLoading={pharmaceuticalformsLoading}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PHARMACEUTICAL_FORM\"})}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromPharmaceuticalForm'}\r\n                                    ]}\r\n                                    onChange={onSelectPharmaceuticalForms}\r\n                                    onSelectAllChange={onSelectPharmaceuticalForms}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={closeDialog}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                        <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={()=> {\r\n                                    closeDialog()\r\n                                    reloadPharmaceuticalFormsVirtualizedCheckbox()\r\n                                }\r\n                            }\r\n                        />\r\n                    </ActionTabDialog>\r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n      customMarket: state.mercados.customMarket,\r\n      pharmaceuticalforms: state.mercados.pharmaceuticalforms,\r\n      pharmaceuticalformsLoading: state.mercados.pharmaceuticalformsLoading\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(PharmaceuticalFormTabContainer));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { MarketAssignForm, ProductForm, ProductPresentationForm } from './Forms'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst TherapeuticalClassTabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, therapeuticalclasses, loadingTherapeuticalClasses } = props\r\n    const [ loadingProducts, setLoadingProducts] = React.useState(false);\r\n    const [ products, setProducts ] = React.useState([])\r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    const [ loadingPharmaceuticalForms, setLoadingPharmaceuticalForms] = React.useState(false);\r\n    const [ pharmaceuticalForms, setPharmaceuticalForms ] = React.useState([])\r\n    const [ pharmaceuticalFormSelected, setPharmaceuticalFormSelected ] = React.useState([])\r\n    const [ loadingProductPresentation, setLoadingProductPresentation] = React.useState(false);\r\n    const [ productPresentation, setProductPresentation ] = React.useState([])\r\n    const [ productsSelected, setProductsSelected ] = React.useState([])\r\n    const [ dialogVisibleForProducts, setDialogVisibleForProducts ] = React.useState(false);\r\n    const [ presentationSelected, setProductPresentationSelected ] = React.useState([])\r\n    const [ dialogVisibleForPresentation , setDialogVisibleForPresentation] = React.useState(false)\r\n    const [ therapeuticalClassSelected, setTherapeuticalClassSelected ] = React.useState([])\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n\r\n    const getAllTherapeuticalClasses = async() => {\r\n        await props.getTherapeuticalClasses();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadTherapeuticalClassVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])\r\n\r\n    React.useEffect(() => {\r\n        if (!therapeuticalclasses) {\r\n            getAllTherapeuticalClasses()\r\n        }\r\n    },[])\r\n\r\n    React.useEffect(() => {\r\n        getPharmaceuticalFormByProduct()\r\n     }, [products]);     \r\n\r\n    React.useEffect(() => {\r\n        getProductPresentationsByPharmaceuticalForm()\r\n    }, [pharmaceuticalForms]);          \r\n\r\n    const reloadTherapeuticalClassVirtualizedCheckbox = () => {\r\n        props.dispatchTherapeuticalClassesLoading(true)\r\n        if (therapeuticalclasses) {\r\n            let therapeuticalClassesAllUnchecked = therapeuticalclasses.map(tc => ({ ...tc, checked: false }));\r\n            props.dispatchTherapeuticalClasses(therapeuticalClassesAllUnchecked)\r\n            onSelectTherapeuticalClasses([])\r\n            onSelectProducts([])\r\n            onSelectPharmaceuticalForms([])\r\n            onSelectProductPresentation([])\r\n        }\r\n        props.dispatchTherapeuticalClassesLoading(false)\r\n    }\r\n\r\n    const reloadProductVirtualizedCheckbox = async () => {\r\n\r\n        setProductsSelected([])\r\n        setPharmaceuticalFormSelected([])\r\n        setProductPresentationSelected([])\r\n\r\n        let therapeuticalClassCodes = []\r\n\r\n        therapeuticalClassSelected.map(therapeuticalClassItem => {\r\n            if(therapeuticalClassItem.checked) {                \r\n                let therapeuticalClass = getItemObject(therapeuticalClassItem)\r\n                therapeuticalClassCodes.push(therapeuticalClass.code)\r\n            }\r\n        })\r\n\r\n        await getProductByTherapeuticalClass(therapeuticalClassCodes, true)\r\n    }\r\n\r\n    const reloadPharmaceuticalFormVirtualizedCheckbox = async () => {\r\n        setPharmaceuticalFormSelected([])\r\n        setProductPresentationSelected([])\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n\r\n        productsSelected.map(productItem => {               \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        \r\n        await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes, true)        \r\n    }\r\n\r\n    const reloadProductPresentationVirtualizedCheckbox = async () => {\r\n        \r\n        setProductPresentationSelected([])\r\n        let pharmaceuticalFormCodes = []\r\n\r\n        pharmaceuticalFormSelected.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        \r\n        await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes, true)\r\n    }    \r\n\r\n    const getProductByTherapeuticalClass = async (therapeuticalClassCodes, resetChecked = false) => {\r\n        setLoadingProducts(true)\r\n        let productPreviousSelecteds = !resetChecked ? products.filter(x => x.checked ==true) : []\r\n        await props.getProductByTherapeuticalClass(therapeuticalClassCodes.join(',')) \r\n            .then(async (productsResponse) => {\r\n                let products = productsResponse.map(product => {\r\n                    if (productPreviousSelecteds.some(x => x.value == product.value)) {\r\n                        product.checked = true\r\n                    }\r\n                    return product\r\n                })            \r\n                setProducts(products)\r\n                setProductsSelected(products.filter(x => x.checked === true))\r\n                setLoadingProducts(false)\r\n        })    \r\n    }\r\n\r\n    const getPharmaceuticalFormByProduct = async (productCodes, productGroupCodes, resetChecked = false) => {\r\n        if (productCodes == null || productGroupCodes == null) {\r\n            productCodes = []\r\n            productGroupCodes = []\r\n            let productsPreviousSelecteds = products.filter(pItem => pItem.checked == true)\r\n            productsPreviousSelecteds.map(productItem => {            \r\n                let product = getItemObject(productItem)\r\n                if (product.productCode) {\r\n                    productCodes.push(product.productCode)\r\n                } else if (product.productGroupCode) {\r\n                    productGroupCodes.push(product.productGroupCode)\r\n                }\r\n            })\r\n\r\n            if (productCodes.length == 0 && productGroupCodes == 0) {\r\n                setPharmaceuticalForms([])\r\n                setPharmaceuticalFormSelected([])\r\n                setProductPresentation([])\r\n                setProductPresentationSelected([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingPharmaceuticalForms(true)\r\n        let pharmaceuticalFormPreviousSelecteds = !resetChecked ? pharmaceuticalForms.filter(x => x.checked ==true) : []\r\n        await props.getPharmaceuticalFormsByProduct(productCodes.join(','), productGroupCodes.join(',')) \r\n            .then(async (pharmaceuticalformsResponse) => {\r\n                let pharmaceuticalforms = pharmaceuticalformsResponse.map(pharmaceuticalform => {\r\n                    if (pharmaceuticalFormPreviousSelecteds.some(x => x.value == pharmaceuticalform.value)) {\r\n                        pharmaceuticalform.checked = true\r\n                    }\r\n                    return pharmaceuticalform\r\n                })            \r\n                setPharmaceuticalForms(pharmaceuticalforms)\r\n                setPharmaceuticalFormSelected(pharmaceuticalforms.filter(x => x.checked === true))\r\n                setLoadingPharmaceuticalForms(false)\r\n        })    \r\n    }    \r\n\r\n    const getProductPresentationsByPharmaceuticalForm = async (pharmaceuticalFormCodes, resetChecked = false) => {\r\n        if (pharmaceuticalFormCodes == null || pharmaceuticalFormCodes == undefined) {\r\n            pharmaceuticalFormCodes = []\r\n            let pharmaceuticalFormsPreviousSelecteds = pharmaceuticalForms.filter(pfItem => pfItem.checked == true)\r\n            pharmaceuticalFormsPreviousSelecteds.map(pharmaceuticalFormItem => {            \r\n                let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n                pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n            })\r\n\r\n            if (pharmaceuticalFormCodes.length == 0) {\r\n                setProductPresentation([])\r\n                setProductPresentationSelected([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingProductPresentation(true)\r\n\r\n        let productCodes = productsSelected.map(productItem => {               \r\n            return getItemObject(productItem).productCode || null\r\n        })\r\n        productCodes = productCodes.filter(p => p !== null)\r\n\r\n        let productGroupCodes = productsSelected.map(productItem => {               \r\n            return getItemObject(productItem).productGroupCode || null\r\n        })        \r\n        productGroupCodes = productGroupCodes.filter(p => p !== null)         \r\n\r\n        let productPresentationPreviousSelecteds =  !resetChecked ? productPresentation.filter(x => x.checked ==true) : []\r\n        await props.getPresentationsbyPharmaceuticalForms(pharmaceuticalFormCodes.join(','), productCodes.join(','), productGroupCodes.join(',')) \r\n            .then((productPresentationsResponse) => {\r\n                let productPresentations = productPresentationsResponse.map(productPresentation => {\r\n                    if (productPresentationPreviousSelecteds.some(x => x.value == productPresentation.value)) {\r\n                        productPresentation.checked = true\r\n                    }\r\n                    return productPresentation\r\n                })            \r\n                setProductPresentation(productPresentations)\r\n                setProductPresentationSelected(productPresentations.filter(x => x.checked === true))\r\n                setLoadingProductPresentation(false)\r\n        })    \r\n    }\r\n\r\n    const onSelectTherapeuticalClasses = async(items) => {\r\n        let therapeuticalClassCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        items.map(therapeuticalClassItem => {\r\n            if(therapeuticalClassItem.checked) {                \r\n                let therapeuticalClass = getItemObject(therapeuticalClassItem)\r\n                therapeuticalClassCodes.push(therapeuticalClass.code)\r\n            }\r\n        })\r\n        setTherapeuticalClassSelected(itemsChecked)\r\n        if(therapeuticalClassCodes.length > 0) {\r\n            await getProductByTherapeuticalClass(therapeuticalClassCodes)\r\n        } else {\r\n            setProducts([])\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }        \r\n    }\r\n    const onSelectProducts = async(items) => {\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(productItem => {              \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        setProductsSelected(itemsChecked)\r\n        if(productsCodes.length > 0  || productGroupsCodes.length > 0) {\r\n            await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes)\r\n        } else {\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }\r\n    }\r\n    const onSelectPharmaceuticalForms = async(items) => {\r\n        let pharmaceuticalFormCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        items.map(pharmaceuticalFormItem => {\r\n            if(pharmaceuticalFormItem.checked) {                \r\n                let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n                pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n            }\r\n        })\r\n        setPharmaceuticalFormSelected(itemsChecked)\r\n        if(pharmaceuticalFormCodes.length > 0) {\r\n            await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes)\r\n        } else {\r\n            setProductPresentation([])\r\n        }        \r\n    }\r\n    const onSelectProductPresentation = async(items) => {\r\n        let productPresentationCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        items.map(productPresentationItem => {\r\n            if(productPresentationItem.checked) {\r\n                let productPresentation = getItemObject(productPresentationItem)\r\n                if (productPresentation.code) {\r\n                    productPresentationCodes.push(productPresentation.code)\r\n                } else if (productPresentation.productPresentationGroupCode) {\r\n                    productPresentationCodes.push(productPresentation.productPresentationGroupCode)\r\n                }\r\n            }\r\n        })\r\n        setProductPresentationSelected(itemsChecked)\r\n           \r\n    }\r\n    const closeDialog = async() => {\r\n        setFormHasBeenSubmited(false)\r\n        setMarketAssignType('')\r\n        setMarketAssignItems([])\r\n        setDialogVisibleForProducts(false)\r\n        setDialogVisibleForPresentation(false)\r\n        setDialogVisibleForMarketAssing(false)\r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },\r\n        []\r\n    );\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'createProductGroup') {\r\n            if(productsSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForProducts(true)\r\n            }\r\n        } else if(action == 'createProductPresentationGroup') {\r\n            if(presentationSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForPresentation(true)\r\n            }\r\n        } else if(action == 'marketAssignFromTherapeuticalClass') {\r\n            if(therapeuticalClassSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(therapeuticalClassSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'marketAssignFromProduct') {\r\n            if(productsSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productsSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'marketAssignFromPharmaceuticalForm') {\r\n            if(pharmaceuticalFormSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(pharmaceuticalFormSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'marketAssignFromProductPresentation') {\r\n            if(presentationSelected.length > 0){\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(presentationSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const refreshVirtualizedCheckbox = async () => {\r\n\r\n        closeDialog()\r\n        \r\n        if (marketAssignType == 'marketAssignFromTherapeuticalClass') {\r\n            reloadTherapeuticalClassVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromProduct' || marketAssignType == 'createProductGroup') {\r\n            await reloadProductVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromPharmaceuticalForm') {\r\n            await reloadPharmaceuticalFormVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromProductPresentation'  || marketAssignType == 'createProductPresentationGroup') {\r\n            await reloadProductPresentationVirtualizedCheckbox()\r\n        }\r\n\r\n    }    \r\n\r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={therapeuticalclasses}\r\n                                    isLoading={loadingTherapeuticalClasses}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.THERAPEUTICAL_CLASS\"})}\r\n                                    onChange={onSelectTherapeuticalClasses}\r\n                                    onSelectAllChange={onSelectTherapeuticalClasses}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromTherapeuticalClass'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={products}\r\n                                    isLoading={loadingTherapeuticalClasses || loadingProducts}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT\"})}\r\n                                    onChange={onSelectProducts}\r\n                                    onSelectAllChange={onSelectProducts}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createProductGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromProduct'}\r\n                                    ]}\r\n                                    />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={pharmaceuticalForms}\r\n                                    isLoading={loadingTherapeuticalClasses || loadingProducts || loadingPharmaceuticalForms}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PHARMACEUTICAL_FORM\"})}\r\n                                    onChange={onSelectPharmaceuticalForms}\r\n                                    onSelectAllChange={onSelectPharmaceuticalForms}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromPharmaceuticalForm'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={productPresentation}\r\n                                    isLoading={loadingTherapeuticalClasses || loadingProducts || loadingPharmaceuticalForms || loadingProductPresentation}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT_PRESENTATION\"})}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action: 'createProductPresentationGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromProductPresentation'}\r\n                                    ]}\r\n                                    onChange={onSelectProductPresentation}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForProducts(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForProducts}\r\n                    >\r\n                        <ProductForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productsSelected={productsSelected} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForPresentation(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForPresentation}\r\n                    >\r\n                       <ProductPresentationForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productPresentationSelected={presentationSelected} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={() => closeDialog(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                        <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return { \r\n        customMarket: state.mercados.customMarket,\r\n        therapeuticalclasses: state.mercados.therapeuticalclasses,\r\n        loadingTherapeuticalClasses: state.mercados.loadingTherapeuticalClasses\r\n      }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(TherapeuticalClassTabContainer));    ","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { MarketAssignForm, ProductForm, ProductPresentationForm, LaboratoryForm } from './Forms'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\nimport _ from 'lodash'\r\n\r\nconst LaboratoryTabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, laboratories, loadingLaboratories } = props\r\n\r\n    const [ loadingProducts, setLoadingProducts] = React.useState(false);\r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ products, setProducts ] = React.useState([])\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    const [ loadingPharmaceuticalForms, setLoadingPharmaceuticalForms] = React.useState(false);\r\n    const [ pharmaceuticalForms, setPharmaceuticalForms ] = React.useState([])\r\n    const [ loadingProductPresentation, setLoadingProductPresentation] = React.useState(false);\r\n    const [ productPresentation, setProductPresentation ] = React.useState([])\r\n    const [ dialogVisibleForLaboratory, setDialogVisibleForLaboratory ] = React.useState(false);\r\n    const [ laboratoriesSelecteds, setLaboratoriesSelecteds] = React.useState([])\r\n    const [ dialogVisibleForProducts, setDialogVisibleForProducts ] = React.useState(false);\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n    const [ productSelecteds, setProductSelecteds] = React.useState([])\r\n    const [ dialogVisibleForPresentation , setDialogVisibleForPresentation] = React.useState(false)\r\n    const [ pharmaceuticalFormsSelecteds, setPharmaceuticalFormsSelecteds ] = React.useState([])\r\n    const [ productPresentationSelecteds, setProductPresentationSelecteds ] = React.useState([])\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n\r\n    const getAllLaboratories = async(itemsChecked) => {\r\n        await props.getLaboratories(itemsChecked);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadLaboratoryVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])\r\n\r\n    React.useEffect(() => {\r\n        if (!laboratories) {\r\n            getAllLaboratories(null)\r\n        }\r\n    },[])\r\n\r\n    React.useEffect(() => {\r\n        getPharmaceuticalFormByProduct()\r\n     }, [products]);         \r\n\r\n    React.useEffect(() => {\r\n        getProductPresentationsByPharmaceuticalForm()\r\n    }, [pharmaceuticalForms]);       \r\n\r\n    const reloadLaboratoryVirtualizedCheckbox = () => {\r\n        props.dispatchLaboratoriesLoading(true)\r\n            if (laboratories) {\r\n                let laboratoriesAllUnchecked = laboratories.map(l => ({ ...l, checked: false }));\r\n                props.dispatchLaboratories(laboratoriesAllUnchecked)\r\n                onSelectLaboratories([])\r\n                onSelectProducts([])\r\n                onSelectPharmaceuticalForms([])\r\n                onSelectProductPresentation([])\r\n            }\r\n            props.dispatchLaboratoriesLoading(false)\r\n    }\r\n\r\n    const reloadProductVirtualizedCheckbox = async () => {\r\n\r\n        setProductSelecteds([])\r\n        setPharmaceuticalFormsSelecteds([])\r\n        setProductPresentationSelecteds([])\r\n\r\n        let laboratoryCodes = []\r\n        let laboratoryGroupCodes = []\r\n        \r\n\r\n        laboratoriesSelecteds.map(laboratoryItem => {\r\n            if(laboratoryItem.checked) {                \r\n                let laboratory = getItemObject(laboratoryItem)\r\n                if (laboratory.laboratoryCode) {\r\n                    laboratoryCodes.push(laboratory.laboratoryCode)\r\n                } else if (laboratory.laboratoryGroupCode) {\r\n                    laboratoryGroupCodes.push(laboratory.laboratoryGroupCode)\r\n                }\r\n            }\r\n        })\r\n        \r\n        await getProductByLaboratory(laboratoryCodes, laboratoryGroupCodes, true)\r\n    }\r\n\r\n    const reloadPharmaceuticalFormVirtualizedCheckbox = async () => {\r\n        setPharmaceuticalFormsSelecteds([])\r\n        setProductPresentationSelecteds([])\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n\r\n        productSelecteds.map(productItem => {               \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        \r\n        await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes, true)        \r\n    }\r\n\r\n    const reloadProductPresentationVirtualizedCheckbox = async () => {\r\n        \r\n        setProductPresentationSelecteds([])\r\n        let pharmaceuticalFormCodes = []\r\n\r\n        pharmaceuticalFormsSelecteds.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        \r\n        await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes, true)\r\n    } \r\n\r\n    const getProductByLaboratory = async (laboratoryCodes, laboratoryGroupCodes, resetChecked = false) => {\r\n        setLoadingProducts(true)\r\n        let productPreviousSelecteds = !resetChecked ? products.filter(x => x.checked ==true) : []\r\n        await props.getProductByLaboratory(laboratoryCodes.join(','), laboratoryGroupCodes.join(',')) \r\n            .then(async (productsResponse) => {\r\n                let products = productsResponse.map(product => {\r\n                    if (productPreviousSelecteds.some(x => x.value == product.value)) {\r\n                        product.checked = true\r\n                    }\r\n                    return product\r\n                })            \r\n                setProducts(products)\r\n                setProductSelecteds(products.filter(x => x.checked === true))\r\n                setLoadingProducts(false)\r\n        })    \r\n    }\r\n\r\n    const getPharmaceuticalFormByProduct = async (productCodes, productGroupCodes, resetChecked = false) => {\r\n        if (productCodes == null || productGroupCodes == null) {\r\n            productCodes = []\r\n            productGroupCodes = []\r\n            let productsPreviousSelecteds = products.filter(pItem => pItem.checked == true)\r\n            productsPreviousSelecteds.map(productItem => {            \r\n                let product = getItemObject(productItem)\r\n                if (product.productCode) {\r\n                    productCodes.push(product.productCode)\r\n                } else if (product.productGroupCode) {\r\n                    productGroupCodes.push(product.productGroupCode)\r\n                }\r\n            })\r\n\r\n            if (productCodes.length == 0 && productGroupCodes == 0) {\r\n                setPharmaceuticalForms([])\r\n                setPharmaceuticalFormsSelecteds([])\r\n                setProductPresentation([])\r\n                setProductPresentationSelecteds([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingPharmaceuticalForms(true)\r\n        let pharmaceuticalFormPreviousSelecteds = !resetChecked ? pharmaceuticalForms.filter(x => x.checked ==true) : []\r\n        await props.getPharmaceuticalFormsByProduct(productCodes.join(','), productGroupCodes.join(',')) \r\n            .then(async (pharmaceuticalformsResponse) => {\r\n                let pharmaceuticalforms = pharmaceuticalformsResponse.map(pharmaceuticalform => {\r\n                    if (pharmaceuticalFormPreviousSelecteds.some(x => x.value == pharmaceuticalform.value)) {\r\n                        pharmaceuticalform.checked = true\r\n                    }\r\n                    return pharmaceuticalform\r\n                })            \r\n                setPharmaceuticalForms(pharmaceuticalforms)\r\n                setPharmaceuticalFormsSelecteds(pharmaceuticalforms.filter(x => x.checked === true))\r\n                setLoadingPharmaceuticalForms(false)\r\n        })    \r\n    }    \r\n\r\n\r\n    const getProductPresentationsByPharmaceuticalForm = async (pharmaceuticalFormCodes, resetChecked = false) => {\r\n        if (pharmaceuticalFormCodes == null || pharmaceuticalFormCodes == undefined) {\r\n            pharmaceuticalFormCodes = []\r\n            let pharmaceuticalFormsPreviousSelecteds = pharmaceuticalForms.filter(pfItem => pfItem.checked == true)\r\n            pharmaceuticalFormsPreviousSelecteds.map(pharmaceuticalFormItem => {            \r\n                let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n                pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n            })\r\n\r\n            if (pharmaceuticalFormCodes.length == 0) {\r\n                setProductPresentation([])\r\n                setProductPresentationSelecteds([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingProductPresentation(true)\r\n\r\n        let productCodes = productSelecteds.map(productItem => {               \r\n            return getItemObject(productItem).productCode || null\r\n        })\r\n        productCodes = productCodes.filter(p => p !== null)\r\n\r\n        let productGroupCodes = productSelecteds.map(productItem => {               \r\n            return getItemObject(productItem).productGroupCode || null\r\n        })        \r\n        productGroupCodes = productGroupCodes.filter(p => p !== null)        \r\n\r\n        let productPresentationPreviousSelecteds = !resetChecked ? productPresentation.filter(x => x.checked ==true) : []\r\n        await props.getPresentationsbyPharmaceuticalForms(pharmaceuticalFormCodes.join(','), productCodes.join(','), productGroupCodes.join(',')) \r\n            .then((productPresentationsResponse) => {\r\n                let productPresentations = productPresentationsResponse.map(productPresentation => {\r\n                    if (productPresentationPreviousSelecteds.some(x => x.value == productPresentation.value)) {\r\n                        productPresentation.checked = true\r\n                    }\r\n                    return productPresentation\r\n                })            \r\n                setProductPresentation(productPresentations)\r\n                setProductPresentationSelecteds(productPresentations.filter(x => x.checked === true))\r\n                setLoadingProductPresentation(false)\r\n        })    \r\n    }\r\n\r\n    const onSelectLaboratories = async(items) => {\r\n        let laboratoryCodes = []\r\n        let laboratoryGroupCodes = []\r\n        \r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(laboratoryItem => {\r\n            if(laboratoryItem.checked) {                \r\n                let laboratory = getItemObject(laboratoryItem)\r\n                if (laboratory.laboratoryCode) {\r\n                    laboratoryCodes.push(laboratory.laboratoryCode)\r\n                } else if (laboratory.laboratoryGroupCode) {\r\n                    laboratoryGroupCodes.push(laboratory.laboratoryGroupCode)\r\n                }\r\n            }\r\n        })\r\n        setLaboratoriesSelecteds(itemsChecked)\r\n        if(laboratoryCodes.length > 0  || laboratoryGroupCodes.length > 0) {\r\n            await getProductByLaboratory(laboratoryCodes, laboratoryGroupCodes)\r\n        } else {\r\n            setProducts([])\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }        \r\n    }\r\n\r\n    const onSelectProducts = async(items) => {\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(productItem => {              \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        setProductSelecteds(itemsChecked)\r\n        if(productsCodes.length > 0  || productGroupsCodes.length > 0) {\r\n            await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes)\r\n        } else {\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }\r\n    }\r\n\r\n    const onSelectPharmaceuticalForms = async(items) => {\r\n        let pharmaceuticalFormCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n        \r\n        itemsChecked.map(pharmaceuticalFormItem => {              \r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        setPharmaceuticalFormsSelecteds(itemsChecked)\r\n        if(pharmaceuticalFormCodes.length > 0) {\r\n            await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes)\r\n        } else {\r\n            setProductPresentation([])\r\n        }        \r\n    }\r\n\r\n    const onSelectProductPresentation = async(items) => {\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        setProductPresentationSelecteds(itemsChecked)\r\n    }\r\n\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'marketAssignFromProduct') {\r\n            if(productSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'createLaboratoryGroup') {\r\n            if(laboratoriesSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForLaboratory(true)\r\n            }\r\n        } else if(action == 'marketAssignFromLaboratory') {\r\n            if(laboratoriesSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(laboratoriesSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'createProductGroup') {\r\n            if(productSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForProducts(true)\r\n            }\r\n        } else if(action == 'marketAssignFromPharmaceuticalForm') {\r\n            if(pharmaceuticalFormsSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(pharmaceuticalFormsSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'createProductPresentationGroup') {\r\n            if(productPresentationSelecteds.length > 0) {\r\n                setDialogVisibleForPresentation(true)\r\n            }\r\n        } else if(action == 'marketAssignFromProductPresentation') {\r\n            if(productPresentationSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productPresentationSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n    \r\n    const refreshVirtualizedCheckbox = async () => {\r\n\r\n        closeDialog()\r\n        \r\n        if (marketAssignType == 'marketAssignFromLaboratory') {\r\n            reloadLaboratoryVirtualizedCheckbox()\r\n        } else if (marketAssignType == 'createLaboratoryGroup') {\r\n            reloadLaboratoryVirtualizedCheckbox()\r\n            await getAllLaboratories(null)\r\n        } else if(marketAssignType == 'marketAssignFromProduct' || marketAssignType == 'createProductGroup') {\r\n            await reloadProductVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromPharmaceuticalForm') {\r\n            await reloadPharmaceuticalFormVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromProductPresentation'  || marketAssignType == 'createProductPresentationGroup') {\r\n            await reloadProductPresentationVirtualizedCheckbox()\r\n        }\r\n\r\n    }  \r\n       \r\n    const closeDialog = () => {\r\n        setMarketAssignItems([])\r\n        setMarketAssignType('')\r\n        setFormHasBeenSubmited(false)\r\n        setDialogVisibleForLaboratory(false)\r\n        setDialogVisibleForProducts(false)\r\n        setDialogVisibleForPresentation(false)\r\n        setDialogVisibleForMarketAssing(false)\r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },\r\n        []\r\n    );\r\n\r\n    \r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={2} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={laboratories}\r\n                                    isLoading={loadingLaboratories}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.LABORATORY\"})}\r\n                                    onChange={onSelectLaboratories}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createLaboratoryGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromLaboratory'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={products}\r\n                                    isLoading={loadingLaboratories || loadingProducts}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT\"})}\r\n                                    onChange={onSelectProducts}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createProductGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromProduct'}\r\n                                    ]}\r\n                                    onSelectAllChange={onSelectProducts}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={pharmaceuticalForms}\r\n                                    isLoading={loadingLaboratories || loadingProducts || loadingPharmaceuticalForms}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PHARMACEUTICAL_FORM\"})}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromPharmaceuticalForm',}\r\n                                    ]}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    onChange={onSelectPharmaceuticalForms}\r\n                                    onSelectAllChange={onSelectPharmaceuticalForms}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={4}>\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={productPresentation}\r\n                                    isLoading={loadingLaboratories || loadingProducts || loadingPharmaceuticalForms || loadingProductPresentation}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT_PRESENTATION\"})}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createProductPresentationGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromProductPresentation'}\r\n                                    ]}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    onChange={onSelectProductPresentation}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.LABORATORY\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForLaboratory(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForLaboratory}\r\n                    >\r\n                        <LaboratoryForm\r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            laboratoriesSelecteds={laboratoriesSelecteds} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForMarketAssing(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                       <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForProducts(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForProducts}\r\n                    >\r\n                        <ProductForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productsSelected={productSelecteds} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForPresentation(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForPresentation}\r\n                    >\r\n                        <ProductPresentationForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productPresentationSelected={productPresentationSelecteds} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n\r\n                    </ActionTabDialog>\r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n      customMarket: state.mercados.customMarket, \r\n      laboratories: state.mercados.laboratories,\r\n      loadingLaboratories: state.mercados.loadingLaboratories\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(LaboratoryTabContainer));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { MarketAssignForm, ProductPresentationForm } from './Forms'\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst ProductPresentationTabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, productpresentations, loadingProductPresentations } = props\r\n    \r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    const [ productPresentationSelected, setProductPresentationSelected ] = React.useState([])\r\n    const [ dialogVisibleForProductPresentation, setDialogVisibleForProductPresentation ] = React.useState(false);\r\n    const [ loadingPharmaceuticalForms, setLoadingPharmaceuticalForms] = React.useState(false);\r\n    const [ pharmaceuticalForms, setPharmaceuticalForms ] = React.useState([])    \r\n    const [ pharmaceuticalFormSelected, setPharmaceuticalFormSelected ] = React.useState([])\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n\r\n    const getAllProductPresentations = async (itemsChecked) => {\r\n        await props.getProductPresentations(itemsChecked);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadProductPresentationVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])    \r\n\r\n    React.useEffect(() => {\r\n        if (!productpresentations) {\r\n            getAllProductPresentations(null)\r\n        }\r\n    },[])\r\n\r\n    const reloadProductPresentationVirtualizedCheckbox = () => {\r\n        props.dispatchProductPresentationLoading(true)\r\n        if (productpresentations) {\r\n            let productPresentationsAllUnchecked = productpresentations.map(p => ({ ...p, checked: false }));\r\n            props.dispatchProductPresentations(productPresentationsAllUnchecked)\r\n            onProductPresentation([])\r\n            setPharmaceuticalFormSelected([])\r\n        }\r\n        props.dispatchProductPresentationLoading(false)\r\n    }\r\n\r\n    const reloadPharmaceuticalFormVirtualizedCheckbox = async () => {\r\n        setPharmaceuticalFormSelected([])\r\n        let productPresentationCodes = []\r\n        let productPresentationGroupCodes = []\r\n\r\n        productPresentationSelected.map(productPresentationItem => {               \r\n            let productPresentation = getItemObject(productPresentationItem)\r\n            if (productPresentation.code) {\r\n                productPresentationCodes.push(productPresentation.code)   \r\n            } else if (productPresentation.productPresentationGroupCode) {\r\n                productPresentationGroupCodes.push(productPresentation.productPresentationGroupCode)\r\n            }\r\n        })\r\n        \r\n        await getPharmaceuticalFormsByProductPresentation(productPresentationCodes, productPresentationGroupCodes, true)\r\n    }\r\n\r\n    const closeDialog = async(refresh = false) => {\r\n        setMarketAssignItems([])\r\n        setMarketAssignType('')\r\n        setFormHasBeenSubmited(false)\r\n        setDialogVisibleForProductPresentation(false)\r\n        setDialogVisibleForMarketAssing(false)\r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },\r\n        []\r\n    );\r\n\r\n    const getPharmaceuticalFormsByProductPresentation = async (productPresentationCodes, productPresentationGroupCodes, resetChecked = false) => {\r\n        setLoadingPharmaceuticalForms(true)\r\n        let pharmaceuticalFormPreviousSelecteds = !resetChecked ? pharmaceuticalForms.filter(x => x.checked ==true) : []\r\n        await props.getPharmaceuticalFormsByProductPresentation(productPresentationCodes.join(','), productPresentationGroupCodes.join(',')) \r\n            .then(async (pharmaceuticalFormsResponse) => {\r\n                let pharmaceuticalForms = pharmaceuticalFormsResponse.map(pharmaceuticalForm => {\r\n                    if (pharmaceuticalFormPreviousSelecteds.some(x => x.value == pharmaceuticalForm.value)) {\r\n                        \r\n                        pharmaceuticalForm.checked = true\r\n                    }\r\n                    return pharmaceuticalForm\r\n                })            \r\n                setPharmaceuticalForms(pharmaceuticalForms)\r\n                setPharmaceuticalFormSelected(pharmaceuticalForms.filter(x => x.checked === true))\r\n                setLoadingPharmaceuticalForms(false)\r\n        })    \r\n    }    \r\n \r\n    const onProductPresentation = async(items) => {\r\n        let productPresentationCodes = []\r\n        let productPresentationGroupCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(productPresentationItem => {\r\n            let productPresentation = getItemObject(productPresentationItem)\r\n            if (productPresentation.code) {\r\n                productPresentationCodes.push(productPresentation.code)   \r\n            } else if (productPresentation.productPresentationGroupCode) {\r\n                productPresentationGroupCodes.push(productPresentation.productPresentationGroupCode)\r\n            } \r\n        })\r\n\r\n        setProductPresentationSelected(itemsChecked)\r\n        if(productPresentationCodes.length > 0 || productPresentationGroupCodes.length > 0) {\r\n            await getPharmaceuticalFormsByProductPresentation(productPresentationCodes, productPresentationGroupCodes)\r\n        } else {\r\n            setPharmaceuticalForms([])\r\n        }\r\n    }\r\n    \r\n    const onPharmaceuticalForm = async(items) => {\r\n        let pharmaceuticalFormCodes = [];\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n\r\n        setPharmaceuticalFormSelected(itemsChecked)\r\n    }\r\n\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'createProductPresentationGroup') {\r\n            if(productPresentationSelected.length > 0) {\r\n               setMarketAssignType(action)\r\n               setDialogVisibleForProductPresentation (true)\r\n            }\r\n        } else if(action == 'marketAssignFromProductPresentation') {\r\n            if(productPresentationSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productPresentationSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'marketAssignFromPharmaceuticalForm') {\r\n            if(pharmaceuticalFormSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(pharmaceuticalFormSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const refreshVirtualizedCheckbox = async () => {\r\n\r\n        closeDialog()\r\n\r\n        if(marketAssignType == 'marketAssignFromProductPresentation')  {\r\n            reloadProductPresentationVirtualizedCheckbox()\r\n        } else if (marketAssignType == 'createProductPresentationGroup') {\r\n            reloadProductPresentationVirtualizedCheckbox()\r\n            await getAllProductPresentations(null)\r\n        } else if(marketAssignType == 'marketAssignFromPharmaceuticalForm') {\r\n            await reloadPharmaceuticalFormVirtualizedCheckbox()\r\n        }\r\n\r\n    }    \r\n\r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={8} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={productpresentations}\r\n                                    isLoading={loadingProductPresentations}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT_PRESENTATION\"})}\r\n                                    onChange={onProductPresentation}\r\n                                    onSelectAllChange={ () => console.log('')}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createProductPresentationGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromProductPresentation'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={4} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={pharmaceuticalForms}\r\n                                    isLoading={loadingProductPresentations || loadingPharmaceuticalForms}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PHARMACEUTICAL_FORM\"})}\r\n                                    onChange={onPharmaceuticalForm}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromPharmaceuticalForm'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={() => closeDialog(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForProductPresentation}\r\n                    >\r\n                       <ProductPresentationForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productPresentationSelected={productPresentationSelected} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={()=> refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={() => closeDialog(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                        <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={()=> refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  \r\n  return {\r\n        customMarket: state.mercados.customMarket,\r\n        productpresentations: state.mercados.productpresentations,\r\n        loadingProductPresentations: state.mercados.loadingProductPresentations\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(ProductPresentationTabContainer));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { MarketAssignForm } from './Forms'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst CustomMarketTabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, linegroups, loadingLinegroups } = props\r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    const [ loadingLines, setLoadingLines] = React.useState(false);\r\n    const [ lines, setLines ] = React.useState([])\r\n    const [ linesSelected, setLinesSelected] = React.useState([])\r\n    const [ loadingCustomMarkets, setLoadingCustomMarkets] = React.useState(false);\r\n    const [ customMarkets, setCustomMarkets ] = React.useState([])\r\n    const [ marketSelecteds, setMarketSelecteds ] = React.useState([])\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n\r\n    const getAll = async() => {\r\n        await props.getLineGroups();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadLineGroupVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])\r\n\r\n    React.useEffect(() => {\r\n        if (!linegroups) {\r\n            getAll()\r\n        }\r\n    },[])\r\n\r\n\r\n    React.useEffect(() => {\r\n        getCustomMarketsByLine()\r\n     }, [lines]);      \r\n\r\n     const reloadLineGroupVirtualizedCheckbox = () => {\r\n        props.dispatchLineGroupsLoading(true)\r\n        if (linegroups) {\r\n            let lineGroupsAllUnchecked = linegroups.map(l => ({ ...l, checked: false }));\r\n            props.dispatchLineGroups(lineGroupsAllUnchecked)\r\n            onSelectLineGroup([])\r\n            onSelectLine([])\r\n            onSelectMarkets([])\r\n        }\r\n        props.dispatchLineGroupsLoading(false)\r\n    }\r\n\r\n    const reloadCustomMarketVirtualizedCheckbox = async () => {\r\n\r\n        setLinesSelected([])\r\n        let linesCodes = []\r\n\r\n        linesSelected.map(lineItem => {\r\n            let line = getItemObject(lineItem)\r\n            linesCodes.push(line.code)\r\n        })\r\n        \r\n        await getCustomMarketsByLine(linesCodes, true)\r\n    }    \r\n\r\n    const closeDialog = () => {\r\n\r\n        setFormHasBeenSubmited(false)\r\n        setDialogVisibleForMarketAssing(false)\r\n        setMarketAssignType('')\r\n        setMarketAssignItems([])\r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },\r\n        []\r\n    );\r\n\r\n    const getLinesByLineGroup = async (lineGroupCodes) => {\r\n        setLoadingLines(true)\r\n        let linePreviousSelecteds = lines.filter(x => x.checked ==true)\r\n        await props.getLinesByLineGroup(lineGroupCodes.join(',')) \r\n            .then(async (linesResponse) => {\r\n                let lines = linesResponse.map(line => {\r\n                    if (linePreviousSelecteds.some(x => x.value == line.value)) {\r\n                        line.checked = true\r\n                    }\r\n                    return line\r\n                })            \r\n                setLines(lines)\r\n                setLoadingLines(false)\r\n        })    \r\n    }\r\n\r\n    const getCustomMarketsByLine = async (lineCodes, resetChecked = false) => {\r\n        if (lineCodes == null || lineCodes == undefined) {\r\n            lineCodes = []\r\n            let linesPreviousSelecteds = lines.filter(pfItem => pfItem.checked == true)\r\n            linesPreviousSelecteds.map(lineItem => {            \r\n                let line = getItemObject(lineItem)\r\n                lineCodes.push(line.code)\r\n            })\r\n\r\n            if (lineCodes.length == 0) {\r\n                setCustomMarkets([])\r\n                setMarketSelecteds([]);\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingCustomMarkets(true)\r\n\r\n        let customMarketPreviousSelecteds = !resetChecked ? customMarkets.filter(x => x.checked ==true) : []\r\n        await props.getCustomMarketsByLine(lineCodes.join(',')) \r\n            .then((customMarketsResponse) => {\r\n                let customMarkets = customMarketsResponse.map(customMarket => {\r\n                    if (customMarketPreviousSelecteds.some(x => x.value == customMarket.value)) {\r\n                        customMarket.checked = true\r\n                    }\r\n                    return customMarket\r\n                })            \r\n                setCustomMarkets(customMarkets)\r\n                setMarketSelecteds(customMarkets.filter(x => x.checked === true));\r\n                setLoadingCustomMarkets(false)\r\n        })    \r\n    }    \r\n\r\n    const onSelectLineGroup = async(items) => {\r\n        let lineGroupCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(lineGroupItem => {\r\n            let lineGroup = getItemObject(lineGroupItem)\r\n            lineGroupCodes.push(lineGroup.code)    \r\n        })\r\n        \r\n        if(lineGroupCodes.length > 0) {\r\n            await getLinesByLineGroup(lineGroupCodes)\r\n        } else {\r\n            setLines([])\r\n            setCustomMarkets([])\r\n        }\r\n    }\r\n\r\n\r\n    const onSelectLine = async(items) => {\r\n        let linesCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(lineItem => {\r\n            let line = getItemObject(lineItem)\r\n            linesCodes.push(line.code)\r\n        })\r\n\r\n        setLinesSelected(itemsChecked)\r\n\r\n        if(linesCodes.length > 0) {\r\n            await getCustomMarketsByLine(linesCodes)\r\n        } else {\r\n            setCustomMarkets([])\r\n        }\r\n        \r\n    }\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'marketAssignFromMarkets') {\r\n            if(marketSelecteds.length > 0) {\r\n                setMarketAssignItems(marketSelecteds)\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onSelectMarkets =async(items) => {\r\n        let marketCodes = [];\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n        \r\n        itemsChecked.map(marketItem => {          \r\n            let market = getItemObject(marketItem)\r\n            if (market.code) {\r\n                marketCodes.push(market.code)\r\n            }\r\n        })\r\n        setMarketSelecteds(itemsChecked);\r\n    }\r\n\r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={linegroups}\r\n                                    isLoading={loadingLinegroups}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.LINE_GROUP\"})}\r\n                                    onChange={onSelectLineGroup}\r\n                                    onSelectAllChange={ () => console.log('')}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={lines}\r\n                                    isLoading={loadingLinegroups || loadingLines}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.LINE\"})}\r\n                                    onChange={onSelectLine}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={6} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={customMarkets}\r\n                                    isLoading={loadingLinegroups || loadingLines || loadingCustomMarkets}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.CUSTOM_MARKET\"})}\r\n                                    onChange={onSelectMarkets}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromMarkets'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={closeDialog}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                        <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={ async ()=> {\r\n                                    closeDialog()\r\n                                    await reloadCustomMarketVirtualizedCheckbox()\r\n                                }\r\n                            }\r\n                        />\r\n                    </ActionTabDialog>\r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  \r\n  return { \r\n        customMarket: state.mercados.customMarket,\r\n        linegroups: state.mercados.linegroups,\r\n        loadingLinegroups: state.mercados.loadingLinegroups\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(CustomMarketTabContainer));","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../Mercados/_redux/mercadosActions';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst ErrorAlert = (props) => {\r\n  const { error } = props;\r\n  const classes = useStyles();\r\n\r\n  const handleClose = () => {\r\n    props.setGetError(false)\r\n  };\r\n\r\n  React.useEffect(() => {}, [error])  \r\n\r\n  return (\r\n    <>\r\n    {error.visible &&\r\n        <div className={classes.root}>\r\n            <Alert severity=\"error\" onClose={handleClose}>\r\n                <AlertTitle>{error.description}</AlertTitle>\r\n            </Alert>\r\n        </div>\r\n    }\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        error: state.mercados.getError\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ErrorAlert);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../Mercados/_redux/mercadosActions';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst SuccessAlert = (props) => {\r\n  const { success } = props;\r\n  const classes = useStyles();\r\n\r\n  const handleClose = () => {\r\n    props.setGetSuccess(false)\r\n  };\r\n\r\n  React.useEffect(() => {}, [success])  \r\n\r\n  return (\r\n    <>\r\n    {success.visible &&\r\n        <div className={classes.root}>\r\n            <Alert severity=\"success\" onClose={handleClose}>\r\n                <AlertTitle>{success.description}</AlertTitle>\r\n            </Alert>\r\n        </div>\r\n    }\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        success: state.mercados.getSuccess\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(SuccessAlert);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ProductTabContainer from './ProductTabContainer'\r\nimport DrugTabContainer from './DrugTabContainer'\r\nimport PharmaceuticalFormTabContainer from './PharmaceuticalFormTabContainer'\r\nimport TherapeuticalClassTabContainer from './TherapeuticalClassTabContainer'\r\nimport LaboratoryTabContainer from './LaboratoryTabContainer'\r\nimport ProductPresentationTabContainer from './ProductPresentationTabContainer'\r\nimport CustomMarketTabContainer from './CustomMarketTabContainer'\r\nimport ErrorAlert from '../../ErrorsExamples/ErrorAlert'\r\nimport SuccessAlert from '../../Success/SuccessAlert';\r\nimport zIndex from '@material-ui/core/styles/zIndex';\r\n\r\nfunction TabContainer({ children, dir }) {\r\n  return (\r\n    <Typography component=\"div\" dir={dir} className=\"pt-5 pl-0 pr-0 pb-0 overflow-hidden\">\r\n      {children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  dir: PropTypes.string.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: '100%'\r\n  },\r\n}));\r\n\r\nexport default function FullWidthTabs() {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  function handleChange(event, newValue) {\r\n    setValue(newValue);\r\n  }\r\n\r\n  function handleChangeIndex(index) {\r\n    setValue(index);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.PRODUCT\" />} style={{fontSize: '1rem'}}/>\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.PRODUCT_PRESENTATION\" />} style={{fontSize: '1rem'}}/>\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.THERAPEUTICAL_CLASS\" />} style={{fontSize: '1rem'}}/>\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.LABORATORY\" />} style={{fontSize: '1rem'}}/>\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.DRUG\" />} style={{fontSize: '1rem'}}/>\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.PHARMACEUTICAL_FORM\" />} style={{fontSize: '1rem'}}/>\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.CUSTOM_MARKET\" />} style={{fontSize: '1rem'}}/>\r\n        </Tabs>\r\n      </AppBar>\r\n      <SwipeableViews\r\n        style={{ height: '365px'}}\r\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n        index={value}\r\n        onChangeIndex={handleChangeIndex}\r\n      >\r\n        <TabContainer dir={theme.direction}><ProductTabContainer /></TabContainer>\r\n        <TabContainer dir={theme.direction}><ProductPresentationTabContainer/> </TabContainer>\r\n        <TabContainer dir={theme.direction}><TherapeuticalClassTabContainer /></TabContainer>\r\n        <TabContainer dir={theme.direction}><LaboratoryTabContainer /></TabContainer>\r\n        <TabContainer dir={theme.direction}><DrugTabContainer /></TabContainer>\r\n        <TabContainer dir={theme.direction}><PharmaceuticalFormTabContainer /></TabContainer>\r\n        <TabContainer dir={theme.direction}><CustomMarketTabContainer /></TabContainer>\r\n      </SwipeableViews>\r\n      <ErrorAlert />\r\n      <SuccessAlert />\r\n    </div>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst CustomMarketGroupDialog = (props) => {\r\n  const {customMarket, customMarketGroupSelected, open, handleClose} = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const [initialValues, setInitialValues] = useState({ description: '',groupCondition: '' });  \r\n\r\n  const getInitialValues = (customMarketGroupSelected) => {\r\n      if (customMarketGroupSelected == null) {\r\n        setInitialValues( {\r\n              description: '',\r\n              groupCondition: ''\r\n          })\r\n      } else {\r\n          setInitialValues( {\r\n            description: customMarketGroupSelected.description,\r\n            groupCondition: customMarketGroupSelected.groupCondition        \r\n          })\r\n      }\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    handleClose()\r\n    formik.resetForm()\r\n  }  \r\n\r\n  React.useEffect(() => { \r\n    getInitialValues(customMarketGroupSelected)\r\n  }, [customMarket, customMarketGroupSelected])   \r\n\r\n  const validate = values => {\r\n    const errors = {};\r\n    if (values.description == '') {\r\n        errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n    }    \r\n\r\n    if (values.groupCondition == '' || values.groupCondition == null) {\r\n      errors.groupCondition = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n    }\r\n        \r\n    return errors;\r\n  }\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues:  initialValues,\r\n    validate: validate,\r\n    onSubmit: (values, { setSubmitting, setErrors }) => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n            try {\r\n                let customMarketGroup = {\r\n                    customMarketCode: customMarket.data.code, \r\n                    description: values.description, \r\n                    groupCondition: values.groupCondition\r\n                }                    \r\n                if (customMarketGroupSelected == null) {\r\n                    await props.createCustomMarketGroup(customMarketGroup)\r\n                } else {\r\n                    await props.updateCustomMarketGroup(customMarketGroupSelected.code, customMarketGroup)\r\n                }\r\n                await props.getCustomMarketGroupByCustomMarketCode(customMarket.data.code)\r\n                disableLoading();\r\n                handleClose()\r\n              } catch(err) {\r\n                setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                disableLoading();\r\n            } finally {\r\n                setSubmitting(false);\r\n                formik.resetForm()\r\n            }\r\n        }, 500)\r\n    }\r\n  });\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n    setLoading(false);\r\n  };  \r\n\r\n  return (\r\n    <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open} \r\n        onClose={handleCancel} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText className=\"text-uppercase\">\r\n        { !customMarketGroupSelected ? \r\n          <FormattedMessage id=\"CUSTOM_MARKET_GROUP_DIALOG.TITLE.CREATE\" />\r\n         : \r\n         <FormattedMessage id=\"CUSTOM_MARKET_GROUP_DIALOG.TITLE.EDIT\" />\r\n        }\r\n      </DialogContentText>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"description\"\r\n          name=\"description\"\r\n          label={<FormattedMessage id=\"CUSTOM_MARKET_GROUP_DIALOG.DESCRIPTION\" />}\r\n          value={formik.values.description}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.description && Boolean(formik.errors.description)}\r\n          helperText={formik.touched.description && formik.errors.description}\r\n        />\r\n        <FormControl className={`d-block mb-4 mt-2`}>\r\n            <label className={(formik.touched.groupCondition && Boolean(formik.errors.groupCondition)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n              <FormattedMessage id=\"CUSTOM_MARKET_GROUP_DIALOG.GROUP_CONDITION\" />\r\n            </label>\r\n            <Select\r\n                className={`mt-0`}\r\n                fullWidth\r\n                id=\"groupCondition\"\r\n                name=\"groupCondition\"\r\n                label=\"groupCondition\"\r\n                value={formik.values.groupCondition}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.groupCondition && Boolean(formik.errors.groupCondition)}\r\n                helperText={formik.touched.groupCondition && formik.errors.groupCondition}\r\n                className={\r\n                    (formik.values.itemCondition == 'N') ? 'text-danger' : \r\n                    (formik.values.itemCondition == 'A') ? 'text-primary' : ''\r\n                }\r\n            >\r\n                <MenuItem key='A' value=\"A\">\r\n                    <label className=\"text-primary\">\r\n                      <FormattedMessage id=\"MASTER.CONDITION.AND\" />\r\n                    </label>\r\n                </MenuItem>\r\n                <MenuItem key='O' value=\"O\">\r\n                    <label className=\"\">\r\n                      <FormattedMessage id=\"MASTER.CONDITION.OR\" />\r\n                    </label>\r\n                </MenuItem>\r\n                <MenuItem key='N' value=\"N\">\r\n                    <label className=\"text-danger\">\r\n                      <FormattedMessage id=\"MASTER.CONDITION.NOT\" />\r\n                    </label>\r\n                </MenuItem>\r\n            </Select>\r\n            {formik.touched.groupCondition && Boolean(formik.errors.groupCondition) &&\r\n              <p className=\"MuiFormHelperText-root Mui-error\">{formik.touched.groupCondition && formik.errors.groupCondition}</p>\r\n            }                    \r\n        </FormControl> \r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          {formik.errors.api &&\r\n            <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{formik.errors.api}</div>\r\n          }          \r\n          <Button \r\n            onClick={handleCancel} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n              <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n          </Button>\r\n          <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n              <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n            </span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarket: state.mercados.customMarket\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CustomMarketGroupDialog);","import React, { useState } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst CustomMarketGroupDeleteDialog = (props) => {\r\n  const {customMarketGroupSelected, open, handleClose} = props\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n      setLoading(false);\r\n  };    \r\n\r\n  const handleDelete = () => {\r\n    setErrors({})\r\n    enableLoading();\r\n    setTimeout(async () => {\r\n         try { \r\n            await props.deleteCustomMarketGroup(customMarketGroupSelected.code)\r\n            disableLoading();\r\n            handleClose(true)\r\n            await Promise.all([props.getCustomMarkets(), props.getCustomMarketGroupByCustomMarketCode(customMarketGroupSelected.customMarketCode)])\r\n          } catch(err) {\r\n            if (err.response && err.response.data == 'has_custom_market_detail') {\r\n                setErrors( {api: <FormattedMessage id=\"CUSTOM_MARKET_GROUP_DELETE_DIALOG.EXCEPTION\" />} )\r\n            } else {\r\n                setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n            }            \r\n            disableLoading();\r\n          }\r\n    }, 1000);\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    setErrors({})\r\n  }, [open])\r\n\r\n  return (\r\n    <>\r\n    {customMarketGroupSelected && customMarketGroupSelected.code && (\r\n    <div>\r\n        <Dialog\r\n            maxWidth=\"sm\"\r\n            fullWidth={true}\r\n            open={open}\r\n            keepMounted\r\n            onClose={handleClose}\r\n            aria-labelledby=\"alert-dialog-slide-title\"\r\n            aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-slide-title\">\r\n            <FormattedMessage id=\"CUSTOM_MARKET_GROUP_DELETE_DIALOG.TITLE\" />\r\n            </DialogTitle>\r\n            <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-slide-description\">\r\n                <FormattedMessage id=\"CUSTOM_MARKET_GROUP_DELETE_DIALOG.MESSAGE\" values={{ name: customMarketGroupSelected.description }}/>\r\n            </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            {errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{errors.api}</div>\r\n            }                    \r\n            <Button onClick={handleClose} color=\"primary\" disabled={loading}>\r\n                <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n            </Button>\r\n            <Button onClick={handleDelete} className=\"text-danger\" disabled={loading}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n                <span style={{paddingLeft:'25px'}}>\r\n                <FormattedMessage id=\"FORM.ACTION.DELETE\" />\r\n                </span>\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        </div>\r\n    )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(CustomMarketGroupDeleteDialog);","import React from 'react';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport CustomMarketGroupDialog from './CustomMarketGroupDialog'\r\nimport CustomMarketGroupDelete from './CustomMarketGroupDelete'\r\n\r\nexport default function CustomMarketGroupAction(props) {\r\n\tconst { customMarketGroup, customMarketGroups } = props;\r\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\r\n\tconst [openDialog, setOpenDialog] = React.useState(false);\r\n\tconst [openDeleteDialog, setOpenDeleteDialog] = React.useState(false);\r\n\tconst [customMarketGroupSelected, setCustomMarketGroupSelected] = React.useState(null);\r\n\tconst openMenu = Boolean(anchorEl);  \r\n\tconst ITEM_HEIGHT = 48;\r\n\r\n\tconst handleOpenMenu = (event) => {\r\n\t\tevent.stopPropagation();\r\n\t\tsetAnchorEl(event.currentTarget);\r\n\t};\r\n\r\n\tconst handleCloseMenu = (event) => {\r\n\t\tsetAnchorEl(null);\r\n\t};  \r\n\r\n\tconst handleCloseDialog = () => {\r\n\t\tsetOpenDialog(false);\r\n\t\tsetOpenDeleteDialog(false);\r\n\t};    \r\n\r\n\tconst handleOpenCreateDialog = (event) => {\r\n\t\thandleCloseMenu()\r\n\t\tsetCustomMarketGroupSelected(null)\r\n\t\tsetOpenDialog(true);\r\n\t};\r\n\r\n\tconst handleOpenEditDialog = (event) => {\r\n\t\thandleCloseMenu()\r\n\t\tlet customMarketGroupSelected = customMarketGroups.data.filter(x => x.code == customMarketGroup)\r\n\t\tsetCustomMarketGroupSelected(customMarketGroupSelected[0])\r\n\t\tsetOpenDialog(true);\r\n\t};\r\n\r\n\tconst hasCustomMarketDetail = () => {\r\n\t\treturn customMarketGroups.data.filter(x => x.code == customMarketGroup) > 0\t\r\n\t}\r\n\r\n\tconst handleOpenDeleteDialog = (event) => {\r\n\t\thandleCloseMenu()\r\n\t\tlet customMarketGroupSelected = customMarketGroups.data.filter(x => x.code == customMarketGroup)\r\n\t\tsetCustomMarketGroupSelected(customMarketGroupSelected[0])\r\n\t\tsetOpenDeleteDialog(true);\r\n\t};\t\r\n\r\n    return ( \r\n\t\t<>        \r\n\t\t\t<IconButton aria-label=\"\" onClick={handleOpenMenu} color=\"primary\">\r\n\t\t\t\t<MoreVertIcon style={{fontSize: '1.5rem'}}/>\r\n\t\t\t</IconButton>\r\n\t\t\t<Menu\r\n\t\t\t\tid=\"customMarketGroupMenu\"\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tkeepMounted\r\n\t\t\t\topen={openMenu}\r\n\t\t\t\tonClose={handleCloseMenu}\r\n\t\t\t\tPaperProps={{\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmaxHeight: ITEM_HEIGHT * 4.5,\r\n\t\t\t\t\t\twidth: '24ch',\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t{/* <MenuItem key='menuItemCreateGroup' onClick={handleOpenCreateDialog}>\r\n\t\t\t\t\t<FormattedMessage id=\"CUSTOM_MARKET_GROUP_ACTION.CREATE\" />\r\n\t\t\t\t</MenuItem> */}\r\n\t\t\t\t<MenuItem key='menuItemEditGroup' onClick={handleOpenEditDialog} disabled={customMarketGroup == -1} >\r\n\t\t\t\t\t<FormattedMessage id=\"CUSTOM_MARKET_GROUP_ACTION.EDIT\" />\r\n\t\t\t\t</MenuItem>\r\n\t\t\t\t<MenuItem key='menuItemDeleteGroup' onClick={handleOpenDeleteDialog} disabled={customMarketGroup == -1 && hasCustomMarketDetail()} >\r\n\t\t\t\t\t<FormattedMessage id=\"CUSTOM_MARKET_GROUP_ACTION.DELETE\" />\r\n\t\t\t\t</MenuItem>\t\t\t\t                       \r\n\t\t\t</Menu>\r\n\t\t\t<CustomMarketGroupDialog open={openDialog} handleClose={handleCloseDialog} customMarketGroupSelected={customMarketGroupSelected}/>    \r\n\t\t\t<CustomMarketGroupDelete open={openDeleteDialog} handleClose={handleCloseDialog} customMarketGroupSelected={customMarketGroupSelected}/>    \r\n\t\t</>\r\n    )\r\n}","import React from 'react';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport CustomMarketGroupAction from './CustomMarketGroupAction'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    minWidth: 180,\r\n  },\r\n  selectEmpty: {\r\n    //marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function SimpleSelect(props) {\r\n  const classes = useStyles();\r\n  let { handleCustomMarketGroupChange, customMarketGroup, customMarketGroups } = props;\r\n\r\n  return (\r\n    <>\r\n     <Toolbar>\r\n        <InputLabel className=\"mr-5 pr-3 font-weight-bold text-uppercase\" style={{fontSize: '14px'}}>\r\n          <FormattedMessage id=\"CUSTOM_MARKET_GROUP.TITLE\" />\r\n        </InputLabel>\r\n        <FormControl className={classes.formControl}>\r\n          <Select\r\n            id=\"custom-market-group-simple-select-placeholder\"\r\n            value={customMarketGroup}\r\n            onChange={handleCustomMarketGroupChange}\r\n            displayEmpty\r\n            className={classes.selectEmpty}\r\n          >\r\n            <MenuItem key='default' value={-1}>SIN AGRUPACIN</MenuItem>\r\n            {customMarketGroups && customMarketGroups.data && (customMarketGroups.data.map((cmg) => {\r\n              return (\r\n                <MenuItem \r\n                  key={cmg.code} \r\n                  value={cmg.code}\r\n                  name={cmg.description}\r\n                  className={(cmg.groupCondition == 'N') ? 'text-danger' : (cmg.groupCondition == 'A') ? 'text-primary' : ''}\r\n                  >\r\n                    <label className={(cmg.groupCondition == 'N') ? 'text-danger' : (cmg.groupCondition == 'A') ? 'text-primary' : ''}>\r\n                      {cmg.description.toUpperCase()}\r\n                    </label>\r\n                </MenuItem>\r\n              )\r\n            }))}\r\n          </Select>\r\n        </FormControl>\r\n        <CustomMarketGroupAction customMarketGroup={customMarketGroup} customMarketGroups={customMarketGroups}/>\r\n      </Toolbar>\r\n    </>\r\n  );\r\n}","import React from 'react';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport CustomMarketGroupDialog from './CustomMarketGroupDialog'\r\nimport CustomMarketGroupAction from './CustomMarketGroupAction'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: '100%',\r\n    paddingBottom: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function CustomMarketGroupTab(props) {\r\n  const { customMarketGroups, handleCustomMarketGroupChange } = props;\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [value, setValue] = React.useState(1);\r\n  const [openDialog, setOpenDialog] = React.useState(false);\r\n\r\n  function handleChange(event, newValue) {\r\n    setValue(newValue);\r\n  }\r\n\r\n  const handleOpenCreateDialog = (event) => {\r\n\t\tsetOpenDialog(true);\r\n\t};\r\n\r\n\tconst handleCloseDialog = () => {\r\n\t\tsetOpenDialog(false);\r\n\t};      \r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"scrollable\"\r\n          scrollButtons=\"auto\"          \r\n        >\r\n          <Tooltip title=\"CREAR AGRUPACIN\">\r\n            <IconButton onClick={handleOpenCreateDialog} className=\"mr-8\" color=\"primary\">\r\n              <AddCircleOutlineIcon  style={{fontSize: '1.5rem'}}/>\r\n            </IconButton>\r\n          </Tooltip>\r\n         \r\n          <Tab \r\n            onClick={() => handleCustomMarketGroupChange(-1)}\r\n            style={{fontSize: '1rem', color: '#2d1f1fd6 !important'}} \r\n            key={-1}           \r\n            label={\r\n              <span\r\n                style={{color: '#2d1f1fd6'}}\r\n              >\r\n                SIN AGRUPACIN\r\n              </span>\r\n            }\r\n            className={'text-dark'}\r\n          />\r\n            {customMarketGroups && customMarketGroups.data && (customMarketGroups.data.map((cmg) => {\r\n              return (\r\n                <Tab \r\n                  onClick={() => handleCustomMarketGroupChange(cmg.code)}\r\n                  style={{fontSize: '1rem'}} \r\n                  key={cmg.code}\r\n                  className={(cmg.groupCondition == 'N') ? 'text-danger' : (cmg.groupCondition == 'A') ? 'text-primary' : 'text-dark'}\r\n                  label={\r\n                    <span\r\n                      style={{color: (cmg.groupCondition == 'O') ? '#2d1f1fd6' : ''}}\r\n                    >\r\n                      {cmg.description.toUpperCase()}\r\n                      <CustomMarketGroupAction customMarketGroup={cmg.code} customMarketGroups={customMarketGroups}/>\r\n                    </span>\r\n                  }\r\n                />\r\n              )\r\n            }))}\r\n        </Tabs>\r\n      </AppBar>\r\n      <CustomMarketGroupDialog open={openDialog} handleClose={handleCloseDialog} customMarketGroupSelected={null}/>    \r\n    </div>\r\n  );\r\n}","import React, { useState } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst CustomMarketDetailEditDialog = (props) => {\r\n    const {customMarket, productTypes, itemSelectedIndex, ownProduct, open, handleClose} = props;\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const initialValues = {\r\n        intemodifier: '',\r\n        modifier: '',\r\n        ensureVisible: '',\r\n        expand: '',\r\n        graphs: '',\r\n        resume: '',        \r\n        itemCondition: '',\r\n        pattern: '',\r\n        productTypeCode: '', \r\n        ownProduct: ''\r\n    };\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n\r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };    \r\n\r\n    const handleCancel = () => {\r\n        handleClose()\r\n        formik.resetForm()\r\n    }  \r\n\r\n\r\n    const Schema = Yup.object().shape({\r\n        intemodifier: Yup.string()     \r\n        .test(\r\n            'is-decimal',   \r\n            'Formato invalido',\r\n            value => value == undefined || (value + \"\").match(/^[0-9]+([,][0-9]{1,2})?$/) ,\r\n        ),\r\n        modifier:  Yup.string()\r\n        .test(\r\n            'is-decimal',   \r\n            'Formato invalido',\r\n            value => value == undefined || (value + \"\").match(/^[0-9]+([,][0-9]{1,2})?$/) ,\r\n        ),\r\n      });    \r\n\r\n    const formik = useFormik({\r\n        initialValues,\r\n        validationSchema: Schema,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n            try {\r\n                let customMarketModified = prepareSave(values)\r\n                await props.updateCustomMarket(customMarketModified)\r\n                disableLoading();\r\n                handleClose()\r\n            } catch(err) {\r\n                setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                disableLoading();\r\n            } finally {\r\n                setSubmitting(false);\r\n                formik.resetForm()\r\n            }\r\n        }, 1000);\r\n        },\r\n    });\r\n\r\n  const prepareSave = ({intemodifier, modifier, ensureVisible, expand, graphs, resume, pattern, itemCondition, productTypeCode, ownProduct}) => {\r\n      let copyCustomMarket = JSON.parse(JSON.stringify(customMarket.data))                    \r\n      itemSelectedIndex.map(itemIndex => {\r\n        if (intemodifier !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].intemodifier = intemodifier\r\n        }\r\n        if (modifier !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].modifier = modifier\r\n        }\r\n        if (ensureVisible !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].ensureVisible = ensureVisible\r\n        }\r\n        if (expand !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].expand = expand\r\n        }\r\n        if (graphs !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].graphs = graphs\r\n        } \r\n        if (resume !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].resume = resume\r\n        }\r\n        if (pattern !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].pattern = pattern\r\n        }           \r\n        if (itemCondition !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].itemCondition = itemCondition\r\n        }   \r\n        if (productTypeCode !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].productTypeCode = parseInt(productTypeCode)\r\n        }   \r\n        if (ownProduct !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].ownProduct = ownProduct\r\n        }                                                              \r\n      })\r\n\r\n      return copyCustomMarket\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open} \r\n        onClose={handleCancel} \r\n        aria-labelledby=\"form-dialog-title\"\r\n        >\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            <strong>\r\n                <FormattedMessage id=\"CUSTOM_MARKET_DETAIL_DIALOG.TITLE\" />\r\n            </strong>\r\n            <p></p>\r\n            {customMarket?.data?.fullDescription}\r\n          </DialogContentText>\r\n            {/*begin::Form*/}\r\n            <form\r\n                onSubmit={formik.handleSubmit}\r\n                className=\"form fv-plugins-bootstrap fv-plugins-framework\"\r\n            >\r\n            {formik.status ? (\r\n            <div className=\"mb-10 alert alert-custom alert-light-danger alert-dismissible\">\r\n                <div className=\"alert-text font-weight-bold\">{formik.status}</div>\r\n            </div>\r\n            ): null }\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.INTEMODIFIER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"intemodifier\"\r\n                    name=\"intemodifier\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.INTEMODIFIER\" />}\r\n                    type=\"text\"\r\n                    value={formik.values.intemodifier}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.intemodifier && Boolean(formik.errors.intemodifier)}\r\n                    helperText={formik.touched.intemodifier && formik.errors.intemodifier}\r\n                />\r\n            </Tooltip>                \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.MODIFIER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"modifier\"\r\n                    name=\"modifier\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.MODIFIER\" />}\r\n                    type=\"text\"\r\n                    value={formik.values.modifier}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.modifier && Boolean(formik.errors.modifier)}\r\n                    helperText={formik.touched.modifier && formik.errors.modifier}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.ITEM_CONDITION\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.ITEM_CONDITION\" />\r\n                    </label>\r\n                    <Select\r\n                        style={{marginTop: '0px'}}\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"itemCondition\"\r\n                        name=\"itemCondition\"\r\n                        label=\"itemCondition\"\r\n                        value={formik.values.itemCondition}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.itemCondition && Boolean(formik.errors.itemCondition)}\r\n                        helperText={formik.touched.itemCondition && formik.errors.itemCondition}\r\n                        className={\r\n                            (formik.values.itemCondition == 'N') ? 'text-danger' : \r\n                            (formik.values.itemCondition == 'A') ? 'text-primary' : ''\r\n                        }\r\n                    >\r\n                        <MenuItem key='A' value=\"A\">\r\n                            <label className=\"text-primary\">\r\n                                <FormattedMessage id=\"MASTER.CONDITION.AND\" />\r\n                            </label>\r\n                        </MenuItem>\r\n                        <MenuItem key='O' value=\"O\">\r\n                            <label className=\"\">\r\n                                <FormattedMessage id=\"MASTER.CONDITION.OR\" />\r\n                            </label>\r\n                        </MenuItem>\r\n                        <MenuItem key='N' value=\"N\">\r\n                            <label className=\"text-danger\">\r\n                                <FormattedMessage id=\"MASTER.CONDITION.NOT\" />\r\n                            </label>\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl> \r\n            </Tooltip> \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.ENSURE_VISIBLE\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.ENSURE_VISIBLE\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"ensureVisible\"\r\n                        name=\"ensureVisible\"\r\n                        label=\"ensureVisible\"\r\n                        value={formik.values.ensureVisible}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.ensureVisible && Boolean(formik.errors.ensureVisible)}\r\n                        helperText={formik.touched.ensureVisible && formik.errors.ensureVisible}\r\n                    >\r\n                        <MenuItem key='empty' value=\"\">&nbsp;</MenuItem>\r\n                        <MenuItem key='yes' value={true}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip> \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.EXPAND\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.EXPAND\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"expand\"\r\n                        name=\"expand\"\r\n                        label=\"expand\"\r\n                        value={formik.values.expand}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.expand && Boolean(formik.errors.expand)}\r\n                        helperText={formik.touched.expand && formik.errors.expand}\r\n                    >\r\n                        <MenuItem key='empty' value=\"\">&nbsp;</MenuItem>\r\n                        <MenuItem key='yes' value={true}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip> \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.GRAPHS\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.GRAPHS\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"graphs\"\r\n                        name=\"graphs\"\r\n                        label=\"graphs\"\r\n                        value={formik.values.graphs}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.graphs && Boolean(formik.errors.graphs)}\r\n                        helperText={formik.touched.graphs && formik.errors.graphs}\r\n                    >\r\n                        <MenuItem key='empty' value=\"\">&nbsp;</MenuItem>\r\n                        <MenuItem key='yes' value={true}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.RESUME\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.RESUME\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"resume\"\r\n                        name=\"resume\"\r\n                        label=\"resume\"\r\n                        value={formik.values.resume}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.resume && Boolean(formik.errors.resume)}\r\n                        helperText={formik.touched.resume && formik.errors.resume}\r\n                    >\r\n                        <MenuItem key='empty' value=\"\">&nbsp;</MenuItem>\r\n                        <MenuItem key='yes' value={true}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.PATTERN\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"pattern\"\r\n                    name=\"pattern\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.PATTERN\" />}\r\n                    value={formik.values.pattern}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.pattern && Boolean(formik.errors.pattern)}\r\n                    helperText={formik.touched.modifier && formik.errors.pattern}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.PRODUCT_TYPE\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.PRODUCT_TYPE\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"productTypeCode\"\r\n                        name=\"productTypeCode\"\r\n                        label=\"productTypeCode\"\r\n                        value={formik.values.productTypeCode}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.productTypeCode && Boolean(formik.errors.productTypeCode)}\r\n                        helperText={formik.touched.productTypeCode && formik.errors.productTypeCode}\r\n                    >\r\n                        <MenuItem key='-1' value={\"\"}>&nbsp;</MenuItem>\r\n                        {productTypes && (productTypes.map((pt, index) => {\r\n                                return <MenuItem key={pt.code} value={pt.code}>{pt.description.toUpperCase()}</MenuItem>\r\n                            }))\r\n                        }\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            {ownProduct == true  &&\r\n            <Tooltip \r\n            title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.OWN_PRODUCT\" />}\r\n            placement=\"left\" \r\n            arrow\r\n            enterDelay={700}\r\n            enterNextDelay={700}\r\n            >            \r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.OWN_PRODUCT\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"ownProduct\"\r\n                        name=\"ownProduct\"\r\n                        label=\"ownProduct\"\r\n                        value={formik.values.ownProduct}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.ownProduct && Boolean(formik.errors.ownProduct)}\r\n                        helperText={formik.touched.ownProduct && formik.errors.ownProduct}\r\n                    >\r\n                        <MenuItem key='empty' value=\"\">&nbsp;</MenuItem>\r\n                        <MenuItem key='yes' value={true}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            }                                                      \r\n            </form>\r\n            {/*end::Form*/}                                                                    \r\n        </DialogContent>\r\n        <DialogActions>\r\n            {formik.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{formik.errors.api}</div>\r\n            }            \r\n            <Button onClick={handleCancel} color=\"primary\" disabled={formik.isSubmitting}>\r\n                <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n            </Button>\r\n            <Button onClick={formik.handleSubmit} color=\"primary\" disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n                <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n            </span>\r\n            </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarket: state.mercados.customMarket,\r\n        productTypes: state.mercados.producttypes\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CustomMarketDetailEditDialog);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst CustomMarketDetailDeleteDialog = (props) => {\r\n  const {customMarket, itemSelectedIndex, open, handleClose} = props\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n      setLoading(false);\r\n  };    \r\n\r\n  const prepareDelete = () => {\r\n    let copyCustomMarket = JSON.parse(JSON.stringify(customMarket.data))                    \r\n\r\n    copyCustomMarket.customMarketDetail = copyCustomMarket.customMarketDetail.filter((cmd) => {\r\n      return !itemSelectedIndex.includes(cmd.index); \r\n    });    \r\n\r\n    return copyCustomMarket\r\n  } \r\n\r\n  const handleDelete = () => {\r\n    setErrors({})\r\n    enableLoading();\r\n    setTimeout(async () => {\r\n         try { \r\n            let customMarketModified = prepareDelete()\r\n            await props.updateCustomMarket(customMarketModified)\r\n            disableLoading();\r\n            handleClose(true)\r\n          } catch(err) {\r\n            setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n            disableLoading();\r\n          }\r\n    }, 1000);\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    setErrors({})\r\n  }, [open])\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open}\r\n        keepMounted\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\">\r\n          <FormattedMessage id=\"CUSTOM_MARKET_DETAIL_DELETE_DIALOG.TITLE\" />\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n            <FormattedMessage id=\"CUSTOM_MARKET_DETAIL_DELETE_DIALOG.MESSAGE\" values={{ count: itemSelectedIndex.length }}/>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {errors.api &&\r\n            <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{errors.api}</div>\r\n          }                    \r\n          <Button onClick={handleClose} color=\"primary\" disabled={loading}>\r\n            <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n          </Button>\r\n          <Button onClick={handleDelete} className=\"text-danger\" disabled={loading}>\r\n          {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n              <FormattedMessage id=\"FORM.ACTION.DELETE\" />\r\n            </span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      customMarket: state.mercados.customMarket\r\n  }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CustomMarketDetailDeleteDialog);","import React from 'react';\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport CustomMarketDetailEdit from './CustomMarketDetailEdit'\r\nimport CustomMarketDetailDelete from './CustomMarketDetailDelete'\r\n\r\nfunction EnhancedTableHead(props) {\r\n    const { classes, onSelectAllClick, numSelected, rowCount, intl, isOwnProduct } = props;\r\n\r\n    const headCells = [\r\n        { id: 'description', numeric: false, disablePadding: true, label: '' },\r\n        { id: 'intemodifier', numeric: true, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.INTEMODIFIER.SHORT\"}) },\r\n        { id: 'modifier', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.MODIFIER.SHORT\"}) },\r\n        { id: 'ensureVisible', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.ENSURE_VISIBLE\"}) },\r\n        { id: 'expand', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.EXPAND\"}) },\r\n        { id: 'graphs', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.GRAPHS\"}) },\r\n        { id: 'resume', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.RESUME\"}) },\r\n        { id: 'pattern', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.PATTERN\"}) },\r\n        { id: 'productType', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.PRODUCT_TYPE\"}) },\r\n    ];\r\n\r\n    if (isOwnProduct == true) {\r\n        headCells.push({ id: 'ownProduct', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.OWN_PRODUCT\"}) })\r\n    }\r\n\r\n    return (\r\n        <TableHead>\r\n            <TableRow>\r\n                <TableCell padding=\"checkbox\">\r\n                <Checkbox\r\n                    indeterminate={numSelected > 0 && numSelected < rowCount}\r\n                    checked={rowCount > 0 && numSelected === rowCount}\r\n                    onChange={onSelectAllClick}\r\n                    inputProps={{ 'aria-label': 'select all desserts' }}\r\n                    />\r\n                </TableCell>\r\n                {headCells.map((headCell) => (\r\n                    <TableCell key={headCell.label}>{headCell.label}</TableCell>\r\n                ))}\r\n            </TableRow>\r\n        </TableHead>\r\n    );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    numSelected: PropTypes.number.isRequired,\r\n    onSelectAllClick: PropTypes.func.isRequired,\r\n    rowCount: PropTypes.number.isRequired,\r\n    intl: PropTypes.object.isRequired,\r\n    isOwnProduct: PropTypes.object.isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles((theme) => (\r\n    {\r\n        root: {\r\n            paddingLeft: theme.spacing(2),\r\n            paddingRight: theme.spacing(1),\r\n        },\r\n        highlight:\r\n            theme.palette.type === 'light'\r\n            ? {\r\n                color: theme.palette.secondary.main,\r\n                backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n                }\r\n            : {\r\n                color: theme.palette.text.primary,\r\n                backgroundColor: theme.palette.secondary.dark,\r\n                },\r\n        title: {\r\n            flex: '1 1 100%',\r\n        },\r\n    }\r\n));\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n    const classes = useToolbarStyles();\r\n    const { intl, numSelected, selected, isOwnProduct, clearSelected } = props;\r\n    const [openEditModal, setOpenEditModal] = React.useState(false);\r\n    const [openDeleteModal, setOpenDeleteModal] = React.useState(false);\r\n    \r\n\r\n    const handleCloseEditModal = () => {\r\n        setOpenEditModal(false);\r\n    };    \r\n\r\n    const handleOpenEditModal = (event) => {\r\n        setOpenEditModal(true);\r\n    };\r\n\r\n    const handleCloseDeleteModal = (clear = false) => {\r\n        setOpenDeleteModal(false);\r\n        \r\n        if (clear == true) {\r\n            clearSelected()\r\n        }\r\n    };    \r\n\r\n    const handleOpenDeleteModal = (event) => {\r\n        setOpenDeleteModal(true);\r\n    };    \r\n\r\n    return (\r\n        <Toolbar\r\n            className={clsx(classes.root, { [classes.highlight]: numSelected > 0, })}>\r\n            {numSelected > 0 && (\r\n                <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\">\r\n                {numSelected} {numSelected == 1 ? <FormattedMessage id=\"MASTER.SELECTED\" />: <FormattedMessage id=\"MASTER.SELECTEDS\" /> }\r\n                </Typography>\r\n            )}\r\n            {numSelected > 0 && (\r\n                <>\r\n                    <Tooltip title={intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.ACTION.EDIT\"})}>\r\n                        <IconButton aria-label=\"\" onClick={handleOpenEditModal} color=\"primary\">\r\n                            <EditIcon />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                    <Tooltip title={intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.ACTION.DELETE\"})}>\r\n                        <IconButton aria-label=\"\" onClick={handleOpenDeleteModal} color=\"primary\">\r\n                            <DeleteIcon />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </>           \r\n            )}\r\n            <CustomMarketDetailEdit open={openEditModal} handleClose={handleCloseEditModal} itemSelectedIndex={selected} ownProduct={isOwnProduct}/>\r\n            <CustomMarketDetailDelete open={openDeleteModal} handleClose={handleCloseDeleteModal} itemSelectedIndex={selected}/>\r\n        </Toolbar>\r\n    );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n    numSelected: PropTypes.number.isRequired,\r\n    intl: PropTypes.object.isRequired,\r\n    isOwnProduct: PropTypes.object.isRequired,\r\n    clearSelected: PropTypes.object.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    paper: {\r\n        width: '100%',\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    table: {\r\n        minWidth: 750,\r\n    },  \r\n    visuallyHidden: {\r\n        border: 0,\r\n        clip: 'rect(0 0 0 0)',\r\n        height: 1,\r\n        margin: -1,\r\n        overflow: 'hidden',\r\n        padding: 0,\r\n        position: 'absolute',\r\n        top: 20,\r\n        width: 1,\r\n    },\r\n}));\r\n\r\nconst CustomMarketDetail = (props) => {\r\n    const { intl, rows, filterOwnProduct } = props;\r\n    const classes = useStyles();\r\n    const [selected, setSelected] = React.useState([]);\r\n    const [dense, setDense] = React.useState(true);\r\n    const [rowsPerPage, setRowsPerPage] = React.useState(999);\r\n    const [switchOwnProduct, setSwitchOwnProduct] = React.useState(false);\r\n    const [customMarketDetail, setCustomMarketDetail] = React.useState(rows)    \r\n\r\n    const handleSelectAllClick = (event) => {\r\n        if (event.target.checked) {\r\n            const newSelecteds = customMarketDetail.map((n) => n.index);\r\n            setSelected(newSelecteds);\r\n            return;\r\n        }\r\n        setSelected([]);\r\n    };\r\n\r\n    const handleClick = (event, index) => {\r\n        const selectedIndex = selected.indexOf(index);\r\n        let newSelected = [];\r\n\r\n        if (selectedIndex === -1) {\r\n            newSelected = newSelected.concat(selected, index);\r\n        } else if (selectedIndex === 0) {\r\n            newSelected = newSelected.concat(selected.slice(1));\r\n        } else if (selectedIndex === selected.length - 1) {\r\n            newSelected = newSelected.concat(selected.slice(0, -1));\r\n        } else if (selectedIndex > 0) {\r\n            newSelected = newSelected.concat(\r\n                selected.slice(0, selectedIndex),\r\n                selected.slice(selectedIndex + 1),\r\n            );\r\n        }\r\n\r\n        setSelected(newSelected);\r\n    };\r\n\r\n    const isSelected = (index) => selected.indexOf(index) !== -1;\r\n\r\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, customMarketDetail.length - rowsPerPage);\r\n    \r\n    const handleChangeSwitchOwnProduct = (event) => {\r\n        setSwitchOwnProduct(event.target.checked);\r\n        if (event.target.checked) {\r\n            setSelected([])\r\n            setCustomMarketDetail(rows.filter( x => x.ownProductsReport === true))\r\n        } else {\r\n            setCustomMarketDetail(rows)\r\n        }\r\n    };   \r\n    \r\n    const clearSelected = () => {\r\n        setSelected([])\r\n    }\r\n\r\n    React.useEffect(() => { \r\n        setSwitchOwnProduct(false)\r\n        setCustomMarketDetail(rows)\r\n    }, [rows]) \r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Paper className={classes.paper} style={{position: 'relative'}}>\r\n                {filterOwnProduct === true  && (\r\n                    <FormControlLabel\r\n                        className=\"float-left m-2\"\r\n                        style={{position: 'absolute', left: '0px', zIndex: '2'}}\r\n                        control={\r\n                            <Switch\r\n                                checked={switchOwnProduct}\r\n                                onChange={handleChangeSwitchOwnProduct}\r\n                                name=\"chkOwnProduct\"\r\n                                color=\"primary\"\r\n                            />\r\n                        }\r\n                        label={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.OWN_PRODUCTS\" />}\r\n                    />\r\n                )}\r\n                {(selected.length > 0 || filterOwnProduct === true) && \r\n                    <EnhancedTableToolbar numSelected={selected.length} clearSelected={clearSelected} selected={selected} intl={intl} isOwnProduct={switchOwnProduct} />\r\n                }\r\n                <TableContainer  style={{maxHeight: '300px', overflowY: 'auto' }} > \r\n                    <Table\r\n                        className={classes.table}\r\n                        aria-labelledby=\"tableTitle\"\r\n                        size={dense ? 'small' : 'medium'}\r\n                        aria-label=\"enhanced table\"\r\n                        stickyHeader\r\n                    >\r\n                    <EnhancedTableHead\r\n                        classes={classes}\r\n                        numSelected={selected.length}\r\n                        onSelectAllClick={handleSelectAllClick}\r\n                        rowCount={customMarketDetail.length}\r\n                        intl={intl}\r\n                        isOwnProduct={filterOwnProduct}\r\n                    />\r\n                    <TableBody>\r\n                        {customMarketDetail.map((cmd, index) => {\r\n                            const isItemSelected = isSelected(cmd.index);\r\n                            const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                            return (\r\n                                <TableRow\r\n                                    style={{cursor: 'pointer'}}\r\n                                    hover\r\n                                    onClick={(event) => handleClick(event, cmd.index)}\r\n                                    role=\"checkbox\"\r\n                                    aria-checked={isItemSelected}\r\n                                    tabIndex={-1}\r\n                                    key={cmd.index}\r\n                                    selected={isItemSelected}\r\n                                >\r\n                                <TableCell padding=\"checkbox\">\r\n                                    <Checkbox\r\n                                        checked={isItemSelected}\r\n                                        inputProps={{ 'aria-labelledby': labelId }}\r\n                                    />\r\n                                </TableCell>\r\n                                <TableCell \r\n                                    className={(cmd.itemCondition == 'N') ? 'text-danger' : (cmd.itemCondition == 'A') ? 'text-primary' : ''}\r\n                                    component=\"th\" \r\n                                    id={labelId} \r\n                                    scope=\"cmd\" \r\n                                    padding=\"none\">\r\n                                    {cmd.name}\r\n                                    {cmd.isGroup == true &&\r\n                                        <span className=\"text-primary pl-4\" key={labelId}><strong>&#8859;</strong></span>\r\n                                    }\r\n                                </TableCell>\r\n                                <TableCell align=\"center\"> {cmd.intemodifier} </TableCell>\r\n                                <TableCell align=\"center\"> {cmd.modifier} </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                <Checkbox checked={cmd.ensureVisible} />\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    <Checkbox checked={cmd.expand}/>\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                        <Checkbox checked={cmd.graphs}/>\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    <Checkbox checked={cmd.resume}/>\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">{cmd.pattern}</TableCell>\r\n                                <TableCell align=\"center\">{cmd.productTypeDescription}</TableCell>\r\n                                {filterOwnProduct == true && \r\n                                    <TableCell align=\"center\">\r\n                                        <Checkbox checked={cmd.ownProduct}/>\r\n                                    </TableCell>\r\n                                }\r\n                                </TableRow>\r\n                            );\r\n                            })}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default injectIntl(CustomMarketDetail);","import React from 'react';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport CustomMarketGroup from './CustomMarketGroup'\r\nimport CustomMarketGroupTab from './CustomMarketGroupTab'\r\nimport CustomMarketDetail from './CustomMarketDetail'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    flexGrow: 1,\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightMedium,\r\n  },\r\n  paper: {\r\n    padding:theme.spacing(0),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n    backgroundColor: '#f5f5f5'\r\n  },  \r\n}));\r\n\r\nconst useExpansionPanelStyles = makeStyles((theme) => (\r\n    {\r\n        root: {\r\n            padding: theme.spacing(1),\r\n            marginBottom: theme.spacing(0),\r\n        },\r\n        expanded: {\r\n            minHeight: '10px !important'\r\n        },\r\n    }\r\n))\r\n\r\nconst CustomMarketDefinition = (props) => {\r\n  const { intl, customMarket, customMarketGroups } = props;\r\n  const classes = useStyles();\r\n  const expansionPanelClasses = useExpansionPanelStyles()\r\n  const [ rows, setRows ] = React.useState(null)        \r\n  const [customMarketGroup, setCustomMarketGroup] = React.useState(-1);\r\n\r\n\r\n  const getCustomMarketDetailCustoMarkets = (customMarket) => {\r\n    let detailCustomMartkets = []\r\n    if(customMarket && customMarket.customMarketDetail) {\r\n        customMarket.customMarketDetail.forEach(cmd => {\r\n            if (cmd.detailCustomMarketCode) {\r\n                cmd.name = cmd.detailCustomMarketDescription.toUpperCase();\r\n                detailCustomMartkets.push(cmd)\r\n            }\r\n        });\r\n    }\r\n    return detailCustomMartkets;\r\n  }\r\n\r\n  const getCustomMarketDetailDrugs = (customMarket) => {\r\n      let drugs = []\r\n      if(customMarket && customMarket.customMarketDetail) {\r\n          customMarket.customMarketDetail.forEach(cmd => {\r\n              if (cmd.drugCode) {\r\n                  cmd.name = cmd.drugDescription.toUpperCase();\r\n                  drugs.push(cmd);\r\n              } else if (cmd.drugGroupCode) {\r\n                  cmd.name = cmd.drugGroupDescription.toUpperCase()\r\n                  cmd.isGroup = true\r\n                  drugs.push(cmd);\r\n              }\r\n          });\r\n      }\r\n      return drugs;\r\n  }\r\n\r\n  const getCustomMarketDetailLaboratories = (customMarket) => {\r\n      let laboratories = []\r\n      if(customMarket && customMarket.customMarketDetail) {\r\n          customMarket.customMarketDetail.forEach(cmd => {\r\n              if (cmd.laboratoryCode) {\r\n                  cmd.name = cmd.laboratoryDescription.toUpperCase();\r\n                  laboratories.push(cmd);\r\n              } else if (cmd.laboratoryGroupCode) {\r\n                  cmd.name = cmd.laboratoryGroupDescription.toUpperCase()\r\n                  cmd.isGroup = true\r\n                  laboratories.push(cmd);\r\n              }\r\n          });\r\n      }\r\n      return laboratories;\r\n  }   \r\n\r\n  const getCustomMarketDetailPharmaceuticaForms = (customMarket) => {\r\n      let pharmaceuticalForms = []\r\n      if(customMarket && customMarket.customMarketDetail) {\r\n          customMarket.customMarketDetail.forEach(cmd => {\r\n              if (cmd.pharmaceuticalFormCode) {\r\n                  cmd.name = cmd.pharmaceuticalFormDescription.toUpperCase();\r\n                  pharmaceuticalForms.push(cmd);\r\n              }\r\n          });\r\n      } \r\n      return pharmaceuticalForms;\r\n  }\r\n\r\n  const getCustomMarketDetailProducts = (customMarket) => {\r\n      let products = []\r\n      if(customMarket && customMarket.customMarketDetail) {\r\n          customMarket.customMarketDetail.forEach(cmd => {\r\n              if (cmd.productCode) {\r\n                  cmd.name = cmd.productDescription.toUpperCase();\r\n                  products.push(cmd);\r\n              } else if (cmd.productGroupCode) {\r\n                  cmd.name = cmd.productGroupDescription.toUpperCase() \r\n                  cmd.isGroup = true\r\n                  products.push(cmd);\r\n              }\r\n          });\r\n      } \r\n      return products;\r\n  }\r\n\r\n  const getCustomMarketDetailProductPresentations = (customMarket) => {\r\n      let productPresentations = []\r\n      if(customMarket && customMarket.customMarketDetail) {\r\n          customMarket.customMarketDetail.forEach(cmd => {\r\n              if (cmd.productPresentationCode) {\r\n                  cmd.name = cmd.productPresentationDescription.toUpperCase();\r\n                  productPresentations.push(cmd);\r\n              } else if (cmd.productPresentationGroupCode) {\r\n                  cmd.name = cmd.productPresentationGroupDescription.toUpperCase()\r\n                  cmd.isGroup = true\r\n                  productPresentations.push(cmd);\r\n              }\r\n          });\r\n      }\r\n      return productPresentations;\r\n  }\r\n\r\n  const getCustomMarketDetailTherapeuticalClasses = (customMarket) => {\r\n      let therapeuticalClasses = []\r\n      if(customMarket && customMarket.customMarketDetail) {\r\n          customMarket.customMarketDetail.forEach(cmd => {\r\n              if (cmd.therapeuticalClassCode) {\r\n                  cmd.name = cmd.therapeuticalClassDescription.toUpperCase();\r\n                  therapeuticalClasses.push(cmd);\r\n              }\r\n          });\r\n      }\r\n      return therapeuticalClasses;\r\n  }\r\n\r\n  const handleCustomMarketGroupChange = (event) => {\r\n    setCustomMarketGroup(event.target.value);\r\n  };\r\n\r\n  const handleCustomMarketGroupTabChange = (code) => {\r\n    setCustomMarketGroup(code);\r\n  };  \r\n\r\n  const detectCustomMarket = () => {\r\n    if(customMarket.data) {\r\n      setRows([\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.PRODUCT\"}), detail: getCustomMarketDetailProducts(customMarket.data), filterOwnProduct: true },\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.PRODUCT_PRESENTATION\"}), detail: getCustomMarketDetailProductPresentations(customMarket.data), filterOwnProduct: false },\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.THERAPEUTICAL_CLASS\"}), detail: getCustomMarketDetailTherapeuticalClasses(customMarket.data), filterOwnProduct: false },\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.LABORATORY\"}), detail: getCustomMarketDetailLaboratories(customMarket.data), filterOwnProduct: false },\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.DRUG\"}), detail: getCustomMarketDetailDrugs(customMarket.data), filterOwnProduct: false },\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.PHARMACEUTICAL_FORM\"}), detail: getCustomMarketDetailPharmaceuticaForms(customMarket.data), filterOwnProduct: false },\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.CUSTOM_MARKET\"}), detail: getCustomMarketDetailCustoMarkets(customMarket.data), filterOwnProduct: false }\r\n      ])\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n      detectCustomMarket()\r\n  },[customMarket])\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <CustomMarketGroupTab customMarketGroups={customMarketGroups} customMarketDetail={rows} handleCustomMarketGroupChange={handleCustomMarketGroupTabChange}/>\r\n      {/* <CustomMarketGroup customMarketGroups={customMarketGroups} customMarketGroup={customMarketGroup} handleCustomMarketGroupChange={handleCustomMarketGroupChange}/> */}\r\n      {rows && rows.map((row, index) => {\r\n        let cmgSelected = (customMarketGroup == -1) ? null : customMarketGroup\r\n        let rowDetailFilteredByCustomMarketGroup = row.detail.filter(x => x.customMarketGroupCode == cmgSelected)\r\n        if (rowDetailFilteredByCustomMarketGroup.length > 0) {\r\n          return (\r\n            <ExpansionPanel key={index} style={{marginBottom: '10px'}}> \r\n                <ExpansionPanelSummary\r\n                    className={expansionPanelClasses.expanded}\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"\"\r\n                    id={\"ExpansionPanelSummary\"+{index}}\r\n                >\r\n                <Typography className={classes.heading} color=\"primary\">{row.title.toUpperCase()}</Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails className={expansionPanelClasses.root}>\r\n                    <CustomMarketDetail rows={rowDetailFilteredByCustomMarketGroup} filterOwnProduct={row.filterOwnProduct}/>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n          )\r\n        }\r\n        return null\r\n      })\r\n    }\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default injectIntl(CustomMarketDefinition);","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CustomMarketTab from './Tab';\r\nimport CustomMarketCollapsableDetail from './CustomMarketCollapsableDetail';\r\nimport Can from './../../../config/Can';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useExpansionPanelStyles = makeStyles((theme) => (\r\n    {\r\n        root: {\r\n            padding: theme.spacing(1),\r\n        },\r\n        expanded: {\r\n            minHeight: '10px !important'\r\n        },\r\n    }\r\n))\r\n\r\nconst CustomMarketManage = (props) => {\r\n  const {customMarket, customMarketGroups,customMarketPageView} = props;\r\n  const classes = useExpansionPanelStyles()\r\n\r\n  return (\r\n    <>\r\n        {customMarketPageView.view == 'manage' &&\r\n            <Can I=\"view\" a=\"manage-custom-market\">\r\n                <>\r\n                    <Grid item xs={12} className=\"p-0\">   \r\n                        <ExpansionPanel defaultExpanded={true} key=\"expansion-panel-custom-market-manage\" style={{marginBottom: '10px', backgroundColor: '#f5f5f5'}}> \r\n                            <ExpansionPanelSummary\r\n                                className={classes.expanded}\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                aria-controls=\"panel1a-content\"\r\n                                id=\"expansion-panel-custom-market-manage\"\r\n                            >\r\n                            </ExpansionPanelSummary>\r\n                            <ExpansionPanelDetails className={classes.root}>                                                                    \r\n                                <CustomMarketTab style={{height: '420px', width: '100%' }} />\r\n                            </ExpansionPanelDetails>\r\n                        </ExpansionPanel>             \r\n                    </Grid>   \r\n                    <Grid item xs={12} className=\"p-0\">\r\n                        {!customMarketGroups.isLoading && !customMarket.isLoading && Object.keys(customMarket.data).length > 0 &&\r\n                            <CustomMarketCollapsableDetail customMarket={customMarket} customMarketGroups={customMarketGroups}/>\r\n                        }\r\n                    </Grid>\r\n                </>\r\n            </Can>\r\n        }\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarket: state.mercados.customMarket,\r\n        customMarketGroups: state.mercados.customMarketGroups,\r\n        customMarketPageView: state.mercados.customMarketPageView\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CustomMarketManage);","import React, { useState, useCallback } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport ActionDialog from '../ActionTabDialog'\r\nimport { CustomMarketPreviewForm } from '../Forms'\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\n\r\nconst CustomMarketPreviewDialog = (props) => {\r\n    const { customMarketPreviewAction, intl } = props;\r\n    const [ formLoading, setFormLoading ] = useState(false);\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    \r\n    const onCancel = () => {\r\n        props.actionCustomMarketPreviewReset()\r\n    }\r\n    const submitForm = useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },[]\r\n    );\r\n    if(customMarketPreviewAction.visible == true) {\r\n        return (\r\n            <ActionDialog\r\n                title={customMarketPreviewAction.type !== '' ? intl.formatMessage({id: customMarketPreviewAction.type == 'edit' ? \"ACTION.EDIT\" : \"CUSTOM_MARKET_PREVIEW_DELETE_DIALOG.MESSAGE\"}) : ''}\r\n                description={intl.formatMessage({id:\"CUSTOM_MARKET_PREVIEW.PRESENTATION\"}) + ': ' + customMarketPreviewAction.item.productPresentationDescription}\r\n                onAccept={submitForm}\r\n                onCancel={onCancel}\r\n                isLoading={formLoading}\r\n                visible={customMarketPreviewAction.visible}\r\n                type={customMarketPreviewAction.type}\r\n            >\r\n                <CustomMarketPreviewForm \r\n                    formHasBeenSubmited={formHasBeenSubmited}\r\n                    onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                    onClose={onCancel}\r\n                    action={customMarketPreviewAction}\r\n                    onDelete={() => props.onDelete(customMarketPreviewAction.item)}\r\n                    onUpdate={(itemUpdate) => props.onUpdate(itemUpdate)}\r\n                    onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                />\r\n            </ActionDialog>\r\n        )\r\n    }\r\n    return null\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarketPreviewAction: state.mercados.customMarketPreviewAction\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(CustomMarketPreviewDialog));","import React from 'react';\r\nimport { connect, shallowEqual, useDispatch, useSelector } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport MaterialTable from 'material-table';\r\nimport { CustomMarketPreviewDialog } from './CustomMarketPreview/index' \r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Can from './../../../config/Can';\r\nimport { customMarketDetailDefault } from '../customMarketDetailDefault'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\nimport { actionTypes } from '../_redux/mercadosRedux';\r\n\r\n\r\nconst CustomMarketPreview = (props) => {\r\n  const clases = useStyles()\r\n  const dispatch = useDispatch();\r\n  const {customMarket, customMarketPageView, intl, marketPreviewData  } = props;  \r\n  const [ isLoading, setLoading ] = React.useState(true)\r\n//   const [ marketPreviewData, setMarketPreviewData ] = React.useState([])\r\n  const [ allowedPermission, setAllowedPermission ] = React.useState(false)\r\n  const [ itemsToDelete, setItemsToDelete ] = React.useState([])\r\n  const [ itemsToEdit, setItemsToEdit ] = React.useState([])\r\n  const [ visibleButtonsToolbar,  setVisibleButtonsToolbar ] = React.useState(false)\r\n \r\n  \r\n\r\n  const onCancel = async() => {\r\n    await getCustomMarketsPreview()\r\n    // await getHistoricCustomMarketsPreview()\r\n    setItemsToDelete([])\r\n    setItemsToEdit([])\r\n    setVisibleButtonsToolbar(false)\r\n    props.actionCustomMarketPreviewReset()\r\n  }\r\n  const getCustomMarketsPreview = async() => {\r\n\r\n      if(customMarketPageView.view == 'preview') {\r\n          setLoading(true)\r\n          let preview = await props.getCustomMarketsPreview(customMarket.data.code)\r\n          debugger;\r\n          preview = preview.map( item => {\r\n            item.modifier = item.modifier.toString().replace('.', ',')\r\n            item.intemodifier = item.intemodifier.toString().replace('.', ',')\r\n            return item\r\n          })\r\n          dispatch({type: actionTypes.RECEIVE_PREVIEW_DATA, data: preview })\r\n          setLoading(false)\r\n      }\r\n  }\r\n\r\n  const deleteCustomMarket = async(customMarketPreviewItem) => {\r\n    customMarketPreviewItem.customMarketGroupCode = null; \r\n    customMarketPreviewItem.itemCondition = 'N'; \r\n    let itemIndex = marketPreviewData.findIndex(x => x.id === customMarketPreviewItem.id)\r\n    marketPreviewData.splice(itemIndex, 1);\r\n    setItemsToDelete([...itemsToDelete, customMarketPreviewItem])\r\n    dispatch({type: actionTypes.RECEIVE_PREVIEW_DATA, data: marketPreviewData })\r\n    props.actionCustomMarketPreviewReset()\r\n    setVisibleButtonsToolbar(true)\r\n}\r\nconst updateCustomMarket = async(customMarketSelectedItem) => {\r\n    setItemsToEdit([...itemsToEdit, customMarketSelectedItem])\r\n    props.actionCustomMarketPreviewReset()\r\n    let oldMarketPreviewData = marketPreviewData;\r\n    marketPreviewData.map((customMarketItems,index) => {\r\n        if(customMarketItems.id == customMarketSelectedItem.id) {\r\n            marketPreviewData[index].resume = customMarketSelectedItem.resume;\r\n            marketPreviewData[index].graph  = customMarketSelectedItem.graph;\r\n            marketPreviewData[index].expand = customMarketSelectedItem.expand;\r\n            marketPreviewData[index].ensureVisible  = customMarketSelectedItem.ensureVisible;\r\n            marketPreviewData[index].intemodifier   = customMarketSelectedItem.intemodifier;\r\n            marketPreviewData[index].modifier       = customMarketSelectedItem.modifier;\r\n            marketPreviewData[index].pattern       = customMarketSelectedItem.pattern;\r\n            marketPreviewData[index].productTypeCode    = customMarketSelectedItem.productTypeCode;\r\n        }\r\n    })\r\n    dispatch({type: actionTypes.RECEIVE_PREVIEW_DATA, marketPreviewData: [...oldMarketPreviewData, marketPreviewData] })\r\n    setVisibleButtonsToolbar(true)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    getCustomMarketsPreview()\r\n    // getHistoricCustomMarketsPreview()\r\n  }, [customMarketPageView.view])\r\n\r\n  const onSave = async() => {\r\n    setLoading(true)\r\n    let copyCustomMarket = JSON.parse(JSON.stringify(customMarket.data)) \r\n\r\n    if(itemsToDelete.length > 0) {\r\n        itemsToDelete.map(marketToAdd => {\r\n            const existProductPresentation = copyCustomMarket.customMarketDetail.filter(x => x.customMarketGroupCode == null && x.productPresentationCode == marketToAdd.productPresentationCode)\r\n            if(existProductPresentation && existProductPresentation.length) {\r\n                const findProductpresentation = copyCustomMarket.customMarketDetail.findIndex(x => x.productPresentationCode === existProductPresentation[0].productPresentationCode)\r\n                copyCustomMarket.customMarketDetail[findProductpresentation].itemCondition = 'N';\r\n            }else{\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                customMarketDetailValues.productPresentationCode = marketToAdd.productPresentationCode;\r\n                customMarketDetailValues.customMarketGroupCode = null;\r\n                customMarketDetailValues.itemCondition = 'N';\r\n                copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n            }\r\n        })\r\n    }\r\n    if(itemsToEdit.length > 0) {\r\n        itemsToEdit.map(prodPresentationItem => {\r\n            const existProductPresentation = copyCustomMarket.customMarketDetail.filter(x => x.customMarketGroupCode == null && x.productPresentationCode == prodPresentationItem.productPresentationCode)\r\n            if(existProductPresentation && existProductPresentation.length) {\r\n                const findProductpresentation = copyCustomMarket.customMarketDetail.findIndex(x => x.productPresentationCode === existProductPresentation[0].productPresentationCode)\r\n                if (prodPresentationItem.intemodifier !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].intemodifier = prodPresentationItem.intemodifier\r\n                }\r\n                if (prodPresentationItem.modifier !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].modifier = prodPresentationItem.modifier\r\n                }\r\n                if (prodPresentationItem.ensureVisible !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].ensureVisible = prodPresentationItem.ensureVisible\r\n                }\r\n                if (prodPresentationItem.expand !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].expand = prodPresentationItem.expand\r\n                }\r\n                if (prodPresentationItem.graph !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].graph = prodPresentationItem.graph\r\n                } \r\n                if (prodPresentationItem.resume !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].resume = prodPresentationItem.resume\r\n                }\r\n                if (prodPresentationItem.pattern !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].pattern = prodPresentationItem.pattern\r\n                }\r\n                if (prodPresentationItem.productTypeCode !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].productTypeCode = prodPresentationItem.productTypeCode\r\n                }\r\n                copyCustomMarket.customMarketDetail[findProductpresentation].itemCondition = 'O'\r\n            }else{\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                customMarketDetailValues.productPresentationCode = prodPresentationItem.productPresentationCode;\r\n                customMarketDetailValues.customMarketGroupCode = null;\r\n                customMarketDetailValues.intemodifier = prodPresentationItem.intemodifier;\r\n                customMarketDetailValues.modifier = prodPresentationItem.modifier;\r\n                customMarketDetailValues.ensureVisible = prodPresentationItem.ensureVisible;\r\n                customMarketDetailValues.expand = prodPresentationItem.expand;\r\n                customMarketDetailValues.graph = prodPresentationItem.graph;\r\n                customMarketDetailValues.resume = prodPresentationItem.resume;\r\n                customMarketDetailValues.pattern = prodPresentationItem.pattern;\r\n                customMarketDetailValues.productTypeCode = prodPresentationItem.productTypeCode;\r\n                customMarketDetailValues.itemCondition = 'O';\r\n                copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n            }\r\n        })\r\n    }\r\n\r\n    await props.updateCustomMarket(copyCustomMarket)\r\n    setVisibleButtonsToolbar(false)\r\n    setItemsToEdit([])\r\n    setItemsToDelete([])\r\n    await getCustomMarketsPreview()\r\n    // await getHistoricCustomMarketsPreview()\r\n      \r\n    }\r\n    const renderClass = (classCode) => {\r\n        if(classCode == 1) {\r\n            return intl.formatMessage({id: \"MASTER.CLASS.ETICO.SHORT\"})\r\n        }\r\n        if(classCode == 2) {\r\n            return intl.formatMessage({id: \"MASTER.CLASS.POPULAR.SHORT\"})\r\n        }\r\n        return null;\r\n    }\r\n    const ButtonSave = () => {\r\n        if(visibleButtonsToolbar) {\r\n            return (\r\n            <div\r\n                id=\"btn_save_preview\"\r\n                className={`btn btn-secondary font-weight-bold px-2 pl-4 pr-4 py-0 mt-0 mb-2`}\r\n                style={{fontWeight: '600'}}\r\n                onClick={onSave}\r\n            >\r\n                <IconButton \r\n                    aria-label=\"\"  \r\n                    color=\"primary\" \r\n                    className=\"p-3\">\r\n                    <span style={{color:'#17c191', fontSize: '14px'}}>\r\n                        <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n                    </span>\r\n                </IconButton>\r\n            </div>               \r\n            )\r\n        }\r\n        return null\r\n    }\r\n    const ButtonCancel = () => {\r\n        if(visibleButtonsToolbar) {\r\n            return (\r\n            <div\r\n                id=\"btn_cancel_preview\"\r\n                className={`btn btn-secondary font-weight-bold px-2 pl-4 pr-4 py-0 mt-0 mb-2`}\r\n                style={{fontWeight: '600'}}\r\n                onClick={onCancel}\r\n            >\r\n                <IconButton \r\n                    aria-label=\"\"  \r\n                    color=\"primary\" \r\n                    className=\"p-3\">\r\n                    <span style={{color:'#17c191', fontSize: '14px'}}>\r\n                        <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n                    </span>\r\n                </IconButton>\r\n            </div>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n  \r\n  return ( \r\n    <>  \r\n    {customMarketPageView.view == 'preview' &&\r\n        <>\r\n            <Can I=\"view\" a=\"manage-custom-market\" passThrough>\r\n                {(allowed) => setAllowedPermission(allowed)}\r\n            </Can>\r\n            <Grid item xs={12} className=\"p-0\">\r\n                {\r\n                (!customMarket.isLoading && Object.keys(customMarket.data).length > 0) &&\r\n                    <>\r\n                        <MaterialTable\r\n                            title=''\r\n                            isLoading={isLoading}\r\n                            columns={[\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.CODE.SHORT\"}), field: 'id'},\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.LABORATORY.SHORT\"}), field: 'labDescription' },\r\n                                {\r\n                                    title: intl.formatMessage({id: \"LABORATORY_GROUP.FORM_CLASS\"}), \r\n                                    field: 'classCode',\r\n                                    render: rowData => renderClass(rowData.classCode)\r\n                                },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.BUSINESS_UIT.SHORT\"}), field: 'businessUnit' },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.TERAPEUTICAL_CLASS\"}), field: 'tcCode' },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.DRUG\"}), field: 'drug' },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.PHARMACEUTICAL_FORM\"}), field: 'pfCode' },\r\n                                {\r\n                                    title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.PRESENTATION\"}), \r\n                                    field: 'productPresentationDescription', \r\n                                    cellStyle: {\r\n                                        minWidth: '300px'\r\n                                    }\r\n                                },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.ORDEN\"}), field: 'orden' },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_GROUP_DIALOG.GROUP_CONDITION\"}), field: 'itemCondition' },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.PATTERN\"}), field: 'pattern' },\r\n                                {\r\n                                    title: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.ENSURE_VISIBLE\"}), \r\n                                    field: 'ensureVisible',\r\n                                    render: rowData => rowData.ensureVisible == true ? intl.formatMessage({id: \"MASTER.YES\"}) : intl.formatMessage({id: \"MASTER.NO\"})\r\n                                },\r\n                                {\r\n                                    title: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.GRAPHS\"}), \r\n                                    field: 'graph',\r\n                                    render: rowData => rowData.graph == true ? intl.formatMessage({id: \"MASTER.YES\"}) : intl.formatMessage({id: \"MASTER.NO\"})\r\n                                },\r\n                                {\r\n                                    title: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.RESUME\"}), \r\n                                    field: 'resume',\r\n                                    render: rowData => rowData.resume == true ? intl.formatMessage({id: \"MASTER.YES\"}) : intl.formatMessage({id: \"MASTER.NO\"})\r\n                                },\r\n                                {\r\n                                    title: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.EXPAND\"}), \r\n                                    field: 'expand',\r\n                                    render: rowData => rowData.expand == true ? intl.formatMessage({id: \"MASTER.YES\"}) : intl.formatMessage({id: \"MASTER.NO\"})\r\n                                },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.MODIFIER\"}), field: 'modifier'},\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.INTEMODIFIER\"}), field: 'intemodifier',}\r\n                            ]}\r\n                            data={marketPreviewData ? marketPreviewData : []}\r\n                            options={{\r\n                                filtering: true,\r\n                                pageSize: 10,\r\n                                pageSizeOptions: [10,25,50, 100],\r\n                                searchFieldAlignment: 'left',\r\n                                actionsColumnIndex: -1,\r\n                                headerStyle: { position: 'sticky', top: 0 },\r\n                                maxBodyHeight: '500px'\r\n                            }}\r\n                            actions={\r\n                                allowedPermission &&\r\n                                [{\r\n                                    icon: 'edit',\r\n                                    tooltip: intl.formatMessage({id: \"ACTION.EDIT\"}),\r\n                                    onClick: (event, rowData) => props.setActionCustomMarketPreview({type: 'edit', visible: true, item:rowData })\r\n                                },\r\n                                {\r\n                                    icon: 'delete',\r\n                                    tooltip: intl.formatMessage({id: \"FORM.ACTION.DELETE\"}),\r\n                                    onClick: (event, rowData) => props.setActionCustomMarketPreview({type: 'delete', visible: true, item:rowData }) \r\n                                },\r\n                                {\r\n                                    icon: () => <ButtonCancel />,\r\n                                    tooltip: intl.formatMessage({id: \"FORM.ACTION.CANCEL\"}),\r\n                                    isFreeAction: true,\r\n                                },\r\n                                {\r\n                                    icon: () => <ButtonSave />,\r\n                                    tooltip: intl.formatMessage({id: \"FORM.ACTION.SAVE\"}),\r\n                                    isFreeAction: true,\r\n                                }\r\n                            ]}\r\n                            localization={{\r\n                                toolbar: {\r\n                                    searchTooltip: 'Buscar',\r\n                                    searchPlaceholder: 'Buscar'\r\n                                },\r\n                                header: {\r\n                                    actions: ''\r\n                                },\r\n                                pagination: {\r\n                                    labelRowsSelect: 'resultados',\r\n                                    labelRowsPerPage: 'resultados',\r\n                                    labelDisplayedRows: '{from}-{to} de {count}'\r\n                                },\r\n                                body: {\r\n                                    emptyDataSourceMessage: '',\r\n                                }\r\n                            }}\r\n                        />\r\n                        <CustomMarketPreviewDialog onDelete={deleteCustomMarket} onUpdate={updateCustomMarket} />\r\n                    </>\r\n                }               \r\n            </Grid>         \r\n        </>\r\n    }\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarket: state.mercados.customMarket,\r\n        customMarketPageView: state.mercados.customMarketPageView,\r\n        marketPreviewData:state.mercados.marketPreviewData\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(CustomMarketPreview));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './_redux/mercadosActions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CustomMarketTree from './components/CustomMarketTree'\r\nimport CustomMarketToolbar from './components/CustomMarketToolbar'\r\nimport CustomMarketManage from './components/CustomMarketManage'\r\nimport CustomMarketPreview from './components/CustomMarketPreview'\r\n\r\nconst Mercados = (props) => {\r\n    const { customMarket, customMarketPreview } = props;  \r\n\r\n    const getTree = async() => {\r\n        await props.getCustomMarketTree();\r\n    }\r\n\r\n    const getAllGroupLines = async() => {\r\n        await props.getLineGroups();\r\n    }\r\n\r\n    const getAllLines = async() => {\r\n        await props.getLines();\r\n    }\r\n\r\n    const getAllProductTypes = async() => {\r\n        await props.getProductTypes();\r\n    }\r\n    \r\n    const getAllCustomMarkets = async() => {\r\n        await props.getCustomMarkets();\r\n    }\r\n\r\n    React.useEffect(() => { \r\n        getTree()\r\n        getAllProductTypes() \r\n        getAllGroupLines()\r\n        getAllLines()\r\n        getAllCustomMarkets()\r\n    }, [])    \r\n\r\n    return (\r\n        <>\r\n            {customMarket.treeVisible &&\r\n                <Grid container spacing={4} style={{ position: 'fixed', zIndex: 20, height: '100%'}}>    \r\n                    <Grid item className=\"pr-0\" style={{ backgroundColor: '#FFF',zIndex: 20, height: '100%', width: '480px', overflow: 'auto'}}>\r\n                        <CustomMarketTree />\r\n                    </Grid>\r\n                    <Grid item xs={8} style={{ backgroundColor: '#c0c0c080',zIndex: 20, height: '100%'}}></Grid>\r\n                </Grid>\r\n            }\r\n\r\n            {customMarket.isLoading &&\r\n                <Grid container spacing={4} style={{ position: 'fixed', zIndex: 20, height: '100%'}}>    \r\n                    <Grid item xs={12} style={{ backgroundColor: '#c0c0c080',zIndex: 20, height: '100%'}}></Grid>\r\n                </Grid>\r\n            }\r\n\r\n            <Grid container spacing={4} style={{ position: (customMarket.treeVisible) ? 'relative': 'relative'}}>\r\n                <CustomMarketToolbar />                    \r\n                <CustomMarketManage/>\r\n                {customMarket.data && customMarket.data.code &&\r\n                    <CustomMarketPreview />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n    \r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarket: state.mercados.customMarket\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Mercados);","import axios from 'axios';\r\n\r\nexport const getAll = () => {\r\n    return async function(getState) {\r\n        const businessUnits = await axios.get(`businessUnits`)\r\n        return businessUnits;\r\n    }\r\n}\r\n\r\nexport const createBusinessUnit = (data) => {\r\n    return async function(getState) {\r\n        const businessUnits = await axios.post(`businessUnits`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return businessUnits.data;\r\n    }\r\n}\r\n\r\nexport const updateBusinessUnit = (businessUnitCode, data) => {\r\n    return async function(getState) {\r\n        const businessUnits = await axios.put(`businessUnits/${businessUnitCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return businessUnits.data;\r\n    }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item } } = props;\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = 'campo obligatorio';\r\n        }\r\n      \r\n        return errors;\r\n    }; \r\n    const prepareToSave = ({description}) => {\r\n        \r\n        return JSON.stringify({description: description,})\r\n        \r\n    }\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            description: actionType == 'edit' ? item.description : '' \r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    if (actionType == 'edit') {\r\n                        await props.updateBusinessUnit(item.code, JSON.stringify({description: values.description}))\r\n                    } else if (actionType == 'create') {\r\n                        await props.createBusinessUnit(JSON.stringify({description: values.description}))\r\n                    }\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: \"Error. No se ha podido completar la accin\"} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                    formik.resetForm()\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n        formik.resetForm()\r\n    }\r\n\r\n    return (\r\n        <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={dialogVisible} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText> {actionType == 'edit' ? 'Editar Unidad de Negocio' : 'Nueva Unidad de Negocio' } </DialogContentText>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"description\"\r\n          name=\"description\"\r\n          label=\"Ttulo\"\r\n          value={formik.values.description}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.description && Boolean(formik.errors.description)}\r\n          helperText={formik.touched.description && formik.errors.description}\r\n        />\r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            Cancelar\r\n          </Button>\r\n          <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(ActionDialog);","import React, { forwardRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './_redux/Actions';\r\nimport { Container, makeStyles } from \"@material-ui/core\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst BusinessUnits = (props) => {\r\n    const classes = useStyles();\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ businessUnitsData, setBusinessUnits ] = React.useState([])\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false\r\n    })\r\n\r\n    const getBusinessUnit = async() => {\r\n        let getBusinessUnits = await props.getAll();\r\n        setBusinessUnits(getBusinessUnits.data)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getBusinessUnit()\r\n    },[])\r\n\r\n    const editBusinessUnit = (item) => {\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, item: item})\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getBusinessUnit()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                <MaterialTable\r\n                    title=\"Unidades de Negocios\"\r\n                    columns={[\r\n                        {title: 'Ttulo', field: 'description'}\r\n                    ]}\r\n                    data={businessUnitsData}\r\n                    isLoading={isLoading}\r\n                    options={{\r\n                        pageSize: 10,\r\n                        pageSizeOptions: [10,25,50, 100],\r\n                        searchFieldAlignment: 'left',\r\n                        actionsColumnIndex: -1,\r\n                    }}\r\n                    localization={{\r\n                        toolbar: {\r\n                            searchTooltip: 'Buscar',\r\n                            searchPlaceholder: 'Buscar'\r\n                        },\r\n                        header: {\r\n                            actions: ''\r\n                        },\r\n                        pagination: {\r\n                            labelRowsSelect: 'resultados',\r\n                            labelRowsPerPage: 'resultados',\r\n                            labelDisplayedRows: '{from}-{to} de {count}'\r\n                        },\r\n                        body: {\r\n                            emptyDataSourceMessage: '',\r\n                        }\r\n                    }}\r\n                    actions={[\r\n                        {\r\n                            icon: 'add',\r\n                            tooltip: 'Crear Unidad de Negocio',\r\n                            isFreeAction: true,\r\n                            onClick: () => setDialogAction({actionType: 'create', dialogVisible: true}),\r\n                            position:'toolbar'\r\n                        }, \r\n                        {\r\n                            icon: 'edit',\r\n                            tooltip: 'Editar',\r\n                            onClick: (event, rowData) => editBusinessUnit(rowData)\r\n                        }\r\n                    ]}\r\n                    />\r\n                </div>            \r\n                <ActionDialog action={dialogAction} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(BusinessUnits);","import axios from 'axios';\r\n\r\nexport const getAllProductPresentations = () => {\r\n    return async function(getState) {\r\n        const productpresentations = await axios.get(`productpresentations`)\r\n        return productpresentations.data;\r\n    }\r\n}\r\n\r\nexport const getAllTherapeuticlass = () => {\r\n    return async function(getState) {\r\n        const therapeuticalclasses = await axios.get(`therapeuticalclasses`)\r\n        return therapeuticalclasses.data;\r\n    }\r\n}\r\n\r\nexport const getAllBusinessUnits = () => {\r\n    return async function(getState) {\r\n        const businessUnits = await axios.get(`businessUnits`)\r\n        return businessUnits.data;\r\n    }\r\n}\r\n\r\nexport const updateProductPresentation = (productPresentationCode, data) => {\r\n    return async function(getState) {\r\n        const update = await axios.put(`productpresentations/${productPresentationCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return update.data;\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item, therapeuticalClass, businessUnits } } = props;\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (values.therapeuticalClassCode == '') {\r\n          errors.therapeuticalClassCode = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n        \r\n        if (values.businessUnitCode == '') {\r\n            errors.businessUnitCode = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }          \r\n        \r\n        if (values.classCode === '') {\r\n            errors.classCode = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        return errors;\r\n    };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n          therapeuticalClassCode: actionType == 'edit' ? item.therapeuticalClassCode : '',\r\n          businessUnitCode: actionType == 'edit' ? item.businessUnitCode : null,\r\n          classCode: actionType == 'edit' ? item.classCode : null\r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    await props.updateProductPresentation(item.code, JSON.stringify({therapeuticalClassCode: values.therapeuticalClassCode, businessUnitCode: values.businessUnitCode == undefined ? null: values.businessUnitCode, classCode: values.classCode == undefined ? null : values.classCode}))\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n\r\n\r\n    return (\r\n        <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={dialogVisible} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText> {actionType == 'edit' ? `Editar ${item.description}` : 'Nueva Unidad de Negocio' } </DialogContentText>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label \r\n                className={(formik.touched.therapeuticalClassCode && Boolean(formik.errors.therapeuticalClassCode)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }\r\n                style={{ color: (formik.touched.therapeuticalClassCode && Boolean(formik.errors.therapeuticalClassCode)) ? '#f018a6' : '' }}\r\n            >\r\n                Clase Teraputica\r\n            </label>\r\n                <Select\r\n                    className={`mt-0`}\r\n                    fullWidth\r\n                    id=\"therapeuticalClassCode\"\r\n                    name=\"therapeuticalClassCode\"\r\n                    value={formik.values.therapeuticalClassCode}\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.therapeuticalClassCode && Boolean(formik.errors.therapeuticalClassCode)}\r\n                    helperText={formik.touched.therapeuticalClassCode && formik.errors.therapeuticalClassCode}\r\n                >\r\n                    <MenuItem key=\"empty-line\" value={''}>&nbsp;</MenuItem>\r\n                    {therapeuticalClass.map((thep,key) => {\r\n                        return (\r\n                            <MenuItem value={thep.code} key={key}>{thep.description}</MenuItem>\r\n                        )\r\n                        })\r\n                    }\r\n                </Select>\r\n                {formik.touched.therapeuticalClassCode && Boolean(formik.errors.therapeuticalClassCode) &&\r\n                  <p className=\"MuiFormHelperText-root Mui-error\"  style={{color: '#f018a6', fontSize: '0.75rem'}}>{formik.touched.therapeuticalClassCode && formik.errors.therapeuticalClassCode}</p>\r\n                }                \r\n        </FormControl>\r\n        <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label \r\n                className={(formik.touched.businessUnitCode && Boolean(formik.errors.businessUnitCode)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }\r\n                style={{ color: (formik.touched.businessUnitCode && Boolean(formik.errors.businessUnitCode)) ? '#f018a6' : '' }}\r\n            >\r\n                Unidad de Negocio\r\n            </label>\r\n                <Select\r\n                    className={`mt-0`}\r\n                    fullWidth\r\n                    id=\"businessUnitCode\"\r\n                    name=\"businessUnitCode\"\r\n                    value={formik.values.businessUnitCode}\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.businessUnitCode && Boolean(formik.errors.businessUnitCode)}\r\n                    helperText={formik.touched.businessUnitCode && formik.errors.businessUnitCode}\r\n                >\r\n                    <MenuItem key=\"empty-line\" value={''}>&nbsp;</MenuItem>\r\n                    {businessUnits.map((bu,key) => {\r\n                        return (\r\n                            <MenuItem value={bu.code} key={key}>{bu.description}</MenuItem>\r\n                        )\r\n                        })\r\n                    }\r\n                </Select>\r\n                {formik.touched.businessUnitCode && Boolean(formik.errors.businessUnitCode) &&\r\n                  <p className=\"MuiFormHelperText-root Mui-error\"  style={{color: '#f018a6', fontSize: '0.75rem'}}>{formik.touched.businessUnitCode && formik.errors.businessUnitCode}</p>\r\n                }                \r\n        </FormControl>\r\n        <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label \r\n                className={(formik.touched.classCode && Boolean(formik.errors.classCode)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }\r\n                style={{ color: (formik.touched.classCode && Boolean(formik.errors.classCode)) ? '#f018a6' : '' }}\r\n            >\r\n                Gnero\r\n            </label>\r\n                <Select\r\n                    className={`mt-0`}\r\n                    fullWidth\r\n                    id=\"classCode\"\r\n                    name=\"classCode\"\r\n                    value={formik.values.classCode}\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.classCode && Boolean(formik.errors.classCode)}\r\n                    helperText={formik.touched.classCode && formik.errors.classCode}\r\n                >\r\n                    <MenuItem key=\"empty-line\" value={''}>&nbsp;</MenuItem>\r\n                    <MenuItem key='TOTAL' value={0}>\r\n                        <FormattedMessage id=\"MASTER.CLASS.TOTAL\" />\r\n                    </MenuItem>\r\n                    <MenuItem key='ETICO' value={1}>\r\n                        <FormattedMessage id=\"MASTER.CLASS.ETICO\" />\r\n                    </MenuItem>\r\n                    <MenuItem key='POPULAR' value={2}>\r\n                        <FormattedMessage id=\"MASTER.CLASS.POPULAR\" />\r\n                    </MenuItem>\r\n                </Select>\r\n                {formik.touched.classCode && Boolean(formik.errors.classCode) &&\r\n                  <p className=\"MuiFormHelperText-root Mui-error\"  style={{color: '#f018a6', fontSize: '0.75rem'}}>{formik.touched.classCode && formik.errors.classCode}</p>\r\n                }                \r\n        </FormControl>\r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            Cancelar\r\n          </Button>\r\n          <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(ActionDialog);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './_redux/Actions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst ProductPresentation = (props) => {\r\n    const classes = useStyles();\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ productPresentationData, setProductPresentations ] = React.useState([])\r\n    const [ therapeuticalClassData, setTherapeuticalClass ] = React.useState([])\r\n    const [ businessUnitsData, setBusinessUnits ] = React.useState([])\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false,\r\n        therapeuticalClass: [],\r\n        businessUnits: []\r\n    })\r\n\r\n    const getProductsPresentations = async() => {\r\n        let getProductPresentations = await props.getAllProductPresentations();\r\n        let getTherapeuticlass = await props.getAllTherapeuticlass();\r\n        let getBusinessUnit = await props.getAllBusinessUnits()\r\n        setProductPresentations(getProductPresentations)\r\n        setTherapeuticalClass(getTherapeuticlass)\r\n        setBusinessUnits(getBusinessUnit)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getProductsPresentations()\r\n    },[])\r\n\r\n    const editProductPresentation = (item) => {\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, item: item, therapeuticalClass: therapeuticalClassData, businessUnits: businessUnitsData})\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getProductsPresentations()\r\n    }\r\n\r\n    return (\r\n        <>\r\n           <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                    <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                        <MaterialTable\r\n                            title=\"Presentaciones\"\r\n                            columns={[\r\n                                {title: 'Ttulo', field: 'description'},\r\n                                {title: 'Gnero', field: 'classDescription'},\r\n                                {title: 'Unidad de Negocio', field: 'businessUnitDescription'},\r\n                                {title: 'Clase Teraputica', field: 'therapeuticalClassDescription'},\r\n                            ]}\r\n                            data={productPresentationData}\r\n                            isLoading={isLoading}\r\n                            options={{\r\n                                pageSize: 10,\r\n                                pageSizeOptions: [10,25,50, 100],\r\n                                searchFieldAlignment: 'left',\r\n                                actionsColumnIndex: -1,\r\n                            }}\r\n                            actions={[\r\n                                {\r\n                                    icon: 'edit',\r\n                                    tooltip: 'Editar',\r\n                                    onClick: (event, rowData) => editProductPresentation(rowData)\r\n                                }\r\n                            ]}\r\n                            localization={{\r\n                                toolbar: {\r\n                                    searchTooltip: 'Buscar',\r\n                                    searchPlaceholder: 'Buscar'\r\n                                },\r\n                                header: {\r\n                                    actions: ''\r\n                                },\r\n                                pagination: {\r\n                                    labelRowsSelect: 'resultados',\r\n                                    labelRowsPerPage: 'resultados',\r\n                                    labelDisplayedRows: '{from}-{to} de {count}'\r\n                                },\r\n                                body: {\r\n                                    emptyDataSourceMessage: '',\r\n                                }\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    {dialogAction.dialogVisible &&\r\n                        <ActionDialog action={dialogAction} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                    }\r\n                </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(ProductPresentation);","import axios from 'axios';\r\n\r\nexport const getAllProducts = () => {\r\n    return async function(getState) {\r\n        const product = await axios.get(`products`)\r\n        return product.data;\r\n    }\r\n}\r\nexport const getAllLaboratories = () => {\r\n    return async function(getState) {\r\n        const businessUnits = await axios.get(`laboratories`)\r\n        return businessUnits.data;\r\n    }\r\n}\r\n\r\nexport const updateProduct = (productCode, data) => {\r\n    return async function(getState) {\r\n        const update = await axios.put(`products/${productCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return update.data;\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item, laboratories } } = props;\r\n    const [loading, setLoading] = React.useState(false);\r\n    \r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.laboratoryCode) {\r\n          errors.laboratoryCode = 'campo obligatorio';\r\n        }\r\n      \r\n        return errors;\r\n    }; \r\n    const formikProduct = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            laboratoryCode: actionType == 'edit' ? item.laboratoryCode : '' \r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    await props.updateProduct(item.code, JSON.stringify({laboratoryCode: values.laboratoryCode}))\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: \"Error. No se ha podido completar la accin\"} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n\r\n    return (\r\n        <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={dialogVisible} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText> {actionType == 'edit' ? `Editar ${item.description}` : 'Nuevo producto' } </DialogContentText>\r\n      <form onSubmit={formikProduct.handleSubmit}>\r\n        <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label className={(formikProduct.touched.laboratoryCode && Boolean(formikProduct.errors.laboratoryCode)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>Laboratorio</label>\r\n                <Select\r\n                    className={`mt-0`}\r\n                    fullWidth\r\n                    id=\"laboratoryCode\"\r\n                    name=\"laboratoryCode\"\r\n                    value={formikProduct.values.laboratoryCode}\r\n                    onChange={formikProduct.handleChange}\r\n                    error={formikProduct.touched.clase && Boolean(formikProduct.errors.laboratoryCode)}\r\n                    helperText={formikProduct.touched.laboratoryCode && formikProduct.errors.laboratoryCode}\r\n                >\r\n                    <MenuItem key=\"empty-line\" value={''}>&nbsp;</MenuItem>\r\n                    {laboratories.map((lab,key) => {\r\n                        return (\r\n                            <MenuItem value={lab.code} key={key}>{lab.description}</MenuItem>\r\n                        )\r\n                        })\r\n                    }\r\n                </Select>\r\n                {formikProduct.touched.clase && Boolean(formikProduct.errors.laboratoryCode) &&\r\n                  <p className=\"MuiFormHelperText-root Mui-error\">{formikProduct.touched.clase && formikProduct.errors.clase}</p>\r\n                }                \r\n        </FormControl>\r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={formikProduct.isSubmitting}>\r\n            Cancelar\r\n          </Button>\r\n          <Button \r\n            onClick={formikProduct.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formikProduct.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(ActionDialog);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './_redux/Actions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst Product = (props) => {\r\n    const classes = useStyles();\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ productData, setProducts ] = React.useState([])\r\n    const [ laboratories, setLaboratories ] = React.useState([])\r\n\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false,\r\n        laboratories: []\r\n    })\r\n\r\n    const getProducts = async() => {\r\n        let getProduct = await props.getAllProducts();\r\n        let getLaboratory = await props.getAllLaboratories();\r\n        setProducts(getProduct)\r\n        setLaboratories(getLaboratory)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getProducts()\r\n    },[])\r\n\r\n    const editProduct = (item) => {\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, item: item, laboratories})\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getProducts()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                    <MaterialTable\r\n                        title=\"Productos\"\r\n                        columns={[\r\n                            {title: 'Ttulo', field: 'description'},\r\n                            {title: 'Laboratorio', field: 'laboratoryDescription'}\r\n                        ]}\r\n                        data={productData}\r\n                        isLoading={isLoading}\r\n                        options={{\r\n                            pageSize: 10,\r\n                            pageSizeOptions: [10,25,50, 100],\r\n                            searchFieldAlignment: 'left',\r\n                            actionsColumnIndex: -1,\r\n                        }}\r\n                        actions={[\r\n                            {\r\n                                icon: 'edit',\r\n                                tooltip: 'Editar',\r\n                                onClick: (event, rowData) => editProduct(rowData)\r\n                            }\r\n                        ]}\r\n                        localization={{\r\n                            toolbar: {\r\n                                searchTooltip: 'Buscar',\r\n                                searchPlaceholder: 'Buscar'\r\n                            },\r\n                            header: {\r\n                                actions: ''\r\n                            },\r\n                            pagination: {\r\n                                labelRowsSelect: 'resultados',\r\n                                labelRowsPerPage: 'resultados',\r\n                                labelDisplayedRows: '{from}-{to} de {count}'\r\n                            },\r\n                            body: {\r\n                                emptyDataSourceMessage: '',\r\n                            }\r\n                        }}\r\n                    />\r\n                </div>\r\n                {dialogAction.dialogVisible &&\r\n                    <ActionDialog action={dialogAction} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(Product);","import axios from 'axios';\r\n\r\nexport const getAllProductGroup = () => {\r\n    return async function(getState) {\r\n        const productGroup = await axios.get(`products/groups`)\r\n        return productGroup.data;\r\n    }\r\n}\r\nexport const getAllProducts = () => {\r\n    return async function(getState) {\r\n        const products = await axios.get(`products`)\r\n        return products.data;\r\n    }\r\n}\r\n\r\nexport const getDetailProductGroup = (id) => {\r\n    return async function(getState) {\r\n        const detail = await axios.get(`products/group/${id}`)\r\n        return detail.data;\r\n    }\r\n}\r\n\r\nexport const createProductGroup = (data) => {\r\n    return async function(dispatch) {\r\n      const createProductGroup = await axios.post(`products/group`, data, { headers: { 'Content-Type':'application/json'}})\r\n      return createProductGroup.data;\r\n    }\r\n}\r\n\r\nexport const updateProductGroup = (productGroupCode, data) => {\r\n    return async function(getState) {\r\n        const update = await axios.put(`products/group/${productGroupCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return update.data;\r\n    }\r\n\r\n}\r\n\r\nexport const deleteProductGroup = (productGroupCode) => {\r\n    return async function(getState) {\r\n        const deleteProductGroup = await axios.delete(`products/group/${productGroupCode}`)\r\n        return deleteProductGroup.data;\r\n    }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport { injectIntl, FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport SelectItems, { createFilter } from 'react-select'\r\nimport { List } from 'react-virtualized';\r\nimport { useFormik } from 'formik';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst MenuList = props => {\r\n    const rows = props.children;\r\n    const rowRenderer = ({ key, index, isScrolling, isVisible, style }) => {\r\n        return (\r\n            <div key={key} style={style}>\r\n                {rows[index]}\r\n            </div>\r\n        )\r\n    }  \r\n    return (\r\n      <List\r\n        style={{ width: '100%' }}\r\n        width={800}\r\n        height={350}\r\n        rowHeight={30}\r\n        rowCount={rows.length}\r\n        rowRenderer={rowRenderer}\r\n      />\r\n    );\r\n};\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item, detail }, all_products, intl } = props;\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [ productGroupData, setProductGroupData ]  = React.useState([]);\r\n    const [ productSelecteds, setProductSelecteds ]  = React.useState([]);\r\n    const [ deleteErrors, setDeleteErrors] = React.useState({});\r\n\r\n    const parseProductGroup = () => {\r\n        const  productData = []\r\n        if(actionType == 'edit') {\r\n            const productFromDetail = [];\r\n            detail.map(productItem => {\r\n                productFromDetail.push({label: productItem.description, value: productItem.productCode })\r\n            })\r\n            setProductSelecteds(productFromDetail)\r\n        }\r\n        all_products.map(product => {\r\n            \r\n            let description = product.description;\r\n            productData.push({label: description.toUpperCase(), value: product.code  })\r\n        })\r\n        setProductGroupData(productData);\r\n    }\r\n    React.useEffect(() => {\r\n        parseProductGroup()\r\n    },[])\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        if(productSelecteds == null || productSelecteds.length == 0) {\r\n            errors.minItems = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        return errors;\r\n    };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            description: actionType == 'edit' ? item.description : ''\r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    let productCodes = []\r\n                    productSelecteds.map(productItem => {\r\n                        productCodes.push(productItem.value)\r\n                    })\r\n                    if(actionType == 'edit') {\r\n                        await props.updateProductGroup(item.code, JSON.stringify({description: values.description, productCodes}))\r\n                    }\r\n                    if(actionType == 'create') {\r\n                        await props.createProductGroup(JSON.stringify({description: values.description, productCodes}))\r\n                    }\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n    const onDeleteProductGroup = async() => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n                try {\r\n                    await props.deleteProductGroup(item.code)\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setDeleteErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                }\r\n        }, 500)   \r\n    }\r\n    \r\n    const renderContent = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            \r\n            return (\r\n                <form onSubmit={formik.handleSubmit}>\r\n                    <TextField\r\n                        className={`mb-4`}\r\n                        fullWidth\r\n                        id=\"description\"\r\n                        name=\"description\"\r\n                        label=\"Ttulo\"\r\n                        value={formik.values.description}\r\n                        autoComplete=\"off\"\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.description && Boolean(formik.errors.description)}\r\n                        helperText={formik.touched.description && formik.errors.description}\r\n                    />\r\n                    <FormControl className={`d-block mb-4 mt-2`}>\r\n                        <label className={Boolean(formik.errors.minItems) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n                            <FormattedMessage id=\"CUSTOM_MARKET_DEFINITION.TITLE.PRODUCT\" />\r\n                        </label>                        \r\n                        <div style={{width:'100%', height:400, marginRight:0, paddingRight: 0}}>\r\n                            <SelectItems\r\n                                disabled={false}\r\n                                isMulti={true}\r\n                                isSearchable={true}\r\n                                isOptionSelected={true}\r\n                                components={{ MenuList }}\r\n                                filterOption={createFilter({ignoreAccents: false})}\r\n                                onChange={setProductSelecteds}\r\n                                options={productGroupData}\r\n                                placeholder={intl.formatMessage({id: 'PRODUCT_GROUP.SELECT_TITLE'})}\r\n                                value={productSelecteds}\r\n                                openMenuOnClick={true}\r\n                                menuIsOpen={true}\r\n                            />\r\n                        </div>\r\n                        {Boolean(formik.errors.minItems) &&\r\n                            <span style={{color:'#f018a6', marginBottom: 20}}>{intl.formatMessage({id: 'FORM.ERROR.REQUIRED_FIELD'})}</span>\r\n                        }                            \r\n                    </FormControl>\r\n                </form>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <p><FormattedMessage id=\"PRODUCT_GROUP.DELETE_TITLE\" values={{ productGroup: item.description }}/></p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    const renderTitle = () => {\r\n        let title = '';\r\n        if(actionType == 'create') {\r\n            title = intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT\"})\r\n        }\r\n        if(actionType == 'edit') {\r\n            title = item.description\r\n        }\r\n        if(actionType == 'delete') {\r\n            title = intl.formatMessage({id: \"FORM.ACTION.DELETE\"})\r\n        }\r\n        return <span className=\"text-uppercase\">{title}</span>\r\n    }\r\n    const renderButtons = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <Button \r\n                    onClick={formik.handleSubmit} \r\n                    color=\"primary\" \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n                    <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <Button \r\n                    onClick={onDeleteProductGroup} \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-red\"></span>}\r\n                    <span style={{color: loading ? '#ccc' : 'red', paddingLeft:'25px'}}>Eliminar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n    \r\n    return (\r\n        <Dialog \r\n            maxWidth=\"sm\"\r\n            fullWidth={true}\r\n            open={dialogVisible} \r\n            onClose={handleClose} \r\n            aria-labelledby=\"form-dialog-title\"\r\n        >\r\n        <DialogContent>\r\n            <DialogContentText>\r\n                <>{renderTitle()}</>\r\n            </DialogContentText>\r\n            {renderContent()}\r\n        </DialogContent>\r\n        <DialogActions>\r\n            {formik.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{formik.errors.api}</div>\r\n            }  \r\n            {deleteErrors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{deleteErrors.api}</div>\r\n            }              \r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={loading ? true : false}>\r\n            {intl.formatMessage({id: actionType == 'edit' ? \"FORM.ACTION.CANCEL\" : \"FORM.ACTION.CLOSE\" })}\r\n          </Button>\r\n          {renderButtons()}\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ActionDialog));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as ProductGroupActions from './_redux/Actions';\r\nimport * as MercadosActions from '../Mercados/_redux/mercadosActions'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport { injectIntl } from \"react-intl\";\r\nimport Can from './../../config/Can';\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst actions = Object.assign({}, ProductGroupActions, MercadosActions);\r\nconst ProductGroup = (props) => {\r\n    const classes = useStyles();\r\n    const { intl } = props;\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ productGroupData, setProductGroups ] = React.useState([])\r\n    const [ all_products, setAllProducts ] = React.useState([])\r\n\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false,\r\n        all_products: []\r\n    })\r\n\r\n    const [ allowedPermission, setAllowedPermission ] = React.useState(false)\r\n\r\n    const getProductGroups = async() => {\r\n        let getProduct = await props.getAllProductGroup();\r\n        setProductGroups(getProduct)\r\n        const products = await props.getAllProducts();\r\n        setAllProducts(products)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getProductGroups()\r\n    },[])\r\n\r\n    const editProductGroup = async(item) => {\r\n        setLoading(true)\r\n        let getDetail = await props.getDetailProductGroup(item.code)\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, all_products: all_products, detail: getDetail, item: item  })\r\n        setLoading(false)\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getProductGroups()\r\n        await props.getProducts()\r\n    }\r\n    const deleteProductGroup = (item) => {\r\n        setDialogAction({actionType: 'delete', dialogVisible: true, item: item })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Can I=\"view\" a=\"manage-custom-market\" passThrough>\r\n                {(allowed) => setAllowedPermission(allowed)}\r\n            </Can>\r\n            <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                    <MaterialTable\r\n                        title={intl.formatMessage({id: \"MENU.MASTERS.PRODUCT_GROUP\"})}\r\n                        columns={[\r\n                            {title: 'Ttulo', field: 'description'},\r\n                        ]}\r\n                        data={productGroupData}\r\n                        isLoading={isLoading}\r\n                        options={{\r\n                            pageSize: 10,\r\n                            pageSizeOptions: [10,25,50, 100],\r\n                            searchFieldAlignment: 'left',\r\n                            actionsColumnIndex: -1,\r\n                        }}\r\n                        actions={\r\n                            [{\r\n                                icon: 'edit',\r\n                                tooltip: intl.formatMessage({id: \"ACTION.EDIT\"}),\r\n                                onClick: (event, rowData) => editProductGroup(rowData)\r\n                            },\r\n                            {\r\n                                icon: 'delete',\r\n                                tooltip: intl.formatMessage({id: \"FORM.ACTION.DELETE\"}) ,\r\n                                onClick: (event, rowData) => deleteProductGroup(rowData)\r\n                            },\r\n                            {\r\n                                icon: 'add',\r\n                                tooltip: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT\"}),    \r\n                                isFreeAction: true,\r\n                                onClick: () => setDialogAction({actionType: 'create', dialogVisible: true, all_products: all_products }),\r\n                                hidden: allowedPermission == true ? false: true\r\n                            }\r\n                        ]}\r\n                        localization={{\r\n                            toolbar: {\r\n                                searchTooltip: 'Buscar',\r\n                                searchPlaceholder: 'Buscar'\r\n                            },\r\n                            header: {\r\n                                actions: ''\r\n                            },\r\n                            pagination: {\r\n                                labelRowsSelect: 'resultados',\r\n                                labelRowsPerPage: 'resultados',\r\n                                labelDisplayedRows: '{from}-{to} de {count}'\r\n                            },\r\n                            body: {\r\n                                emptyDataSourceMessage: '',\r\n                            }\r\n                        }}\r\n                    />\r\n                </div>\r\n                {dialogAction.dialogVisible &&\r\n                    <ActionDialog action={dialogAction} all_products={all_products} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ProductGroup));","import axios from 'axios';\r\n\r\nexport const getAllProductPresentationGroup = () => {\r\n    return async function(getState) {\r\n        const productGroup = await axios.get(`productpresentations/groups`)\r\n        return productGroup.data;\r\n    }\r\n}\r\n\r\nexport const getAllProductPresentation = () => {\r\n    return async function(getState) {\r\n        const productPresentations = await axios.get(`productpresentations`)\r\n        return productPresentations.data;\r\n    }\r\n}\r\n\r\nexport const getDetailProductPresentationGroup = (id) => {\r\n    return async function(getState) {\r\n        const detail = await axios.get(`productpresentations/group/${id}`)\r\n        return detail.data;\r\n    }\r\n}\r\n\r\nexport const createProductPresentationGroup = (data) => {\r\n    return async function(dispatch) {\r\n      const createPPGroup = await axios.post(`productpresentations/group`, data, { headers: { 'Content-Type':'application/json'}})\r\n      return createPPGroup.data\r\n    }\r\n}\r\n\r\nexport const updateProductPresentationGroup = (productPresentationCode, data) => {\r\n    return async function(getState) {\r\n        const update = await axios.put(`productpresentations/group/${productPresentationCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return update.data;\r\n    }\r\n\r\n}\r\n\r\nexport const deleteProductPresentationGroup = (productPresentationGroupCode) => {\r\n    return async function(getState) {\r\n        const deleteProductPresentationGroup = await axios.delete(`productpresentations/group/${productPresentationGroupCode}`)\r\n        return deleteProductPresentationGroup.data;\r\n    }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport { injectIntl, FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select, { createFilter } from 'react-select'\r\nimport { List } from 'react-virtualized';\r\nimport { useFormik } from 'formik';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst MenuList = props => {\r\n    const rows = props.children;\r\n    const rowRenderer = ({ key, index, isScrolling, isVisible, style }) => {\r\n        return (\r\n            <div key={key} style={style}>\r\n                {rows[index]}\r\n            </div>\r\n        )\r\n    }  \r\n    return (\r\n      <List\r\n        style={{ width: '100%' }}\r\n        width={800}\r\n        height={350}\r\n        rowHeight={30}\r\n        rowCount={rows.length}\r\n        rowRenderer={rowRenderer}\r\n      />\r\n    );\r\n  };\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item, detail }, intl, all_productsPresentations } = props;\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [ productPresentationGroupData, setProductPresentationGroupData ]  = React.useState([]);\r\n    const [ productPresentationSelecteds, setProductPresentationSelecteds ]  = React.useState([]);\r\n    const [ deleteErrors, setDeleteErrors] = React.useState({});\r\n\r\n    const parseProductPresentationGroup = () => {\r\n        const  productData = []\r\n        if(actionType == 'edit') {\r\n            const productPresentationFromDetail = [];\r\n            detail.map(productPresentationItem => {\r\n                productPresentationFromDetail.push({label: productPresentationItem.description, value: productPresentationItem.code })\r\n            })\r\n            setProductPresentationSelecteds(productPresentationFromDetail)\r\n        }\r\n        all_productsPresentations.map(productPresentation => {\r\n            \r\n            let description = productPresentation.description;\r\n            productData.push({label: description.toUpperCase(), value: productPresentation.code  })\r\n        })\r\n        setProductPresentationGroupData(productData);\r\n        \r\n    }\r\n    React.useEffect(() => {\r\n        parseProductPresentationGroup()\r\n    },[])\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n      \r\n        if(productPresentationSelecteds == null || productPresentationSelecteds.length == 0) {\r\n            errors.minItems = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        return errors;\r\n    };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            description: actionType == 'edit' ? item.description : '' \r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    let productPresentationCodes = []\r\n                    productPresentationSelecteds.map(productItem => {\r\n                        productPresentationCodes.push(productItem.value)\r\n                    })\r\n                    if(actionType == 'edit') {\r\n                        await props.updateProductPresentationGroup(item.code, JSON.stringify({description: values.description, productPresentationCodes}))\r\n                    }\r\n                    if(actionType == 'create') {\r\n                        await props.createProductPresentationGroup(JSON.stringify({description: values.description, productPresentationCodes}))\r\n                    }\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n    const onDeleteProductPresentationGroup = async() => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n                try {\r\n                    await props.deleteProductPresentationGroup(item.code)\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setDeleteErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                }\r\n        }, 500)   \r\n    }\r\n    const renderContent = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <form onSubmit={formik.handleSubmit}>\r\n                    <TextField\r\n                        className={`mb-4`}\r\n                        fullWidth\r\n                        id=\"description\"\r\n                        name=\"description\"\r\n                        label=\"Ttulo\"\r\n                        value={formik.values.description}\r\n                        autoComplete=\"off\"\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.description && Boolean(formik.errors.description)}\r\n                        helperText={formik.touched.description && formik.errors.description}\r\n                    />\r\n                    <FormControl className={`d-block mb-4 mt-2`}>\r\n                        <label className={Boolean(formik.errors.minItems) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n                            <FormattedMessage id=\"CUSTOM_MARKET_DEFINITION.TITLE.PRODUCT_PRESENTATION\" />\r\n                        </label>                           \r\n                        <div style={{width:'100%', height:400, marginRight:0, paddingRight: 0}}>\r\n                            <Select\r\n                                disabled={false}\r\n                                isMulti={true}\r\n                                isSearchable={true}\r\n                                isOptionSelected={true}\r\n                                filterOption={createFilter({ignoreAccents: false})}\r\n                                components={{ MenuList }}\r\n                                onChange={setProductPresentationSelecteds}\r\n                                options={productPresentationGroupData}\r\n                                placeholder={intl.formatMessage({id: 'PRODUCT_PRESENTATION_GROUP.SELECT_TITLE'})}\r\n                                value={productPresentationSelecteds}\r\n                                openMenuOnClick={true}\r\n                                menuIsOpen={true}\r\n                            />\r\n                        </div>\r\n                        {Boolean(formik.errors.minItems) &&\r\n                            <span style={{color:'#f018a6', marginBottom: 20}}>{intl.formatMessage({id: 'FORM.ERROR.REQUIRED_FIELD'})}</span>\r\n                        }                            \r\n                    </FormControl>\r\n                </form>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <p><FormattedMessage id=\"PRODUCT_PRESENTATION_GROUP.DELETE_TITLE\" values={{ productPresentationGroup: item.description }}/></p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    const renderTitle = () => {\r\n        let title = '';\r\n        if(actionType == 'create') {\r\n            title = intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"})\r\n        }\r\n        if(actionType == 'edit') {\r\n            title = item.description\r\n        }\r\n        if(actionType == 'delete') {\r\n            title = intl.formatMessage({id: \"FORM.ACTION.DELETE\"})\r\n        }\r\n        return <span className=\"text-uppercase\">{title}</span>\r\n    }\r\n    const renderButtons = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <Button \r\n                    onClick={formik.handleSubmit} \r\n                    color=\"primary\" \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n                    <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <Button \r\n                    onClick={onDeleteProductPresentationGroup} \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-red\"></span>}\r\n                    <span style={{color: loading ? '#ccc' : 'red', paddingLeft:'25px'}}>Eliminar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n    return (\r\n        <Dialog \r\n            maxWidth=\"sm\"\r\n            fullWidth={true}\r\n            open={dialogVisible} \r\n            onClose={handleClose} \r\n            aria-labelledby=\"form-dialog-title\"\r\n        >\r\n        <DialogContent>\r\n            <DialogContentText>\r\n                <>{renderTitle()}</>\r\n            </DialogContentText>\r\n            {renderContent()}\r\n        </DialogContent>\r\n        <DialogActions>\r\n            {formik.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{formik.errors.api}</div>\r\n            }  \r\n            {deleteErrors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{deleteErrors.api}</div>\r\n            }                      \r\n            <Button \r\n                onClick={handleClose} \r\n                color=\"primary\" \r\n                disabled={loading ? true : false}>\r\n                {intl.formatMessage({ id: \"FORM.ACTION.CANCEL\" })}\r\n            </Button>\r\n            {renderButtons()}\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ActionDialog));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as ProductPresentationGroupActions from './_redux/Actions';\r\nimport * as MercadosActions from '../Mercados/_redux/mercadosActions'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport { injectIntl } from \"react-intl\";\r\nimport Can from './../../config/Can';\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst actions = Object.assign({}, ProductPresentationGroupActions, MercadosActions);\r\nconst ProductPresentationGroup = (props) => {\r\n    const classes = useStyles();\r\n    const { intl } = props;\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ productGroupData, setProductPresentationGroups ] = React.useState([])\r\n    const [ all_productsPresentations, setAllProductsPresentations ] = React.useState([])\r\n\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false,\r\n        laboratories: []\r\n    })\r\n    const [ allowedPermission, setAllowedPermission ] = React.useState(false)\r\n\r\n    const getProductPresentationGroups = async() => {\r\n        let getProduct = await props.getAllProductPresentationGroup();\r\n        setProductPresentationGroups(getProduct)\r\n        const productPresentation = await props.getAllProductPresentation();\r\n        setAllProductsPresentations(productPresentation)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getProductPresentationGroups()\r\n    },[])\r\n\r\n    const editProductPresentationGroup = async(item) => {\r\n        setLoading(true)\r\n        let getDetail = await props.getDetailProductPresentationGroup(item.code)\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, all_productsPresentations: all_productsPresentations, detail: getDetail, item: item  })\r\n        setLoading(false)\r\n        //setDialogAction({actionType: 'edit', dialogVisible: true, item: item })\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getProductPresentationGroups()\r\n        await props.getProductPresentations()\r\n    }\r\n    const deleteProductPresentationGroup = (item) => {\r\n        setDialogAction({actionType: 'delete', dialogVisible: true, item: item })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Can I=\"view\" a=\"manage-custom-market\" passThrough>\r\n                {(allowed) => setAllowedPermission(allowed)}\r\n            </Can>\r\n            <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                    <MaterialTable\r\n                        title={intl.formatMessage({id: \"MENU.MASTERS.PRODUCT_PRESENTATION_GROUP\"})}\r\n                        columns={[\r\n                            {title: 'Ttulo', field: 'description'},\r\n                        ]}\r\n                        data={productGroupData}\r\n                        isLoading={isLoading}\r\n                        options={{\r\n                            pageSize: 10,\r\n                            pageSizeOptions: [10,25,50, 100],\r\n                            searchFieldAlignment: 'left',\r\n                            actionsColumnIndex: -1,\r\n                        }}\r\n                        actions={[\r\n                            {\r\n                                icon: 'edit',\r\n                                tooltip: intl.formatMessage({id: \"ACTION.EDIT\"}),\r\n                                onClick: (event, rowData) => editProductPresentationGroup(rowData),\r\n                                hidden: allowedPermission == true ? false: true\r\n                            },\r\n                            {\r\n                                icon: 'delete',\r\n                                tooltip: intl.formatMessage({id: \"FORM.ACTION.DELETE\"}),\r\n                                onClick: (event, rowData) => deleteProductPresentationGroup(rowData),\r\n                                hidden: allowedPermission == true ? false: true\r\n                            },\r\n                            {\r\n                                icon: 'add',\r\n                                tooltip: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"}),    \r\n                                isFreeAction: true,\r\n                                onClick: () => setDialogAction({actionType: 'create', dialogVisible: true, all_productsPresentations: all_productsPresentations }),\r\n                                hidden: allowedPermission == true ? false: true\r\n                            }\r\n                        ]}\r\n                        localization={{\r\n                            toolbar: {\r\n                                searchTooltip: 'Buscar',\r\n                                searchPlaceholder: 'Buscar'\r\n                            },\r\n                            header: {\r\n                                actions: ''\r\n                            },\r\n                            pagination: {\r\n                                labelRowsSelect: 'resultados',\r\n                                labelRowsPerPage: 'resultados',\r\n                                labelDisplayedRows: '{from}-{to} de {count}'\r\n                            },\r\n                            body: {\r\n                                emptyDataSourceMessage: '',\r\n                            }\r\n                        }}\r\n                    />\r\n                </div>\r\n                {dialogAction.dialogVisible &&\r\n                    <ActionDialog action={dialogAction} all_productsPresentations={all_productsPresentations} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ProductPresentationGroup));","import axios from 'axios';\r\n\r\nexport const getAllLaboratoriesGroup = () => {\r\n    return async function(getState) {\r\n        const laboratoriesGroup = await axios.get(`laboratories/groups`)\r\n        return laboratoriesGroup.data;\r\n    }\r\n}\r\nexport const getAllLaboratories = () => {\r\n    return async function(getState) {\r\n        const laboratories = await axios.get(`laboratories`)\r\n        return laboratories.data;\r\n    }\r\n}\r\n\r\nexport const getDetailLaboratoryGroup = (id) => {\r\n    return async function(getState) {\r\n        const detail = await axios.get(`laboratories/group/${id}`)\r\n        return detail.data;\r\n    }\r\n}\r\n\r\nexport const createLaboratoryGroup = (data) => {\r\n    return async function(dispatch) {\r\n      const createLaboraotryGroup = await axios.post(`laboratories/group`, data, { headers: { 'Content-Type':'application/json'}})\r\n      return createLaboraotryGroup.data;\r\n    }\r\n}\r\n\r\nexport const updateLaboratoryGroup = (laboratoryGroupCode, data) => {\r\n    return async function(getState) {\r\n        const update = await axios.put(`laboratories/group/${laboratoryGroupCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return update.data;\r\n    }\r\n\r\n}\r\n\r\nexport const deleteLaboratoryGroup = (laboratoryGroupCode) => {\r\n    return async function(getState) {\r\n        const deleteLaboratoryGroup = await axios.delete(`laboratories/group/${laboratoryGroupCode}`)\r\n        return deleteLaboratoryGroup.data;\r\n    }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport { injectIntl, FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport SelectItems, { createFilter } from 'react-select'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { List } from 'react-virtualized';\r\nimport { useFormik } from 'formik';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst MenuList = props => {\r\n    const rows = props.children;\r\n    const rowRenderer = ({ key, index, isScrolling, isVisible, style }) => {\r\n        return (\r\n            <div key={key} style={style}>\r\n                {rows[index]}\r\n            </div>\r\n        )\r\n    }  \r\n    return (\r\n      <List\r\n        style={{ width: '100%' }}\r\n        width={800}\r\n        height={350}\r\n        rowHeight={30}\r\n        rowCount={rows.length}\r\n        rowRenderer={rowRenderer}\r\n      />\r\n    );\r\n};\r\n\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item, detail }, all_laboratories, intl } = props;\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [ laboratoryGroupData, setLaboratoryGroupData ]  = React.useState([]);\r\n    const [ laboratorySelecteds, setLaboratorySelecteds ]  = React.useState([]);\r\n    const [ deleteErrors, setDeleteErrors] = React.useState({});\r\n\r\n    const parseLaboratoriesGroup = () => {\r\n        const  laboratoryData = []\r\n        if(actionType == 'edit') {\r\n            const laboratoryFromDetail = [];\r\n            detail.map(laboratoryItem => {\r\n                laboratoryFromDetail.push({label: laboratoryItem.description, value: laboratoryItem.laboratoryCode })\r\n            })\r\n            setLaboratorySelecteds(laboratoryFromDetail)\r\n\r\n        }\r\n        all_laboratories.map(laboratory => {\r\n            \r\n            let description = laboratory.description;\r\n            laboratoryData.push({label: description.toUpperCase(), value: laboratory.code  })\r\n        })\r\n        setLaboratoryGroupData(laboratoryData);\r\n    }\r\n    React.useEffect(() => {\r\n        parseLaboratoriesGroup()\r\n    },[])\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n        if (!values.class) {\r\n          errors.class = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n      \r\n        if(laboratorySelecteds == null || laboratorySelecteds.length == 0) {\r\n            errors.minItems = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        return errors;\r\n    };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            description: actionType == 'edit' ? item.description : '',\r\n            class: actionType == 'edit' ? item.class : ''\r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    let laboratoryCodes = []\r\n                    laboratorySelecteds.map(laboratoryItem => {\r\n                        laboratoryCodes.push(laboratoryItem.value)\r\n                    })\r\n                    if(actionType == 'edit') {\r\n                        await props.updateLaboratoryGroup(item.code, JSON.stringify({description: values.description, class: values.class,  laboratoryCodes}))\r\n                    }\r\n                    if(actionType == 'create') {\r\n                        await props.createLaboratoryGroup(JSON.stringify({description: values.description, class: values.class,  laboratoryCodes}))\r\n                    }\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n    const onDeleteLaboratoryGroup = async() => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n            try {\r\n                await props.deleteLaboratoryGroup(item.code)\r\n                disableLoading();\r\n                props.closeDialogAndReload()\r\n            } catch(err) {\r\n                setDeleteErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                disableLoading();\r\n            }\r\n        }, 500)   \r\n    }\r\n    \r\n    const renderContent = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <form onSubmit={formik.handleSubmit}>\r\n                    <TextField\r\n                        className={`mb-4`}\r\n                        fullWidth\r\n                        id=\"description\"\r\n                        name=\"description\"\r\n                        label=\"Ttulo\"\r\n                        value={formik.values.description}\r\n                        autoComplete=\"off\"\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.description && Boolean(formik.errors.description)}\r\n                        helperText={formik.touched.description && formik.errors.description}\r\n                    />\r\n                    <FormControl className={`d-block mb-4 mt-0`}>\r\n                        <label className=\"pf-10\">\r\n                            <FormattedMessage id=\"LABORATORY_GROUP.FORM_CLASS\" />\r\n                        </label>\r\n                        <Select\r\n                            className={`mt-0`}\r\n                            fullWidth\r\n                            id=\"class\"\r\n                            name=\"class\"\r\n                            label={intl.formatMessage({id: 'LABORATORY_GROUP.FORM_CLASS'})}\r\n                            value={formik.values.class}\r\n                            onChange={formik.handleChange}\r\n                            error={formik.touched.class && Boolean(formik.errors.class)}\r\n                        >\r\n                            <MenuItem key='TOTAL' value={'T'} selected={formik.values.class == 'T' ? true : false}>\r\n                                <FormattedMessage id=\"MASTER.CLASS.TOTAL\" />\r\n                            </MenuItem>\r\n                            <MenuItem key='ETICO' value={'E'} selected={formik.values.class == 'E' ? true : false}>\r\n                                <FormattedMessage id=\"MASTER.CLASS.ETICO\" />\r\n                            </MenuItem>\r\n                            <MenuItem key='POPULAR' value={'P'} selected={formik.values.class == 'P' ? true : false}>\r\n                                <FormattedMessage id=\"MASTER.CLASS.POPULAR\" />\r\n                            </MenuItem>\r\n                        </Select>\r\n                    </FormControl>                        \r\n                    <FormControl className={`d-block mb-4 mt-2`}>\r\n                        <label className={Boolean(formik.errors.minItems) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n                            <FormattedMessage id=\"CUSTOM_MARKET_DEFINITION.TITLE.LABORATORY\" />\r\n                        </label>                        \r\n                        <div style={{width:'100%', height:400, marginRight:0, paddingRight: 0}}>\r\n                            <SelectItems\r\n                                disabled={false}\r\n                                isMulti={true}\r\n                                isSearchable={true}\r\n                                isOptionSelected={true}\r\n                                components={{ MenuList }}\r\n                                filterOption={createFilter({ignoreAccents: false})}\r\n                                onChange={setLaboratorySelecteds}\r\n                                options={laboratoryGroupData}\r\n                                placeholder={intl.formatMessage({id: 'LABORATORY_GROUP.SELECT_TITLE'})}\r\n                                value={laboratorySelecteds}\r\n                                openMenuOnClick={true}\r\n                                menuIsOpen={true}\r\n                            />\r\n                        </div>\r\n                        {Boolean(formik.errors.minItems) &&\r\n                            <span style={{color:'#f018a6', marginBottom: 20}}>{intl.formatMessage({id: 'FORM.ERROR.REQUIRED_FIELD'})}</span>\r\n                        }                           \r\n                    </FormControl>\r\n                </form>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <p><FormattedMessage id=\"LABORATORY_GROUP.DELETE_TITLE\" values={{ laboratoryGroup: item.description }}/></p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    const renderTitle = () => {\r\n        let title = '';\r\n        if(actionType == 'create') {\r\n            title = intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.LABORATORY\"})\r\n        }\r\n        if(actionType == 'edit') {\r\n            title = item.description\r\n        }\r\n        if(actionType == 'delete') {\r\n            title = intl.formatMessage({id: \"FORM.ACTION.DELETE\"})\r\n        }\r\n        return <span className=\"text-uppercase\">{title}</span>\r\n    }\r\n    const renderButtons = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <Button \r\n                    onClick={formik.handleSubmit} \r\n                    color=\"primary\" \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n                    <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <Button \r\n                    onClick={onDeleteLaboratoryGroup} \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-red\"></span>}\r\n                    <span style={{color: loading ? '#ccc' : 'red', paddingLeft:'25px'}}>Eliminar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n    \r\n    return (\r\n        <Dialog \r\n            maxWidth=\"sm\"\r\n            fullWidth={true}\r\n            open={dialogVisible} \r\n            onClose={handleClose} \r\n            aria-labelledby=\"form-dialog-title\"\r\n        >\r\n            <DialogContent>\r\n                <DialogContentText> \r\n                    <>{renderTitle()}</>\r\n                </DialogContentText>\r\n                {renderContent()}\r\n            </DialogContent>\r\n            <DialogActions>\r\n                {formik.errors.api &&\r\n                    <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{formik.errors.api}</div>\r\n                }  \r\n                {deleteErrors.api &&\r\n                    <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{deleteErrors.api}</div>\r\n                }                                   \r\n                <Button \r\n                    onClick={handleClose} \r\n                    color=\"primary\" \r\n                    disabled={loading ? true : false}>\r\n                    {intl.formatMessage({ id: \"FORM.ACTION.CANCEL\" })}\r\n                </Button>\r\n                {renderButtons()}\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ActionDialog));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as LaboratoryGroupActions from './_redux/Actions';\r\nimport * as MercadosActions from '../Mercados/_redux/mercadosActions'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport { injectIntl } from \"react-intl\";\r\nimport Can from './../../config/Can';\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\n\r\nconst actions = Object.assign({}, LaboratoryGroupActions, MercadosActions);\r\n\r\nconst LaboratoryGroup = (props) => {\r\n    const clases = useStyles()\r\n    const { intl } = props;\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ laboratoryGroupData, setLaboratoryGroups ] = React.useState([])\r\n    const [ all_laboratories, setAllLaboratories ] = React.useState([])\r\n\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false,\r\n        all_laboratories: []\r\n    })\r\n    const [ allowedPermission, setAllowedPermission ] = React.useState(false)\r\n\r\n    const getLaboratoriesGroups = async() => {\r\n        let laboratoriesGroups = await props.getAllLaboratoriesGroup();\r\n        setLaboratoryGroups(laboratoriesGroups)\r\n        let getLaboratories = await props.getAllLaboratories();\r\n        setAllLaboratories(getLaboratories)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getLaboratoriesGroups()\r\n    },[])\r\n\r\n    const editLaboratoryGroup = async(item) => {\r\n        setLoading(true)\r\n        let getDetail = await props.getDetailLaboratoryGroup(item.code)\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, all_laboratories: all_laboratories, detail: getDetail, item: item  })\r\n        setLoading(false)\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getLaboratoriesGroups()\r\n        await props.getLaboratories()\r\n    }\r\n    const deleteLaboratoryGroup = (item) => {\r\n        setDialogAction({actionType: 'delete', dialogVisible: true, item: item })\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <Can I=\"view\" a=\"manage-custom-market\" passThrough>\r\n                {(allowed) => setAllowedPermission(allowed)}\r\n            </Can>\r\n            <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                    <MaterialTable\r\n                        title={intl.formatMessage({id: \"MENU.MASTERS.LABORATORY_GROUP\"})}\r\n                        columns={[\r\n                            {title: 'Ttulo', field: 'description'},\r\n                            {title: intl.formatMessage({id: 'CUSTOM_MARKET_PREVIEW.CLASS'}), field: 'class'},\r\n                        ]}\r\n                        data={laboratoryGroupData}\r\n                        isLoading={isLoading}\r\n                        options={{\r\n                            pageSize: 10,\r\n                            pageSizeOptions: [10,25,50, 100],\r\n                            searchFieldAlignment: 'left',\r\n                            actionsColumnIndex: -1,\r\n                        }}\r\n                        actions={allowedPermission &&\r\n                            [{\r\n                                icon: 'edit',\r\n                                tooltip: 'Editar',\r\n                                onClick: (event, rowData) => editLaboratoryGroup(rowData),\r\n                            },\r\n                            {\r\n                                icon: 'delete',\r\n                                tooltip: intl.formatMessage({id: \"FORM.ACTION.DELETE\"}) ,\r\n                                onClick: (event, rowData) => deleteLaboratoryGroup(rowData)\r\n                            },\r\n                            {\r\n                                icon: 'add',\r\n                                tooltip: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.LABORATORY\"}),    \r\n                                isFreeAction: true,\r\n                                onClick: () => setDialogAction({actionType: 'create', dialogVisible: true, all_laboratories: all_laboratories })\r\n                            }\r\n                        ]}\r\n                        localization={{\r\n                            toolbar: {\r\n                                searchTooltip: 'Buscar',\r\n                                searchPlaceholder: 'Buscar'\r\n                            },\r\n                            header: {\r\n                                actions: ''\r\n                            },\r\n                            pagination: {\r\n                                labelRowsSelect: 'resultados',\r\n                                labelRowsPerPage: 'resultados',\r\n                                labelDisplayedRows: '{from}-{to} de {count}'\r\n                            },\r\n                            body: {\r\n                                emptyDataSourceMessage: '',\r\n                            }\r\n                        }}\r\n                    />\r\n                </div>\r\n                {dialogAction.dialogVisible &&\r\n                    <ActionDialog action={dialogAction} all_laboratories={all_laboratories} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null, mapDispatchToProps)(LaboratoryGroup));","import axios from 'axios';\r\n\r\nexport const getAllDrugGroup = () => {\r\n    return async function(getState) {\r\n        const drugGroup = await axios.get(`drugs/groups`)\r\n        return drugGroup.data;\r\n    }\r\n}\r\n\r\nexport const getAllDrugs = () => {\r\n    return async function(getState) {\r\n        const drugs = await axios.get(`drugs`)\r\n        return drugs.data;\r\n    }\r\n}\r\n\r\nexport const getDetailDrugGroup = (id) => {\r\n    return async function(getState) {\r\n        const detail = await axios.get(`drugs/group/${id}`)\r\n        return detail.data;\r\n    }\r\n}\r\n\r\nexport const createDrugGroup = (data) => {\r\n    return async function(dispatch) {\r\n      const createDrugGroup = await axios.post(`drugs/group`, data, { headers: { 'Content-Type':'application/json'}})\r\n      return createDrugGroup.data;\r\n    }\r\n}\r\n\r\nexport const updateDrugGroup = (drugGroupCode, data) => {\r\n    return async function(getState) {\r\n        const update = await axios.put(`drugs/group/${drugGroupCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return update.data;\r\n    }\r\n\r\n}\r\n\r\nexport const deleteDrugGroup = (drugGroupCode) => {\r\n    return async function(getState) {\r\n        const deleteDrugGroup = await axios.delete(`drugs/group/${drugGroupCode}`)\r\n        return deleteDrugGroup.data;\r\n    }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { List } from 'react-virtualized';\r\nimport { useFormik } from 'formik';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select, { createFilter } from 'react-select'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\nimport { injectIntl, FormattedMessage } from \"react-intl\";\r\n\r\nconst MenuList = props => {\r\n    const rows = props.children;\r\n    const rowRenderer = ({ key, index, isScrolling, isVisible, style }) => {\r\n        return (\r\n            <div key={key} style={style}>\r\n                {rows[index]}\r\n            </div>\r\n        )\r\n    }  \r\n    return (\r\n      <List\r\n        style={{ width: '100%' }}\r\n        width={800}\r\n        height={350}\r\n        rowHeight={30}\r\n        rowCount={rows.length}\r\n        rowRenderer={rowRenderer}\r\n      />\r\n    );\r\n};\r\n\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item, detail }, all_drugs, intl } = props;\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [ drugGroupData, setDrugGroupData ]  = React.useState([]);\r\n    const [ drugSelecteds, setDrugSelecteds ]  = React.useState([]);\r\n    const [ deleteErrors, setDeleteErrors] = React.useState({});\r\n\r\n    const parseDrugsGroup = () => {\r\n        const  drugData = []\r\n        if(actionType == 'edit') {\r\n            const drugsFromDetail = [];\r\n            detail.map(drugItem => {\r\n                drugsFromDetail.push({label: drugItem.description, value: drugItem.drugCode })\r\n            })\r\n            setDrugSelecteds(drugsFromDetail)\r\n        }\r\n        all_drugs.map(drug => {\r\n            \r\n            let description = drug.description;\r\n            drugData.push({label: description.toUpperCase(), value: drug.code  })\r\n        })\r\n        setDrugGroupData(drugData);\r\n    }\r\n    React.useEffect(() => {\r\n        parseDrugsGroup()\r\n    },[])\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n      \r\n        if(drugSelecteds == null || drugSelecteds.length == 0) {\r\n            errors.minItems = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        return errors;\r\n    };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            description: actionType == 'edit' ? item.description : ''\r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    let drugCodes = []\r\n                    drugSelecteds.map(drugItem => {\r\n                        drugCodes.push(drugItem.value)\r\n                    })\r\n                    if(actionType == 'edit') {\r\n                        await props.updateDrugGroup(item.code, JSON.stringify({description: values.description, drugCodes}))\r\n                    }\r\n                    if(actionType == 'create') {\r\n                        await props.createDrugGroup(JSON.stringify({description: values.description, drugCodes}))\r\n                    }\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n    const onDeleteDrugGroup = async() => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n                try {\r\n                    await props.deleteDrugGroup(item.code)\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setDeleteErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                }\r\n        }, 500)   \r\n    }\r\n    \r\n    const renderContent = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <form onSubmit={formik.handleSubmit}>\r\n                    <TextField\r\n                        className={`mb-4`}\r\n                        fullWidth\r\n                        id=\"description\"\r\n                        name=\"description\"\r\n                        label=\"Ttulo\"\r\n                        value={formik.values.description}\r\n                        autoComplete=\"off\"\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.description && Boolean(formik.errors.description)}\r\n                        helperText={formik.touched.description && formik.errors.description}\r\n                    />\r\n                    <FormControl className={`d-block mb-4 mt-2`}>\r\n                        <label className={Boolean(formik.errors.minItems) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n                            <FormattedMessage id=\"CUSTOM_MARKET_DEFINITION.TITLE.DRUG\" />\r\n                        </label>                        \r\n                        <div style={{width:'100%', height:400, marginRight:0, paddingRight: 0}}>\r\n                            <Select\r\n                                disabled={false}\r\n                                isMulti={true}\r\n                                isSearchable={true}\r\n                                isOptionSelected={true}\r\n                                components={{ MenuList }}\r\n                                filterOption={createFilter({ignoreAccents: false})}\r\n                                onChange={setDrugSelecteds}\r\n                                options={drugGroupData}\r\n                                placeholder={intl.formatMessage({id: 'DRUG_GROUP.SELECT_TITLE'})}\r\n                                value={drugSelecteds}\r\n                                openMenuOnClick={true}\r\n                                menuIsOpen={true}\r\n                            />\r\n                        </div>\r\n                        {Boolean(formik.errors.minItems) &&\r\n                            <span style={{color:'#f018a6', marginBottom: 20}}>{intl.formatMessage({id: 'FORM.ERROR.REQUIRED_FIELD'})}</span>\r\n                        }                           \r\n                    </FormControl>\r\n                </form>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <p><FormattedMessage id=\"DRUG_GROUP.DELETE_TITLE\" values={{ drugGroup: item.description }}/></p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    const renderTitle = () => {\r\n        let title = '';\r\n        if(actionType == 'create') {\r\n            title = intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.DRUG\"})\r\n        }\r\n        if(actionType == 'edit') {\r\n            title = item.description\r\n        }\r\n        if(actionType == 'delete') {\r\n            title = intl.formatMessage({id: \"FORM.ACTION.DELETE\"})\r\n        }\r\n        return <span className=\"text-uppercase\">{title}</span>\r\n    }\r\n    const renderButtons = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <Button \r\n                    onClick={formik.handleSubmit} \r\n                    color=\"primary\" \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n                    <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <Button \r\n                    onClick={onDeleteDrugGroup} \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-red\"></span>}\r\n                    <span style={{color: loading ? '#ccc' : 'red', paddingLeft:'25px'}}>Eliminar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n    return (\r\n        <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={dialogVisible} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText>\r\n          <>{renderTitle()}</>\r\n      </DialogContentText>\r\n      {renderContent()}\r\n      </DialogContent>\r\n        <DialogActions>\r\n            {formik.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{formik.errors.api}</div>\r\n            }  \r\n            {deleteErrors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{deleteErrors.api}</div>\r\n            }                                               \r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={loading ? true : false}>\r\n            {intl.formatMessage({ id: \"FORM.ACTION.CANCEL\" })}\r\n          </Button>\r\n          {renderButtons()}\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ActionDialog));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as DrugGroupActions from './_redux/Actions';\r\nimport * as MercadosActions from '../Mercados/_redux/mercadosActions'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { injectIntl, FormattedMessage } from \"react-intl\";\r\nimport Can from './../../config/Can';\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst actions = Object.assign({}, DrugGroupActions, MercadosActions);\r\nconst DrugGroup = (props) => {\r\n    const clases = useStyles()\r\n    const { intl } = props;\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ drugGroupData, setDrugGroupData ] = React.useState([])\r\n    const [ all_drugs, setAllDrugs ] = React.useState([])\r\n\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false,\r\n        detail: [],\r\n        all_drugs: []\r\n    })\r\n    const [ allowedPermission, setAllowedPermission ] = React.useState(false)\r\n\r\n    const getDrugGroups = async() => {\r\n        let getDrug = await props.getAllDrugGroup();\r\n        let allDrugs = await props.getAllDrugs()\r\n        setAllDrugs(allDrugs)\r\n        setDrugGroupData(getDrug)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getDrugGroups()\r\n    },[])\r\n\r\n    const editDrugGroup = async(item) => {\r\n        setLoading(true)\r\n        let getDetail = await props.getDetailDrugGroup(item.code)\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, all_drugs: all_drugs, detail: getDetail, item: item  })\r\n        setLoading(false)\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getDrugGroups()\r\n        await props.getDrugs()\r\n    }\r\n    const deleteDrugGroup = (item) => {\r\n        setDialogAction({actionType: 'delete', dialogVisible: true, item: item })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Can I=\"view\" a=\"manage-custom-market\" passThrough>\r\n                {(allowed) => setAllowedPermission(allowed)}\r\n            </Can>\r\n            <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                    <MaterialTable\r\n                        title={intl.formatMessage({id: \"MENU.MASTERS.DRUG_GROUP\"})}\r\n                        columns={[\r\n                            {title: 'Ttulo', field: 'description'},\r\n                        ]}\r\n                        data={drugGroupData}\r\n                        isLoading={isLoading}\r\n                        options={{\r\n                            pageSize: 10,\r\n                            pageSizeOptions: [10,25,50, 100],\r\n                            searchFieldAlignment: 'left',\r\n                            actionsColumnIndex: -1,\r\n                        }}\r\n                        actions={allowedPermission &&\r\n                            [{\r\n                                icon: 'edit',\r\n                                tooltip: 'Editar',\r\n                                onClick: (event, rowData) => editDrugGroup(rowData),\r\n                            },\r\n                            {\r\n                                icon: 'delete',\r\n                                tooltip: intl.formatMessage({id: \"FORM.ACTION.DELETE\"}) ,\r\n                                onClick: (event, rowData) => deleteDrugGroup(rowData)\r\n                            },\r\n                            {\r\n                                icon: 'add',\r\n                                tooltip: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.DRUG\"}),    \r\n                                isFreeAction: true,\r\n                                onClick: () => setDialogAction({actionType: 'create', dialogVisible: true,all_drugs: all_drugs })\r\n                            },\r\n                        ]}\r\n                        localization={{\r\n                            toolbar: {\r\n                                searchTooltip: 'Buscar',\r\n                                searchPlaceholder: 'Buscar'\r\n                            },\r\n                            header: {\r\n                                actions: ''\r\n                            },\r\n                            pagination: {\r\n                                labelRowsSelect: 'resultados',\r\n                                labelRowsPerPage: 'resultados',\r\n                                labelDisplayedRows: '{from}-{to} de {count}'\r\n                            },\r\n                            body: {\r\n                                emptyDataSourceMessage: '',\r\n                            }\r\n                        }}\r\n                    />\r\n                </div>\r\n                {dialogAction.dialogVisible &&\r\n                    <ActionDialog action={dialogAction} all_drugs={all_drugs} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null,mapDispatchToProps)(DrugGroup));","import axios from 'axios';\r\n\r\nexport const getUsers = () => {\r\n    return async function(getState) {\r\n        const users = await axios.get(`users/GetAll`)\r\n        return users.data;\r\n    }\r\n}\r\n\r\nexport const getUserPermissions = (userId) => {\r\n    return async function(getState) {\r\n        const userPermissions = await axios.get(`users/${userId}/permissions`)\r\n        return userPermissions.data;\r\n    }\r\n}\r\n\r\nexport const updateUserPermissions = (userId, permissions) => {\r\n    return async function(getState) {\r\n        const userPermissions = await axios.put(`users/${userId}/permissions`, permissions)\r\n        return userPermissions.data;\r\n    }\r\n}\r\n\r\nexport const getCustomMarketsFullTree = () => {\r\n    return async function(getState) {\r\n        const tree = await axios.get(`customMarkets/full-tree`)\r\n        return tree.data;\r\n    }\r\n}\r\n\r\nexport const updateUserAdministrator = (userId, data) => {\r\n    return async function(getState) {\r\n        const userPermissions = await axios.put(`users/${userId}`, data , { headers: { 'Content-Type':'application/json'}} )\r\n        return userPermissions.data;\r\n    }\r\n}\r\n\r\nexport const createUser = (data) => {\r\n    return async function(getState) {\r\n        const createNewUser = await axios.post(`users`, data , { headers: { 'Content-Type':'application/json'}} )\r\n        return createNewUser.data;\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport CheckboxTree from 'react-checkbox-tree';\r\nimport 'react-checkbox-tree/lib/react-checkbox-tree.css';\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\n/* eslint-disable react/jsx-one-expression-per-line */\r\nconst UserPermission = (props) => {\r\n    const { user } = props;\r\n    const clases = useStyles()\r\n    const [ stateClicked, setStateClicked ] = React.useState({})\r\n    const [ stateChecked, setStateChecked ] = React.useState([])\r\n    const [ stateExpanded, setStateExpanded ] = React.useState([])\r\n    const [ fullTree, setFullTree ] = React.useState([])\r\n    const [ userPermission, setUserPermission ] = React.useState([])\r\n    const [isSaving, setIsSaving] = React.useState(false);\r\n    const [switchFullAccess, setSwitchFullAccess] = React.useState(true);\r\n\r\n    const handleChangeSwitchFullAccess = (event) => {\r\n        setSwitchFullAccess(event.target.checked);\r\n    }; \r\n\r\n    const getCustomMarketsFullTree = async() => {\r\n        let customMarketsFullTree = await props.getCustomMarketsFullTree();\r\n        let treeData = generateNodeTree(customMarketsFullTree)\r\n        let userPermissions = await props.getUserPermissions(props.user);\r\n        setUserPermission(userPermissions)\r\n        setSwitchFullAccess(userPermissions.fullAccess)\r\n        loadTreeChecked(userPermissions, treeData)\r\n        //setLoading(false)\r\n    }\r\n\r\n    const generateNodeTree = (nodes) => {\r\n        const treeData = []\r\n         nodes.map(lineGroup => {\r\n             if (lineGroup.lineGroupCode > -1) {\r\n                let lines = []\r\n                if (lineGroup.lines.length == 1 && JSON.stringify(lineGroup.lines[0].customMarkets) == \"[{}]\") {\r\n                    lines = []\r\n                } else {\r\n                    lineGroup.lines.map(line => {\r\n                        let customMarkets = []\r\n                        line.customMarkets.map(customMarket => {\r\n                            if (customMarket.customMarketCode) {\r\n                                let customMarketKey = { value: customMarket.customMarketCode, type: 'custommarket' }\r\n                                let customMarketKeyEncoded = btoa(JSON.stringify(customMarketKey));\r\n                                customMarkets.push({value: customMarketKeyEncoded, label: customMarket.customMarketDescription.toUpperCase() })\r\n                            }\r\n                        })\r\n                        let lineKey = { value: line.lineCode, type: 'line' }\r\n                        let lineKeyEncoded = btoa(JSON.stringify(lineKey));\r\n                        if (customMarkets.length > 0) {\r\n                            lines.push({value: lineKeyEncoded, label: line.lineDescription, children: customMarkets })\r\n                        } else {\r\n                            lines.push({value: lineKeyEncoded, label: line.lineDescription.toUpperCase()})\r\n                        }\r\n                    })\r\n                }\r\n                let lineGroupKey = { value: lineGroup.lineGroupCode, type: 'linegroup'}\r\n                let lineGroupKeyEncoded = btoa(JSON.stringify(lineGroupKey));\r\n                if (lines.length > 0) {\r\n                    treeData.push({value: lineGroupKeyEncoded, label: lineGroup.lineGroupDescription, children: lines })\r\n                } else {\r\n                    treeData.push({value: lineGroupKeyEncoded, label: lineGroup.lineGroupDescription.toUpperCase()})\r\n                }\r\n            }\r\n         })\r\n        \r\n        setFullTree(treeData)\r\n        return treeData\r\n     }\r\n\r\n    const loadTreeChecked = (userPermissions, treeData) => {\r\n        let checked = []\r\n        userPermissions.customMarketCodes.map(customMarketCode => {\r\n            let customMarketKey = { value: customMarketCode, type: 'custommarket' }\r\n            let customMarketKeyEncoded = btoa(JSON.stringify(customMarketKey));\r\n            checked.push(customMarketKeyEncoded)\r\n        })\r\n\r\n        userPermissions.lineCodes.map(lineCode => {\r\n            let lineKey = { value: lineCode, type: 'line' }\r\n            let lineKeyEncoded = btoa(JSON.stringify(lineKey));\r\n            checked.push(lineKeyEncoded)\r\n            let lineFound = getLineInTree(lineKeyEncoded, treeData)\r\n            if (lineFound.length > 0 && lineFound[0].children) {\r\n                lineFound[0].children.map(customMarketCode => {\r\n                    checked.push(customMarketCode.value)\r\n                })\r\n            }\r\n        })\r\n        \r\n        userPermissions.lineGroupCodes.map(lineGroupCode => {\r\n            let lineGroupKey = { value: lineGroupCode, type: 'linegroup' }\r\n            let lineGroupKeyEncoded = btoa(JSON.stringify(lineGroupKey));\r\n            checked.push(lineGroupKeyEncoded)\r\n            let lineGroup = getLineGroupInTree(lineGroupKeyEncoded, treeData)\r\n            if (lineGroup.children) {\r\n                lineGroup.children.map(line => {\r\n                    if (line.children) {\r\n                        line.children.map(customMarketCode => {\r\n                            checked.push(customMarketCode.value)\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        })\r\n\r\n        setStateChecked(checked)\r\n    }\r\n\r\n    const getLineInTree = (lineKeyEncoded, treeData) => {\r\n        let lineFound = null\r\n        treeData.forEach(lineGroup => {\r\n            if (lineGroup.children) {\r\n                let line = lineGroup.children.filter(l => l.value == lineKeyEncoded)\r\n                if (line.length > 0) {\r\n                    lineFound = line\r\n                    return lineFound\r\n                }\r\n            }\r\n        });\r\n\r\n        return lineFound\r\n    }\r\n\r\n    const getLineGroupInTree = (lineGroupKeyEncoded, treeData) => {\r\n        let lineGroupFound = null\r\n        lineGroupFound = treeData.find(lg => lg.value == lineGroupKeyEncoded)\r\n        return lineGroupFound\r\n    }    \r\n\r\n    const updateUserPermission = (checked,targetNode) => {\r\n        let newUserPermission = userPermission\r\n        let nodeKey = JSON.parse(atob(targetNode.value))\r\n        \r\n        if (nodeKey.type == 'linegroup') {\r\n            const {customMarketCodes, lineCodes, lineGroupCodes} = getLineGroupChecked(targetNode, newUserPermission.lineGroupCodes, newUserPermission.lineCodes, newUserPermission.customMarketCodes) \r\n            newUserPermission.customMarketCodes = customMarketCodes\r\n            newUserPermission.lineCodes = lineCodes\r\n            newUserPermission.lineGroupCodes = lineGroupCodes\r\n\r\n        } else if (nodeKey.type == 'line') {\r\n            const {customMarketCodes, lineCodes, lineGroupCodes} = getLineChecked(checked, targetNode, newUserPermission.lineGroupCodes, newUserPermission.lineCodes, newUserPermission.customMarketCodes) \r\n            newUserPermission.customMarketCodes = customMarketCodes\r\n            newUserPermission.lineCodes = lineCodes\r\n            newUserPermission.lineGroupCodes = lineGroupCodes\r\n\r\n        } else if (nodeKey.type == 'custommarket') {\r\n            const {customMarketCodes, lineCodes, lineGroupCodes} = getCustomMarketChecked(fullTree, stateChecked, targetNode, newUserPermission.lineGroupCodes, newUserPermission.lineCodes, newUserPermission.customMarketCodes) \r\n            newUserPermission.customMarketCodes = customMarketCodes\r\n            newUserPermission.lineCodes = lineCodes\r\n            newUserPermission.lineGroupCodes = lineGroupCodes\r\n        }\r\n\r\n        setUserPermission(newUserPermission)\r\n    }\r\n\r\n    const getLineGroupChecked = (targetNode, lineGroupCodes, lineCodes, customMarketCodes) => {\r\n        let nodeKey = JSON.parse(atob(targetNode.value))\r\n        if (targetNode.checked) {\r\n            lineGroupCodes.push(nodeKey.value)\r\n        } else {\r\n            lineGroupCodes = lineGroupCodes.filter(lg => lg !== nodeKey.value)\r\n        }\r\n\r\n        if (targetNode.children?.length > 0) {\r\n            targetNode.children.map(line => {\r\n                let nodeLineKey = JSON.parse(atob(line.value))\r\n                lineCodes = lineCodes.filter(lg => lg !== nodeLineKey.value)\r\n                if (line.children?.length > 0) {\r\n                    line.children.map(customMarket => {\r\n                        let nodeCustomMarketKey = JSON.parse(atob(customMarket.value))\r\n                        customMarketCodes = customMarketCodes.filter(lg => lg !== nodeCustomMarketKey.value)\r\n                    })\r\n                }\r\n            })\r\n        }        \r\n\r\n        return {lineGroupCodes, lineCodes, customMarketCodes}\r\n    }\r\n\r\n    const getLineChecked = (stateChecked, targetNode, lineGroupCodes, lineCodes, customMarketCodes) => {\r\n        let nodeKey = JSON.parse(atob(targetNode.value))\r\n\r\n        if (targetNode.checked) {\r\n\r\n            let isFull = true\r\n            let lineCodeChilden = []\r\n            targetNode.parent.children.map(line => {\r\n                if (!stateChecked.find(x => x == line.value)) {\r\n                    isFull = false\r\n                } else {\r\n                    let nodeLineKey = JSON.parse(atob(line.value))\r\n                    lineCodeChilden.push(nodeLineKey.value)\r\n                }\r\n            })\r\n            if (isFull) {\r\n                let nodeKeyParent = JSON.parse(atob(targetNode.parent.value))\r\n                lineGroupCodes.push(nodeKeyParent.value)\r\n                lineCodes = lineCodes.filter(l => lineCodeChilden.indexOf(l) < 0)   \r\n            } else {\r\n                lineCodes.push(nodeKey.value)\r\n            }\r\n\r\n        } else {\r\n\r\n            let nodeKeyParent = JSON.parse(atob(targetNode.parent.value))\r\n            \r\n            if (lineGroupCodes.find(x => x == nodeKeyParent.value)) {\r\n                lineGroupCodes = lineGroupCodes.filter(lg => lg !== nodeKeyParent.value)\r\n                targetNode.parent.children.map(line => {\r\n                    let nodeKeyLine = JSON.parse(atob(line.value))\r\n                    if (nodeKey.value != nodeKeyLine.value) {\r\n                        lineCodes.push(nodeKeyLine.value)\r\n                    }\r\n                })\r\n            } else {\r\n                lineCodes = lineCodes.filter(lg => lg !== nodeKey.value)\r\n            }\r\n        }        \r\n\r\n        if (targetNode.children?.length > 0) {\r\n            targetNode.children.map(customMarket => {\r\n                let nodeCustomMarketKey = JSON.parse(atob(customMarket.value))\r\n                customMarketCodes = customMarketCodes.filter(lg => lg !== nodeCustomMarketKey.value)\r\n            })\r\n        }         \r\n\r\n        return {lineGroupCodes, lineCodes, customMarketCodes}\r\n    }\r\n\r\n    const getCustomMarketChecked = (fullTree, treeChecked, targetNode, lineGroupCodes, lineCodes, customMarketCodes) => {\r\n        let nodeKey = JSON.parse(atob(targetNode.value))\r\n\r\n        if (targetNode.checked) {\r\n\r\n            let isLineFull = true\r\n            let customMarketCodeChilden = []\r\n            targetNode.parent.children.map(customMarket => {\r\n                if (!treeChecked.find(x => x == customMarket.value) && customMarket.value != targetNode.value) {\r\n                    isLineFull = false\r\n                } else {\r\n                    let nodeLineKey = JSON.parse(atob(customMarket.value))\r\n                    customMarketCodeChilden.push(nodeLineKey.value)\r\n                }\r\n            })\r\n\r\n            if (isLineFull) {\r\n\r\n                let nodeKeyLine = JSON.parse(atob(targetNode.parent.value))\r\n                lineCodes.push(nodeKeyLine.value)\r\n                customMarketCodes = customMarketCodes.filter(cm => customMarketCodeChilden.indexOf(cm) < 0)   \r\n\r\n                let lineGroup = null\r\n                fullTree.forEach(lg => {\r\n                    if (lg.children) {\r\n                        if (lg.children.find(x => x.value == targetNode.parent.value)) {\r\n                            lineGroup = lg\r\n                        }\r\n                    }\r\n                });\r\n\r\n                if (lineGroup) {\r\n                    let isLineGroupFull = true\r\n                    let lineChilden = []\r\n                    lineGroup.children.map(line => {\r\n                        let nodeLineKey = JSON.parse(atob(line.value))\r\n                        if (!lineCodes.find(x => x == nodeLineKey.value)) {\r\n                            isLineGroupFull = false\r\n                        } else {\r\n                            lineChilden.push(nodeLineKey.value)\r\n                        }\r\n                    })\r\n                    \r\n                    if (isLineGroupFull) {\r\n                        let nodeLineGroupKey = JSON.parse(atob(lineGroup.value))\r\n                        lineGroupCodes.push(nodeLineGroupKey.value)\r\n                        lineCodes = lineCodes.filter(l => lineChilden.indexOf(l) < 0)   \r\n                    }\r\n\r\n                }\r\n\r\n            } else {\r\n                customMarketCodes.push(nodeKey.value)\r\n            }\r\n\r\n        } else {\r\n            // UNCHECKED CUSTOM MARKET\r\n            let nodeLineKey = JSON.parse(atob(targetNode.parent.value))\r\n            if (lineCodes.find(x => x == nodeLineKey.value)) { //FULL LINE ?\r\n\r\n                lineCodes = lineCodes.filter(l => l !== nodeLineKey.value)   \r\n\r\n                targetNode.parent.children.map(c => {\r\n                    let nodeCustomMarketKey = JSON.parse(atob(c.value))\r\n                    customMarketCodes.push(nodeCustomMarketKey.value)\r\n                })\r\n            } else { // FULL LINE GROUP ?\r\n\r\n                let lineGroupUnChecked = null\r\n                fullTree.forEach(lg => {\r\n                    if (lg.children) {\r\n                        if (lg.children.find(x => x.value == targetNode.parent.value)) {\r\n                            lineGroupUnChecked = lg\r\n                        }\r\n                    }\r\n                })\r\n                if (lineGroupUnChecked) {\r\n                    let nodeLineGroupUncheckedKey = JSON.parse(atob(lineGroupUnChecked.value))\r\n                    if (lineGroupCodes.find(x => x == nodeLineGroupUncheckedKey.value)) {\r\n                        lineGroupCodes = lineGroupCodes.filter(lg => lg !== nodeLineGroupUncheckedKey.value)\r\n\r\n                        lineGroupUnChecked.children.map(ln => {\r\n                            let line = JSON.parse(atob(ln.value))\r\n                            if (ln.value == targetNode.parent.value) {\r\n                                ln.children.map(({ value }) => {\r\n                                    let customMarketCode = JSON.parse(atob(value))\r\n                                    customMarketCodes.push(customMarketCode.value)\r\n                                })\r\n                            } else {\r\n                                lineCodes.push(line.value)\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n            customMarketCodes = customMarketCodes.filter(cm => cm !== nodeKey.value)\r\n        }        \r\n\r\n        return {lineGroupCodes, lineCodes, customMarketCodes}\r\n    }\r\n\r\n\r\n    const saveUserPermission = () => {\r\n        setIsSaving(true)\r\n        setTimeout(async () => {\r\n            try {\r\n                let userPermissionToSave = {}\r\n                if (switchFullAccess) {\r\n                    userPermissionToSave = {\r\n                        lineGroupCodes: [],\r\n                        lineCodes: [],\r\n                        customMarketCodes: []\r\n                    }\r\n                } else {\r\n                    userPermissionToSave = userPermission\r\n                }\r\n                userPermissionToSave.fullAccess = switchFullAccess\r\n                await props.updateUserPermissions(user, userPermissionToSave);    \r\n            } catch (e) {\r\n                alert('no se pudo completar la accion')\r\n            } finally {\r\n                setIsSaving(false)\r\n            }\r\n        }, 500)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        getCustomMarketsFullTree()\r\n    },[])\r\n\r\n    const onCheck = (checked, targetNode) => {\r\n        setStateChecked(checked);\r\n        updateUserPermission(checked,targetNode)\r\n    }\r\n\r\n    const onClick = (clicked) => {\r\n        setStateClicked(clicked);\r\n    }\r\n\r\n    const onExpand = (expanded) => {\r\n        setStateExpanded(expanded);\r\n    }\r\n\r\n    return (\r\n    <>\r\n        <FormControlLabel\r\n/*             className=\"float-left m-2\"\r\n            style={{position: 'absolute', left: '0px', zIndex: '2'}} */\r\n            control={\r\n                <Switch\r\n                    checked={switchFullAccess}\r\n                    onChange={handleChangeSwitchFullAccess}\r\n                    name=\"chkFullAccess\"\r\n                    color=\"primary\"\r\n                />\r\n            }\r\n            label=\"Full Access\"\r\n        />\r\n        <div className=\"clickable-labels\" style={{\r\n            display: switchFullAccess ? 'none' : '',\r\n            maxHeight: '64vh',\r\n            overflowY: 'auto',\r\n/*             overflowX: 'hidden',\r\n            width: '100vw' */\r\n            }}>\r\n            <CheckboxTree\r\n                checked={stateChecked}\r\n                expanded={stateExpanded}\r\n                iconsClass=\"fa5\"\r\n                nodes={fullTree}\r\n                expandOnClick\r\n                checkModel=\"all\"\r\n                onCheck={onCheck}\r\n                onClick={onClick}\r\n                onExpand={onExpand}\r\n                icons={{\r\n                    check: <CheckBoxIcon color=\"primary\"/>,\r\n                    uncheck: <CheckBoxOutlineBlankIcon />,\r\n                    halfCheck: <IndeterminateCheckBoxIcon />,\r\n                    expandClose: <span className=\"rct-icon rct-icon-expand-close\" />,\r\n                    expandOpen: <span className=\"rct-icon rct-icon-expand-open\" />,\r\n                    expandAll: <span className=\"rct-icon rct-icon-expand-all\" />,\r\n                    collapseAll: <span className=\"rct-icon rct-icon-collapse-all\" />,\r\n                    parentClose: <></>,\r\n                    parentOpen: <></>,\r\n                    leaf: <></>,\r\n                }}               \r\n            />\r\n        </div>\r\n        <div>          \r\n            <div\r\n                id=\"btn_save_permission\"\r\n                className={`btn btn-secondary font-weight-bold px-2 pl-4 pr-4 py-0 mt-10 mb-2`}\r\n                style={{fontWeight: '600'}}\r\n                onClick={() => { if (!isSaving) saveUserPermission()}}\r\n                disabled={!isSaving}\r\n            >\r\n                {isSaving && <span className=\"mr-6 spinner spinner-green\"></span>}            \r\n                <IconButton \r\n                    aria-label=\"\"  \r\n                    color=\"primary\" \r\n                    className=\"p-3\"\r\n                    >\r\n                    <span style={{color: isSaving? 'silver': '#17c191', fontSize: '14px'}}>\r\n                        <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n                    </span>\r\n                </IconButton>\r\n            </div>\r\n        </div>\r\n    </>\r\n    );\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(UserPermission);","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport UserPermission from './UserPermissions'\r\n\r\nconst CustomMarketToolbar = (props) => {\r\n  return (\r\n    <Grid container spacing={1}>\r\n      <Grid item xs={12} className=\"pt-1 pb-0\">\r\n        <div\r\n          style={{\r\n            display: 'inline-flex',\r\n            alignItems: 'center',\r\n            flexWrap: 'wrap',\r\n            marginBottom:5\r\n            }}\r\n          id=\"btn_close_permission\"\r\n          className={`btn btn-secondary font-weight-bold px-2 py-0 mb-2`}\r\n          onClick={() => props.closePanel()}\r\n        >\r\n          <Tooltip title=\"Cerrar\">\r\n              <IconButton aria-label=\"Cerrar\"  color=\"primary\">\r\n                  <CloseIcon/> \r\n              </IconButton>\r\n          </Tooltip>                                \r\n        </div>\r\n        <span \r\n            className={`ml-10 text-uppercase`}\r\n            style={{ fontSize: '16px', fontWeight: '500', borderBottom: '2px solid #17c191', color: '#636060' }}>\r\n              <span style={{color: 'rgb(56 56 197 / 48%)'}} className=\"pl-4 pr-4\">{props.userData.dominio} \\ {props.userData.usuario}</span>\r\n        </span>\r\n        </Grid>\r\n        <Grid item xs={12} className=\"pt-0 pb-0\">\r\n          <UserPermission user={props.userData.id} />\r\n        </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default CustomMarketToolbar;","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { useFormik } from 'formik';\r\nimport { TextField } from '@material-ui/core'\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, user }, intl } = props;\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validateUser = values => {\r\n      const errors = {};\r\n      if(actionType == 'create') {\r\n        if (!values.usuario) {\r\n          errors.usuario = intl.formatMessage({id: 'FORM.ERROR.REQUIRED_FIELD'});\r\n        }\r\n        if (!values.dominio) {\r\n          errors.dominio = intl.formatMessage({id: 'FORM.ERROR.REQUIRED_FIELD'});\r\n        }\r\n      }\r\n    \r\n      return errors;\r\n  };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n          isAdmin: actionType == 'edit' ? user.isAdmin : false,\r\n          usuario: actionType == 'edit' ? user.usuario : '',\r\n          dominio: actionType == 'edit' ? user.dominio : ''\r\n        },\r\n        validate: validateUser,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                  if(actionType == 'edit') {\r\n                    await props.updateUserAdministrator(user.id, JSON.stringify({isAdmin: values.isAdmin, usuario: values.usuario, dominio: values.dominio}))\r\n                  }else{\r\n                    await props.createUser(JSON.stringify({isAdmin: values.isAdmin, usuario: values.usuario, dominio: values.dominio}))\r\n                  }\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: \"Error. No se ha podido completar la accin\"} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n\r\n    const userForm = () => {\r\n      if(actionType == 'edit') {\r\n        return (\r\n          <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label className={(formik.touched.isAdmin && Boolean(formik.errors.isAdmin)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>Perfil Administrador</label>\r\n                <Checkbox\r\n                    name='isAdmin'\r\n                    id='isAdmin'\r\n                    checked={formik.values.isAdmin}\r\n                    onChange={formik.handleChange}\r\n                />                \r\n          </FormControl>\r\n        )\r\n      }else{\r\n        return (\r\n          <>\r\n            <TextField\r\n                className={`mb-4`}\r\n                fullWidth\r\n                autoComplete='off'\r\n                name=\"usuario\"\r\n                label={intl.formatMessage({id: \"AUTH.LOGIN.USER_NAME\"})}\r\n                type='text'\r\n                onChange={formik.handleChange}\r\n                value={formik.values.usuario}\r\n                error={formik.touched.usuario && Boolean(formik.errors.usuario)}\r\n                helperText={formik.touched.usuario && formik.errors.usuario}                \r\n            />\r\n            <TextField\r\n                className={`mb-4`}\r\n                fullWidth\r\n                autoComplete='off'\r\n                name=\"dominio\"\r\n                label={intl.formatMessage({id: \"USERS.FORM.DOMAIN\"})}\r\n                type='text'\r\n                onChange={formik.handleChange}\r\n                value={formik.values.dominio}\r\n                error={formik.touched.dominio && Boolean(formik.errors.dominio)}\r\n                helperText={formik.touched.dominio && formik.errors.dominio}                \r\n            />\r\n            <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label className={(formik.touched.isAdmin && Boolean(formik.errors.isAdmin)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>Perfil Administrador</label>\r\n                <Checkbox\r\n                    name='isAdmin'\r\n                    id='isAdmin'\r\n                    checked={formik.values.isAdmin}\r\n                    onChange={formik.handleChange}\r\n                />                \r\n            </FormControl>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n        <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={dialogVisible} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText className=\"text-uppercase\">{actionType == 'edit' ? `${intl.formatMessage({id: \"ACTION.EDIT\"})}: ${user.dominio} / ${user.usuario}`: `${intl.formatMessage({id: \"USERS.CREATE.TITLE\"})}` } </DialogContentText>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        {userForm()}\r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={loading ? true : false}>\r\n            {intl.formatMessage({id: 'FORM.ACTION.CANCEL'})}\r\n          </Button>\r\n          <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={loading ? true : false}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>{intl.formatMessage({id: 'FORM.ACTION.SAVE'})}</span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ActionDialog));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './_redux/Actions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PanelUserPermissions from './components/Panel'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport MaterialTable from 'material-table'\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst User = (props) => {\r\n    const classes = useStyles();\r\n    const { intl } = props;\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ usersData, setUsers ] = React.useState([])\r\n    const [ enableEditPermissions, setEnableEditPermission ] = React.useState({\r\n        visible: false,\r\n        user: []\r\n    }) \r\n    \r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        user: [],\r\n        dialogVisible: false,\r\n    })\r\n\r\n    const getUsers = async() => {\r\n        let getAllUsers = await props.getUsers();\r\n        setUsers(getAllUsers)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getUsers()\r\n    },[])\r\n\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, user: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getUsers()\r\n    }\r\n    const openPanel = (item) => {\r\n        setEnableEditPermission({\r\n            visible: true,\r\n            user: item\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {enableEditPermissions.visible ? (\r\n                <PanelUserPermissions userData={enableEditPermissions.user} closePanel={() => setEnableEditPermission({visible: false, user: []})} />\r\n            ):(\r\n                <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                    <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                        <MaterialTable\r\n                            title={intl.formatMessage({id: \"USERS.TITLE\"})}\r\n                            columns={[\r\n                                {title: intl.formatMessage({id: \"USERS.USER\"}), field: 'usuario'},\r\n                                {title: intl.formatMessage({id: \"USERS.DOMAIN\"}), field: 'dominio'},\r\n                                {title: intl.formatMessage({id: \"USERS.PROFILE_ADMINISTRATOR\"}), field: 'isAdmin', render: rowData => <Checkbox checked={rowData.isAdmin ? true : false } readOnly={true} />}\r\n                            ]}\r\n                            data={usersData}\r\n                            isLoading={isLoading}\r\n                            options={{\r\n                                pageSize: 10,\r\n                                pageSizeOptions: [10,25,50, 100],\r\n                                searchFieldAlignment: 'left',\r\n                                actionsColumnIndex: -1,\r\n                            }}\r\n                            actions={[\r\n                                {\r\n                                    icon: 'add',\r\n                                    tooltip: intl.formatMessage({id: \"USERS.ACTION.CREATE\"}),\r\n                                    isFreeAction: true,\r\n                                    onClick: () => setDialogAction({actionType: 'create', dialogVisible: true, user: []}),\r\n                                    position:'toolbar',\r\n                                },\r\n                                {\r\n                                    icon: 'edit',\r\n                                    tooltip: intl.formatMessage({id: \"ACTION.EDIT\"}),\r\n                                    onClick: (event, rowData) =>setDialogAction({actionType: 'edit', dialogVisible: true, user: rowData})\r\n                                },\r\n                                {\r\n                                    icon: 'visibility',\r\n                                    tooltip: intl.formatMessage({id: \"USERS.ACTION.PERMISSION\"}) ,\r\n                                    onClick: (event, rowData) => openPanel(rowData)\r\n                                }\r\n                            ]}\r\n                            localization={{\r\n                                toolbar: {\r\n                                    searchTooltip: 'Buscar',\r\n                                    searchPlaceholder: 'Buscar'\r\n                                },\r\n                                header: {\r\n                                    actions: ''\r\n                                },\r\n                                pagination: {\r\n                                    labelRowsSelect: 'resultados',\r\n                                    labelRowsPerPage: 'resultados',\r\n                                    labelDisplayedRows: '{from}-{to} de {count}'\r\n                                },\r\n                                body: {\r\n                                    emptyDataSourceMessage: '',\r\n                                }\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    {dialogAction.dialogVisible &&\r\n                        <ActionDialog action={dialogAction} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                    }\r\n                </Grid>\r\n\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default injectIntl(connect(null,mapDispatchToProps)(User));","import axios from 'axios';\r\n\r\nexport const getLogs = () => {\r\n    return async function(getState) {\r\n        const logs = await axios.get(`logger/GetAll`)\r\n        return logs.data;\r\n    }\r\n}\r\n\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './_redux/Actions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst Log = (props) => {\r\n    const classes = useStyles();\r\n    const { intl } = props;\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ logsData, setLogsData ] = React.useState([])\r\n\r\n    const formatDate = (dateString) => {\r\n        const options = { day: '2-digit', month: '2-digit', year: 'numeric' };\r\n        return new Date(dateString).toLocaleDateString('en-GB', options);\r\n    }\r\n\r\n    const getLogs = async () => {\r\n        let getAllLogs = await props.getLogs();\r\n        const formattedLogs = getAllLogs.map(log => ({\r\n            ...log,\r\n            date: formatDate(log.date)\r\n        }));\r\n        setLogsData(formattedLogs);\r\n        setLoading(false);\r\n    }\r\n    React.useEffect(() => {\r\n        getLogs()\r\n    },[])\r\n\r\n  \r\n\r\n    return (\r\n        <>\r\n                <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                    <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                        <MaterialTable\r\n                            title={intl.formatMessage({id: \"LOG.TITLE\"})}\r\n                            columns={[\r\n                                {title: intl.formatMessage({id: \"LOG.ID\"}), field: 'code'},\r\n                                {title: intl.formatMessage({id: \"LOG.DESCRIPTION\"}), field: 'description'},\r\n                                {title: intl.formatMessage({id: \"LOG.USER\"}), field: 'userLog'},\r\n                                {title: intl.formatMessage({id: \"LOG.DATE\"}), field: 'date'},\r\n                                {title: intl.formatMessage({id: \"LOG.MCODE\"}), field: 'customMarketCode'},\r\n\r\n                                \r\n                            ]}\r\n                            data={logsData}\r\n                            isLoading={isLoading}\r\n                            options={{\r\n                                pageSize: 10,\r\n                                pageSizeOptions: [10,25,50, 100],\r\n                                searchFieldAlignment: 'left',\r\n                                actionsColumnIndex: -1,\r\n                            }}\r\n                            localization={{\r\n                                toolbar: {\r\n                                    searchTooltip: 'Buscar',\r\n                                    searchPlaceholder: 'Buscar'\r\n                                },\r\n                                header: {\r\n                                    actions: ''\r\n                                },\r\n                                pagination: {\r\n                                    labelRowsSelect: 'resultados',\r\n                                    labelRowsPerPage: 'resultados',\r\n                                    labelDisplayedRows: '{from}-{to} de {count}'\r\n                                },\r\n                                body: {\r\n                                    emptyDataSourceMessage: '',\r\n                                }\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default injectIntl(connect(null,mapDispatchToProps)(Log));","import React, { Suspense } from \"react\";\r\nimport { Redirect, Switch } from \"react-router-dom\";\r\nimport { LayoutSplashScreen, ContentRoute } from \"../_metronic/layout\";\r\nimport Mercados from './modules/Mercados'\r\nimport BusinessUnit from './modules/BusinessUnit'\r\nimport ProductPresentation from './modules/ProductPresentation'\r\nimport Product from './modules/Product'\r\nimport ProductGroup from './modules/ProductGroup'\r\nimport ProductPresentationGroup from './modules/ProductPresentationGroup'\r\nimport LaboratoryGroup from './modules/LaboratoryGroup'\r\nimport DrugGroup from './modules/DrugGroup'\r\nimport User from './modules/User'\r\nimport Log from \"./modules/Log\";\r\nimport Can from './config/Can';\r\n\r\nexport default function BasePage() {\r\n\r\n  return (\r\n    <Suspense fallback={<LayoutSplashScreen />}>\r\n      <Switch>\r\n        {\r\n          <Redirect exact from=\"/\" to=\"/administracion-mercados\" />\r\n        }\r\n        <ContentRoute path=\"/administracion-mercados\" component={Mercados} />\r\n        <Can I=\"view\" a=\"menu-maestros\">\r\n          <ContentRoute path=\"/maestros/unidad-negocios\" component={BusinessUnit} />\r\n          <ContentRoute path=\"/maestros/presentaciones\" component={ProductPresentation} />\r\n          <ContentRoute path=\"/maestros/productos\" component={Product} />\r\n          <ContentRoute path=\"/maestros/grupo-productos\" component={ProductGroup} />\r\n          <ContentRoute path=\"/maestros/grupo-presentaciones\" component={ProductPresentationGroup} />\r\n          <ContentRoute path=\"/maestros/grupo-laboratorios\" component={LaboratoryGroup} />\r\n          <ContentRoute path=\"/maestros/grupo-drogas\" component={DrugGroup} />\r\n          <ContentRoute path=\"/usuarios\" component={User} />\r\n          <ContentRoute path=\"/logs\" component={Log} />\r\n\r\n        </Can>\r\n        {/* <Can I=\"view\" a=\"menu-usuarios\">\r\n          <ContentRoute path=\"/usuarios\" component={User} />\r\n        </Can> */}                \r\n        <Redirect to=\"error\" />\r\n        <ContentRoute path=\"/error\" />\r\n      </Switch>\r\n    </Suspense>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport { connect } from \"react-redux\";\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport * as auth from \"../_redux/authRedux\";\r\nimport { login } from \"../_redux/authCrud\";\r\n\r\nconst initialValues = {\r\n  userName: '',\r\n  password: '',\r\n};\r\n\r\nfunction Login(props) {\r\n  const { intl } = props;\r\n  const [loading, setLoading] = useState(false);\r\n \r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  const getInputClasses = (fieldname) => {\r\n    return \"\";\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues,\r\n    onSubmit: (values, { setStatus, setSubmitting }) => {\r\n      enableLoading();\r\n      setTimeout(() => {\r\n        login(values.userName, values.password)\r\n          .then(({ data }) => {\r\n            disableLoading();\r\n            props.login(data);\r\n          })\r\n          .catch((e) => {\r\n            console.error(e)\r\n            disableLoading();\r\n            setSubmitting(false);\r\n            setStatus(\r\n              intl.formatMessage({\r\n                id: \"AUTH.VALIDATION.INVALID_LOGIN\",\r\n              })\r\n            );\r\n          });\r\n      }, 1000);\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className=\"login-form login-signin\" id=\"kt_login_signin_form\">\r\n      {/* begin::Head */}\r\n      <div className=\"text-center mb-10 mb-lg-20\">\r\n        <h3 className=\"font-size-h1\">\r\n          <FormattedMessage id=\"AUTH.LOGIN.TITLE\" />\r\n        </h3>\r\n        <p className=\"text-muted font-weight-bold\">\r\n          <FormattedMessage id=\"AUTH.LOGIN.SUB_TITLE\" />\r\n        </p>\r\n      </div>\r\n      {/* end::Head */}\r\n\r\n      {/*begin::Form*/}\r\n      <form\r\n        onSubmit={formik.handleSubmit}\r\n        className=\"form fv-plugins-bootstrap fv-plugins-framework\"\r\n      >\r\n        {formik.status ? (\r\n          <div className=\"mb-10 alert alert-custom alert-light-danger alert-dismissible\">\r\n            <div className=\"alert-text font-weight-bold\">{formik.status}</div>\r\n          </div>\r\n        ): null }\r\n\r\n        <div className=\"form-group fv-plugins-icon-container\">\r\n          <input\r\n            placeholder={intl.formatMessage({id: \"AUTH.LOGIN.USER_NAME\"})}\r\n            type=\"text\"\r\n            className={`form-control form-control-solid h-auto py-5 px-6 ${getInputClasses(\r\n              \"userName\"\r\n            )}`}\r\n            name=\"userName\"\r\n            autoComplete=\"off\"\r\n            {...formik.getFieldProps(\"userName\")}\r\n          />\r\n          {formik.touched.userName && formik.errors.userName ? (\r\n            <div className=\"fv-plugins-message-container\">\r\n              <div className=\"fv-help-block\">{formik.errors.userName}</div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        <div className=\"form-group fv-plugins-icon-container\">\r\n          <input\r\n            placeholder={intl.formatMessage({id: \"AUTH.LOGIN.PASSWORD\"})}\r\n            type=\"password\"\r\n            className={`form-control form-control-solid h-auto py-5 px-6 ${getInputClasses(\r\n              \"password\"\r\n            )}`}\r\n            name=\"password\"\r\n            {...formik.getFieldProps(\"password\")}\r\n          />\r\n          {formik.touched.password && formik.errors.password ? (\r\n            <div className=\"fv-plugins-message-container\">\r\n              <div className=\"fv-help-block\">{formik.errors.password}</div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        <div className=\"form-group float-right\">\r\n          <button\r\n            id=\"kt_login_signin_submit\"\r\n            type=\"submit\"\r\n            disabled={formik.isSubmitting}\r\n            className={`btn btn-primary font-weight-bold px-9 py-4 my-3`}\r\n          >\r\n            <span>\r\n              <FormattedMessage id=\"FORM.ACTION.LOGIN\" />\r\n            </span>\r\n            {loading && <span className=\"ml-3 spinner spinner-white\"></span>}\r\n          </button>\r\n        </div>\r\n      </form>\r\n      {/*end::Form*/}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default injectIntl(connect(null, auth.actions)(Login));\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { Link, Switch, Redirect } from \"react-router-dom\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { toAbsoluteUrl } from \"../../../../_metronic/_helpers\";\r\nimport { ContentRoute } from \"../../../../_metronic/layout\";\r\nimport Login from \"./Login\";\r\nimport \"../../../../_metronic/_assets/sass/pages/login/classic/login-1.scss\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nexport function AuthPage(isAuthorized) {\r\n  const today = new Date().getFullYear();\r\n  return (\r\n    <>\r\n      <div className=\"d-flex flex-column flex-root\">\r\n        {/*begin::Login*/}\r\n        <div\r\n          className=\"login login-1 login-signin-on d-flex flex-column flex-lg-row flex-row-fluid bg-white\"\r\n          id=\"kt_login\"\r\n        >\r\n          {/*begin::Aside*/}\r\n          <div\r\n            className=\"login-aside d-flex flex-row-auto bgi-size-cover bgi-no-repeat p-10 p-lg-10\"\r\n            style={{\r\n              backgroundImage: `url(${toAbsoluteUrl(\"/media/bg/bg-5.jpg\")})`,\r\n            }}\r\n          >\r\n            {/*begin: Aside Container*/}\r\n            <div className=\"d-flex flex-row-fluid flex-column justify-content-between\">\r\n              {/* start:: Aside header */}\r\n              <Link to=\"/\" className=\"flex-column-auto mt-5\">\r\n                <img\r\n                  alt=\"Logo\"\r\n                  className=\"max-h-70px\"\r\n                  src={toAbsoluteUrl(\"/media/logos/logo-auth.png\")}\r\n                />\r\n              </Link>\r\n              {/* end:: Aside header */}\r\n\r\n              {/* start:: Aside content */}\r\n              <div className=\"flex-column-fluid d-flex flex-column justify-content-center\">\r\n                <h3 className=\"font-size-h1 mb-5 text-white\">\r\n                  <FormattedMessage id=\"MDA.TITLE\" />\r\n                </h3>\r\n                <p className=\"font-weight-lighter text-white opacity-80\">\r\n                  <FormattedMessage id=\"MDA.SUB_TITLE\" />\r\n                </p>\r\n              </div>\r\n              {/* end:: Aside content */}\r\n\r\n              {/* start:: Aside footer for desktop */}\r\n              <div className=\"d-none flex-column-auto d-lg-flex justify-content-between mt-10\">\r\n                <div className=\"opacity-70 font-weight-bold\ttext-white\">\r\n                  <span className=\"text-white font-weight-bold mr-2\">{today.toString()} &copy;{\" \"} </span>\r\n                  <a\r\n                    href=\"http://www.solutica.com.ar\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"text-white text-hover-white\"\r\n                  >\r\n                    Solutica\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              {/* end:: Aside footer for desktop */}\r\n            </div>\r\n            {/*end: Aside Container*/}\r\n          </div>\r\n          {/*begin::Aside*/}\r\n\r\n          {/*begin::Content*/}\r\n          <div className=\"flex-row-fluid d-flex flex-column position-relative p-7 overflow-hidden\">\r\n            {/* begin::Content body */}\r\n            <div className=\"d-flex flex-column-fluid flex-center mt-30 mt-lg-0\">\r\n              {/* <Switch>\r\n                <ContentRoute path=\"/auth/login\" component={Login} />\r\n                <Redirect from=\"/auth\" exact={true} to=\"/auth/login\" />\r\n                <Redirect to=\"/auth/login\" />\r\n              </Switch> */}\r\n              {isAuthorized ? <CircularProgress /> : \"Su usuario no tiene acceso para cargar gastos en el sistema\"}\r\n            </div>\r\n            {/*end::Content body*/}\r\n\r\n            {/* begin::Mobile footer */}\r\n            <div className=\"d-flex d-lg-none flex-column-auto flex-column flex-sm-row justify-content-between align-items-center mt-5 p-5\">\r\n              <div className=\"text-dark-50 font-weight-bold order-2 order-sm-1 my-2\">\r\n                <span className=\"text-white font-weight-bold mr-2\">{today.toString()} &copy;{\" \"}</span>\r\n                <a\r\n                  href=\"http://www.solutica.com.ar\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"text-white text-hover-white\"\r\n                >\r\n                  Solutica\r\n                </a>\r\n              </div>\r\n            </div>\r\n            {/* end::Mobile footer */}\r\n          </div>\r\n          {/*end::Content*/}\r\n        </div>\r\n        {/*end::Login*/}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { LayoutSplashScreen } from \"../../../../_metronic/layout\";\r\nimport * as auth from \"../_redux/authRedux\";\r\nimport * as mercadosActions from \"../../Mercados/_redux/mercadosActions\";\r\nimport { withMsal } from \"@azure/msal-react\"; // Importa withMsal para conectar el HOC\r\n\r\nclass Logout extends Component {\r\n  componentDidMount() {\r\n    const { instance } = this.props.msalContext; // Obtn la instancia de msal\r\n    this.props.clearCustomMarkets();\r\n    instance.logoutRedirect(); // Cierra sesin con msal usando un popup\r\n    this.props.logout();\r\n  }\r\n\r\n  render() {\r\n    const { hasAuthToken } = this.props;\r\n    return hasAuthToken ? <LayoutSplashScreen /> : <Redirect to=\"/auth/login\" />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    hasAuthToken: Boolean(state.auth.authToken)\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  logout: () => dispatch(auth.actions.logout()),\r\n  clearCustomMarkets: () => dispatch(mercadosActions.resetCustomMarket())\r\n});\r\n\r\n// Envuelve el componente con withMsal para obtener el contexto de msal\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withMsal(Logout));\r\n","import React from \"react\";\r\nimport { toAbsoluteUrl } from \"../../../_metronic/_helpers\";\r\nimport \"../../../_metronic/_assets/sass/pages/error/error-5.scss\";\r\n\r\nexport function ErrorPage5() {\r\n  return (\r\n    <div className=\"d-flex flex-column flex-root\">\r\n      <div\r\n        className=\"error error-5 d-flex flex-row-fluid bgi-size-cover bgi-position-center\"\r\n        style={{\r\n          backgroundImage: `url(${toAbsoluteUrl(\"/media/error/bg5.jpg\")})`,\r\n        }}\r\n      >\r\n        <div className=\"container d-flex flex-row-fluid flex-column justify-content-md-center p-12\">\r\n          <h1 className=\"error-title font-weight-boldest text-info mt-10 mt-md-0 mb-12\">\r\n            Oops!\r\n          </h1>\r\n{/*           <p className=\"font-weight-boldest display-4\">\r\n            Something went wrong here.\r\n          </p>\r\n          <p className=\"font-size-h3\">\r\n            We're working on it and we'll get it fixed\r\n            <br />\r\n            as soon possible.\r\n            <br />\r\n            You can back or use our Help Center.\r\n          </p> */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { ErrorPage5 } from \"./ErrorPage5\";\r\n\r\nexport default function ErrorsPage() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/error\" component={ErrorPage5} />\r\n    </Switch>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { Redirect, Switch, Route } from \"react-router-dom\";\r\nimport { shallowEqual, useSelector, useDispatch } from \"react-redux\";\r\nimport { Layout } from \"../_metronic/layout\";\r\nimport BasePage from \"./BasePage\";\r\nimport { Logout, AuthPage, actionTypes } from \"./modules/Auth\";\r\nimport ErrorsPage from \"./modules/ErrorsExamples/ErrorsPage\";\r\nimport { login, adLogin, adLoginToken } from \"./modules/Auth/_redux/authCrud\";\r\nimport { InteractionType, PublicClientApplication } from \"@azure/msal-browser\";\r\nimport { loginRequest, msalConfig } from \"./authConfig\";\r\nimport { useAccount, useIsAuthenticated, useMsal, useMsalAuthentication } from \"@azure/msal-react\";\r\n\r\nexport function Routes() {\r\n  const dispatch = useDispatch();\r\n  const { isAuthorized } = useSelector(\r\n    ({ auth }) => ({\r\n      isAuthorized: auth.user != null,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  const { instance, accounts, inProgress } = useMsal();\r\n  const account = useAccount(accounts[0] || {});\r\n  const isAuthenticated = useIsAuthenticated();\r\n\r\n  console.log(account);\r\n\r\n  const { login, result, error } = useMsalAuthentication(InteractionType.Redirect, loginRequest);\r\n  console.log(result);\r\n\r\n  useEffect(() => {\r\n    async function getTokenSilently() {\r\n      const tokenRequest = {\r\n        scopes: ['User.Read'],\r\n        // loginHint: accounts[0].username,\r\n        account,\r\n      };\r\n      const res = await instance.acquireTokenSilent(tokenRequest);\r\n      handleAzureADLogin(res.uniqueId, res.accessToken);\r\n    }\r\n\r\n    if (isAuthenticated && inProgress === 'none') {\r\n      getTokenSilently();\r\n    } else if (result) {\r\n      handleAzureADLogin(result.uniqueId, result.accessToken);\r\n    }\r\n\r\n\r\n\r\n    // if (!isAuthorized && !error) {\r\n    //   login(); // Trigger Azure AD login if not authorized\r\n    // }\r\n    // if (result || account) {\r\n    //   handleAzureADLogin(result? (result.uniqueId, result.accessToken) : (account. , account.));\r\n    // }\r\n  }, [isAuthenticated]);\r\n  \r\n  const handleAzureADLogin = async (userId,accessToken) => {\r\n      try {\r\n        // const userGraphData = await adLoginToken(result);\r\n        \r\n        const response = await adLogin(userId, accessToken);\r\n        dispatch({type: actionTypes.Login, payload: { authToken: response.data.jwtToken, user: response.data } })\r\n\r\n\r\n      } catch (error) {\r\n        console.error(\"Azure AD login process failed\", error);\r\n        // Handle the error accordingly\r\n      }\r\n  };\r\n  return (\r\n    <Switch>\r\n      {!isAuthorized ? (\r\n        /* Render auth page when user at `/auth` and not authorized. */\r\n        <Route>\r\n          <AuthPage isAuthorized={isAuthorized} />\r\n        </Route>\r\n      ) : (\r\n        /* Otherwise redirect to root page (`/`) */\r\n        <Redirect from=\"/auth\" to=\"/\" />\r\n      )}\r\n\r\n      <Route path=\"/error\" component={ErrorsPage} />\r\n      <Route path=\"/logout\" component={Logout} />\r\n\r\n      {!isAuthorized ? (\r\n        /* Redirect to `/auth` when user is not authorized */\r\n        <Redirect to=\"/auth/login\" />\r\n      ) : (\r\n        <Layout>\r\n          <BasePage />\r\n        </Layout>\r\n      )}\r\n    </Switch>\r\n  );\r\n}\r\n","import React, {createContext} from \"react\";\r\nimport {useMemo} from \"react\";\r\nimport {useContext} from \"react\";\r\n\r\nconst I18N_CONFIG_KEY = process.env.REACT_APP_I18N_CONFIG_KEY || \"i18nConfig\";\r\nconst initialState = {\r\n    selectedLang: \"es\"\r\n  };\r\n\r\nfunction getConfig() {\r\n  const ls = localStorage.getItem(I18N_CONFIG_KEY);\r\n  if (ls) {\r\n    try {\r\n      return JSON.parse(ls);\r\n    } catch (er) {\r\n      console.error(er);\r\n    }\r\n  }\r\n  return initialState;\r\n}\r\n\r\n// Side effect\r\nexport function setLanguage(lang) {\r\n  localStorage.setItem(I18N_CONFIG_KEY, JSON.stringify({ selectedLang: lang }));\r\n  window.location.reload();\r\n}\r\n\r\nconst I18nContext = createContext();\r\n\r\nexport function useLang() {\r\n  return useContext(I18nContext).selectedLang;\r\n}\r\n\r\nexport function withI18n(Component) {\r\n  class WithI18n extends React.Component {\r\n    static displayName = `WithI18n(${Component.displayName || Component.name})`;\r\n\r\n    static contextType = I18nContext;\r\n\r\n    render() {\r\n      return <Component {...this.props} menu={this.context} />;\r\n    }\r\n  }\r\n\r\n  return WithI18n;\r\n}\r\n\r\nexport const I18nConsumer = I18nContext.Consumer;\r\n\r\nexport function MetronicI18nProvider({ children }) {\r\n  const lang = useMemo(getConfig, []);\r\n\r\n  return <I18nContext.Provider value={lang}>{children}</I18nContext.Provider>;\r\n}\r\n","import React from \"react\";\r\nimport {useLang} from \"./Metronici18n\";\r\nimport {IntlProvider} from \"react-intl\";\r\nimport \"@formatjs/intl-relativetimeformat/polyfill\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/en\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/de\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/es\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/fr\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/ja\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/zh\";\r\n\r\nimport deMessages from \"./messages/de\";\r\nimport enMessages from \"./messages/en\";\r\nimport esMessages from \"./messages/es\";\r\nimport frMessages from \"./messages/fr\";\r\nimport jaMessages from \"./messages/ja\";\r\nimport zhMessages from \"./messages/zh\";\r\n\r\nconst allMessages = {\r\n  de: deMessages,\r\n  en: enMessages,\r\n  es: esMessages,\r\n  fr: frMessages,\r\n  ja: jaMessages,\r\n  zh: zhMessages\r\n};\r\n\r\nexport function I18nProvider({ children }) {\r\n  const locale = useLang();\r\n  const messages = allMessages[locale];\r\n\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages}>\r\n      {children}\r\n    </IntlProvider>\r\n  );\r\n}\r\n","// import React, { useState, useEffect } from \"react\";\r\n// import { Provider } from \"react-redux\";\r\n// import { BrowserRouter } from \"react-router-dom\";\r\n// import { PersistGate } from \"redux-persist/integration/react\";\r\n// import { I18nProvider } from \"../_metronic/i18n\";\r\n// import { Routes } from \"../app/Routes\";\r\n// import { LayoutSplashScreen, MaterialThemeProvider } from \"../_metronic/layout\";\r\n// import { useMsal, useMsalAuthentication } from \"@azure/msal-react\";\r\n// import { InteractionType } from \"@azure/msal-browser\";\r\n// import { loginRequest } from \"./authConfig\";\r\n\r\n// export default function App({ store, persistor, basename }) {\r\n//   const { login, result, error } = useMsalAuthentication(InteractionType.Redirect, loginRequest);\r\n//   const { accounts } = useMsal();\r\n//   const [msUser, setMsUser] = useState(\"\");\r\n\r\n//   useEffect(() => {\r\n//     if (accounts.length > 0) {\r\n//       setMsUser(accounts[0].username);\r\n//       console.log(result)\r\n//     }\r\n//   }, [accounts]);\r\n\r\n//   if (error) {\r\n//     return <div>Error in login: {error.message}</div>;  \r\n//   }\r\n\r\n//   if (msUser) {\r\n//     return (\r\n//       <Provider store={store}>\r\n//         <PersistGate persistor={persistor} loading={<LayoutSplashScreen />}>\r\n//           <React.Suspense fallback={<LayoutSplashScreen />}>\r\n//             <BrowserRouter basename={basename}>\r\n//               <MaterialThemeProvider>\r\n//                 <I18nProvider>\r\n//                   <Routes />\r\n//                 </I18nProvider>\r\n//               </MaterialThemeProvider>\r\n//             </BrowserRouter>\r\n//           </React.Suspense>\r\n//         </PersistGate>\r\n//       </Provider>\r\n//     );\r\n//   } else {\r\n//     return <div>Please Wait...</div>;\r\n//   }\r\n// }\r\n\r\n\r\n/**\r\n * Entry application component used to compose providers and render Routes.\r\n * */\r\n\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport * as _redux from \"../redux\";\r\nimport axios from \"axios\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport { Routes } from \"../app/Routes\";\r\nimport { I18nProvider } from \"../_metronic/i18n\";\r\nimport { LayoutSplashScreen, MaterialThemeProvider } from \"../_metronic/layout\";\r\nimport { useAccount, useMsal } from \"@azure/msal-react\";\r\n\r\nexport default function App({ store, persistor, basename }) {\r\n  const { instance, accounts, inProgress } = useMsal();\r\n  const account = useAccount(accounts[0] || {});\r\n  _redux.setupAxios(axios, store, account);\r\n\r\n  return (\r\n    /* Provide Redux store */\r\n    <Provider store={store}>\r\n      {/* Asynchronously persist redux stores and show `SplashScreen` while it's loading. */}\r\n      <PersistGate persistor={persistor} loading={<LayoutSplashScreen />}>\r\n        {/* Add high level `Suspense` in case if was not handled inside the React tree. */}\r\n        <React.Suspense fallback={<LayoutSplashScreen />}>\r\n          {/* Override `basename` (e.g: `homepage` in `package.json`) */}\r\n          <BrowserRouter basename={basename}>\r\n            {/*This library only returns the location that has been active before the recent location change in the current window lifetime.*/}\r\n            <MaterialThemeProvider>\r\n              {/* Provide `react-intl` context synchronized with Redux state.  */}\r\n              <I18nProvider>\r\n                {/* Render routes with provided `Layout`. */}\r\n                <Routes />\r\n              </I18nProvider>\r\n            </MaterialThemeProvider>\r\n          </BrowserRouter>\r\n        </React.Suspense>\r\n      </PersistGate>\r\n    </Provider>\r\n  );\r\n}\r\n","/**\r\n * Create React App entry point. This and `public/index.html` files can not be\r\n * changed or moved.\r\n */\r\nimport \"react-app-polyfill/ie11\";\r\nimport \"react-app-polyfill/stable\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport * as _redux from \"./redux\";\r\nimport store, { persistor } from \"./redux/store\";\r\nimport App from \"./app/App\";\r\nimport \"./index.scss\"; // Standard version\r\n// import \"./sass/style.react.rtl.css\"; // RTL version\r\nimport \"./_metronic/_assets/plugins/keenthemes-icons/font/ki.css\";\r\nimport \"socicon/css/socicon.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport \"./_metronic/_assets/plugins/flaticon/flaticon.css\";\r\nimport \"./_metronic/_assets/plugins/flaticon2/flaticon.css\";\r\n// Datepicker\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport {\r\n  MetronicLayoutProvider,\r\n  MetronicSplashScreenProvider,\r\n  MetronicSubheaderProvider\r\n} from \"./_metronic/layout\";\r\nimport {MetronicI18nProvider} from \"./_metronic/i18n\";\r\nimport { MsalProvider } from \"@azure/msal-react\";\r\nimport { msalConfig } from \"./app/authConfig\";\r\nimport { PublicClientApplication } from \"@azure/msal-browser\";\r\n\r\n/**\r\n * Base URL of the website.\r\n *\r\n * @see https://facebook.github.io/create-react-app/docs/using-the-public-folder\r\n */\r\nconst { PUBLIC_URL } = process.env;\r\n/**\r\n * Creates `axios-mock-adapter` instance for provided `axios` instance, add\r\n * basic Metronic mocks and returns it.\r\n *\r\n * @see https://github.com/ctimmerm/axios-mock-adapter\r\n */\r\n\r\n/**\r\n * Inject metronic interceptors for axios.\r\n *\r\n * @see https://github.com/axios/axios#interceptors\r\n */\r\n\r\nconst msalInstance = new PublicClientApplication(msalConfig);\r\n\r\n\r\nReactDOM.render(\r\n  <MetronicI18nProvider>\r\n    <MetronicLayoutProvider>\r\n      <MetronicSubheaderProvider>\r\n        <MetronicSplashScreenProvider>\r\n        <MsalProvider instance={msalInstance}>\r\n          <App store={store} persistor={persistor} basename={PUBLIC_URL} />\r\n        </MsalProvider>\r\n        </MetronicSplashScreenProvider>\r\n      </MetronicSubheaderProvider>\r\n    </MetronicLayoutProvider>\r\n  </MetronicI18nProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","/* eslint-disable */\r\n\"use strict\";\r\n// DOCS: https://javascript.info/cookie\r\n\r\n// Component Definition\r\nexport var KTCookie = function() {\r\n  return {\r\n    // returns the cookie with the given name,\r\n    // or undefined if not found\r\n    getCookie: function(name) {\r\n      var matches = document.cookie.match(new RegExp(\r\n        \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n      ));\r\n      return matches ? decodeURIComponent(matches[1]) : undefined;\r\n    },\r\n    // Please note that a cookie value is encoded,\r\n    // so getCookie uses a built-in decodeURIComponent function to decode it.\r\n    setCookie: function(name, value, options) {\r\n      if (!options) {\r\n          options = {};\r\n      }\r\n\r\n      options = Object.assign({}, {path: '/'}, options);\r\n\r\n      if (options.expires instanceof Date) {\r\n        options.expires = options.expires.toUTCString();\r\n      }\r\n\r\n      var updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n\r\n      for (var optionKey in options) {\r\n        if (!options.hasOwnProperty(optionKey)) {\r\n          continue;\r\n        }\r\n        updatedCookie += \"; \" + optionKey;\r\n        var optionValue = options[optionKey];\r\n        if (optionValue !== true) {\r\n          updatedCookie += \"=\" + optionValue;\r\n        }\r\n      }\r\n\r\n      document.cookie = updatedCookie;\r\n    },\r\n    // To delete a cookie, we can call it with a negative expiration date:\r\n    deleteCookie: function(name) {\r\n      setCookie(name, \"\", {\r\n        'max-age': -1\r\n      })\r\n    }\r\n  }\r\n}();\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n  // module.exports = KTCookie;\r\n}\r\n","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./util\";\r\n\r\n// Component Definition\r\nvar KTOffcanvas = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.getById(elementId);\r\n    var body = KTUtil.getBody();\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        attrCustom: ''\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('offcanvas')) {\r\n                the = KTUtil.data(element).get('offcanvas');\r\n            } else {\r\n                // Reset offcanvas\r\n                Plugin.init(options);\r\n\r\n                // Build offcanvas\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('offcanvas', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            the.classBase = the.options.baseClass;\r\n            the.attrCustom = the.options.attrCustom;\r\n            the.classShown = the.classBase + '-on';\r\n            the.classOverlay = the.classBase + '-overlay';\r\n            the.target;\r\n\r\n            the.state = KTUtil.hasClass(element, the.classShown) ? 'shown' : 'hidden';\r\n        },\r\n\r\n        build: function() {\r\n            // offcanvas toggle\r\n            if (the.options.toggleBy) {\r\n                if (typeof the.options.toggleBy === 'string') {\r\n                    KTUtil.addEvent(KTUtil.getById(the.options.toggleBy), 'click', function(e) {\r\n                        e.preventDefault();\r\n                        the.target = this;\r\n                        Plugin.toggle();\r\n                    });\r\n                } else if (the.options.toggleBy && the.options.toggleBy[0]) {\r\n                    if (the.options.toggleBy[0].target) {\r\n                        for (var i in the.options.toggleBy) {\r\n                            KTUtil.addEvent(KTUtil.getById(the.options.toggleBy[i].target), 'click', function(e) {\r\n                                e.preventDefault();\r\n                                the.target = this;\r\n                                Plugin.toggle();\r\n                            });\r\n                        }\r\n                    } else {\r\n                        for (var i in the.options.toggleBy) {\r\n                            KTUtil.addEvent(KTUtil.getById(the.options.toggleBy[i]), 'click', function(e) {\r\n                                e.preventDefault();\r\n                                the.target = this;\r\n                                Plugin.toggle();\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                } else if (the.options.toggleBy && the.options.toggleBy.target) {\r\n                    KTUtil.addEvent( KTUtil.getById(the.options.toggleBy.target), 'click', function(e) {\r\n                        e.preventDefault();\r\n                        the.target = this;\r\n                        Plugin.toggle();\r\n                    });\r\n                }\r\n            }\r\n\r\n            // offcanvas close\r\n            var closeBy = KTUtil.getById(the.options.closeBy);\r\n            if (closeBy) {\r\n                KTUtil.addEvent(closeBy, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    the.target = this;\r\n                    Plugin.hide();\r\n                });\r\n            }\r\n        },\r\n\r\n        isShown: function() {\r\n            return (the.state == 'shown' ? true : false);\r\n        },\r\n\r\n        toggle: function() {;\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            if (the.state == 'shown') {\r\n                Plugin.hide();\r\n            } else {\r\n                Plugin.show();\r\n            }\r\n        },\r\n\r\n        show: function() {\r\n            if (the.state == 'shown') {\r\n                return;\r\n            }\r\n\r\n            Plugin.eventTrigger('beforeShow');\r\n\r\n            Plugin.toggleClass('show');\r\n\r\n            // Offcanvas panel\r\n            KTUtil.attr(body, 'data-offcanvas-' + the.classBase, 'on');\r\n            KTUtil.addClass(element, the.classShown);\r\n\r\n            if (the.attrCustom.length > 0) {\r\n                KTUtil.attr(body, 'data-offcanvas-' + the.classCustom, 'on');\r\n                //KTUtil.addClass(body, the.classCustom);\r\n            }\r\n\r\n            the.state = 'shown';\r\n\r\n            if (the.options.overlay) {\r\n                the.overlay = KTUtil.insertAfter(document.createElement('DIV') , element );\r\n                KTUtil.addClass(the.overlay, the.classOverlay);\r\n\r\n                KTUtil.addEvent(the.overlay, 'click', function(e) {\r\n                    //e.stopPropagation();\r\n                    e.preventDefault();\r\n                    Plugin.hide(the.target);\r\n                });\r\n            }\r\n\r\n            Plugin.eventTrigger('afterShow');\r\n        },\r\n\r\n        hide: function() {\r\n            if (the.state == 'hidden') {\r\n                return;\r\n            }\r\n\r\n            Plugin.eventTrigger('beforeHide');\r\n\r\n            Plugin.toggleClass('hide');\r\n\r\n            KTUtil.removeAttr(body, 'data-offcanvas-' + the.classBase);\r\n            KTUtil.removeClass(element, the.classShown);\r\n\r\n            if (the.attrCustom.length > 0) {\r\n                KTUtil.removeAttr(body, 'data-offcanvas-' + the.attrCustom);\r\n            }\r\n\r\n            the.state = 'hidden';\r\n\r\n            if (the.options.overlay && the.overlay) {\r\n                KTUtil.remove(the.overlay);\r\n            }\r\n\r\n            Plugin.eventTrigger('afterHide');\r\n        },\r\n\r\n        toggleClass: function(mode) {\r\n            var id = KTUtil.attr(the.target, 'id');\r\n            var toggleBy;\r\n\r\n            if (the.options.toggleBy && the.options.toggleBy[0] && the.options.toggleBy[0].target) {\r\n                for (var i in the.options.toggleBy) {\r\n                    if (the.options.toggleBy[i].target === id) {\r\n                        toggleBy = the.options.toggleBy[i];\r\n                    }\r\n                }\r\n            } else if (the.options.toggleBy && the.options.toggleBy.target) {\r\n                toggleBy = the.options.toggleBy;\r\n            }\r\n\r\n            if (toggleBy) {\r\n                var el = KTUtil.getById(toggleBy.target);\r\n\r\n                if (mode === 'show') {\r\n                    KTUtil.addClass(el, toggleBy.state);\r\n                }\r\n\r\n                if (mode === 'hide') {\r\n                    KTUtil.removeClass(el, toggleBy.state);\r\n                }\r\n            }\r\n        },\r\n\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     * @param options\r\n     */\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Check if canvas is shown\r\n     * @returns {boolean}\r\n     */\r\n    the.isShown = function() {\r\n        return Plugin.isShown();\r\n    };\r\n\r\n    /**\r\n     * Set to hide the canvas\r\n     */\r\n    the.hide = function() {\r\n        return Plugin.hide();\r\n    };\r\n\r\n    /**\r\n     * Set to show the canvas\r\n     */\r\n    the.show = function() {\r\n        return Plugin.show();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     * @param name\r\n     * @param handler\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     * @param name\r\n     * @param handler\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTOffcanvas;\r\n}\r\n\r\nexport default KTOffcanvas;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./util\";\r\n\r\n// Component Definition\r\nvar KTMenu = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.getById(elementId);\r\n    var body = KTUtil.getBody();\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        // scrollable area with Perfect Scroll\r\n        scroll: {\r\n            rememberPosition: false\r\n        },\r\n\r\n        // accordion submenu mode\r\n        accordion: {\r\n            slideSpeed: 200, // accordion toggle slide speed in milliseconds\r\n            autoScroll: false, // enable auto scrolling(focus) to the clicked menu item\r\n            autoScrollSpeed: 1200,\r\n            expandAll: true // allow having multiple expanded accordions in the menu\r\n        },\r\n\r\n        // dropdown submenu mode\r\n        dropdown: {\r\n            timeout: 500 // timeout in milliseconds to show and hide the hoverable submenu dropdown\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {KTMenu}\r\n         */\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('menu')) {\r\n                the = KTUtil.data(element).get('menu');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // reset menu\r\n                Plugin.reset();\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('menu', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n            the.uid = KTUtil.getUniqueID();\r\n        },\r\n\r\n        update: function(options) {\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            KTUtil.data(element).set('menu', the);\r\n        },\r\n\r\n        reload: function() {\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            // reset submenu props\r\n            Plugin.resetSubmenuProps();\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KTMenu}\r\n         */\r\n        build: function() {\r\n            // General accordion submenu toggle\r\n            the.eventHandlers['event_1'] = KTUtil.on( element, '.menu-toggle', 'click', Plugin.handleSubmenuAccordion);\r\n\r\n            // Dropdown mode(hoverable)\r\n            if (Plugin.getSubmenuMode() === 'dropdown' || Plugin.isConditionalSubmenuDropdown()) {\r\n                // dropdown submenu - hover toggle\r\n                the.eventHandlers['event_2'] = KTUtil.on( element, '[data-menu-toggle=\"hover\"]', 'mouseover', Plugin.handleSubmenuDrodownHoverEnter);\r\n                the.eventHandlers['event_3'] = KTUtil.on( element, '[data-menu-toggle=\"hover\"]', 'mouseout', Plugin.handleSubmenuDrodownHoverExit);\r\n\r\n                // dropdown submenu - click toggle\r\n                the.eventHandlers['event_4'] = KTUtil.on( element, '[data-menu-toggle=\"click\"] > .menu-toggle, [data-menu-toggle=\"click\"] > .menu-link .menu-toggle', 'click', Plugin.handleSubmenuDropdownClick);\r\n                the.eventHandlers['event_5'] = KTUtil.on( element, '[data-menu-toggle=\"tab\"] > .menu-toggle, [data-menu-toggle=\"tab\"] > .menu-link .menu-toggle', 'click', Plugin.handleSubmenuDropdownTabClick);\r\n            }\r\n\r\n            // Handle general link click\r\n            the.eventHandlers['event_6'] = KTUtil.on(element, '.menu-item > .menu-link:not(.menu-toggle):not(.menu-link-toggle-skip)', 'click', Plugin.handleLinkClick);\r\n\r\n            // Init scrollable menu\r\n            if (the.options.scroll && the.options.scroll.height) {\r\n                Plugin.scrollInit();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KTMenu}\r\n         */\r\n        reset: function() {\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_1']);\r\n\r\n            // dropdown submenu - hover toggle\r\n            KTUtil.off( element, 'mouseover', the.eventHandlers['event_2']);\r\n            KTUtil.off( element, 'mouseout', the.eventHandlers['event_3']);\r\n\r\n            // dropdown submenu - click toggle\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_4']);\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_5']);\r\n\r\n            // handle link click\r\n            KTUtil.off(element, 'click', the.eventHandlers['event_6']);\r\n        },\r\n\r\n        /**\r\n         * Init scroll menu\r\n         *\r\n        */\r\n        scrollInit: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollDestroy(element, true);\r\n                KTUtil.scrollInit(element, {mobileNativeScroll: true, windowScroll: false, resetHeightOnDestroy: true, handleWindowResize: true, height: the.options.scroll.height, rememberPosition: the.options.scroll.rememberPosition});\r\n            } else {\r\n                KTUtil.scrollDestroy(element, true);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Update scroll menu\r\n        */\r\n        scrollUpdate: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollUpdate(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Scroll top\r\n        */\r\n        scrollTop: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollTop(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KTMenu}\r\n         */\r\n        getSubmenuMode: function(el) {\r\n            if ( KTUtil.isBreakpointUp('lg') ) {\r\n                if (el && KTUtil.hasAttr(el, 'data-menu-toggle') && KTUtil.attr(el, 'data-menu-toggle') == 'hover') {\r\n                    return 'dropdown';\r\n                }\r\n\r\n                if ( KTUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                    if ( KTUtil.hasClasses(body, the.options.submenu.desktop.state.body) ) {\r\n                        return the.options.submenu.desktop.state.mode;\r\n                    } else {\r\n                        return the.options.submenu.desktop.default;\r\n                    }\r\n                } else if ( KTUtil.isset(the.options.submenu, 'desktop') ) {\r\n                    return the.options.submenu.desktop;\r\n                }\r\n            } else if ( KTUtil.isBreakpointUp('md') && KTUtil.isBreakpointDown('lg') && KTUtil.isset(the.options.submenu, 'tablet') ) {\r\n                return the.options.submenu.tablet;\r\n            } else if ( KTUtil.isBreakpointDown('md') && KTUtil.isset(the.options.submenu, 'mobile') ) {\r\n                return the.options.submenu.mobile;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KTMenu}\r\n         */\r\n        isConditionalSubmenuDropdown: function() {\r\n            if ( KTUtil.isBreakpointUp('lg') && KTUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n\r\n        /**\r\n         * Reset submenu attributes\r\n         * @returns {KTMenu}\r\n         */\r\n        resetSubmenuProps: function(e) {\r\n            var submenus = KTUtil.findAll(element, '.menu-submenu');\r\n            if ( submenus ) {\r\n                for (var i = 0, len = submenus.length; i < len; i++) {\r\n                    var submenu = submenus[0];\r\n\r\n                    KTUtil.css(submenu, 'display', '');\r\n                    KTUtil.css(submenu, 'overflow', '');\r\n\r\n                    if (submenu.hasAttribute('data-hor-direction')) {\r\n                        KTUtil.removeClass(submenu, 'menu-submenu-left');\r\n                        KTUtil.removeClass(submenu, 'menu-submenu-right');\r\n                        KTUtil.addClass(submenu, submenu.getAttribute('data-hor-direction'));\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDrodownHoverEnter: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n\r\n            if ( item.getAttribute('data-hover') == '1' ) {\r\n                item.removeAttribute('data-hover');\r\n                clearTimeout( item.getAttribute('data-timeout') );\r\n                item.removeAttribute('data-timeout');\r\n            }\r\n\r\n            Plugin.showSubmenuDropdown(item);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDrodownHoverExit: function(e) {\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n            var time = the.options.dropdown.timeout;\r\n\r\n            var timeout = setTimeout(function() {\r\n                if ( item.getAttribute('data-hover') == '1' ) {\r\n                    Plugin.hideSubmenuDropdown(item, true);\r\n                }\r\n            }, time);\r\n\r\n            item.setAttribute('data-hover', '1');\r\n            item.setAttribute('data-timeout', timeout);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownClick: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this.closest('.menu-item');\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('submenuToggle', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( item.getAttribute('data-menu-submenu-mode') == 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( KTUtil.hasClass(item, 'menu-item-hover') === false ) {\r\n                KTUtil.addClass(item, 'menu-item-open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            } else {\r\n                KTUtil.removeClass(item, 'menu-item-open-dropdown' );\r\n                Plugin.hideSubmenuDropdown(item, true);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles tab click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownTabClick: function(e) {\r\n            if (Plugin.getSubmenuMode(this) === 'accordion') {\r\n                return;\r\n            }\r\n            var item = this.closest('.menu-item');\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('submenuToggle', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if (item.getAttribute('data-menu-submenu-mode') == 'accordion') {\r\n                return;\r\n            }\r\n\r\n            if (KTUtil.hasClass(item, 'menu-item-hover') == false) {\r\n                KTUtil.addClass(item, 'menu-item-open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles link click\r\n         * @returns {KTMenu}\r\n         */\r\n        handleLinkClick: function(e) {\r\n            var submenu = this.closest('.menu-item.menu-item-submenu');\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('linkClick', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( submenu && Plugin.getSubmenuMode(submenu) === 'dropdown' ) {\r\n                Plugin.hideSubmenuDropdowns();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu dropdown close on link click\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownClose: function(e, el) {\r\n            // exit if its not submenu dropdown mode\r\n            if (Plugin.getSubmenuMode(el) === 'accordion') {\r\n                return;\r\n            }\r\n\r\n            var shown = element.querySelectorAll('.menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)');\r\n\r\n            // check if currently clicked link's parent item ha\r\n            if (shown.length > 0 && KTUtil.hasClass(el, 'menu-toggle') === false && el.querySelectorAll('.menu-toggle').length === 0) {\r\n                // close opened dropdown menus\r\n                for (var i = 0, len = shown.length; i < len; i++) {\r\n                    Plugin.hideSubmenuDropdown(shown[0], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuAccordion: function(e, el) {\r\n            var query;\r\n            var item = el ? el : this;\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('submenuToggle', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( Plugin.getSubmenuMode(el) === 'dropdown' && (query = item.closest('.menu-item') ) ) {\r\n                if (query.getAttribute('data-menu-submenu-mode') != 'accordion' ) {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            var li = item.closest('.menu-item');\r\n            var submenu = KTUtil.child(li, '.menu-submenu, .menu-inner');\r\n\r\n            if (KTUtil.hasClass(item.closest('.menu-item'), 'menu-item-open-always')) {\r\n                return;\r\n            }\r\n\r\n            if ( li && submenu ) {\r\n                e.preventDefault();\r\n                var speed = the.options.accordion.slideSpeed;\r\n                var hasClosables = false;\r\n\r\n                if ( KTUtil.hasClass(li, 'menu-item-open') === false ) {\r\n                    // hide other accordions\r\n                    if ( the.options.accordion.expandAll === false ) {\r\n                        var subnav = item.closest('.menu-nav, .menu-subnav');\r\n                        var closables = KTUtil.children(subnav, '.menu-item.menu-item-open.menu-item-submenu:not(.menu-item-here):not(.menu-item-open-always)');\r\n\r\n                        if ( subnav && closables ) {\r\n                            for (var i = 0, len = closables.length; i < len; i++) {\r\n                                var el_ = closables[0];\r\n                                var submenu_ = KTUtil.child(el_, '.menu-submenu');\r\n                                if ( submenu_ ) {\r\n                                    KTUtil.slideUp(submenu_, speed, function() {\r\n                                        Plugin.scrollUpdate();\r\n                                        KTUtil.removeClass(el_, 'menu-item-open');\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    KTUtil.slideDown(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.scrollUpdate();\r\n\r\n                        Plugin.eventTrigger('submenuToggle', submenu, e);\r\n                    });\r\n\r\n                    KTUtil.addClass(li, 'menu-item-open');\r\n\r\n                } else {\r\n                    KTUtil.slideUp(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.scrollUpdate();\r\n                        Plugin.eventTrigger('submenuToggle', submenu, e);\r\n                    });\r\n\r\n                    KTUtil.removeClass(li, 'menu-item-open');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * scroll to item function\r\n         * @returns {KTMenu}\r\n         */\r\n        scrollToItem: function(item) {\r\n            // handle auto scroll for accordion submenus\r\n            if ( KTUtil.isBreakpointUp('lg')  && the.options.accordion.autoScroll && element.getAttribute('data-menu-scroll') !== '1' ) {\r\n                KTUtil.scrollTo(item, the.options.accordion.autoScrollSpeed);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Hide submenu dropdown\r\n         * @returns {KTMenu}\r\n         */\r\n        hideSubmenuDropdown: function(item, classAlso) {\r\n            // remove submenu activation class\r\n            if ( classAlso ) {\r\n                KTUtil.removeClass(item, 'menu-item-hover');\r\n                KTUtil.removeClass(item, 'menu-item-active-tab');\r\n            }\r\n\r\n            // clear timeout\r\n            item.removeAttribute('data-hover');\r\n\r\n            if ( item.getAttribute('data-menu-toggle-class') ) {\r\n                KTUtil.removeClass(body, item.getAttribute('data-menu-toggle-class'));\r\n            }\r\n\r\n            var timeout = item.getAttribute('data-timeout');\r\n            item.removeAttribute('data-timeout');\r\n            clearTimeout(timeout);\r\n        },\r\n\r\n        /**\r\n         * Hide submenu dropdowns\r\n         * @returns {KTMenu}\r\n         */\r\n        hideSubmenuDropdowns: function() {\r\n            var items;\r\n            if ( items = element.querySelectorAll('.menu-item-submenu.menu-item-hover:not(.menu-item-tabs):not([data-menu-toggle=\"tab\"])') ) {\r\n                for (var j = 0, cnt = items.length; j < cnt; j++) {\r\n                    Plugin.hideSubmenuDropdown(items[j], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KTMenu}\r\n         */\r\n        showSubmenuDropdown: function(item) {\r\n            // close active submenus\r\n            var list = element.querySelectorAll('.menu-item-submenu.menu-item-hover, .menu-item-submenu.menu-item-active-tab');\r\n\r\n            if ( list ) {\r\n                for (var i = 0, len = list.length; i < len; i++) {\r\n                    var el = list[i];\r\n                    if ( item !== el && el.contains(item) === false && item.contains(el) === false ) {\r\n                        Plugin.hideSubmenuDropdown(el, true);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // add submenu activation class\r\n            KTUtil.addClass(item, 'menu-item-hover');\r\n\r\n            // Change the alignment of submenu is offscreen.\r\n            var submenu = KTUtil.find(item, '.menu-submenu');\r\n\r\n            if (submenu && submenu.hasAttribute('data-hor-direction') === false) {\r\n                if (KTUtil.hasClass(submenu, 'menu-submenu-left')) {\r\n                    submenu.setAttribute('data-hor-direction', 'menu-submenu-left');\r\n                } else if (KTUtil.hasClass(submenu, 'menu-submenu-right')) {\r\n                    submenu.setAttribute('data-hor-direction', 'menu-submenu-right');\r\n                }\r\n            }\r\n\r\n            if ( submenu && KTUtil.isOffscreen(submenu, 'left', 15) === true ) {\r\n                KTUtil.removeClass(submenu, 'menu-submenu-left');\r\n                KTUtil.addClass(submenu, 'menu-submenu-right');\r\n            } else if ( submenu && KTUtil.isOffscreen(submenu, 'right', 15) === true ) {\r\n                KTUtil.removeClass(submenu, 'menu-submenu-right');\r\n                KTUtil.addClass(submenu, 'menu-submenu-left');\r\n            }\r\n\r\n            if ( item.getAttribute('data-menu-toggle-class') ) {\r\n                KTUtil.addClass(body, item.getAttribute('data-menu-toggle-class'));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu slide toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        createSubmenuDropdownClickDropoff: function(el) {\r\n            var query;\r\n            var zIndex = (query = KTUtil.child(el, '.menu-submenu') ? KTUtil.css(query, 'z-index') : 0) - 1;\r\n\r\n            var dropoff = document.createElement('<div class=\"menu-dropoff\" style=\"background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: ' + zIndex + '\"></div>');\r\n\r\n            body.appendChild(dropoff);\r\n\r\n            KTUtil.addEvent(dropoff, 'click', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                KTUtil.remove(this);\r\n                Plugin.hideSubmenuDropdown(el, true);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        pauseDropdownHover: function(time) {\r\n            var date = new Date();\r\n\r\n            the.pauseDropdownHoverTime = date.getTime() + time;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        resumeDropdownHover: function() {\r\n            var date = new Date();\r\n\r\n            return (date.getTime() > the.pauseDropdownHoverTime ? true : false);\r\n        },\r\n\r\n        /**\r\n         * Reset menu's current active item\r\n         * @returns {KTMenu}\r\n         */\r\n        resetActiveItem: function(item) {\r\n            var list;\r\n            var parents;\r\n\r\n            list = element.querySelectorAll('.menu-item-active');\r\n\r\n            for (var i = 0, len = list.length; i < len; i++) {\r\n                var el = list[0];\r\n                KTUtil.removeClass(el, 'menu-item-active');\r\n                KTUtil.hide( KTUtil.child(el, '.menu-submenu') );\r\n                parents = KTUtil.parents(el, '.menu-item-submenu') || [];\r\n\r\n                for (var i_ = 0, len_ = parents.length; i_ < len_; i_++) {\r\n                    var el_ = parents[i];\r\n                    KTUtil.removeClass(el_, 'menu-item-open');\r\n                    KTUtil.hide( KTUtil.child(el_, '.menu-submenu') );\r\n                }\r\n            }\r\n\r\n            // close open submenus\r\n            if ( the.options.accordion.expandAll === false ) {\r\n                if ( list = element.querySelectorAll('.menu-item-open') ) {\r\n                    for (var i = 0, len = list.length; i < len; i++) {\r\n                        KTUtil.removeClass(parents[0], 'menu-item-open');\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sets menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        setActiveItem: function(item) {\r\n            // reset current active item\r\n            Plugin.resetActiveItem();\r\n\r\n            var parents = KTUtil.parents(item, '.menu-item-submenu') || [];\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                KTUtil.addClass(parents[i], 'menu-item-open');\r\n            }\r\n\r\n            KTUtil.addClass(item, 'menu-item-active');\r\n        },\r\n\r\n        /**\r\n         * Returns page breadcrumbs for the menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        getBreadcrumbs: function(item) {\r\n            var query;\r\n            var breadcrumbs = [];\r\n            var link = KTUtil.child(item, '.menu-link');\r\n\r\n            breadcrumbs.push({\r\n                text: (query = KTUtil.child(link, '.menu-text') ? query.innerHTML : ''),\r\n                title: link.getAttribute('title'),\r\n                href: link.getAttribute('href')\r\n            });\r\n\r\n            var parents = KTUtil.parents(item, '.menu-item-submenu');\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                var submenuLink = KTUtil.child(parents[i], '.menu-link');\r\n\r\n                breadcrumbs.push({\r\n                    text: (query = KTUtil.child(submenuLink, '.menu-text') ? query.innerHTML : ''),\r\n                    title: submenuLink.getAttribute('title'),\r\n                    href: submenuLink.getAttribute('href')\r\n                });\r\n            }\r\n\r\n            return  breadcrumbs.reverse();\r\n        },\r\n\r\n        /**\r\n         * Returns page title for the menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        getPageTitle: function(item) {\r\n            var query;\r\n\r\n            return (query = KTUtil.child(item, '.menu-text') ? query.innerHTML : '');\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, target, e) {\r\n            for (var i = 0; i < the.events.length; i++ ) {\r\n                var event = the.events[i];\r\n                if ( event.name == name ) {\r\n                    if ( event.one == true ) {\r\n                        if ( event.fired == false ) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, target, e);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, target, e);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        },\r\n\r\n        removeEvent: function(name) {\r\n            if (the.events[name]) {\r\n                delete the.events[name];\r\n            }\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Update scroll\r\n     */\r\n    the.scrollUpdate = function() {\r\n        return Plugin.scrollUpdate();\r\n    };\r\n\r\n    /**\r\n     * Re-init scroll\r\n     */\r\n    the.scrollReInit = function() {\r\n        return Plugin.scrollInit();\r\n    };\r\n\r\n    /**\r\n     * Scroll top\r\n     */\r\n    the.scrollTop = function() {\r\n        return Plugin.scrollTop();\r\n    };\r\n\r\n    /**\r\n     * Set active menu item\r\n     */\r\n    the.setActiveItem = function(item) {\r\n        return Plugin.setActiveItem(item);\r\n    };\r\n\r\n    the.reload = function() {\r\n        return Plugin.reload();\r\n    };\r\n\r\n    the.update = function(options) {\r\n        return Plugin.update(options);\r\n    };\r\n\r\n    /**\r\n     * Set breadcrumb for menu item\r\n     */\r\n    the.getBreadcrumbs = function(item) {\r\n        return Plugin.getBreadcrumbs(item);\r\n    };\r\n\r\n    /**\r\n     * Set page title for menu item\r\n     */\r\n    the.getPageTitle = function(item) {\r\n        return Plugin.getPageTitle(item);\r\n    };\r\n\r\n    /**\r\n     * Get submenu mode\r\n     */\r\n    the.getSubmenuMode = function(el) {\r\n        return Plugin.getSubmenuMode(el);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdown\r\n     * @returns {Object}\r\n     */\r\n    the.hideDropdown = function(item) {\r\n        Plugin.hideSubmenuDropdown(item, true);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdowns\r\n     * @returns {Object}\r\n     */\r\n    the.hideDropdowns = function() {\r\n        Plugin.hideSubmenuDropdowns();\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {Object}\r\n     */\r\n    the.pauseDropdownHover = function(time) {\r\n        Plugin.pauseDropdownHover(time);\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {Object}\r\n     */\r\n    the.resumeDropdownHover = function() {\r\n        return Plugin.resumeDropdownHover();\r\n    };\r\n\r\n    /**\r\n     * Register event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    the.off = function(name) {\r\n        return Plugin.removeEvent(name);\r\n    };\r\n\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Handle plugin on window resize\r\n    KTUtil.addResizeHandler(function() {\r\n        if (init) {\r\n            the.reload();\r\n        }\r\n    });\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTMenu;\r\n}\r\n\r\n// Plugin global lazy initialization\r\ndocument.addEventListener(\"click\", function (e) {\r\n    var body = KTUtil.getByTagName('body')[0];\r\n    var query;\r\n    if ( query = body.querySelectorAll('.menu-nav .menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)[data-menu-toggle=\"click\"]') ) {\r\n        for (var i = 0, len = query.length; i < len; i++) {\r\n            var element = query[i].closest('.menu-nav').parentNode;\r\n\r\n            if ( element ) {\r\n                var the = KTUtil.data(element).get('menu');\r\n\r\n                if ( !the ) {\r\n                    break;\r\n                }\r\n\r\n                if ( !the || the.getSubmenuMode() !== 'dropdown' ) {\r\n                    break;\r\n                }\r\n\r\n                if ( e.target !== element && element.contains(e.target) === false ) {\r\n                    the.hideDropdowns();\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nexport default KTMenu;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./util\";\r\n\r\n// Component Definition\r\nvar KTToggle = function(toggleElement, targetElement, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = toggleElement;\r\n    var target = targetElement;\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        targetToggleMode: 'class' // class|attribute\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('toggle')) {\r\n                the = KTUtil.data(element).get('toggle');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('toggle', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subtoggle click toggle\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            // Merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            //alert(the.options.target.tagName);\r\n            the.target = target;\r\n\r\n            the.targetState = the.options.targetState;\r\n            the.toggleState = the.options.toggleState;\r\n\r\n            if (the.options.targetToggleMode == 'class') {\r\n                the.state = KTUtil.hasClasses(the.target, the.targetState) ? 'on' : 'off';\r\n            } else {\r\n                the.state = KTUtil.hasAttr(the.target, 'data-' + the.targetState) ? KTUtil.attr(the.target, 'data-' + the.targetState) : 'off';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Setup toggle\r\n         */\r\n        build: function() {\r\n            KTUtil.addEvent(element, 'mouseup', Plugin.toggle);\r\n        },\r\n\r\n        /**\r\n         * Handles offcanvas click toggle\r\n         */\r\n        toggle: function(e) {\r\n            Plugin.eventTrigger('beforeToggle');\r\n\r\n            if (the.state == 'off') {\r\n                Plugin.toggleOn();\r\n            } else {\r\n                Plugin.toggleOff();\r\n            }\r\n\r\n            Plugin.eventTrigger('afterToggle');\r\n\r\n            e.preventDefault();\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles toggle click toggle\r\n         */\r\n        toggleOn: function() {\r\n            Plugin.eventTrigger('beforeOn');\r\n\r\n            if (the.options.targetToggleMode == 'class') {\r\n                KTUtil.addClass(the.target, the.targetState);\r\n            } else {\r\n                KTUtil.attr(the.target, 'data-' + the.targetState, 'on');\r\n            }\r\n\r\n            if (the.toggleState) {\r\n                KTUtil.addClass(element, the.toggleState);\r\n            }\r\n\r\n            the.state = 'on';\r\n\r\n            Plugin.eventTrigger('afterOn');\r\n\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles toggle click toggle\r\n         */\r\n        toggleOff: function() {\r\n            Plugin.eventTrigger('beforeOff');\r\n\r\n            if (the.options.targetToggleMode == 'class') {\r\n                KTUtil.removeClass(the.target, the.targetState);\r\n            } else {\r\n                KTUtil.removeAttr(the.target, 'data-' + the.targetState);\r\n            }\r\n\r\n            if (the.toggleState) {\r\n                KTUtil.removeClass(element, the.toggleState);\r\n            }\r\n\r\n            the.state = 'off';\r\n\r\n            Plugin.eventTrigger('afterOff');\r\n\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Get toggle state\r\n     */\r\n    the.getState = function() {\r\n        return the.state;\r\n    };\r\n\r\n    /**\r\n     * Toggle\r\n     */\r\n    the.toggle = function() {\r\n        return Plugin.toggle();\r\n    };\r\n\r\n    /**\r\n     * Toggle on\r\n     */\r\n    the.toggleOn = function() {\r\n        return Plugin.toggleOn();\r\n    };\r\n\r\n    /**\r\n     * Toggle off\r\n     */\r\n    the.toggleOff = function() {\r\n        return Plugin.toggleOff();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     * @returns {KTToggle}\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     * @returns {KTToggle}\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTToggle;\r\n}\r\n\r\nexport default KTToggle;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport PerfectScrollbar from \"perfect-scrollbar\";\r\n\r\nimport { KTCookie } from \"./cookie.js\";\r\n\r\n/**\r\n * @class KTUtil  base utilize class that privides helper functions\r\n */\r\n\r\n// Polyfills\r\n/**\r\n * Element.matches() polyfill (simple version)\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\r\n */\r\nif (!Element.prototype.matches) {\r\n\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\r\n}\r\n\r\n/**\r\n * Element.closest() polyfill\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\r\n */\r\nif (!Element.prototype.closest) {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\r\n\t}\r\n\tElement.prototype.closest = function (s) {\r\n\t\tvar el = this;\r\n\t\tvar ancestor = this;\r\n\t\tif (!document.documentElement.contains(el)) return null;\r\n\t\tdo {\r\n\t\t\tif (ancestor.matches(s)) return ancestor;\r\n\t\t\tancestor = ancestor.parentElement;\r\n\t\t} while (ancestor !== null);\r\n\t\treturn null;\r\n\t};\r\n}\r\n\r\n/**\r\n * ChildNode.remove() polyfill\r\n * https://gomakethings.com/removing-an-element-from-the-dom-the-es6-way/\r\n * @author Chris Ferdinandi\r\n * @license MIT\r\n */\r\n(function (elem) {\r\n\tfor (var i = 0; i < elem.length; i++) {\r\n\t\tif (!window[elem[i]] || 'remove' in window[elem[i]].prototype) continue;\r\n\t\twindow[elem[i]].prototype.remove = function () {\r\n\t\t\tthis.parentNode.removeChild(this);\r\n\t\t};\r\n\t}\r\n})(['Element', 'CharacterData', 'DocumentType']);\r\n\r\n\r\n//\r\n// requestAnimationFrame polyfill by Erik Mller.\r\n//  With fixes from Paul Irish and Tino Zijdel\r\n//\r\n//  http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n//  http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n//\r\n//  MIT license\r\n//\r\n(function() {\r\n    var lastTime = 0;\r\n    var vendors = ['webkit', 'moz'];\r\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame =\r\n            window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n\r\n    if (!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function(callback) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = window.setTimeout(function() {\r\n                callback(currTime + timeToCall);\r\n            }, timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n\r\n    if (!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function(id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\n// Source: https://github.com/jserz/js_piece/blob/master/DOM/ParentNode/prepend()/prepend().md\r\n(function(arr) {\r\n    arr.forEach(function(item) {\r\n        if (item.hasOwnProperty('prepend')) {\r\n            return;\r\n        }\r\n        Object.defineProperty(item, 'prepend', {\r\n            configurable: true,\r\n            enumerable: true,\r\n            writable: true,\r\n            value: function prepend() {\r\n                var argArr = Array.prototype.slice.call(arguments),\r\n                    docFrag = document.createDocumentFragment();\r\n\r\n                argArr.forEach(function(argItem) {\r\n                    var isNode = argItem instanceof Node;\r\n                    docFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));\r\n                });\r\n\r\n                this.insertBefore(docFrag, this.firstChild);\r\n            }\r\n        });\r\n    });\r\n})([Element.prototype, Document.prototype, DocumentFragment.prototype]);\r\n\r\n// getAttributeNames\r\nif (Element.prototype.getAttributeNames == undefined) {\r\n  Element.prototype.getAttributeNames = function () {\r\n    var attributes = this.attributes;\r\n    var length = attributes.length;\r\n    var result = new Array(length);\r\n    for (var i = 0; i < length; i++) {\r\n      result[i] = attributes[i].name;\r\n    }\r\n    return result;\r\n  };\r\n}\r\n\r\n// Global variables\r\nwindow.KTUtilElementDataStore = {};\r\nwindow.KTUtilElementDataStoreID = 0;\r\nwindow.KTUtilDelegatedEventHandlers = {};\r\n\r\nexport var KTUtil = function() {\r\n    var resizeHandlers = [];\r\n\r\n    /** @type {object} breakpoints The device width breakpoints **/\r\n    var breakpoints = {\r\n        sm: 544, // Small screen / phone\r\n        md: 768, // Medium screen / tablet\r\n        lg: 992, // Large screen / desktop\r\n        xl: 1200 // Extra large screen / wide desktop\r\n    };\r\n\r\n    /**\r\n     * Handle window resize event with some\r\n     * delay to attach event handlers upon resize complete\r\n     */\r\n    var _windowResizeHandler = function() {\r\n        var _runResizeHandlers = function() {\r\n            // reinitialize other subscribed elements\r\n            for (var i = 0; i < resizeHandlers.length; i++) {\r\n                var each = resizeHandlers[i];\r\n                each.call();\r\n            }\r\n        };\r\n\r\n        var timer;\r\n\r\n        window.addEventListener('resize', function() {\r\n            KTUtil.throttle(timer, function() {\r\n                _runResizeHandlers();\r\n            }, 200);\r\n        });\r\n    };\r\n\r\n    return {\r\n        /**\r\n         * Class main initializer.\r\n         * @param {object} settings.\r\n         * @returns null\r\n         */\r\n        //main function to initiate the theme\r\n        init: function(settings) {\r\n            if (settings && settings.breakpoints) {\r\n                breakpoints = settings.breakpoints;\r\n            }\r\n\r\n            _windowResizeHandler();\r\n        },\r\n\r\n        /**\r\n         * Adds window resize event handler.\r\n         * @param {function} callback function.\r\n         */\r\n        addResizeHandler: function(callback) {\r\n            resizeHandlers.push(callback);\r\n        },\r\n\r\n        /**\r\n         * Removes window resize event handler.\r\n         * @param {function} callback function.\r\n         */\r\n        removeResizeHandler: function(callback) {\r\n            for (var i = 0; i < resizeHandlers.length; i++) {\r\n                if (callback === resizeHandlers[i]) {\r\n                    delete resizeHandlers[i];\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Trigger window resize handlers.\r\n         */\r\n        runResizeHandlers: function() {\r\n            _runResizeHandlers();\r\n        },\r\n\r\n        resize: function() {\r\n            if (typeof(Event) === 'function') {\r\n                // modern browsers\r\n                window.dispatchEvent(new Event('resize'));\r\n            } else {\r\n                // for IE and other old browsers\r\n                // causes deprecation warning on modern browsers\r\n                var evt = window.document.createEvent('UIEvents');\r\n                evt.initUIEvent('resize', true, false, window, 0);\r\n                window.dispatchEvent(evt);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get GET parameter value from URL.\r\n         * @param {string} paramName Parameter name.\r\n         * @returns {string}\r\n         */\r\n        getURLParam: function(paramName) {\r\n            var searchString = window.location.search.substring(1),\r\n                i, val, params = searchString.split(\"&\");\r\n\r\n            for (i = 0; i < params.length; i++) {\r\n                val = params[i].split(\"=\");\r\n                if (val[0] == paramName) {\r\n                    return unescape(val[1]);\r\n                }\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * Checks whether current device is mobile touch.\r\n         * @returns {boolean}\r\n         */\r\n        isMobileDevice: function() {\r\n            var test = (this.getViewPort().width < this.getBreakpoint('lg') ? true : false);\r\n\r\n            if (test === false) {\r\n                // For use within normal web clients\r\n                test = navigator.userAgent.match(/iPad/i) != null;\r\n            }\r\n\r\n            return test;\r\n        },\r\n\r\n        /**\r\n         * Checks whether current device is desktop.\r\n         * @returns {boolean}\r\n         */\r\n        isDesktopDevice: function() {\r\n            return KTUtil.isMobileDevice() ? false : true;\r\n        },\r\n\r\n        /**\r\n         * Gets browser window viewport size. Ref:\r\n         * http://andylangton.co.uk/articles/javascript/get-viewport-size-javascript/\r\n         * @returns {object}\r\n         */\r\n        getViewPort: function() {\r\n            var e = window,\r\n                a = 'inner';\r\n            if (!('innerWidth' in window)) {\r\n                a = 'client';\r\n                e = document.documentElement || document.body;\r\n            }\r\n\r\n            return {\r\n                width: e[a + 'Width'],\r\n                height: e[a + 'Height']\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Checks whether given device mode is currently activated.\r\n         * @param {string} mode Responsive mode name(e.g: desktop,\r\n         *     desktop-and-tablet, tablet, tablet-and-mobile, mobile)\r\n         * @returns {boolean}\r\n         */\r\n        isInResponsiveRange: function(mode) {\r\n            var breakpoint = this.getViewPort().width;\r\n\r\n            if (mode == 'general') {\r\n                return true;\r\n            } else if (mode == 'desktop' && breakpoint >= (this.getBreakpoint('lg') + 1)) {\r\n                return true;\r\n            } else if (mode == 'tablet' && (breakpoint >= (this.getBreakpoint('md') + 1) && breakpoint < this.getBreakpoint('lg'))) {\r\n                return true;\r\n            } else if (mode == 'mobile' && breakpoint <= this.getBreakpoint('md')) {\r\n                return true;\r\n            } else if (mode == 'desktop-and-tablet' && breakpoint >= (this.getBreakpoint('md') + 1)) {\r\n                return true;\r\n            } else if (mode == 'tablet-and-mobile' && breakpoint <= this.getBreakpoint('lg')) {\r\n                return true;\r\n            } else if (mode == 'minimal-desktop-and-below' && breakpoint <= this.getBreakpoint('xl')) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n\t\t/**\r\n         * Checks whether given device mode is currently activated.\r\n         * @param {string} mode Responsive mode name(e.g: desktop,\r\n         *     desktop-and-tablet, tablet, tablet-and-mobile, mobile)\r\n         * @returns {boolean}\r\n         */\r\n        isBreakpointUp: function(mode) {\r\n            var width = this.getViewPort().width;\r\n\t\t\tvar breakpoint = this.getBreakpoint(mode);\r\n\r\n\t\t\treturn (width >= breakpoint);\r\n        },\r\n\r\n\t\tisBreakpointDown: function(mode) {\r\n            var width = this.getViewPort().width;\r\n\t\t\tvar breakpoint = this.getBreakpoint(mode);\r\n\r\n\t\t\treturn (width < breakpoint);\r\n        },\r\n\r\n        /**\r\n         * Generates unique ID for give prefix.\r\n         * @param {string} prefix Prefix for generated ID\r\n         * @returns {boolean}\r\n         */\r\n        getUniqueID: function(prefix) {\r\n            return prefix + Math.floor(Math.random() * (new Date()).getTime());\r\n        },\r\n\r\n        /**\r\n         * Gets window width for give breakpoint mode.\r\n         * @param {string} mode Responsive mode name(e.g: xl, lg, md, sm)\r\n         * @returns {number}\r\n         */\r\n        getBreakpoint: function(mode) {\r\n            return breakpoints[mode];\r\n        },\r\n\r\n        /**\r\n         * Checks whether object has property matchs given key path.\r\n         * @param {object} obj Object contains values paired with given key path\r\n         * @param {string} keys Keys path seperated with dots\r\n         * @returns {object}\r\n         */\r\n        isset: function(obj, keys) {\r\n            var stone;\r\n\r\n            keys = keys || '';\r\n\r\n            if (keys.indexOf('[') !== -1) {\r\n                throw new Error('Unsupported object path notation.');\r\n            }\r\n\r\n            keys = keys.split('.');\r\n\r\n            do {\r\n                if (obj === undefined) {\r\n                    return false;\r\n                }\r\n\r\n                stone = keys.shift();\r\n\r\n                if (!obj.hasOwnProperty(stone)) {\r\n                    return false;\r\n                }\r\n\r\n                obj = obj[stone];\r\n\r\n            } while (keys.length);\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Gets highest z-index of the given element parents\r\n         * @param {object} el jQuery element object\r\n         * @returns {number}\r\n         */\r\n        getHighestZindex: function(el) {\r\n            var position, value;\r\n\r\n            while (el && el !== document) {\r\n                // Ignore z-index if position is set to a value where z-index is ignored by the browser\r\n                // This makes behavior of this function consistent across browsers\r\n                // WebKit always returns auto if the element is positioned\r\n                position = KTUtil.css(el, 'position');\r\n\r\n                if (position === \"absolute\" || position === \"relative\" || position === \"fixed\") {\r\n                    // IE returns 0 when zIndex is not specified\r\n                    // other browsers return a string\r\n                    // we ignore the case of nested elements with an explicit value of 0\r\n                    // <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\r\n                    value = parseInt(KTUtil.css(el, 'z-index'));\r\n\r\n                    if (!isNaN(value) && value !== 0) {\r\n                        return value;\r\n                    }\r\n                }\r\n\r\n                el = el.parentNode;\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * Checks whether the element has any parent with fixed positionfreg\r\n         * @param {object} el jQuery element object\r\n         * @returns {boolean}\r\n         */\r\n        hasFixedPositionedParent: function(el) {\r\n            var position;\r\n\r\n            while (el && el !== document) {\r\n                position = KTUtil.css(el, 'position');\r\n\r\n                if (position === \"fixed\") {\r\n                    return true;\r\n                }\r\n\r\n                el = el.parentNode;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Simulates delay\r\n         */\r\n        sleep: function(milliseconds) {\r\n            var start = new Date().getTime();\r\n            for (var i = 0; i < 1e7; i++) {\r\n                if ((new Date().getTime() - start) > milliseconds) {\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Gets randomly generated integer value within given min and max range\r\n         * @param {number} min Range start value\r\n         * @param {number} max Range end value\r\n         * @returns {number}\r\n         */\r\n        getRandomInt: function(min, max) {\r\n            return Math.floor(Math.random() * (max - min + 1)) + min;\r\n        },\r\n\r\n        /**\r\n         * Checks whether Angular library is included\r\n         * @returns {boolean}\r\n         */\r\n        isAngularVersion: function() {\r\n            return window.Zone !== undefined ? true : false;\r\n        },\r\n\r\n        // Deep extend:  $.extend(true, {}, objA, objB);\r\n        deepExtend: function(out) {\r\n            out = out || {};\r\n\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                var obj = arguments[i];\r\n                if (!obj) continue;\r\n\r\n                for (var key in obj) {\r\n                    if (!obj.hasOwnProperty(key)) {\r\n                        continue;\r\n                    }\r\n\r\n                    // based on https://javascriptweblog.wordpress.com/2011/08/08/fixing-the-javascript-typeof-operator/\r\n                    if ( Object.prototype.toString.call(obj[key]) === '[object Object]' ) {\r\n                        out[key] = KTUtil.deepExtend(out[key], obj[key]);\r\n                        continue;\r\n                    }\r\n\r\n                    out[key] = obj[key];\r\n                }\r\n            }\r\n\r\n            return out;\r\n        },\r\n\r\n        // extend:  $.extend({}, objA, objB);\r\n        extend: function(out) {\r\n            out = out || {};\r\n\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                if (!arguments[i])\r\n                    continue;\r\n\r\n                for (var key in arguments[i]) {\r\n                    if (arguments[i].hasOwnProperty(key))\r\n                        out[key] = arguments[i][key];\r\n                }\r\n            }\r\n\r\n            return out;\r\n        },\r\n\r\n        getById: function(el) {\r\n            if (typeof el === 'string') {\r\n                return document.getElementById(el);\r\n            } else {\r\n                return el;\r\n            }\r\n        },\r\n\r\n        getByTag: function(query) {\r\n            return document.getElementsByTagName(query);\r\n        },\r\n\r\n        getByTagName: function(query) {\r\n            return document.getElementsByTagName(query);\r\n        },\r\n\r\n        getByClass: function(query) {\r\n            return document.getElementsByClassName(query);\r\n        },\r\n\r\n        getBody: function() {\r\n            return document.getElementsByTagName('body')[0];\r\n        },\r\n\r\n        /**\r\n         * Checks whether the element has given classes\r\n         * @param {object} el jQuery element object\r\n         * @param {string} Classes string\r\n         * @returns {boolean}\r\n         */\r\n        hasClasses: function(el, classes) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            var classesArr = classes.split(\" \");\r\n\r\n            for (var i = 0; i < classesArr.length; i++) {\r\n                if (KTUtil.hasClass(el, KTUtil.trim(classesArr[i])) == false) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        hasClass: function(el, className) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            return el.classList ? el.classList.contains(className) : new RegExp('\\\\b' + className + '\\\\b').test(el.className);\r\n        },\r\n\r\n        addClass: function(el, className) {\r\n            if (!el || typeof className === 'undefined') {\r\n                return;\r\n            }\r\n\r\n            var classNames = className.split(' ');\r\n\r\n            if (el.classList) {\r\n                for (var i = 0; i < classNames.length; i++) {\r\n                    if (classNames[i] && classNames[i].length > 0) {\r\n                        el.classList.add(KTUtil.trim(classNames[i]));\r\n                    }\r\n                }\r\n            } else if (!KTUtil.hasClass(el, className)) {\r\n                for (var x = 0; x < classNames.length; x++) {\r\n                    el.className += ' ' + KTUtil.trim(classNames[x]);\r\n                }\r\n            }\r\n        },\r\n\r\n        removeClass: function(el, className) {\r\n          if (!el || typeof className === 'undefined') {\r\n                return;\r\n            }\r\n\r\n            var classNames = className.split(' ');\r\n\r\n            if (el.classList) {\r\n                for (var i = 0; i < classNames.length; i++) {\r\n                    el.classList.remove(KTUtil.trim(classNames[i]));\r\n                }\r\n            } else if (KTUtil.hasClass(el, className)) {\r\n                for (var x = 0; x < classNames.length; x++) {\r\n                    el.className = el.className.replace(new RegExp('\\\\b' + KTUtil.trim(classNames[x]) + '\\\\b', 'g'), '');\r\n                }\r\n            }\r\n        },\r\n\r\n        triggerCustomEvent: function(el, eventName, data) {\r\n            var event;\r\n            if (window.CustomEvent) {\r\n                event = new CustomEvent(eventName, {\r\n                    detail: data\r\n                });\r\n            } else {\r\n                event = document.createEvent('CustomEvent');\r\n                event.initCustomEvent(eventName, true, true, data);\r\n            }\r\n\r\n            el.dispatchEvent(event);\r\n        },\r\n\r\n        triggerEvent: function(node, eventName) {\r\n            // Make sure we use the ownerDocument from the provided node to avoid cross-window problems\r\n            var doc;\r\n            if (node.ownerDocument) {\r\n                doc = node.ownerDocument;\r\n            } else if (node.nodeType == 9) {\r\n                // the node may be the document itself, nodeType 9 = DOCUMENT_NODE\r\n                doc = node;\r\n            } else {\r\n                throw new Error(\"Invalid node passed to fireEvent: \" + node.id);\r\n            }\r\n\r\n            if (node.dispatchEvent) {\r\n                // Gecko-style approach (now the standard) takes more work\r\n                var eventClass = \"\";\r\n\r\n                // Different events have different event classes.\r\n                // If this switch statement can't map an eventName to an eventClass,\r\n                // the event firing is going to fail.\r\n                switch (eventName) {\r\n                case \"click\": // Dispatching of 'click' appears to not work correctly in Safari. Use 'mousedown' or 'mouseup' instead.\r\n                case \"mouseenter\":\r\n                case \"mouseleave\":\r\n                case \"mousedown\":\r\n                case \"mouseup\":\r\n                    eventClass = \"MouseEvents\";\r\n                    break;\r\n\r\n                case \"focus\":\r\n                case \"change\":\r\n                case \"blur\":\r\n                case \"select\":\r\n                    eventClass = \"HTMLEvents\";\r\n                    break;\r\n\r\n                default:\r\n                    throw \"fireEvent: Couldn't find an event class for event '\" + eventName + \"'.\";\r\n                    break;\r\n                }\r\n                var event = doc.createEvent(eventClass);\r\n\r\n                var bubbles = eventName == \"change\" ? false : true;\r\n                event.initEvent(eventName, bubbles, true); // All events created as bubbling and cancelable.\r\n\r\n                event.synthetic = true; // allow detection of synthetic events\r\n                // The second parameter says go ahead with the default action\r\n                node.dispatchEvent(event, true);\r\n            } else if (node.fireEvent) {\r\n                // IE-old school style\r\n                var event = doc.createEventObject();\r\n                event.synthetic = true; // allow detection of synthetic events\r\n                node.fireEvent(\"on\" + eventName, event);\r\n            }\r\n        },\r\n\r\n        index: function( el ){\r\n            var c = el.parentNode.children, i = 0;\r\n            for(; i < c.length; i++ )\r\n                if( c[i] == el ) return i;\r\n        },\r\n\r\n        trim: function(string) {\r\n            return string.trim();\r\n        },\r\n\r\n        eventTriggered: function(e) {\r\n            if (e.currentTarget.dataset.triggered) {\r\n                return true;\r\n            } else {\r\n                e.currentTarget.dataset.triggered = true;\r\n\r\n                return false;\r\n            }\r\n        },\r\n\r\n        remove: function(el) {\r\n            if (el && el.parentNode) {\r\n                el.parentNode.removeChild(el);\r\n            }\r\n        },\r\n\r\n        find: function(parent, query) {\r\n            parent = KTUtil.getById(parent);\r\n            if (parent) {\r\n                return parent.querySelector(query);\r\n            }\r\n        },\r\n\r\n        findAll: function(parent, query) {\r\n            parent = KTUtil.getById(parent);\r\n            if (parent) {\r\n                return parent.querySelectorAll(query);\r\n            }\r\n        },\r\n\r\n        insertAfter: function(el, referenceNode) {\r\n            return referenceNode.parentNode.insertBefore(el, referenceNode.nextSibling);\r\n        },\r\n\r\n        parents: function(elem, selector) {\r\n            // Element.matches() polyfill\r\n            if (!Element.prototype.matches) {\r\n                Element.prototype.matches =\r\n                    Element.prototype.matchesSelector ||\r\n                    Element.prototype.mozMatchesSelector ||\r\n                    Element.prototype.msMatchesSelector ||\r\n                    Element.prototype.oMatchesSelector ||\r\n                    Element.prototype.webkitMatchesSelector ||\r\n                    function(s) {\r\n                        var matches = (this.document || this.ownerDocument).querySelectorAll(s),\r\n                            i = matches.length;\r\n                        while (--i >= 0 && matches.item(i) !== this) {}\r\n                        return i > -1;\r\n                    };\r\n            }\r\n\r\n            // Set up a parent array\r\n            var parents = [];\r\n\r\n            // Push each parent element to the array\r\n            for ( ; elem && elem !== document; elem = elem.parentNode ) {\r\n                if (selector) {\r\n                    if (elem.matches(selector)) {\r\n                        parents.push(elem);\r\n                    }\r\n                    continue;\r\n                }\r\n                parents.push(elem);\r\n            }\r\n\r\n            // Return our parent array\r\n            return parents;\r\n        },\r\n\r\n        children: function(el, selector, log) {\r\n            if (!el || !el.childNodes) {\r\n                return;\r\n            }\r\n\r\n            var result = [],\r\n                i = 0,\r\n                l = el.childNodes.length;\r\n\r\n            for (var i; i < l; ++i) {\r\n                if (el.childNodes[i].nodeType == 1 && KTUtil.matches(el.childNodes[i], selector, log)) {\r\n                    result.push(el.childNodes[i]);\r\n                }\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        child: function(el, selector, log) {\r\n            var children = KTUtil.children(el, selector, log);\r\n\r\n            return children ? children[0] : null;\r\n        },\r\n\r\n        matches: function(el, selector, log) {\r\n            var p = Element.prototype;\r\n            var f = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || function(s) {\r\n                return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\r\n            };\r\n\r\n            if (el && el.tagName) {\r\n                return f.call(el, selector);\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        data: function(el) {\r\n            return {\r\n                set: function(name, data) {\r\n                    if (!el) {\r\n                        return;\r\n                    }\r\n\r\n                    if (el.customDataTag === undefined) {\r\n                        window.KTUtilElementDataStoreID++;\r\n                        el.customDataTag = window.KTUtilElementDataStoreID;\r\n                    }\r\n\r\n                    if (window.KTUtilElementDataStore[el.customDataTag] === undefined) {\r\n                        window.KTUtilElementDataStore[el.customDataTag] = {};\r\n                    }\r\n\r\n                    window.KTUtilElementDataStore[el.customDataTag][name] = data;\r\n                },\r\n\r\n                get: function(name) {\r\n                    if (!el) {\r\n                        return;\r\n                    }\r\n\r\n                    if (el.customDataTag === undefined) {\r\n                        return null;\r\n                    }\r\n\r\n                    return this.has(name) ? window.KTUtilElementDataStore[el.customDataTag][name] : null;\r\n                },\r\n\r\n                has: function(name) {\r\n                    if (!el) {\r\n                        return false;\r\n                    }\r\n\r\n                    if (el.customDataTag === undefined) {\r\n                        return false;\r\n                    }\r\n\r\n                    return (window.KTUtilElementDataStore[el.customDataTag] && window.KTUtilElementDataStore[el.customDataTag][name]) ? true : false;\r\n                },\r\n\r\n                remove: function(name) {\r\n                    if (el && this.has(name)) {\r\n                        delete window.KTUtilElementDataStore[el.customDataTag][name];\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n        outerWidth: function(el, margin) {\r\n            var width;\r\n\r\n            if (margin === true) {\r\n                width = parseFloat(el.offsetWidth);\r\n                width += parseFloat(KTUtil.css(el, 'margin-left')) + parseFloat(KTUtil.css(el, 'margin-right'));\r\n\r\n                return parseFloat(width);\r\n            } else {\r\n                width = parseFloat(el.offsetWidth);\r\n\r\n                return width;\r\n            }\r\n        },\r\n\r\n        offset: function(el) {\r\n            var rect, win;\r\n\r\n            if ( !el ) {\r\n                return;\r\n            }\r\n\r\n            // Return zeros for disconnected and hidden (display: none) elements (gh-2310)\r\n            // Support: IE <=11 only\r\n            // Running getBoundingClientRect on a\r\n            // disconnected node in IE throws an error\r\n\r\n            if ( !el.getClientRects().length ) {\r\n                return { top: 0, left: 0 };\r\n            }\r\n\r\n            // Get document-relative position by adding viewport scroll to viewport-relative gBCR\r\n            rect = el.getBoundingClientRect();\r\n            win = el.ownerDocument.defaultView;\r\n\r\n            return {\r\n                top: rect.top + win.pageYOffset,\r\n                left: rect.left + win.pageXOffset\r\n            };\r\n        },\r\n\r\n        height: function(el) {\r\n            return KTUtil.css(el, 'height');\r\n        },\r\n\r\n        outerHeight: function(el, withMargin) {\r\n            var height = el.offsetHeight;\r\n            var style;\r\n\r\n            if (typeof withMargin !== 'undefined' && withMargin === true) {\r\n                style = getComputedStyle(el);\r\n                height += parseInt(style.marginTop) + parseInt(style.marginBottom);\r\n\r\n                return height;\r\n            } else {\r\n                return height;\r\n            }\r\n        },\r\n\r\n        visible: function(el) {\r\n            return !(el.offsetWidth === 0 && el.offsetHeight === 0);\r\n        },\r\n\r\n        attr: function(el, name, value) {\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                el.setAttribute(name, value);\r\n            } else {\r\n                return el.getAttribute(name);\r\n            }\r\n        },\r\n\r\n        hasAttr: function(el, name) {\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            return el.getAttribute(name) ? true : false;\r\n        },\r\n\r\n        removeAttr: function(el, name) {\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            el.removeAttribute(name);\r\n        },\r\n\r\n        animate: function(from, to, duration, update, easing, done) {\r\n            /**\r\n             * TinyAnimate.easings\r\n             *  Adapted from jQuery Easing\r\n             */\r\n            var easings = {};\r\n            var easing;\r\n\r\n            easings.linear = function(t, b, c, d) {\r\n                return c * t / d + b;\r\n            };\r\n\r\n            easing = easings.linear;\r\n\r\n            // Early bail out if called incorrectly\r\n            if (typeof from !== 'number' ||\r\n                typeof to !== 'number' ||\r\n                typeof duration !== 'number' ||\r\n                typeof update !== 'function') {\r\n                return;\r\n            }\r\n\r\n            // Create mock done() function if necessary\r\n            if (typeof done !== 'function') {\r\n                done = function() {};\r\n            }\r\n\r\n            // Pick implementation (requestAnimationFrame | setTimeout)\r\n            var rAF = window.requestAnimationFrame || function(callback) {\r\n                window.setTimeout(callback, 1000 / 50);\r\n            };\r\n\r\n            // Animation loop\r\n            var canceled = false;\r\n            var change = to - from;\r\n\r\n            function loop(timestamp) {\r\n                var time = (timestamp || +new Date()) - start;\r\n\r\n                if (time >= 0) {\r\n                    update(easing(time, from, change, duration));\r\n                }\r\n                if (time >= 0 && time >= duration) {\r\n                    update(to);\r\n                    done();\r\n                } else {\r\n                    rAF(loop);\r\n                }\r\n            }\r\n\r\n            update(from);\r\n\r\n            // Start animation loop\r\n            var start = window.performance && window.performance.now ? window.performance.now() : +new Date();\r\n\r\n            rAF(loop);\r\n        },\r\n\r\n        actualCss: function(el, prop, cache) {\r\n            var css = '';\r\n\r\n            if (el instanceof HTMLElement === false) {\r\n                return;\r\n            }\r\n\r\n            if (!el.getAttribute('kt-hidden-' + prop) || cache === false) {\r\n                var value;\r\n\r\n                // the element is hidden so:\r\n                // making the el block so we can meassure its height but still be hidden\r\n                css = el.style.cssText;\r\n                el.style.cssText = 'position: absolute; visibility: hidden; display: block;';\r\n\r\n                if (prop == 'width') {\r\n                    value = el.offsetWidth;\r\n                } else if (prop == 'height') {\r\n                    value = el.offsetHeight;\r\n                }\r\n\r\n                el.style.cssText = css;\r\n\r\n                // store it in cache\r\n                el.setAttribute('kt-hidden-' + prop, value);\r\n\r\n                return parseFloat(value);\r\n            } else {\r\n                // store it in cache\r\n                return parseFloat(el.getAttribute('kt-hidden-' + prop));\r\n            }\r\n        },\r\n\r\n        actualHeight: function(el, cache) {\r\n            return KTUtil.actualCss(el, 'height', cache);\r\n        },\r\n\r\n        actualWidth: function(el, cache) {\r\n            return KTUtil.actualCss(el, 'width', cache);\r\n        },\r\n\r\n        getScroll: function(element, method) {\r\n            // The passed in `method` value should be 'Top' or 'Left'\r\n            method = 'scroll' + method;\r\n            return (element == window || element == document) ? (\r\n                self[(method == 'scrollTop') ? 'pageYOffset' : 'pageXOffset'] ||\r\n                (browserSupportsBoxModel && document.documentElement[method]) ||\r\n                document.body[method]\r\n            ) : element[method];\r\n        },\r\n\r\n        css: function(el, styleProp, value) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                el.style[styleProp] = value;\r\n            } else {\r\n                var defaultView = (el.ownerDocument || document).defaultView;\r\n                // W3C standard way:\r\n                if (defaultView && defaultView.getComputedStyle) {\r\n                    // sanitize property name to css notation\r\n                    // (hyphen separated words eg. font-Size)\r\n                    styleProp = styleProp.replace(/([A-Z])/g, \"-$1\").toLowerCase();\r\n                    return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\r\n                } else if (el.currentStyle) { // IE\r\n                    // sanitize property name to camelCase\r\n                    styleProp = styleProp.replace(/\\-(\\w)/g, function(str, letter) {\r\n                        return letter.toUpperCase();\r\n                    });\r\n                    value = el.currentStyle[styleProp];\r\n                    // convert other units to pixels on IE\r\n                    if (/^\\d+(em|pt|%|ex)?$/i.test(value)) {\r\n                        return (function(value) {\r\n                            var oldLeft = el.style.left,\r\n                                oldRsLeft = el.runtimeStyle.left;\r\n                            el.runtimeStyle.left = el.currentStyle.left;\r\n                            el.style.left = value || 0;\r\n                            value = el.style.pixelLeft + \"px\";\r\n                            el.style.left = oldLeft;\r\n                            el.runtimeStyle.left = oldRsLeft;\r\n                            return value;\r\n                        })(value);\r\n                    }\r\n                    return value;\r\n                }\r\n            }\r\n        },\r\n\r\n        slide: function(el, dir, speed, callback, recalcMaxHeight) {\r\n            if (!el || (dir == 'up' && KTUtil.visible(el) === false) || (dir == 'down' && KTUtil.visible(el) === true)) {\r\n                return;\r\n            }\r\n\r\n            speed = (speed ? speed : 600);\r\n            var calcHeight = KTUtil.actualHeight(el);\r\n            var calcPaddingTop = false;\r\n            var calcPaddingBottom = false;\r\n\r\n            if (KTUtil.css(el, 'padding-top') && KTUtil.data(el).has('slide-padding-top') !== true) {\r\n                KTUtil.data(el).set('slide-padding-top', KTUtil.css(el, 'padding-top'));\r\n            }\r\n\r\n            if (KTUtil.css(el, 'padding-bottom') && KTUtil.data(el).has('slide-padding-bottom') !== true) {\r\n                KTUtil.data(el).set('slide-padding-bottom', KTUtil.css(el, 'padding-bottom'));\r\n            }\r\n\r\n            if (KTUtil.data(el).has('slide-padding-top')) {\r\n                calcPaddingTop = parseInt(KTUtil.data(el).get('slide-padding-top'));\r\n            }\r\n\r\n            if (KTUtil.data(el).has('slide-padding-bottom')) {\r\n                calcPaddingBottom = parseInt(KTUtil.data(el).get('slide-padding-bottom'));\r\n            }\r\n\r\n            if (dir == 'up') { // up\r\n                el.style.cssText = 'display: block; overflow: hidden;';\r\n\r\n                if (calcPaddingTop) {\r\n                    KTUtil.animate(0, calcPaddingTop, speed, function(value) {\r\n                        el.style.paddingTop = (calcPaddingTop - value) + 'px';\r\n                    }, 'linear');\r\n                }\r\n\r\n                if (calcPaddingBottom) {\r\n                    KTUtil.animate(0, calcPaddingBottom, speed, function(value) {\r\n                        el.style.paddingBottom = (calcPaddingBottom - value) + 'px';\r\n                    }, 'linear');\r\n                }\r\n\r\n                KTUtil.animate(0, calcHeight, speed, function(value) {\r\n                    el.style.height = (calcHeight - value) + 'px';\r\n                }, 'linear', function() {\r\n                    el.style.height = '';\r\n                    el.style.display = 'none';\r\n\r\n                    if (typeof callback === 'function') {\r\n                        callback();\r\n                    }\r\n                });\r\n\r\n\r\n            } else if (dir == 'down') { // down\r\n                el.style.cssText = 'display: block; overflow: hidden;';\r\n\r\n                if (calcPaddingTop) {\r\n                    KTUtil.animate(0, calcPaddingTop, speed, function(value) {//\r\n                        el.style.paddingTop = value + 'px';\r\n                    }, 'linear', function() {\r\n                        el.style.paddingTop = '';\r\n                    });\r\n                }\r\n\r\n                if (calcPaddingBottom) {\r\n                    KTUtil.animate(0, calcPaddingBottom, speed, function(value) {\r\n                        el.style.paddingBottom = value + 'px';\r\n                    }, 'linear', function() {\r\n                        el.style.paddingBottom = '';\r\n                    });\r\n                }\r\n\r\n                KTUtil.animate(0, calcHeight, speed, function(value) {\r\n                    el.style.height = value + 'px';\r\n                }, 'linear', function() {\r\n                    el.style.height = '';\r\n                    el.style.display = '';\r\n                    el.style.overflow = '';\r\n\r\n                    if (typeof callback === 'function') {\r\n                        callback();\r\n                    }\r\n                });\r\n            }\r\n        },\r\n\r\n        slideUp: function(el, speed, callback) {\r\n            KTUtil.slide(el, 'up', speed, callback);\r\n        },\r\n\r\n        slideDown: function(el, speed, callback) {\r\n            KTUtil.slide(el, 'down', speed, callback);\r\n        },\r\n\r\n        show: function(el, display) {\r\n            if (typeof el !== 'undefined') {\r\n                el.style.display = (display ? display : 'block');\r\n            }\r\n        },\r\n\r\n        hide: function(el) {\r\n            if (typeof el !== 'undefined') {\r\n                el.style.display = 'none';\r\n            }\r\n        },\r\n\r\n        addEvent: function(el, type, handler, one) {\r\n            if (typeof el !== 'undefined' && el !== null) {\r\n                el.addEventListener(type, handler);\r\n            }\r\n        },\r\n\r\n        removeEvent: function(el, type, handler) {\r\n            if (el !== null) {\r\n                el.removeEventListener(type, handler);\r\n            }\r\n        },\r\n\r\n        on: function(element, selector, event, handler) {\r\n            if (!selector) {\r\n                return;\r\n            }\r\n\r\n            var eventId = KTUtil.getUniqueID('event');\r\n\r\n            window.KTUtilDelegatedEventHandlers[eventId] = function(e) {\r\n                var targets = element.querySelectorAll(selector);\r\n                var target = e.target;\r\n\r\n                while (target && target !== element) {\r\n                    for (var i = 0, j = targets.length; i < j; i++) {\r\n                        if (target === targets[i]) {\r\n                            handler.call(target, e);\r\n                        }\r\n                    }\r\n\r\n                    target = target.parentNode;\r\n                }\r\n            }\r\n\r\n            KTUtil.addEvent(element, event, window.KTUtilDelegatedEventHandlers[eventId]);\r\n\r\n            return eventId;\r\n        },\r\n\r\n        off: function(element, event, eventId) {\r\n            if (!element || !window.KTUtilDelegatedEventHandlers[eventId]) {\r\n                return;\r\n            }\r\n\r\n            KTUtil.removeEvent(element, event, window.KTUtilDelegatedEventHandlers[eventId]);\r\n\r\n            delete window.KTUtilDelegatedEventHandlers[eventId];\r\n        },\r\n\r\n        one: function onetime(el, type, callback) {\r\n            el.addEventListener(type, function callee(e) {\r\n                // remove event\r\n                if (e.target && e.target.removeEventListener) {\r\n                    e.target.removeEventListener(e.type, callee);\r\n                }\r\n\r\n                // need to verify from https://themeforest.net/author_dashboard#comment_23615588\r\n                if (el && el.removeEventListener) {\r\n\t\t\t\t    e.currentTarget.removeEventListener(e.type, callee);\r\n\t\t\t    }\r\n\r\n                // call handler\r\n                return callback(e);\r\n            });\r\n        },\r\n\r\n        hash: function(str) {\r\n            var hash = 0,\r\n                i, chr;\r\n\r\n            if (str.length === 0) return hash;\r\n            for (i = 0; i < str.length; i++) {\r\n                chr = str.charCodeAt(i);\r\n                hash = ((hash << 5) - hash) + chr;\r\n                hash |= 0; // Convert to 32bit integer\r\n            }\r\n\r\n            return hash;\r\n        },\r\n\r\n        animateClass: function(el, animationName, callback) {\r\n            var animation;\r\n            var animations = {\r\n                animation: 'animationend',\r\n                OAnimation: 'oAnimationEnd',\r\n                MozAnimation: 'mozAnimationEnd',\r\n                WebkitAnimation: 'webkitAnimationEnd',\r\n                msAnimation: 'msAnimationEnd',\r\n            };\r\n\r\n            for (var t in animations) {\r\n                if (el.style[t] !== undefined) {\r\n                    animation = animations[t];\r\n                }\r\n            }\r\n\r\n            KTUtil.addClass(el, 'animated ' + animationName);\r\n\r\n            KTUtil.one(el, animation, function() {\r\n                KTUtil.removeClass(el, 'animated ' + animationName);\r\n            });\r\n\r\n            if (callback) {\r\n                KTUtil.one(el, animation, callback);\r\n            }\r\n        },\r\n\r\n        transitionEnd: function(el, callback) {\r\n            var transition;\r\n            var transitions = {\r\n                transition: 'transitionend',\r\n                OTransition: 'oTransitionEnd',\r\n                MozTransition: 'mozTransitionEnd',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                msTransition: 'msTransitionEnd'\r\n            };\r\n\r\n            for (var t in transitions) {\r\n                if (el.style[t] !== undefined) {\r\n                    transition = transitions[t];\r\n                }\r\n            }\r\n\r\n            KTUtil.one(el, transition, callback);\r\n        },\r\n\r\n        animationEnd: function(el, callback) {\r\n            var animation;\r\n            var animations = {\r\n                animation: 'animationend',\r\n                OAnimation: 'oAnimationEnd',\r\n                MozAnimation: 'mozAnimationEnd',\r\n                WebkitAnimation: 'webkitAnimationEnd',\r\n                msAnimation: 'msAnimationEnd'\r\n            };\r\n\r\n            for (var t in animations) {\r\n                if (el.style[t] !== undefined) {\r\n                    animation = animations[t];\r\n                }\r\n            }\r\n\r\n            KTUtil.one(el, animation, callback);\r\n        },\r\n\r\n        animateDelay: function(el, value) {\r\n            var vendors = ['webkit-', 'moz-', 'ms-', 'o-', ''];\r\n            for (var i = 0; i < vendors.length; i++) {\r\n                KTUtil.css(el, vendors[i] + 'animation-delay', value);\r\n            }\r\n        },\r\n\r\n        animateDuration: function(el, value) {\r\n            var vendors = ['webkit-', 'moz-', 'ms-', 'o-', ''];\r\n            for (var i = 0; i < vendors.length; i++) {\r\n                KTUtil.css(el, vendors[i] + 'animation-duration', value);\r\n            }\r\n        },\r\n\r\n        scrollTo: function(target, offset, duration) {\r\n            var duration = duration ? duration : 500;\r\n            var targetPos = target ? KTUtil.offset(target).top : 0;\r\n            var scrollPos = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\r\n            var from, to;\r\n\r\n            if (offset) {\r\n                scrollPos += offset;\r\n            }\r\n\r\n            from = scrollPos;\r\n            to = targetPos;\r\n\r\n            KTUtil.animate(from, to, duration, function(value) {\r\n                document.documentElement.scrollTop = value;\r\n                document.body.parentNode.scrollTop = value;\r\n                document.body.scrollTop = value;\r\n            }); //, easing, done\r\n        },\r\n\r\n        scrollTop: function(offset, duration) {\r\n            KTUtil.scrollTo(null, offset, duration);\r\n        },\r\n\r\n        isArray: function(obj) {\r\n            return obj && Array.isArray(obj);\r\n        },\r\n\r\n        ready: function(callback) {\r\n            if (document.attachEvent ? document.readyState === \"complete\" : document.readyState !== \"loading\") {\r\n                callback();\r\n            } else {\r\n                document.addEventListener('DOMContentLoaded', callback);\r\n            }\r\n        },\r\n\r\n        isEmpty: function(obj) {\r\n            for (var prop in obj) {\r\n                if (obj.hasOwnProperty(prop)) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        numberString: function(nStr) {\r\n            nStr += '';\r\n            var x = nStr.split('.');\r\n            var x1 = x[0];\r\n            var x2 = x.length > 1 ? '.' + x[1] : '';\r\n            var rgx = /(\\d+)(\\d{3})/;\r\n            while (rgx.test(x1)) {\r\n                x1 = x1.replace(rgx, '$1' + ',' + '$2');\r\n            }\r\n            return x1 + x2;\r\n        },\r\n\r\n        detectIE: function() {\r\n            var ua = window.navigator.userAgent;\r\n\r\n            // Test values; Uncomment to check result \r\n\r\n            // IE 10\r\n            // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\r\n\r\n            // IE 11\r\n            // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\r\n\r\n            // Edge 12 (Spartan)\r\n            // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\r\n\r\n            // Edge 13\r\n            // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\r\n\r\n            var msie = ua.indexOf('MSIE ');\r\n            if (msie > 0) {\r\n                // IE 10 or older => return version number\r\n                return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n            }\r\n\r\n            var trident = ua.indexOf('Trident/');\r\n            if (trident > 0) {\r\n                // IE 11 => return version number\r\n                var rv = ua.indexOf('rv:');\r\n                return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\r\n            }\r\n\r\n            var edge = ua.indexOf('Edge/');\r\n            if (edge > 0) {\r\n                // Edge (IE 12+) => return version number\r\n                return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\r\n            }\r\n\r\n            // other browser\r\n            return false;\r\n        },\r\n\r\n        isRTL: function() {\r\n            var html = KTUtil.getByTagName('html')[0];\r\n\r\n            if (html) {\r\n                return (KTUtil.attr(html, 'direction') == 'rtl');\r\n            }\r\n        },\r\n\r\n        // Scroller\r\n        scrollInit: function(element, options) {\r\n            if (!element) {\r\n                return;\r\n            }\r\n\r\n            // Learn more: https://github.com/mdbootstrap/perfect-scrollbar#options\r\n            var pluginDefOptions = {\r\n                wheelSpeed: 0.5,\r\n                swipeEasing: true,\r\n                wheelPropagation: false,\r\n                minScrollbarLength: 40,\r\n                maxScrollbarLength: 300,\r\n                suppressScrollX: true\r\n            };\r\n\r\n            options = KTUtil.deepExtend({}, pluginDefOptions, options);\r\n\r\n            // Define init function\r\n            function init() {\r\n                var ps;\r\n                var height;\r\n\r\n                // Get extra options via data attributes\r\n                var attrs = element.getAttributeNames();\r\n                if (attrs.length > 0) {\r\n                    attrs.forEach(function(attrName) {\r\n            \t\t\t// more options; https://github.com/ganlanyuan/tiny-slider#options\r\n            \t\t\tif ((/^data-.*/g).test(attrName)) {\r\n                            if (['scroll', 'height', 'mobile-height'].includes(optionName) == false) {\r\n                                var optionName = attrName.replace('data-', '').toLowerCase().replace(/(?:[\\s-])\\w/g, function(match) {\r\n                \t\t\t\t\treturn match.replace('-', '').toUpperCase();\r\n                \t\t\t\t});\r\n\r\n                                options[optionName] = KTUtil.filterBoolean(element.getAttribute(attrName));\r\n                            }\r\n            \t\t\t}\r\n            \t\t});\r\n                }\r\n\r\n                if (options.height instanceof Function) {\r\n                    height = options.height.call();\r\n                } else {\r\n                    if (KTUtil.isMobileDevice() === true && options.mobileHeight) {\r\n                        height = parseInt(options.mobileHeight);\r\n                    } else if (options.height) {\r\n                        height = parseInt(options.height);\r\n                    } else {\r\n                        height = parseInt(KTUtil.css(element, 'height'));\r\n                    }\r\n                }\r\n\r\n                if (height === false) {\r\n                    KTUtil.scrollDestroy(element, true);\r\n\r\n                    return;\r\n                }\r\n\r\n                height = parseInt(height);\r\n\r\n                // Destroy scroll on table and mobile modes\r\n                if ((options.mobileNativeScroll || options.disableForMobile) && KTUtil.isMobileDevice() === true) {\r\n                    ps = KTUtil.data(element).get('ps');\r\n                    if (ps) {\r\n                        if (options.resetHeightOnDestroy) {\r\n                            KTUtil.css(element, 'height', 'auto');\r\n                        } else {\r\n                            KTUtil.css(element, 'overflow', 'auto');\r\n                            if (height > 0) {\r\n                                KTUtil.css(element, 'height', height + 'px');\r\n                            }\r\n                        }\r\n\r\n                        ps.destroy();\r\n                        ps = KTUtil.data(element).remove('ps');\r\n                    } else if (height > 0){\r\n                        KTUtil.css(element, 'overflow', 'auto');\r\n                        KTUtil.css(element, 'height', height + 'px');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                if (height > 0) {\r\n                    KTUtil.css(element, 'height', height + 'px');\r\n                }\r\n\r\n                if (options.desktopNativeScroll) {\r\n                    KTUtil.css(element, 'overflow', 'auto');\r\n                    return;\r\n                }\r\n\r\n                // Pass options via HTML Attributes\r\n                if (KTUtil.attr(element, 'data-window-scroll') == 'true') {\r\n                     options.windowScroll = true;\r\n                }\r\n\r\n                // Init scroll\r\n                ps = KTUtil.data(element).get('ps');\r\n\r\n                if (ps) {\r\n                    ps.update();\r\n                } else {\r\n                    KTUtil.css(element, 'overflow', 'hidden');\r\n                    KTUtil.addClass(element, 'scroll');\r\n\r\n                    ps = new PerfectScrollbar(element, options);\r\n\r\n                    KTUtil.data(element).set('ps', ps);\r\n                }\r\n\r\n                // Remember scroll position in cookie\r\n                var uid = KTUtil.attr(element, 'id');\r\n                try {\r\n                  if (uid) {\r\n                    var cookie = KTCookie.getCookie(uid);\r\n                    if (options.rememberPosition === true && cookie) {\r\n                      var pos = parseInt(cookie);\r\n                      if (pos > 0) {\r\n                          element.scrollTop = pos;\r\n                      }\r\n                      element.addEventListener('ps-scroll-y', function() {\r\n                          KTCookie.setCookie(uid, element.scrollTop, {});\r\n                      });\r\n                    }\r\n                  }\r\n                }\r\n                catch (e) {\r\n                    console.error(e);\r\n                }\r\n\r\n                // Todo:Consider using Localstorage\r\n                if (options.rememberPosition === true && KTCookie && uid) {\r\n                    if (KTCookie.getCookie(uid)) {\r\n                        var pos = parseInt(KTCookie.getCookie(uid));\r\n\r\n                        if (pos > 0) {\r\n                            element.scrollTop = pos;\r\n                        }\r\n                    }\r\n\r\n                    element.addEventListener('ps-scroll-y', function() {\r\n                        KTCookie.setCookie(uid, element.scrollTop);\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Init\r\n            init();\r\n\r\n            // Handle window resize\r\n            if (options.handleWindowResize) {\r\n                KTUtil.addResizeHandler(function() {\r\n                    init();\r\n                });\r\n            }\r\n        },\r\n\r\n        scrollUpdate: function(element) {\r\n            var ps = KTUtil.data(element).get('ps');\r\n            if (ps) {\r\n                ps.update();\r\n            }\r\n        },\r\n\r\n        scrollUpdateAll: function(parent) {\r\n            var scrollers = KTUtil.findAll(parent, '.ps');\r\n            for (var i = 0, len = scrollers.length; i < len; i++) {\r\n                KTUtil.scrollUpdate(scrollers[i]);\r\n            }\r\n        },\r\n\r\n        scrollDestroy: function(element, resetAll) {\r\n            var ps = KTUtil.data(element).get('ps');\r\n\r\n            if (ps) {\r\n                ps.destroy();\r\n                ps = KTUtil.data(element).remove('ps');\r\n            }\r\n\r\n            if (element && resetAll) {\r\n                element.style.setProperty('overflow', '');\r\n                element.style.setProperty('height', '');\r\n            }\r\n        },\r\n\r\n        filterBoolean: function(val) {\r\n            // Convert string boolean\r\n\t\t\tif (val === true || val === 'true') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif (val === false || val === 'false') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n            return val;\r\n        },\r\n\r\n        setHTML: function(el, html) {\r\n            el.innerHTML = html;\r\n        },\r\n\r\n        getHTML: function(el) {\r\n            if (el) {\r\n                return el.innerHTML;\r\n            }\r\n        },\r\n\r\n        getDocumentHeight: function() {\r\n            var body = document.body;\r\n            var html = document.documentElement;\r\n\r\n            return Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight );\r\n        },\r\n\r\n        getScrollTop: function() {\r\n            return  (document.scrollingElement || document.documentElement).scrollTop;\r\n        },\r\n\r\n        changeColor: function(col, amt) {\r\n\r\n            var usePound = false;\r\n\r\n            if (col[0] == \"#\") {\r\n                col = col.slice(1);\r\n                usePound = true;\r\n            }\r\n\r\n            var num = parseInt(col,16);\r\n\r\n            var r = (num >> 16) + amt;\r\n\r\n            if (r > 255) r = 255;\r\n            else if  (r < 0) r = 0;\r\n\r\n            var b = ((num >> 8) & 0x00FF) + amt;\r\n\r\n            if (b > 255) b = 255;\r\n            else if  (b < 0) b = 0;\r\n\r\n            var g = (num & 0x0000FF) + amt;\r\n\r\n            if (g > 255) g = 255;\r\n            else if (g < 0) g = 0;\r\n\r\n            return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\r\n\r\n        },\r\n\r\n        // Throttle function: Input as function which needs to be throttled and delay is the time interval in milliseconds\r\n        throttle:  function (timer, func, delay) {\r\n        \t// If setTimeout is already scheduled, no need to do anything\r\n        \tif (timer) {\r\n        \t\treturn;\r\n        \t}\r\n\r\n        \t// Schedule a setTimeout after delay seconds\r\n        \ttimer  =  setTimeout(function () {\r\n        \t\tfunc();\r\n\r\n        \t\t// Once setTimeout function execution is finished, timerId = undefined so that in <br>\r\n        \t\t// the next scroll event function execution can be scheduled by the setTimeout\r\n        \t\ttimer  =  undefined;\r\n        \t}, delay);\r\n        },\r\n\r\n        // Debounce function: Input as function which needs to be debounced and delay is the debounced time in milliseconds\r\n        debounce: function (timer, func, delay) {\r\n        \t// Cancels the setTimeout method execution\r\n        \tclearTimeout(timer)\r\n\r\n        \t// Executes the func after delay time.\r\n        \ttimer  =  setTimeout(func, delay);\r\n        },\r\n\r\n        btnWait: function(el, cls, message, disable) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            if (typeof disable !== 'undefined' && disable === true) {\r\n                KTUtil.attr(el, \"disabled\", true);\r\n            }\r\n\r\n            if (cls) {\r\n                KTUtil.addClass(el, cls);\r\n                KTUtil.attr(el, \"wait-class\", cls);\r\n            }\r\n\r\n            if (message) {\r\n                var caption = KTUtil.find(el, '.btn-caption');\r\n\r\n                if (caption) {\r\n                    KTUtil.data(caption).set('caption', KTUtil.getHTML(caption));\r\n                    KTUtil.setHTML(caption, message);\r\n                } else {\r\n                    KTUtil.data(el).set('caption', KTUtil.getHTML(el));\r\n                    KTUtil.setHTML(el, message);\r\n                }\r\n            }\r\n        },\r\n\r\n        btnRelease: function(el) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            /// Show loading state on button\r\n            KTUtil.removeAttr(el, \"disabled\");\r\n\r\n            if (KTUtil.hasAttr(el, \"wait-class\")) {\r\n                KTUtil.removeClass(el, KTUtil.attr(el, \"wait-class\"));\r\n            }\r\n\r\n            var caption = KTUtil.find(el, '.btn-caption');\r\n\r\n            if (caption && KTUtil.data(caption).has('caption')) {\r\n                KTUtil.setHTML(caption, KTUtil.data(caption).get('caption'));\r\n            } else if (KTUtil.data(el).has('caption')) {\r\n                KTUtil.setHTML(el, KTUtil.data(el).get('caption'));\r\n            }\r\n        },\r\n\r\n        isOffscreen: function(el, direction, offset) {\r\n            offset = offset || 0;\r\n\r\n            var windowWidth = KTUtil.getViewPort().width;\r\n            var windowHeight = KTUtil.getViewPort().height;\r\n\r\n            var top = KTUtil.offset(el).top;\r\n            var height = KTUtil.outerHeight(el) + offset;\r\n            var left = KTUtil.offset(el).left;\r\n            var width = KTUtil.outerWidth(el) + offset;\r\n\r\n            if (direction == 'bottom') {\r\n                if (windowHeight < top + height) {\r\n                    return true;\r\n                } else if (windowHeight > top + height * 1.5) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            if (direction == 'top') {\r\n                if (top < 0) {\r\n                    return true;\r\n                } else if (top > height) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            if (direction == 'left') {\r\n                if (left < 0) {\r\n                    return true;\r\n                } else if (left * 2 > width) {\r\n                    //console.log('left 2');\r\n                    //return true;\r\n                }\r\n            }\r\n\r\n            if (direction == 'right') {\r\n                if (windowWidth < left + width) {\r\n                    return true;\r\n                } else {\r\n                    //console.log('right 2');\r\n                    //return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n    }\r\n}();\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTUtil;\r\n}\r\n\r\n// Initialize KTUtil class on document ready\r\nKTUtil.ready(function() {\r\n\tif (typeof KTAppSettings !== 'undefined') {\r\n\t\tKTUtil.init(KTAppSettings);\r\n\t} else {\r\n\t\tKTUtil.init();\r\n\t}\r\n});\r\n\r\n// CSS3 Transitions only after page load(.page-loading class added to body tag and remove with JS on page load)\r\nwindow.onload = function() {\r\n    var result = KTUtil.getByTagName('body');\r\n    if (result && result[0]) {\r\n        KTUtil.removeClass(result[0], 'page-loading');\r\n    }\r\n}\r\n","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./util\";\r\n\r\n// Component Definition\r\nvar KTCard = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.getById(elementId);\r\n    var body = KTUtil.getBody();\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        toggleSpeed: 400,\r\n        sticky: {\r\n            releseOnReverse: false,\r\n            offset: 300,\r\n            zIndex: 101\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('card')) {\r\n                the = KTUtil.data(element).get('card');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('card', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Init card\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n            the.header = KTUtil.child(element, '.card-header');\r\n            the.footer = KTUtil.child(element, '.card-footer');\r\n\r\n            if (KTUtil.child(element, '.card-body')) {\r\n                the.body = KTUtil.child(element, '.card-body');\r\n            } else if (KTUtil.child(element, '.form')) {\r\n                the.body = KTUtil.child(element, '.form');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Build Form Wizard\r\n         */\r\n        build: function() {\r\n            // Remove\r\n            var remove = KTUtil.find(the.header, '[data-card-tool=remove]');\r\n            if (remove) {\r\n                KTUtil.addEvent(remove, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.remove();\r\n                });\r\n            }\r\n\r\n            // Reload\r\n            var reload = KTUtil.find(the.header, '[data-card-tool=reload]');\r\n            if (reload) {\r\n                KTUtil.addEvent(reload, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.reload();\r\n                });\r\n            }\r\n\r\n            // Toggle\r\n            var toggle = KTUtil.find(the.header, '[data-card-tool=toggle]');\r\n            if (toggle) {\r\n                KTUtil.addEvent(toggle, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.toggle();\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Enable stickt mode\r\n         */\r\n        initSticky: function() {\r\n            var lastScrollTop = 0;\r\n            var offset = the.options.sticky.offset;\r\n\r\n            if (!the.header) {\r\n                return;\r\n            }\r\n\r\n\t        window.addEventListener('scroll', Plugin.onScrollSticky);\r\n        },\r\n\r\n\t    /**\r\n\t     * Window scroll handle event for sticky card\r\n\t     */\r\n\t    onScrollSticky: function(e) {\r\n\t\t    var offset = the.options.sticky.offset;\r\n\r\n\t\t    if(isNaN(offset)) return;\r\n\r\n\t\t    var st = KTUtil.getScrollTop();\r\n\r\n\t\t    if (st >= offset && KTUtil.hasClass(body, 'card-sticky-on') === false) {\r\n\t\t\t    Plugin.eventTrigger('stickyOn');\r\n\r\n\t\t\t    KTUtil.addClass(body, 'card-sticky-on');\r\n\r\n\t\t\t    Plugin.updateSticky();\r\n\r\n\t\t    } else if ((st*1.5) <= offset && KTUtil.hasClass(body, 'card-sticky-on')) {\r\n\t\t\t    // Back scroll mode\r\n\t\t\t    Plugin.eventTrigger('stickyOff');\r\n\r\n\t\t\t    KTUtil.removeClass(body, 'card-sticky-on');\r\n\r\n\t\t\t    Plugin.resetSticky();\r\n\t\t    }\r\n\t    },\r\n\r\n        updateSticky: function() {\r\n            if (!the.header) {\r\n                return;\r\n            }\r\n\r\n            var top;\r\n\r\n            if (KTUtil.hasClass(body, 'card-sticky-on')) {\r\n                if (the.options.sticky.position.top instanceof Function) {\r\n                    top = parseInt(the.options.sticky.position.top.call(this, the));\r\n                } else {\r\n                    top = parseInt(the.options.sticky.position.top);\r\n                }\r\n\r\n                var left;\r\n                if (the.options.sticky.position.left instanceof Function) {\r\n                    left = parseInt(the.options.sticky.position.left.call(this, the));\r\n                } else {\r\n                    left = parseInt(the.options.sticky.position.left);\r\n                }\r\n\r\n                var right;\r\n                if (the.options.sticky.position.right instanceof Function) {\r\n                    right = parseInt(the.options.sticky.position.right.call(this, the));\r\n                } else {\r\n                    right = parseInt(the.options.sticky.position.right);\r\n                }\r\n\r\n                KTUtil.css(the.header, 'z-index', the.options.sticky.zIndex);\r\n                KTUtil.css(the.header, 'top', top + 'px');\r\n                KTUtil.css(the.header, 'left', left + 'px');\r\n                KTUtil.css(the.header, 'right', right + 'px');\r\n            }\r\n        },\r\n\r\n        resetSticky: function() {\r\n            if (!the.header) {\r\n                return;\r\n            }\r\n\r\n            if (KTUtil.hasClass(body, 'card-sticky-on') === false) {\r\n                KTUtil.css(the.header, 'z-index', '');\r\n                KTUtil.css(the.header, 'top', '');\r\n                KTUtil.css(the.header, 'left', '');\r\n                KTUtil.css(the.header, 'right', '');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Remove card\r\n         */\r\n        remove: function() {\r\n            if (Plugin.eventTrigger('beforeRemove') === false) {\r\n                return;\r\n            }\r\n\r\n            KTUtil.remove(element);\r\n\r\n            Plugin.eventTrigger('afterRemove');\r\n        },\r\n\r\n        /**\r\n         * Set content\r\n         */\r\n        setContent: function(html) {\r\n            if (html) {\r\n                the.body.innerHTML = html;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get body\r\n         */\r\n        getBody: function() {\r\n            return the.body;\r\n        },\r\n\r\n        /**\r\n         * Get self\r\n         */\r\n        getSelf: function() {\r\n            return element;\r\n        },\r\n\r\n        /**\r\n         * Reload\r\n         */\r\n        reload: function() {\r\n            Plugin.eventTrigger('reload');\r\n        },\r\n\r\n        /**\r\n         * Toggle\r\n         */\r\n        toggle: function() {\r\n            if (KTUtil.hasClass(element, 'card-collapse') || KTUtil.hasClass(element, 'card-collapsed')) {\r\n                Plugin.expand();\r\n            } else {\r\n                Plugin.collapse();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Collapse\r\n         */\r\n        collapse: function() {\r\n            if (Plugin.eventTrigger('beforeCollapse') === false) {\r\n                return;\r\n            }\r\n\r\n            KTUtil.slideUp(the.body, the.options.toggleSpeed, function() {\r\n                Plugin.eventTrigger('afterCollapse');\r\n            });\r\n\r\n            KTUtil.addClass(element, 'card-collapse');\r\n        },\r\n\r\n        /**\r\n         * Expand\r\n         */\r\n        expand: function() {\r\n            if (Plugin.eventTrigger('beforeExpand') === false) {\r\n                return;\r\n            }\r\n\r\n            KTUtil.slideDown(the.body, the.options.toggleSpeed, function() {\r\n                Plugin.eventTrigger('afterExpand');\r\n            });\r\n\r\n            KTUtil.removeClass(element, 'card-collapse');\r\n            KTUtil.removeClass(element, 'card-collapsed');\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            //KTUtil.triggerCustomEvent(name);\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Remove card\r\n     */\r\n    the.remove = function() {\r\n        return Plugin.remove(html);\r\n    };\r\n\r\n    /**\r\n     * Init sticky card\r\n     */\r\n    the.initSticky = function() {\r\n        return Plugin.initSticky();\r\n    };\r\n\r\n    /**\r\n     * Rerender sticky layout\r\n     */\r\n    the.updateSticky = function() {\r\n        return Plugin.updateSticky();\r\n    };\r\n\r\n    /**\r\n     * Reset the sticky\r\n     */\r\n    the.resetSticky = function() {\r\n        return Plugin.resetSticky();\r\n    };\r\n\r\n\t/**\r\n\t * Destroy sticky card\r\n\t */\r\n\tthe.destroySticky = function() {\r\n\t\tPlugin.resetSticky();\r\n\t\twindow.removeEventListener('scroll', Plugin.onScrollSticky);\r\n\t};\r\n\r\n    /**\r\n     * Reload card\r\n     */\r\n    the.reload = function() {\r\n        return Plugin.reload();\r\n    };\r\n\r\n    /**\r\n     * Set card content\r\n     */\r\n    the.setContent = function(html) {\r\n        return Plugin.setContent(html);\r\n    };\r\n\r\n    /**\r\n     * Toggle card\r\n     */\r\n    the.toggle = function() {\r\n        return Plugin.toggle();\r\n    };\r\n\r\n    /**\r\n     * Collapse card\r\n     */\r\n    the.collapse = function() {\r\n        return Plugin.collapse();\r\n    };\r\n\r\n    /**\r\n     * Expand card\r\n     */\r\n    the.expand = function() {\r\n        return Plugin.expand();\r\n    };\r\n\r\n    /**\r\n     * Get cardbody\r\n     * @returns {jQuery}\r\n     */\r\n    the.getBody = function() {\r\n        return Plugin.getBody();\r\n    };\r\n\r\n    /**\r\n     * Get cardbody\r\n     * @returns {jQuery}\r\n     */\r\n    the.getSelf = function() {\r\n        return Plugin.getSelf();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTCard;\r\n}\r\n\r\nexport default KTCard;","/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./util\";\r\n\r\n// Component Definition\r\nvar KTScrolltop = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.getById(elementId);\r\n    var body = KTUtil.getBody();\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        offset: 300,\r\n        speed: 6000\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {mscrolltop}\r\n         */\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('scrolltop')) {\r\n                the = KTUtil.data(element).get('scrolltop');\r\n            } else {\r\n                // reset scrolltop\r\n                Plugin.init(options);\r\n\r\n                // build scrolltop\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('scrolltop', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subscrolltop click toggle\r\n         * @returns {mscrolltop}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n        },\r\n\r\n        build: function() {\r\n            var timer;\r\n\r\n            window.addEventListener('scroll', function() {\r\n                KTUtil.throttle(timer, function() {\r\n                    Plugin.handle();\r\n                }, 200);\r\n            });\r\n\r\n            // handle button click\r\n            KTUtil.addEvent(element, 'click', Plugin.scroll);\r\n        },\r\n\r\n        /**\r\n         * Handles scrolltop click scrollTop\r\n         */\r\n        handle: function() {\r\n            var pos = KTUtil.getScrollTop(); // current vertical position\r\n\r\n            if (pos > the.options.offset) {\r\n                if (body.hasAttribute('data-scrolltop') === false) {\r\n                    body.setAttribute('data-scrolltop', 'on');\r\n                }\r\n            } else {\r\n                if (body.hasAttribute('data-scrolltop') === true) {\r\n                    body.removeAttribute('data-scrolltop');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles scrolltop click scrollTop\r\n         */\r\n        scroll: function(e) {\r\n            e.preventDefault();\r\n\r\n            KTUtil.scrollTop(0, the.options.speed);\r\n        },\r\n\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                       return event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Get subscrolltop mode\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Set scrolltop content\r\n     * @returns {mscrolltop}\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTScrolltop;\r\n}\r\n\r\nexport default KTScrolltop;"],"sourceRoot":""}