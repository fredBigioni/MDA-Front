{"version":3,"sources":["app/modules/Auth/_redux/authRedux.js","redux/setupAxios.js","app/modules/Mercados/_redux/mercadosRedux.js","redux/rootReducer.js","redux/store.js","_metronic/_helpers/AssetsHelpers.js","_metronic/_helpers/RouterHelpers.js","_metronic/layout/_core/HTMLClassService.js","_metronic/layout/_core/MetronicLayout.js","_metronic/layout/_core/LayoutConfig.js","_metronic/layout/components/brand/Brand.js","app/config/ability.js","app/config/Can.js","_metronic/layout/components/aside/aside-menu/AsideMenuList.js","_metronic/layout/components/aside/aside-menu/AsideMenu.js","_metronic/layout/components/aside/Aside.js","_metronic/layout/components/footer/Footer.js","_metronic/_assets/js/layout/base/header.js","_metronic/_assets/js/layout/base/header-menu.js","_metronic/_assets/js/layout/base/header-topbar.js","_metronic/_assets/js/layout/base/brand.js","_metronic/_assets/js/layout/base/aside.js","_metronic/_assets/js/layout/base/subheader.js","_metronic/_assets/js/layout/base/sticky-card.js","_metronic/_assets/js/layout/base/aside-menu.js","_metronic/_assets/js/layout/base/aside-toggle.js","_metronic/_assets/js/layout/base/footer.js","_metronic/_assets/js/layout/base/content.js","_metronic/_assets/js/layout/extended/scrolltop.js","_metronic/_assets/js/layout/base/stretched-card.js","_metronic/_assets/js/layout/extended/quick-panel.js","_metronic/_assets/js/layout/extended/quick-user.js","_metronic/layout/components/LayoutInit.js","_metronic/_partials/dropdowns/DropdownMenu1.js","_metronic/_partials/dropdowns/DropdownTopbarItemToggler.js","_metronic/layout/components/subheader/components/QuickActions.js","_metronic/layout/components/subheader/components/BreadCrumbs.js","_metronic/layout/_core/MetronicSubheader.js","_metronic/layout/components/subheader/SubHeader.js","_metronic/layout/components/extras/offcanvas/QuickPanel.js","_metronic/layout/components/extras/offcanvas/QuickUser.js","_metronic/layout/components/extras/ScrollTop.js","_metronic/layout/components/Layout.js","_metronic/layout/components/content/Content.js","_metronic/layout/components/content/ContentRoute.js","_metronic/layout/_core/MetronicSplashScreen.js","_metronic/layout/_core/MaterialThemeProvider.js","app/modules/Mercados/utils.js","app/modules/Mercados/_redux/mercadosActions.js","app/components/Tree/themes/default.js","app/components/Tree/themes/animations.js","app/components/Tree/util/randomString.js","app/components/Tree/components/common/index.js","app/components/Tree/components/Decorators/Container.js","app/components/Tree/components/Decorators/Header.js","app/components/Tree/components/Decorators/Loading.js","app/components/Tree/components/Decorators/Toggle.js","app/components/Tree/components/Decorators/index.js","app/components/Tree/components/NodeHeader.js","app/components/Tree/components/TreeNode/Drawer.js","app/components/Tree/components/TreeNode/Loading.js","app/components/Tree/components/TreeNode/index.js","app/components/Tree/components/index.js","app/components/Tree/components/Decorators/Loader.js","app/components/Tree/util/filter.js","app/modules/Mercados/components/LineGroupDialog.js","app/modules/Mercados/components/LineDialog.js","app/components/SelectVirtualize/index.js","app/modules/Mercados/components/CustomMarketDialog.js","app/Style/GeneralStyles.js","app/modules/Mercados/components/CustomMarketTree.js","app/modules/Mercados/components/CustomMarketDeleteDialog.js","app/modules/Mercados/components/CustomMarketAction.js","app/modules/Mercados/components/CustomMarketToolbar.js","app/components/ListCheckbox/Checkboxes.js","app/components/ListCheckbox/VirtualizedCheckbox.js","app/components/ListCheckbox/Loader.js","app/components/ListCheckbox/index.js","app/modules/Mercados/components/ActionTabDialog.js","app/modules/Mercados/components/Forms/Product.js","app/modules/Mercados/components/Forms/ProductPresentation.js","app/modules/Mercados/components/Forms/MarketAssign.js","app/modules/Mercados/customMarketDetailDefault.js","app/modules/Mercados/components/Forms/Laboratory.js","app/modules/Mercados/components/Forms/Drug.js","app/modules/Mercados/components/Forms/CustomMarketPreview.js","app/modules/Mercados/components/ProductTabContainer.js","app/modules/Mercados/components/DrugTabContainer.js","app/modules/Mercados/components/PharmaceuticalFormTabContainer.js","app/modules/Mercados/components/TherapeuticalClassTabContainer.js","app/modules/Mercados/components/LaboratoryTabContainer.js","app/modules/Mercados/components/ProductPresentationTabContainer.js","app/modules/Mercados/components/CustomMarketTabContainer.js","app/modules/ErrorsExamples/ErrorAlert.js","app/modules/Mercados/components/Tab.js","app/modules/Mercados/components/CustomMarketGroupDialog.js","app/modules/Mercados/components/CustomMarketGroupDelete.js","app/modules/Mercados/components/CustomMarketGroupAction.js","app/modules/Mercados/components/CustomMarketGroup.js","app/modules/Mercados/components/CustomMarketGroupTab.js","app/modules/Mercados/components/CustomMarketDetailEdit.js","app/modules/Mercados/components/CustomMarketDetailDelete.js","app/modules/Mercados/components/CustomMarketDetail.js","app/modules/Mercados/components/CustomMarketCollapsableDetail.js","app/modules/Mercados/components/CustomMarketManage.js","app/modules/Mercados/components/CustomMarketPreview/dialog.js","app/modules/Mercados/components/CustomMarketPreview.js","app/modules/Mercados/index.js","app/modules/BusinessUnit/_redux/Actions.js","app/modules/BusinessUnit/components/ActionDialog.js","app/modules/BusinessUnit/index.js","app/modules/ProductPresentation/_redux/Actions.js","app/modules/ProductPresentation/components/ActionDialog.js","app/modules/ProductPresentation/index.js","app/modules/Product/_redux/Actions.js","app/modules/Product/components/ActionDialog.js","app/modules/Product/index.js","app/modules/ProductGroup/_redux/Actions.js","app/modules/ProductGroup/components/ActionDialog.js","app/modules/ProductGroup/index.js","app/modules/ProductPresentationGroup/_redux/Actions.js","app/modules/ProductPresentationGroup/components/ActionDialog.js","app/modules/ProductPresentationGroup/index.js","app/modules/LaboratoryGroup/_redux/Actions.js","app/modules/LaboratoryGroup/components/ActionDialog.js","app/modules/LaboratoryGroup/index.js","app/modules/DrugGroup/_redux/Actions.js","app/modules/DrugGroup/components/ActionDialog.js","app/modules/DrugGroup/index.js","app/modules/User/_redux/Actions.js","app/modules/User/components/UserPermissions.js","app/modules/User/components/Panel.js","app/modules/User/components/ActionDialog.js","app/modules/User/index.js","app/BasePage.js","app/modules/Auth/_redux/authCrud.js","app/modules/Auth/pages/Login.js","app/modules/Auth/pages/AuthPage.js","app/modules/Auth/pages/Logout.js","app/modules/ErrorsExamples/ErrorPage5.js","app/modules/ErrorsExamples/ErrorsPage.js","app/Routes.js","_metronic/i18n/Metronici18n.js","_metronic/i18n/I18nProvider.js","app/App.js","index.js","_metronic/_assets/js/components/cookie.js","_metronic/_assets/js/components/offcanvas.js","_metronic/_assets/js/components/util.js","_metronic/_assets/js/components/menu.js","_metronic/_assets/js/components/toggle.js","_metronic/_assets/js/components/card.js","_metronic/_assets/js/components/scrolltop.js"],"names":["saga","actionTypes","initialAuthState","user","undefined","authToken","reducer","persistReducer","storage","key","whitelist","state","action","type","payload","jwtToken","id","userName","isAdmin","domain","actions","login","logout","setUser","isAbsoluteURLRegex","isRefreshing","failedQueue","processQueue","error","data","forEach","prom","reject","resolve","initialState","drugs","laboratories","lines","isLoading","linegroups","pharmaceuticalforms","products","productpresentations","producttypes","therapeuticalclasses","customMarket","description","treeVisible","customMarketPreviewAction","item","visible","loading","customMarketGroups","customMarketTree","customMarketPageView","view","loadingProducts","loadingProductPresentations","loadingTherapeuticalClasses","loadingLaboratories","loadingDrugs","pharmaceuticalformsLoading","loadingLineGroups","allCustomMarket","getError","title","customMarketSelected","preview","rootSaga","rootReducer","combineReducers","auth","mercados","all","sagaMiddleware","createSagaMiddleware","middleware","getDefaultMiddleware","immutableCheck","serializableCheck","thunk","store","configureStore","devTools","process","enhancers","reduxBatch","persistor","persistStore","run","toAbsoluteUrl","pathname","checkIsActive","location","url","current","split","getCurrentUrl","indexOf","HtmlClassService","layoutConfig","this","config","preInit","classes","header","header_container","header_mobile","header_menu","aside","aside_menu","subheader","subheader_container","content","content_container","footer_container","attributes","initLayout","initLoader","initHeader","initSubheader","initContent","initAside","initFooter","initTheme","updatedConfig","Object","assign","headerSelfFixedDesktop","objectPath","get","style","fixed","path","toString","Array","isArray","join","brandSkin","logo","getLogo","selfBodyBackgroundImage","document","body","backgroundImage","_selfBodyClass","cssClass","classList","add","push","headerMenuSelfLayout","headerMenuLayoutCssClass","subheaderFixed","subheaderStyle","subheaderClass","asideSelfDisplay","asideMenuDropdown","asideSubmenuDHoverTimeout","brandSelfTheme","headerSelfTheme","LAYOUT_CONFIG_KEY","REACT_APP_LAYOUT_CONFIG_KEY","getConfig","ls","localStorage","getItem","JSON","parse","er","console","HtmlClassServiceContext","createContext","useHtmlClassService","useContext","Consumer","MetronicLayoutProvider","children","lc","useMemo","hcs","service","setConfig","Provider","value","Brand","uiService","layoutProps","brandClasses","getClasses","asideSelfMinimizeToggle","headerLogo","headerStickyLogo","getStickyLogo","className","to","alt","src","currentAuth","ability","Ability","subjectName","__type","subscribe","prevAuth","getState","update","AbilityBuilder","extract","can","cannot","rules","defineRulesFor","createCanBoundTo","AsideMenuList","useLocation","getMenuItemActive","hasSubmenu","ulClasses","height","Can","I","a","bottom","width","AsideMenu","disableScroll","asideMenuAttr","getAttributes","asideClassesFromConfig","Aside","disableAsideSelfDisplay","Footer","today","Date","getFullYear","footerClasses","footerContainerClasses","href","target","rel","KTLayoutHeader","_element","_elementForMobile","init","idForMobile","KTUtil","getById","isFixed","hasClass","getBody","isFixedForMobile","getElement","getElementForMobile","getHeader","getHeight","actualHeight","_getHeight","getHeightForMobile","KTLayoutHeaderMenu","_menuElement","_menuObject","_offcanvasElement","_offcanvasObject","menuId","offcanvasId","KTOffcanvas","overlay","baseClass","closeBy","toggleBy","KTMenu","submenu","desktop","tablet","mobile","accordion","slideSpeed","expandAll","on","menu","isBreakpointDown","hide","getMenuElement","getOffcanvasElement","getMenu","pauseDropdownHover","time","getOffcanvas","closeMobileOffcanvas","isMobileDevice","KTLayoutHeaderTopbar","_toggleElement","KTToggle","targetState","toggleState","getToggleElement","KTLayoutBrand","KTLayoutAside","_body","offcanvasClass","_init","isMinimized","isHoverable","KTLayoutSubheader","KTLayoutStickyCard","_object","offset","KTCard","sticky","zIndex","position","top","pos","isBreakpointUp","left","card","right","cardWidth","parseInt","css","initSticky","addResizeHandler","updateSticky","KTLayoutAsideMenu","scroll","menuDesktopMode","attr","rememberPosition","getViewPort","insideTm","outsideTm","addEvent","e","preventDefault","clearTimeout","setTimeout","addClass","scrollUpdate","scrollTop","removeClass","_initHover","KTLayoutAsideToggle","_toggleObject","toggle","KTCookie","setCookie","getToggle","onToggle","handler","element","KTLayoutFooter","KTLayoutContent","KTLayoutScrolltop","KTScrolltop","speed","KTLayoutStretchedCard","find","cardBody","cardHeader","KTLayoutQuickPanel","_notificationsElement","_logsElement","_settingsElement","_getContentHeight","placement","scrollInit","mobileNativeScroll","resetHeightOnDestroy","handleWindowResize","KTLayoutQuickUser","disableForMobile","LayoutInit","useLayoutEffect","ready","DropdownMenu1","React","forwardRef","props","ref","onClick","displayName","QuickActionsDropdownToggle","QuickActions","OverlayTrigger","Tooltip","Dropdown","drop","alignRight","Toggle","as","Menu","BreadCrumbs","items","length","map","index","getBreadcrumbsAndTitle","pathName","result","breadcrumbs","getElementById","activeLinks","from","getElementsByClassName","filter","el","tagName","link","titleSpans","titleSpan","t","innerHTML","trim","replace","breadCrumbs","getTitle","SubheaderContext","MetronicSubheaderProvider","useState","setTitle","setBreadcrumbs","SubHeader","subheaderMobileToggle","subheaderCssClasses","subheaderContainerCssClasses","useEffect","QuickPanel","selectedTab","setSelectedTab","Tab","Container","defaultActiveKey","Nav","onSelect","_tabName","role","Item","Link","eventKey","onChange","checked","name","QuickUser","history","useHistory","useSelector","shallowEqual","pic","firstname","lastname","occupation","email","click","ScrollTop","Layout","selfLayout","asideDisplay","subheaderDisplay","desktopHeaderDisplay","contentCssClasses","contentContainerClasses","contentExtended","Content","match","useRouteMatch","animationEndClass","cssClassesState","setCssClassesState","fullClasses","startAnimation","timeOutId","ContentRoute","component","render","routeProps","createElement","MetronicSplashScreenContext","MetronicSplashScreenProvider","count","setCount","timeout","splashScreen","remove","LayoutSplashScreen","prev","theme","createMuiTheme","typography","fontFamily","palette","primary","main","secondary","MuiButtonBase","disableRipple","MuiPopover","elevation","MaterialThemeProvider","ThemeProvider","getProducts","axios","getDrugs","getProductPresentations","getLaboratories","getPharmaceuticalForms","getLineGroups","getTherapeuticalClasses","getCustomMarketTree","dispatch","customMarkets","getCustomMarkets","customMarketData","descriptionValues","line","lineGroup","code","toUpperCase","getCustomMarketsByLine","lineCodes","valueEncoded","btoa","stringify","label","itemsChecked","CustomMarketSync","then","response","drug","setPreviousChecked","isGroup","drugGroupCode","laboratoriesData","laboratory","laboratoryGroupCode","createLine","post","updateLine","lineCode","put","getLines","linesData","fullDescription","getLinesByLineGroup","lineGroupCodes","createLineGroup","updateLineGroup","lineGroupCode","lineGroupsData","linegroup","pharmaceuticalformsData","pharmaceuticalform","getPharmaceuticalFormDescription","getPharmaceuticalFormsByProduct","productCodes","productGroupCodes","getPharmaceuticalFormsByProductPresentation","productPresentationCodes","productPresentationGroupCodes","getCustomMarketDescription","lineGroupDescription","lineDescription","pharmaceuticalForm","imscode","setMarketDescriptionTitle","getCustomMarketByCode","getCustomMarket","customMarketDetail","cmd","getCustomMarketGroupByCustomMarketCode","customMarketCode","getCustomMarketGroup","createCustomMarketGroup","customMarketGroup","updateCustomMarketGroup","customMakertGroupCode","deleteCustomMarketGroup","delete","createCustomMarket","updateCustomMarket","order","deleteCustomMarket","cloneCustomMarket","setMarketTreeVisible","productsMercado","product","class","productGroupCode","getProductByDrug","drugCodes","drugGroupCodes","productsData","getProductByLaboratory","laboratoryCodes","laboratoryGroupCodes","getProductByTherapeuticalClass","therapeuticalClassCodes","presentations","presentationsData","presentation","therapeuticalClass","productPresentationGroupCode","getProductTypes","productTypes","productTypesData","productType","getPresentationsbyPharmaceuticalForms","pharmaceuticalFormsCodes","therapeuticalClasses","createProductGroup","headers","createLaboratoryGroup","createDrugGroup","createProductPresentationGroup","getCustomMarketsPreview","customMarketPreview","dispatchProductLoading","dispatchProductPresentationLoading","dispatchTherapeuticalClassesLoading","dispatchLaboratoriesLoading","dispatchDrugsLoading","dispatchPharmaceuticalFormsLoading","dispatchLineGroupsLoading","dispatchProducts","dispatchProductPresentations","productPresentations","dispatchTherapeuticalClasses","dispatchLaboratories","dispatchDrugs","dispatchPharmaceuticalForms","dispatchLineGroups","setCustomMarketPageView","resetCustomMarket","valueToCompare","setGetError","setActionCustomMarketPreview","actionCustomMarketPreviewReset","tree","base","listStyle","backgroundColor","margin","padding","color","fontSize","node","cursor","display","activeLink","background","verticalAlign","marginLeft","wrapper","arrow","fill","strokeWidth","connector","borderLeft","borderBottom","lineHeight","subtree","paddingLeft","toggled","duration","animation","rotateZ","drawer","enter","leave","randomString","Math","random","substring","Div","styled","shouldForwardProp","prop","Ul","animations","renderToggleDecorator","decorators","terminal","customStyles","active","container","renderToggle","Header","PureComponent","defaultProps","selected","Loading","propTypes","PropTypes","object","Polygon","midHeight","points","NodeHeader","nextProps","nextPropKeys","keys","i","deepEqual","strict","styles","Component","Drawer","restAnimationInfo","Li","TreeNode","defaultAnimations","nodeDecorators","propDecorators","child","isFunction","renderChildren","TreeBeard","defaultTheme","castArray","defaultDecorators","Loader","viewBox","foregroundColor","x","y","rx","ry","defaultMatcher","filterText","toLowerCase","findNode","matcher","filterTree","filtered","expandFilteredNodes","childrenWithMatches","shouldExpand","connect","bindActionCreators","open","handleClose","lineGroupSelected","setLoading","initialValues","setInitialValues","getInitialValues","formik","useFormik","enableReinitialize","validate","values","errors","onSubmit","setSubmitting","setErrors","enableLoading","disableLoading","Promise","api","Dialog","maxWidth","fullWidth","onClose","DialogContent","DialogContentText","handleSubmit","TextField","autoComplete","handleChange","touched","Boolean","helperText","DialogActions","Button","disabled","isSubmitting","lineSelected","emptyInitialValues","laboratoryReportHeader","laboratoryReportFooter","drugReportHeader","drugReportFooter","getLine","linesFilter","lineObj","FormControl","Select","lineGroupObj","atob","MenuItem","renderRow","cloneElement","OuterElementContext","OuterElementType","outerProps","ListboxComponent","other","itemData","Children","toArray","useTheme","smUp","useMediaQuery","breakpoints","up","noSsr","itemCount","itemSize","getChildSize","isValidElement","ListSubheader","gridRef","useRef","resetAfterIndex","useResetCache","reduce","b","outerElementType","innerElementType","overscanCount","useStyles","makeStyles","listbox","boxSizing","SelectVirtualize","options","optionLabel","Autocomplete","disableListWrap","getOptionLabel","option","renderInput","params","variant","renderOption","Typography","noWrap","event","isActionClone","footer","marketFilter","drugReport","labReport","controlPanel","productReport","tcReport","testMarket","marketClass","marketReference","lineArr","handleCancel","resetForm","Schema","Yup","shape","test","validationSchema","customMarketModified","prepareSave","customMarketCreated","copyCustomMarket","handleChangeLine","handleChangeMarketReference","field","setFieldValue","enterDelay","enterNextDelay","heightW","window","innerHeight","widthW","innerWidth","outline","rowC","flexDirection","borderRadius","marginTop","Lista","textfield","textfield1","root","fixedList","productos","presentaciones","overflow","propiedades","componentes","scrollbarWidth","presentacionCT","overflowY","textfieldCT","textfieldProd","presentacionProd","modal","alignItems","justifyContent","modalCard","closeModalButton","button","borderColor","border","grupos","modalCardMercado","CustomMarketTree","setAllCustomMarkets","customMarketsData","setCustomMarkets","setData","setCursor","openCreateLineGroupModal","setOpenCreateLineGroupModal","setLineGroupSelected","openLineDialog","setOpenLineDialog","setLineSelected","openCustomMarketDialog","setOpenCustomMarketDialog","getItemObject","copyItem","keyObj","handleCloseCreateLineGroupModal","handleOpenCreateLineGroupModal","selectedItem","handleCloseLineDialog","handleCloseCustomMarketDialog","getCustomerMarkets","generateNodeTree","onSelectCustomMarketManage","market","customerMarket","onSelectCustomMarketPreview","nodes","treeData","isroot","lineGroupsTree","testMarketNode","parent","childNodes","lineGroupKey","lineGroupKeyEncoded","isTest","marketNodes","childMarket","customMarketDescription","lineKey","lineKeyEncoded","show","contextMenu","subprops","flexWrap","marginBottom","minWidth","IconButton","size","onContextMenu","showIconTree","textAlign","handleOpenLineDialog","handleOpenCustomMarketDialog","handleOpenEditLineDialog","not","onKeyUp","filters","memo","keepMounted","DialogTitle","message","list","setIsActionClone","anchorEl","setAnchorEl","openCustomMarketDeleteDialog","setOpenCustomMarketDeleteDialog","openMenu","handleCloseMenu","stopPropagation","currentTarget","PaperProps","maxHeight","ITEM_HEIGHT","fontWeight","injectIntl","intl","Grid","xs","formatMessage","Checkbox","FormControlLabel","control","Checkboxes","rowHeight","rowCount","labelKey","handleSelectAllChange","onSelectAllChange","rowRenderer","updateItems","it","FilterBar","onSelectItemFromMenu","hasSelectedItems","InputProps","startAdornment","InputAdornment","endAdornment","hasOkButton","hasCancelButton","onOk","onCancel","VirtualizedCheckbox","getFilteredItems","setState","prevState","prepareItems","itm","eventTarget","findIndex","handleOkClick","handleFilterChange","includes","checkedItems","handleCancelClick","propsItems","textFilter","unique","distinct","opt","getDistinctFast","hasFilterBox","propWidth","hasFooter","virtualScrollHeight","h","ListVirtualized","infoRef","marginRight","log","onAccept","productsSelected","formHasBeenSubmited","onChangeStatusForm","formikCreateProduct","prepareToSave","productCode","some","onChangeLoadingForm","productGroupToSave","catch","renderProductsRow","ListItem","productPresentationSelected","prepareProductPresentationToSave","productPresentation","ProductPresentationCodes","productPresentationGroupToSave","itemsSelecteds","customMarketType","formikAsignMarket","prepareToSaveCustomMarket","customMarketDetailValues","intemodifier","modifier","ensureVisible","expand","graphs","resume","itemCondition","pattern","productTypeCode","customMarketGroupCode","pharmaceuticalFormCode","productPresentationCode","laboratoryCode","drugCode","therapeuticalClassCode","detailCustomMarketCode","customMarketToSave","customMarketObjError","is","formControl","displayEmpty","selectEmpty","cmg","groupCondition","laboratoriesSelecteds","formikCreateLaboratory","prepareSaveLaboratory","clase","lab","prepareLaboratory","renderLaboratoriesRow","drugSelecteds","formikCreateDrug","prepareDrugToSave","drugsGroupToSave","renderDrugsRow","graph","onDelete","onUpdate","status","pt","formLoading","setFormLoading","formBtnSubmitDisabled","setFormBtnSubmitDisabled","loadingPharmaceuticalForms","setLoadingPharmaceuticalForms","pharmaceuticalForms","setPharmaceuticalForms","loadingProductPresentation","setLoadingProductPresentation","setProductsSelected","dialogVisibleForProducts","setDialogVisibleForProducts","pharmaceuticalFormSelected","setPharmaceuticalFormSelecteds","setProductPresentation","setProductPresentationSelected","dialogVisibleForMarketAssing","setDialogVisibleForMarketAssing","marketAssignType","setMarketAssignType","marketAssignItems","setMarketAssignItems","dialogVisibleForPresentation","setDialogVisibleForPresentation","setFormHasBeenSubmited","getAllProducts","reloadProductVirtualizedCheckbox","getProductPresentationsByPharmaceuticalForm","productsAllUnchecked","p","onSelectProduct","reloadPharmaceuticalFormVirtualizedCheckbox","productsCodes","productGroupsCodes","productItem","getPharmaceuticalFormByProduct","reloadProductPresentationVirtualizedCheckbox","pharmaceuticalFormCodes","pharmaceuticalFormItem","resetChecked","pharmaceuticalFormPreviousSelecteds","pharmaceuticalformsResponse","pfItem","productPresentationPreviousSelecteds","productPresentationsResponse","onSelectPharmaceuticalForms","onSelectProductPresentation","refreshVirtualizedCheckbox","closeDialog","submitForm","useCallback","spacing","paddingRight","btnDisabled","MarketAssign","setLoadingProducts","setProducts","setDrugSelecteds","dialogVisibleForDrugs","setDialogVisibleForDrugs","productSelecteds","setProductSelecteds","productPresentationSelecteds","setProductPresentationSelecteds","pharmaceuticalFormSelecteds","setPharmaceuticalFormsSelecteds","getAllDrugs","reloadDrugVirtualizedCheckbox","drugsAllUnchecked","d","onSelectDrugs","onSelectProducts","drugItem","productPreviousSelecteds","productsResponse","pItem","Drug","pharmarceuticalFormSelecteds","setPharmaceuticalFormSelected","getAll","reloadPharmaceuticalFormsVirtualizedCheckbox","pharmaceuticalformsAllUnchecked","pf","presentationSelected","therapeuticalClassSelected","setTherapeuticalClassSelected","getAllTherapeuticalClasses","reloadTherapeuticalClassVirtualizedCheckbox","therapeuticalClassesAllUnchecked","tc","onSelectTherapeuticalClasses","therapeuticalClassItem","productPresentationItem","dialogVisibleForLaboratory","setDialogVisibleForLaboratory","setLaboratoriesSelecteds","pharmaceuticalFormsSelecteds","getAllLaboratories","reloadLaboratoryVirtualizedCheckbox","laboratoriesAllUnchecked","l","onSelectLaboratories","laboratoryItem","Laboratory","dialogVisibleForProductPresentation","setDialogVisibleForProductPresentation","getAllProductPresentations","productPresentationsAllUnchecked","onProductPresentation","pharmaceuticalFormsResponse","onPharmaceuticalForm","loadingLinegroups","loadingLines","setLoadingLines","setLines","linesSelected","setLinesSelected","loadingCustomMarkets","setLoadingCustomMarkets","marketSelecteds","setMarketSelecteds","reloadLineGroupVirtualizedCheckbox","lineGroupsAllUnchecked","onSelectLineGroup","onSelectLine","onSelectMarkets","reloadCustomMarketVirtualizedCheckbox","linesCodes","lineItem","linePreviousSelecteds","linesResponse","customMarketPreviousSelecteds","customMarketsResponse","lineGroupItem","marketCodes","marketItem","Alert","severity","AlertTitle","TabContainer","dir","paper","FullWidthTabs","setValue","AppBar","Tabs","newValue","indicatorColor","textColor","axis","direction","onChangeIndex","DrugTabContainer","customMarketGroupSelected","CustomMarketGroupAction","openDialog","setOpenDialog","openDeleteDialog","setOpenDeleteDialog","setCustomMarketGroupSelected","handleCloseDialog","CustomMarketGroupDelete","paddingBottom","CustomMarketGroupTab","handleCustomMarketGroupChange","scrollButtons","itemSelectedIndex","ownProduct","itemIndex","prepareDelete","EnhancedTableHead","onSelectAllClick","numSelected","isOwnProduct","headCells","numeric","disablePadding","TableHead","TableRow","TableCell","indeterminate","inputProps","headCell","useToolbarStyles","highlight","lighten","light","text","dark","flex","EnhancedTableToolbar","clearSelected","openEditModal","setOpenEditModal","openDeleteModal","setOpenDeleteModal","Toolbar","clsx","CustomMarketDetailEdit","CustomMarketDetailDelete","clear","table","visuallyHidden","clip","rows","filterOwnProduct","setSelected","dense","rowsPerPage","switchOwnProduct","setSwitchOwnProduct","setCustomMarketDetail","min","Paper","Switch","ownProductsReport","TableContainer","Table","stickyHeader","newSelecteds","n","TableBody","isItemSelected","isSelected","labelId","hover","selectedIndex","newSelected","concat","slice","handleClick","tabIndex","scope","align","productTypeDescription","flexGrow","heading","pxToRem","fontWeightMedium","useExpansionPanelStyles","expanded","minHeight","expansionPanelClasses","setRows","setCustomMarketGroup","getCustomMarketDetailCustoMarkets","detailCustomMartkets","detailCustomMarketDescription","getCustomMarketDetailDrugs","drugDescription","drugGroupDescription","getCustomMarketDetailLaboratories","laboratoryDescription","laboratoryGroupDescription","getCustomMarketDetailPharmaceuticaForms","pharmaceuticalFormDescription","getCustomMarketDetailProducts","productDescription","productGroupDescription","getCustomMarketDetailProductPresentations","productPresentationDescription","productPresentationGroupDescription","getCustomMarketDetailTherapeuticalClasses","therapeuticalClassDescription","detail","row","cmgSelected","rowDetailFilteredByCustomMarketGroup","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","defaultExpanded","CustomMarketCollapsableDetail","itemUpdate","marketPreviewData","setMarketPreviewData","allowedPermission","setAllowedPermission","itemsToDelete","setItemsToDelete","itemsToEdit","setItemsToEdit","visibleButtonsToolbar","setVisibleButtonsToolbar","customMarketPreviewItem","splice","customMarketSelectedItem","oldMarketPreviewData","customMarketItems","onSave","marketToAdd","existProductPresentation","findProductpresentation","prodPresentationItem","ButtonSave","ButtonCancel","passThrough","allowed","columns","rowData","classCode","cellStyle","filtering","pageSize","pageSizeOptions","searchFieldAlignment","actionsColumnIndex","headerStyle","maxBodyHeight","icon","tooltip","isFreeAction","localization","toolbar","searchTooltip","searchPlaceholder","pagination","labelRowsSelect","labelRowsPerPage","labelDisplayedRows","emptyDataSourceMessage","getTree","getAllGroupLines","getAllLines","getAllProductTypes","getAllCustomMarkets","businessUnits","createBusinessUnit","updateBusinessUnit","businessUnitCode","actionType","dialogVisible","closeDialogAndReload","businessUnitsData","setBusinessUnits","dialogAction","setDialogAction","getBusinessUnit","getBusinessUnits","reload","getAllTherapeuticlass","getAllBusinessUnits","updateProductPresentation","thep","bu","productPresentationData","setProductPresentations","therapeuticalClassData","setTherapeuticalClass","getProductsPresentations","getTherapeuticlass","updateProduct","formikProduct","productData","setLaboratories","getProduct","getLaboratory","getAllProductGroup","productGroup","getDetailProductGroup","updateProductGroup","deleteProductGroup","MenuList","isScrolling","isVisible","all_products","productGroupData","setProductGroupData","deleteErrors","setDeleteErrors","productFromDetail","parseProductGroup","minItems","onDeleteProductGroup","renderTitle","isMulti","isSearchable","isOptionSelected","components","filterOption","createFilter","ignoreAccents","placeholder","openMenuOnClick","menuIsOpen","ProductGroupActions","MercadosActions","setProductGroups","setAllProducts","getProductGroups","editProductGroup","getDetail","hidden","getAllProductPresentationGroup","getAllProductPresentation","getDetailProductPresentationGroup","createPPGroup","updateProductPresentationGroup","deleteProductPresentationGroup","all_productsPresentations","productPresentationGroupData","setProductPresentationGroupData","productPresentationFromDetail","parseProductPresentationGroup","onDeleteProductPresentationGroup","productPresentationGroup","ProductPresentationGroupActions","setProductPresentationGroups","setAllProductsPresentations","getProductPresentationGroups","editProductPresentationGroup","getAllLaboratoriesGroup","laboratoriesGroup","getDetailLaboratoryGroup","createLaboraotryGroup","updateLaboratoryGroup","deleteLaboratoryGroup","all_laboratories","laboratoryGroupData","setLaboratoryGroupData","laboratorySelecteds","setLaboratorySelecteds","laboratoryData","laboratoryFromDetail","parseLaboratoriesGroup","onDeleteLaboratoryGroup","laboratoryGroup","LaboratoryGroupActions","setLaboratoryGroups","setAllLaboratories","getLaboratoriesGroups","laboratoriesGroups","editLaboratoryGroup","getAllDrugGroup","drugGroup","getDetailDrugGroup","updateDrugGroup","deleteDrugGroup","all_drugs","drugGroupData","setDrugGroupData","drugData","drugsFromDetail","parseDrugsGroup","onDeleteDrugGroup","DrugGroupActions","setAllDrugs","getDrugGroups","getDrug","allDrugs","editDrugGroup","getUsers","users","getUserPermissions","userId","userPermissions","updateUserPermissions","permissions","getCustomMarketsFullTree","updateUserAdministrator","createUser","createNewUser","setStateClicked","stateChecked","setStateChecked","stateExpanded","setStateExpanded","fullTree","setFullTree","userPermission","setUserPermission","isSaving","setIsSaving","switchFullAccess","setSwitchFullAccess","customMarketsFullTree","fullAccess","loadTreeChecked","customMarketKey","customMarketKeyEncoded","customMarketCodes","lineFound","getLineInTree","getLineGroupInTree","lg","getLineGroupChecked","targetNode","nodeKey","nodeLineKey","nodeCustomMarketKey","getLineChecked","isFull","lineCodeChilden","nodeKeyParent","nodeKeyLine","getCustomMarketChecked","treeChecked","isLineFull","customMarketCodeChilden","cm","isLineGroupFull","lineChilden","nodeLineGroupKey","c","lineGroupUnChecked","nodeLineGroupUncheckedKey","ln","iconsClass","expandOnClick","checkModel","onCheck","newUserPermission","updateUserPermission","clicked","onExpand","icons","check","uncheck","halfCheck","expandClose","expandOpen","collapseAll","parentClose","parentOpen","leaf","userPermissionToSave","alert","CustomMarketToolbar","closePanel","userData","dominio","usuario","usersData","setUsers","enableEditPermissions","setEnableEditPermission","getAllUsers","Panel","readOnly","BasePage","fallback","exact","Mercados","BusinessUnit","ProductPresentation","Product","ProductGroup","ProductPresentationGroup","LaboratoryGroup","DrugGroup","User","LOGIN_URL","password","withCredentials","setStatus","getFieldProps","AuthPage","Login","Logout","clearCustomMarkets","hasAuthToken","mercadosActions","ErrorPage5","ErrorsPage","Routes","isAuthorized","I18N_CONFIG_KEY","REACT_APP_I18N_CONFIG_KEY","selectedLang","I18nContext","MetronicI18nProvider","lang","allMessages","de","en","es","fr","ja","zh","I18nProvider","locale","messages","App","basename","Suspense","interceptors","request","use","Authorization","err","originalRequest","_retry","ReactDOM","getCookie","matches","cookie","RegExp","decodeURIComponent","expires","toUTCString","updatedCookie","encodeURIComponent","optionKey","hasOwnProperty","optionValue","deleteCookie","module","exports","elementId","the","defaultOptions","attrCustom","Plugin","construct","has","build","set","events","deepExtend","classBase","classShown","classOverlay","isShown","eventTrigger","toggleClass","classCustom","insertAfter","removeAttr","mode","args","one","call","fired","setDefaults","apply","Element","prototype","msMatchesSelector","webkitMatchesSelector","closest","s","ancestor","documentElement","contains","parentElement","elem","parentNode","removeChild","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","callback","currTime","getTime","timeToCall","max","Document","DocumentFragment","defineProperty","configurable","enumerable","writable","argArr","arguments","docFrag","createDocumentFragment","argItem","isNode","Node","appendChild","createTextNode","String","insertBefore","firstChild","getAttributeNames","KTUtilElementDataStore","KTUtilElementDataStoreID","KTUtilDelegatedEventHandlers","resizeHandlers","sm","md","xl","_windowResizeHandler","addEventListener","throttle","timer","_runResizeHandlers","settings","removeResizeHandler","runResizeHandlers","resize","Event","dispatchEvent","evt","createEvent","initUIEvent","getURLParam","paramName","val","search","unescape","getBreakpoint","navigator","userAgent","isDesktopDevice","isInResponsiveRange","breakpoint","getUniqueID","prefix","floor","isset","obj","stone","Error","shift","getHighestZindex","isNaN","hasFixedPositionedParent","sleep","milliseconds","start","getRandomInt","isAngularVersion","Zone","out","extend","getByTag","query","getElementsByTagName","getByTagName","getByClass","hasClasses","classesArr","classNames","triggerCustomEvent","eventName","CustomEvent","initCustomEvent","triggerEvent","doc","ownerDocument","nodeType","eventClass","bubbles","initEvent","synthetic","fireEvent","createEventObject","string","eventTriggered","dataset","triggered","querySelector","findAll","querySelectorAll","referenceNode","nextSibling","parents","selector","matchesSelector","mozMatchesSelector","oMatchesSelector","f","customDataTag","outerWidth","parseFloat","offsetWidth","rect","win","getClientRects","getBoundingClientRect","defaultView","pageYOffset","pageXOffset","outerHeight","withMargin","offsetHeight","getComputedStyle","getAttribute","setAttribute","hasAttr","removeAttribute","animate","easing","done","easings","linear","rAF","change","performance","now","loop","timestamp","actualCss","cache","HTMLElement","cssText","actualWidth","getScroll","method","self","browserSupportsBoxModel","styleProp","getPropertyValue","currentStyle","str","letter","oldLeft","oldRsLeft","runtimeStyle","pixelLeft","slide","recalcMaxHeight","calcHeight","calcPaddingTop","calcPaddingBottom","paddingTop","slideUp","slideDown","removeEvent","removeEventListener","eventId","targets","j","off","callee","hash","charCodeAt","animateClass","animationName","OAnimation","MozAnimation","WebkitAnimation","msAnimation","transitionEnd","transition","transitions","OTransition","MozTransition","WebkitTransition","msTransition","animationEnd","animateDelay","animateDuration","scrollTo","targetPos","scrollPos","attachEvent","readyState","isEmpty","numberString","nStr","x1","x2","rgx","detectIE","ua","msie","rv","edge","isRTL","html","wheelSpeed","swipeEasing","wheelPropagation","minScrollbarLength","maxScrollbarLength","suppressScrollX","ps","attrs","attrName","optionName","filterBoolean","Function","mobileHeight","desktopNativeScroll","windowScroll","PerfectScrollbar","uid","destroy","scrollDestroy","scrollUpdateAll","scrollers","len","resetAll","setProperty","setHTML","getHTML","getDocumentHeight","scrollHeight","clientHeight","getScrollTop","scrollingElement","changeColor","col","amt","usePound","num","r","g","func","delay","debounce","btnWait","cls","disable","caption","btnRelease","isOffscreen","windowWidth","windowHeight","KTAppSettings","onload","getSubmenuMode","hideDropdowns","autoScroll","autoScrollSpeed","dropdown","reset","eventHandlers","pauseDropdownHoverTime","resetSubmenuProps","handleSubmenuAccordion","isConditionalSubmenuDropdown","handleSubmenuDrodownHoverEnter","handleSubmenuDrodownHoverExit","handleSubmenuDropdownClick","handleSubmenuDropdownTabClick","handleLinkClick","default","submenus","hasAttribute","resumeDropdownHover","showSubmenuDropdown","hideSubmenuDropdown","hideSubmenuDropdowns","handleSubmenuDropdownClose","shown","li","subnav","closables","el_","submenu_","scrollToItem","classAlso","cnt","createSubmenuDropdownClickDropoff","dropoff","date","resetActiveItem","i_","len_","setActiveItem","getBreadcrumbs","submenuLink","reverse","getPageTitle","scrollReInit","hideDropdown","toggleElement","targetElement","targetToggleMode","toggleOn","toggleOff","toggleSpeed","releseOnReverse","onScrollSticky","st","resetSticky","setContent","getSelf","collapse","destroySticky","handle"],"mappings":"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","file":"static/js/main.1c64a402.chunk.js","sourcesContent":["import { persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { put, takeLatest } from \"redux-saga/effects\";\r\n\r\nexport const actionTypes = {\r\n  Login: \"[Login] Action\",\r\n  Logout: \"[Logout] Action\",\r\n  UserRequested: \"[Request User] Action\",\r\n  UserLoaded: \"[Load User] Auth API\",\r\n  SetUser: \"[Set User] Action\",\r\n};\r\n\r\nconst initialAuthState = {\r\n  user: undefined,\r\n  authToken: undefined,\r\n};\r\n\r\nexport const reducer = persistReducer(\r\n  { storage, key: \"mda-auth\", whitelist: [\"user\", \"authToken\"] },\r\n  (state = initialAuthState, action) => {\r\n    switch (action.type) {\r\n      case actionTypes.Login: {\r\n        const { jwtToken, id, userName, isAdmin, domain } = action.payload.user;\r\n\r\n        return { authToken: jwtToken, user: {id, userName,isAdmin, domain} };\r\n      }\r\n\r\n      case actionTypes.Logout: {\r\n        // TODO: Change this code. Actions in reducer aren't allowed.\r\n        return initialAuthState;\r\n      }\r\n\r\n      case actionTypes.UserLoaded: {\r\n        const { user } = action.payload;\r\n        return { ...state, user };\r\n      }\r\n\r\n      case actionTypes.SetUser: {\r\n        const { user } = action.payload;\r\n        return { ...state, user };\r\n      }\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n);\r\n\r\nexport const actions = {\r\n  login: (user) => ({ type: actionTypes.Login, payload: { user } }),\r\n  logout: () => ({ type: actionTypes.Logout }),\r\n  setUser: (user) => ({ type: actionTypes.SetUser, payload: { user } }),\r\n};\r\n\r\n\r\nexport function* saga() {}","import { actionTypes } from \"../app/modules/Auth/_redux/authRedux\";\r\nimport join from \"url-join\";\r\n\r\nconst isAbsoluteURLRegex = /^(?:\\w+:)\\/\\//;\r\nconst MDA_BACKEND_API = process.env.REACT_APP_MDA_BACKEND_API\r\nlet isRefreshing = false;\r\nlet failedQueue = [];\r\n\r\nconst processQueue = (error, data = null) => {\r\n  failedQueue.forEach(prom => {\r\n      if (error) {\r\n        prom.reject(error);\r\n      } else {\r\n        prom.resolve(data);\r\n      }\r\n  });\r\n\r\n  failedQueue = [];\r\n};\r\n\r\nexport default function setupAxios(axios, store) {\r\n  axios.interceptors.request.use(\r\n    config => {\r\n      const {\r\n        auth: { authToken }\r\n      } = store.getState();\r\n\r\n      if (authToken) {\r\n        config.headers.Authorization = `Bearer ${authToken}`;\r\n      }\r\n\r\n      if ( !isAbsoluteURLRegex.test(config.url) ) {\r\n        config.url = join(MDA_BACKEND_API, config.url);\r\n      }\r\n\r\n      return config;\r\n    },\r\n    err => Promise.reject(err)\r\n  );\r\n\r\n  axios.interceptors.response.use((response) => {\r\n    return response\r\n  }, function (error) {\r\n\r\n    const originalRequest = error.config;\r\n\r\n    if (error.message != \"Network Error\" && error.response === undefined) {\r\n      Promise.reject(error);\r\n      window.location = './error';\r\n      return error\r\n    }\r\n\r\n\r\n    if (error.response.status === 401 && !originalRequest._retry) {\r\n\r\n      if (isRefreshing) {\r\n        return new Promise(function(resolve, reject) {\r\n            failedQueue.push({ resolve, reject });\r\n        })\r\n            .then(data => {\r\n              store.dispatch({type: actionTypes.Login, payload: { user: data } })\r\n              return axios(originalRequest);\r\n            })\r\n            .catch(err => {\r\n                return Promise.reject(err);\r\n            });\r\n      }      \r\n\r\n      originalRequest._retry = true;\r\n      isRefreshing = true;\r\n\r\n      return new Promise(function(resolve, reject) {\r\n          axios.post(`users/refresh-token`, {}, {withCredentials: true})\r\n            .then(({ data }) => {\r\n                store.dispatch({type: actionTypes.Login, payload: { user: data } })\r\n                processQueue(null, data);\r\n                resolve(axios(originalRequest));\r\n            })\r\n            .catch(err => {\r\n                processQueue(err, null);\r\n                store.dispatch({type: actionTypes.SetUser, payload: { user: null } })\r\n                reject(err);\r\n            })\r\n            .then(() => {\r\n                isRefreshing = false;\r\n            });\r\n      });   \r\n    }\r\n    return Promise.reject(error);\r\n  });\r\n}","import { persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { put, takeLatest } from \"redux-saga/effects\";\r\n\r\nexport const actionTypes = {\r\n  RECEIVE_DRUGS_DATA: \"RECEIVE_DRUGS_DATA\",\r\n  RECEIVE_LABORATORIES_DATA: \"RECEIVE_LABORATORIES_DATA\",\r\n  RECEIVE_LINEGROUPS_DATA: \"RECEIVE_LINEGROUPS_DATA\",\r\n  RECEIVE_PHARMACEUTICALFORMS_DATA: 'RECEIVE_PHARMACEUTICALFORMS_DATA',\r\n  RECEIVE_PRODUCTS_DATA: \"RECEIVE_PRODUCTS_DATA\",\r\n  RECEIVE_PRODUCT_PRESENTATIONS_DATA: \"RECEIVE_PRODUCT_PRESENTATIONS_DATA\",\r\n  RECEIVE_THERAPEUTICAL_CLASESS_DATA: \"RECEIVE_THERAPEUTICAL_CLASESS_DATA\",\r\n  RECEIVE_LINES_DATA: \"RECEIVE_LINES_DATA\",\r\n  RECEIVE_PRODUCT_TYPES_DATA: \"RECEIVE_PRODUCT_TYPES_DATA\",\r\n  STORE_CUSTOM_MARKET_SELECTED: 'STORE_CUSTOM_MARKET_SELECTED',\r\n  SET_CUSTOM_MARKET_TITLE: 'SET_CUSTOM_MARKET_TITLE',\r\n  SET_CUSTOM_MARKET_TREE_VISIBLE: 'SET_CUSTOM_MARKET_TREE_VISIBLE',\r\n  STORE_CUSTOM_MARKET_GROUPS: 'STORE_CUSTOM_MARKET_GROUPS',\r\n  RECEIVE_CUSTOM_MARKET_TREE_DATA: 'RECEIVE_CUSTOM_MARKET_TREE_DATA',\r\n  SET_CUSTOM_MARKET_PAGE_VIEW: 'SET_CUSTOM_MARKET_PAGE_VIEW',\r\n  RESET_CUSTOM_MARKET: 'RESET_CUSTOM_MARKET',\r\n  SET_LOADING: \"SET_LOADING\",\r\n  SET_LOADING_PRODUCTS: \"SET_LOADING_PRODUCTS\",\r\n  SET_LOADING_PRODUCT_PRESENTATIONS: \"SET_LOADING_PRODUCT_PRESENTATIONS\",\r\n  SET_LOADING_THERAPEUTICAL_CLASESS: \"SET_LOADING_THERAPEUTICAL_CLASESS\",\r\n  SET_LOADING_LABORATORIES: \"SET_LOADING_LABORATORIES\",\r\n  SET_LOADING_DRUGS: \"SET_LOADING_DRUGS\",\r\n  SET_LOADING_PHARMACEUTICALFORMS: 'SET_LOADING_PHARMACEUTICALFORMS',\r\n  SET_LOADING_LINEGROUPS: 'SET_LOADING_LINEGROUPS',\r\n  RECEIVE_CUSTOM_MARKET_DATA: 'RECEIVE_CUSTOM_MARKET_DATA',\r\n  SET_GET_ERROR: 'SET_GET_ERROR',\r\n  CUSTOM_MARKET_PREVIEW_ACTION: 'CUSTOM_MARKET_PREVIEW_ACTION'\r\n};\r\n\r\nconst initialState = {\r\n    drugs: null,\r\n    laboratories: null,\r\n    lines: { data: [], isLoading: false },\r\n    linegroups: null,\r\n    pharmaceuticalforms: null,\r\n    products: null,\r\n    productpresentations: null,\r\n    producttypes: null,\r\n    therapeuticalclasses: null,\r\n    customMarket: { data: {}, isLoading: false, description: '', treeVisible: true },\r\n    customMarketPreviewAction: {type: '', item: null, visible: false, action: null},\r\n    loading: true,\r\n    customMarketGroups: { data: {}, isLoading: false },\r\n    customMarketTree: { data: {}, isLoading: true},\r\n    customMarketPageView: { view: ''  },\r\n    loadingProducts: true,\r\n    loadingProductPresentations: true,\r\n    loadingTherapeuticalClasses: true,\r\n    loadingLaboratories: true,\r\n    loadingDrugs: true,\r\n    pharmaceuticalformsLoading: true,\r\n    loadingLineGroups: true,\r\n    allCustomMarket: { data: {}, isLoading: true},\r\n    getError: { visible: false, title: null, description: null}\r\n};\r\n\r\nexport const reducer = persistReducer(\r\n  { storage, key: \"mda-components\", whitelist: [\"user\", \"authToken\"] },\r\n  (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.RECEIVE_PRODUCTS_DATA:\r\n            return {...state, products: action.products}\r\n\r\n        case actionTypes.RECEIVE_DRUGS_DATA:\r\n            return {...state, drugs: action.drugs}\r\n\r\n        case actionTypes.RECEIVE_PHARMACEUTICALFORMS_DATA:\r\n            return {...state, pharmaceuticalforms: action.pharmaceuticalforms}\r\n\r\n        case actionTypes.RECEIVE_PRODUCT_PRESENTATIONS_DATA:\r\n            return {...state, productpresentations: action.productpresentations}\r\n\r\n        case actionTypes.RECEIVE_LINES_DATA:\r\n            return {\r\n                ...state,\r\n                lines: {\r\n                    ...state.lines,\r\n                    data: action.lines,\r\n                    isLoading: action.isLoading\r\n                }\r\n            }\r\n\r\n        case actionTypes.RECEIVE_LINEGROUPS_DATA:\r\n            return {...state, linegroups: action.linegroups}\r\n\r\n        case actionTypes.RECEIVE_LABORATORIES_DATA:\r\n            return {...state, laboratories: action.laboratories}            \r\n\r\n        case actionTypes.RECEIVE_THERAPEUTICAL_CLASESS_DATA:\r\n            return {...state, therapeuticalclasses: action.therapeuticalclasses}                            \r\n                    \r\n        case actionTypes.SET_CUSTOM_MARKET_TITLE:\r\n            return {\r\n                ...state,\r\n            customMarket: {\r\n                ...state.customMarket,\r\n                description: action.description\r\n            }\r\n        }\r\n\r\n        case actionTypes.STORE_CUSTOM_MARKET_SELECTED:\r\n        return {\r\n            ...state,\r\n            customMarket: {\r\n                ...state.customMarket,\r\n                data: action.customMarketSelected,\r\n                isLoading: action.isLoading,\r\n                treeVisible: action.treeVisible\r\n            }\r\n        }\r\n\r\n        case actionTypes.SET_CUSTOM_MARKET_TREE_VISIBLE:\r\n            return {\r\n            ...state,\r\n            customMarket: {\r\n                ...state.customMarket,\r\n                treeVisible: action.visible\r\n            }\r\n        }\r\n\r\n        case actionTypes.STORE_CUSTOM_MARKET_GROUPS:\r\n            return {\r\n                ...state,\r\n            customMarketGroups: {\r\n                ...state.customMarketGroups,\r\n                data: action.customMarketGroups,\r\n                isLoading: action.isLoading\r\n            }\r\n        }\r\n\r\n        case actionTypes.RECEIVE_PRODUCT_TYPES_DATA:\r\n            return {...state, producttypes: action.producttypes}            \r\n\r\n        case actionTypes.RECEIVE_CUSTOM_MARKET_TREE_DATA:\r\n            return {\r\n                ...state,\r\n                customMarketTree: {\r\n                    ...state.customMarketGroups,\r\n                    data: action.customMarketTree,\r\n                    isLoading: action.isLoading\r\n                }\r\n            }          \r\n\r\n        case actionTypes.SET_CUSTOM_MARKET_PAGE_VIEW:\r\n        return {\r\n            ...state,\r\n            customMarketPageView: {\r\n                view: action.view\r\n            }\r\n        }\r\n        case actionTypes.RESET_CUSTOM_MARKET:\r\n            return initialState;\r\n                \r\n        case actionTypes.SET_LOADING:\r\n            return {...state, loading: action.loading}\r\n\r\n        case actionTypes.SET_LOADING_PRODUCTS:\r\n            return {...state, loadingProducts: action.loading}  \r\n            \r\n        case actionTypes.SET_LOADING_PRODUCT_PRESENTATIONS:\r\n            return {...state, loadingProductPresentations: action.loading}    \r\n            \r\n        case actionTypes.SET_LOADING_THERAPEUTICAL_CLASESS:\r\n            return {...state, loadingTherapeuticalClasses: action.loading}  \r\n            \r\n        case actionTypes.SET_LOADING_LABORATORIES:\r\n            return {...state, loadingLaboratories: action.loading} \r\n            \r\n        case actionTypes.SET_LOADING_DRUGS:\r\n            return {...state, loadingDrugs: action.loading} \r\n\r\n        case actionTypes.SET_LOADING_PHARMACEUTICALFORMS:\r\n            return {...state, pharmaceuticalformsLoading: action.loading}              \r\n\r\n        case actionTypes.SET_LOADING_LINEGROUPS:\r\n            return {...state, loadingLineGroups: action.loading}     \r\n            \r\n        case actionTypes.RECEIVE_CUSTOM_MARKET_DATA:  \r\n            return {\r\n                ...state,\r\n                allCustomMarket: {\r\n                    data: action.data,\r\n                    isLoading: action.isLoading\r\n                }\r\n            }    \r\n            \r\n        case actionTypes.SET_GET_ERROR:\r\n            return {\r\n                ...state,\r\n                getError: {\r\n                    visible: action.visible,\r\n                    title: action.title,\r\n                    description: action.description,\r\n                }   \r\n            }\r\n        case actionTypes.CUSTOM_MARKET_PREVIEW_ACTION:\r\n            return {\r\n                ...state,\r\n                customMarketPreviewAction: {\r\n                    visible: action.preview.visible,\r\n                    type: action.preview.type,\r\n                    item: action.preview.item,\r\n                }\r\n            }\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n);\r\n","import {all} from \"redux-saga/effects\";\r\nimport {combineReducers} from \"redux\";\r\n\r\nimport * as auth from \"../app/modules/Auth/_redux/authRedux\";\r\nimport * as mercados from \"../app/modules/Mercados/_redux/mercadosRedux\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  auth: auth.reducer,\r\n  mercados: mercados.reducer\r\n});\r\n\r\nexport function* rootSaga() {\r\n  yield all([auth.saga()]);\r\n}\r\n","import {configureStore, getDefaultMiddleware} from \"@reduxjs/toolkit\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport {reduxBatch} from \"@manaflair/redux-batch\";\r\nimport {persistStore} from \"redux-persist\";\r\nimport {rootReducer, rootSaga} from \"./rootReducer\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    immutableCheck: false,\r\n    serializableCheck: false,\r\n    thunk: true\r\n  }),\r\n  sagaMiddleware\r\n];\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware,\r\n  devTools: process.env.NODE_ENV !== \"production\",\r\n  enhancers: [reduxBatch]\r\n});\r\n\r\n/**\r\n * @see https://github.com/rt2zz/redux-persist#persiststorestore-config-callback\r\n * @see https://github.com/rt2zz/redux-persist#persistor-object\r\n */\r\nexport const persistor = persistStore(store);\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;\r\n","export function removeCSSClass(ele, cls) {\r\n    const reg = new RegExp(\"(\\\\s|^)\" + cls + \"(\\\\s|$)\");\r\n    ele.className = ele.className.replace(reg, \" \");\r\n}\r\n\r\nexport function addCSSClass(ele, cls) {\r\n    ele.classList.add(cls);\r\n}\r\n\r\nexport const toAbsoluteUrl = pathname => process.env.PUBLIC_URL + pathname;\r\n","import * as utils from \"./LocalStorageHelpers\";\r\n\r\nconst localStorageLastLocationKey = \"metronic-lastLocation\";\r\n\r\nfunction acceptLocation(lastLocation) {\r\n    if (\r\n        lastLocation &&\r\n        lastLocation.pathname &&\r\n        lastLocation.pathname !== \"/\" &&\r\n        lastLocation.pathname.indexOf(\"auth\") === -1 &&\r\n        lastLocation.pathname !== \"/logout\"\r\n    ) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport function saveLastLocation(lastLocation) {\r\n    if (acceptLocation(lastLocation)) {\r\n        utils.setStorage(\r\n            localStorageLastLocationKey,\r\n            JSON.stringify(lastLocation),\r\n            120\r\n        );\r\n    }\r\n}\r\n\r\nexport function forgotLastLocation() {\r\n    utils.removeStorage(localStorageLastLocationKey);\r\n}\r\n\r\nexport function getLastLocation() {\r\n    const defaultLocation = { pathname: \"/\", title: \"Dashboard\"};\r\n    const localStorateLocations = utils.getStorage(localStorageLastLocationKey);\r\n    if (!localStorateLocations) {\r\n        return { pathname: \"/\", title: \"Dashboard\"};\r\n    }\r\n\r\n    try {\r\n        const result = JSON.parse(localStorateLocations);\r\n        return result;\r\n    } catch (error) {\r\n        console.error(error);\r\n        return defaultLocation;\r\n    }\r\n}\r\n\r\nexport function getCurrentUrl(location) {\r\n    return location.pathname.split(/[?#]/)[0];\r\n}\r\n\r\nexport function checkIsActive(location, url) {\r\n    const current = getCurrentUrl(location);\r\n    if (!current || !url) {\r\n        return  false;\r\n    }\r\n\r\n    if (current === url) {\r\n        return  true;\r\n    }\r\n\r\n    if (current.indexOf(url) > -1) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n","import objectPath from \"object-path\";\r\nimport {toAbsoluteUrl} from \"../../_helpers\";\r\n\r\nexport class HtmlClassService {\r\n  // Public properties\r\n  config;\r\n  classes;\r\n  attributes;\r\n\r\n  /**\r\n   * Build html element classes from layout config\r\n   * @param layoutConfig\r\n   */\r\n  setConfig(layoutConfig) {\r\n    this.config = this.preInit(layoutConfig);\r\n\r\n    // scope list of classes\r\n    this.classes = {\r\n      header: [],\r\n      header_container: [],\r\n      header_mobile: [],\r\n      header_menu: [],\r\n      aside: [],\r\n      aside_menu: [],\r\n      subheader: [],\r\n      subheader_container: [],\r\n      content: [],\r\n      content_container: [],\r\n      footer_container: []\r\n    };\r\n\r\n    this.attributes = {\r\n      aside_menu: {},\r\n      header_mobile: {},\r\n      header_menu: {}\r\n    };\r\n\r\n    // init base layout\r\n    this.initLayout();\r\n    this.initLoader();\r\n\r\n    // init header and subheader menu\r\n    this.initHeader();\r\n    this.initSubheader();\r\n\r\n    this.initContent();\r\n    // init aside and aside menu\r\n    this.initAside();\r\n\r\n    // init footer\r\n    this.initFooter();\r\n\r\n    // init theme\r\n    this.initTheme();\r\n  }\r\n\r\n  preInit(layoutConfig) {\r\n    const updatedConfig = Object.assign({}, layoutConfig);\r\n    const headerSelfFixedDesktop = objectPath.get(updatedConfig, \"header.self.fixed.desktop\");\r\n    const subheaderFixed = objectPath.get(updatedConfig, \"subheader.fixed\");\r\n    if (subheaderFixed && headerSelfFixedDesktop) {\r\n      // Page::setOption('layout', 'subheader/style', 'solid');\r\n      updatedConfig.subheader.style = \"solid\";      \r\n    } else {\r\n      // Page::setOption('layout', 'subheader/fixed', false);\r\n      updatedConfig.subheader.fixed = false;\r\n    }\r\n    return updatedConfig;\r\n  }\r\n\r\n  /**\r\n   * Returns Classes\r\n   *\r\n   * @param path: string\r\n   * @param toString boolean\r\n   */\r\n  getClasses(path, toString) {\r\n    if (path) {\r\n      const classes = objectPath.get(this.classes, path) || \"\";\r\n      if (toString && Array.isArray(classes)) {\r\n        return classes.join(\" \");\r\n      }\r\n      return classes.toString();\r\n    }\r\n    return this.classes;\r\n  }\r\n\r\n  getAttributes(path) {\r\n    if (path) {\r\n      const attributes = objectPath.get(this.attributes, path) || [];\r\n      return attributes;\r\n    }\r\n    return [];\r\n  }\r\n\r\n  getLogo() {\r\n    const brandSkin = objectPath.get(this.config, \"brand.self.theme\");\r\n    if (brandSkin === \"light\") {\r\n      return toAbsoluteUrl(\"/media/logos/logo-dark.png\");\r\n    } else {\r\n      return toAbsoluteUrl(\"/media/logos/logo-light.png\");\r\n    }\r\n  }\r\n\r\n  getStickyLogo() {\r\n    let logo = objectPath.get(this.config, \"self.logo.sticky\");\r\n    if (typeof logo === \"undefined\") {\r\n      logo = this.getLogo();\r\n    }\r\n    return logo + \"\";\r\n  }\r\n\r\n  /**\r\n   * Init Layout\r\n   */\r\n  initLayout() {\r\n    const selfBodyBackgroundImage = objectPath.get(this.config, \"self.body.background-image\");\r\n    if (selfBodyBackgroundImage) {\r\n      document.body.style.backgroundImage = `url(\"${selfBodyBackgroundImage}'\")`;\r\n    }\r\n\r\n    const _selfBodyClass = objectPath.get(this.config, \"self.body.class\");\r\n    if (_selfBodyClass) {\r\n      const bodyClasses = _selfBodyClass.toString().split(\" \");\r\n      bodyClasses.forEach(cssClass => document.body.classList.add(cssClass));\r\n    }\r\n\r\n    // Offcanvas directions\r\n    document.body.classList.add(\"quick-panel-right\");\r\n    document.body.classList.add(\"demo-panel-right\");\r\n    document.body.classList.add(\"offcanvas-right\");\r\n  }\r\n\r\n  /**\r\n   * Init Loader\r\n   */\r\n  initLoader() {}\r\n\r\n  /**\r\n   * Init Header\r\n   */\r\n  initHeader() {\r\n    // Fixed header\r\n    const headerSelfFixedDesktop = objectPath.get(this.config, \"header.self.fixed.desktop\");\r\n    if (headerSelfFixedDesktop) {\r\n      document.body.classList.add(\"header-fixed\");\r\n      objectPath.push(this.classes, \"header\", \"header-fixed\");\r\n    } else {\r\n      document.body.classList.add(\"header-static\");\r\n    }\r\n\r\n    const headerSelfFixedMobile  = objectPath.get(this.config, \"header.self.fixed.mobile\");\r\n    if (headerSelfFixedMobile) {\r\n      document.body.classList.add(\"header-mobile-fixed\");\r\n      objectPath.push(this.classes, \"header_mobile\", \"header-mobile-fixed\");\r\n    }\r\n\r\n    // Menu\r\n    const headerMenuSelfDisplay = objectPath.get(this.config, \"header.menu.self.display\");\r\n    if (headerMenuSelfDisplay) {\r\n      const headerMenuSelfLayout = objectPath.get(this.config, \"header.menu.self.layout\");\r\n      const headerMenuLayoutCssClass = `header-menu-layout-${headerMenuSelfLayout}`;\r\n      objectPath.push(this.classes, \"header_menu\", headerMenuLayoutCssClass);\r\n\r\n            if (objectPath.get(this.config, \"header.menu.self.root-arrow\")) {\r\n        objectPath.push(this.classes, \"header_menu\", \"header-menu-root-arrow\");\r\n      }\r\n    }\r\n\r\n    const headerSelfWidth = objectPath.get(this.config, \"header.self.width\");\r\n    if (headerSelfWidth === \"fluid\") {\r\n      objectPath.push(this.classes, \"header_container\", \"container-fluid\");\r\n    } else {\r\n      objectPath.push(this.classes, \"header_container\", \"container\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Init Subheader\r\n   */\r\n  initSubheader() {\r\n    const subheaderDisplay = objectPath.get(this.config, \"subheader.display\");\r\n    if (subheaderDisplay) {\r\n      document.body.classList.add(\"subheader-enabled\");\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    // Fixed content head\r\n    const subheaderFixed = objectPath.get(this.config, \"subheader.fixed\");\r\n    const headerSelfFixedDesktop = objectPath.get(this.config, \"header.self.fixed.desktop\");\r\n    if (subheaderFixed && headerSelfFixedDesktop) {\r\n      document.body.classList.add(\"subheader-fixed\");\r\n      // Page::setOption('layout', 'subheader/style', 'solid'); => See preInit()\r\n    } else {\r\n      // Page::setOption('layout', 'subheader/fixed', false); => See preInit()\r\n    }\r\n\r\n    const subheaderStyle = objectPath.get(this.config, \"subheader.style\");\r\n    if (subheaderStyle) {\r\n      const subheaderClass = `subheader-${subheaderStyle}`;\r\n      objectPath.push(this.classes, \"subheader\", subheaderClass);\r\n    }\r\n\r\n    const subheaderWidth = objectPath.get(this.config, \"subheader.width\");\r\n    if (subheaderWidth === \"fluid\") {\r\n      objectPath.push(this.classes, \"subheader_container\", \"container-fluid\");\r\n    } else {\r\n      objectPath.push(this.classes, \"subheader_container\", \"container\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"subheader.clear\")) {\r\n      objectPath.push(this.classes, \"subheader\", \"mb-0\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Init Content\r\n   */\r\n  initContent() {\r\n    if (objectPath.get(this.config, \"content.fit-top\")) {\r\n      objectPath.push(this.classes, \"content\", \"pt-0\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"content.fit-bottom\")) {\r\n      objectPath.push(this.classes, \"content\", \"pb-0\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"content.width\") === \"fluid\") {\r\n      objectPath.push(this.classes, \"content_container\", \"container-fluid\");\r\n    } else {\r\n      objectPath.push(this.classes, \"content_container\", \"container\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Init Aside\r\n   */\r\n  initAside() {\r\n    // Check Aside\r\n    const asideSelfDisplay = objectPath.get(this.config, \"aside.self.display\");\r\n    if (!asideSelfDisplay) {\r\n      return;\r\n    }\r\n\r\n    // Enable Aside\r\n    document.body.classList.add(\"aside-enabled\");\r\n\r\n    // Fixed Aside\r\n    const asideSelfFixed = objectPath.get(this.config, \"aside.self.fixed\");\r\n    if (asideSelfFixed) {\r\n      document.body.classList.add(\"aside-fixed\");\r\n      objectPath.push(this.classes, \"aside\", \"aside-fixed\");\r\n    } else {\r\n      document.body.classList.add(\"aside-static\");\r\n    }\r\n\r\n    // Check Aside\r\n    if (!asideSelfDisplay) {\r\n      return;\r\n    }\r\n\r\n    // Default fixed\r\n    if (objectPath.get(this.config, \"aside.self.minimize.default\")) {\r\n      document.body.classList.add(\"aside-minimize\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"aside.self.minimize.hoverable\")) {\r\n      document.body.classList.add(\"aside-minimize-hoverable\");\r\n    }\r\n\r\n    // Menu\r\n    // Dropdown Submenu\r\n    const asideMenuDropdown = objectPath.get(this.config, \"aside.menu.dropdown\");\r\n    if (asideMenuDropdown) {\r\n      objectPath.push(this.classes, \"aside_menu\", \"aside-menu-dropdown\");\r\n      this.attributes.aside_menu[\"data-menu-dropdown\"] = \"1\";\r\n    }\r\n\r\n    // Scrollable Menu\r\n    this.attributes.aside_menu[\"data-menu-scroll\"] = asideMenuDropdown ? \"0\" : \"1\";\r\n\r\n    const asideSubmenuDHoverTimeout = objectPath.get(\r\n      this.config,\r\n      \"aside.menu.submenu.dropdown.hover-timeout\"\r\n    );\r\n    if (asideSubmenuDHoverTimeout) {\r\n      this.attributes.aside_menu[\r\n        \"data-menu-dropdown-timeout\"\r\n      ] = asideSubmenuDHoverTimeout;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Init Footer\r\n   */\r\n  initFooter() {\r\n    // Fixed header\r\n    if (objectPath.get(this.config, \"footer.fixed\")) {\r\n      document.body.classList.add(\"footer-fixed\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"footer.self.width\") === \"fluid\") {\r\n      objectPath.push(this.classes, \"footer_container\", \"container-fluid\");\r\n    } else {\r\n      objectPath.push(this.classes, \"footer_container\", \"container\");\r\n    }\r\n  }\r\n\r\n  /** Init Theme */\r\n  initTheme() {\r\n    const asideSelfDisplay = objectPath.get(this.config, \"aside.self.display\");\r\n    if (!asideSelfDisplay) {\r\n      const headerSelfTheme = objectPath.get(this.config, \"header.self.theme\");\r\n      document.body.classList.add(`brand-${headerSelfTheme}`);\r\n    } else {\r\n      const brandSelfTheme = objectPath.get(this.config, \"brand.self.theme\");\r\n      document.body.classList.add(`brand-${brandSelfTheme}`);\r\n    }\r\n  }\r\n}\r\n","import React, { createContext, useContext, useMemo } from \"react\";\r\nimport { getInitLayoutConfig } from \"./LayoutConfig\";\r\nimport { HtmlClassService } from \"./HTMLClassService\";\r\n\r\nconst LAYOUT_CONFIG_KEY =\r\n  process.env.REACT_APP_LAYOUT_CONFIG_KEY || \"LayoutConfig\";\r\n\r\nfunction getConfig() {\r\n  const ls = localStorage.getItem(LAYOUT_CONFIG_KEY);\r\n  if (ls) {\r\n    try {\r\n      return JSON.parse(ls);\r\n    } catch (er) {\r\n      console.error(er);\r\n    }\r\n  }\r\n  return getInitLayoutConfig();\r\n}\r\n\r\n// Side effect\r\nexport function setLayoutConfig(config) {\r\n  localStorage.setItem(LAYOUT_CONFIG_KEY, JSON.stringify(config));\r\n  window.location.reload();\r\n}\r\n\r\nconst HtmlClassServiceContext = createContext();\r\n\r\n/**\r\n *\r\n *\r\n * @export\r\n * @returns Layout context from 'localStorage'\r\n */\r\nexport function useHtmlClassService() {\r\n  return useContext(HtmlClassServiceContext);\r\n}\r\n\r\nexport function withHtmlClassService(Component) {\r\n  class WithHtmlClassService extends React.Component {\r\n    static displayName = `WithHtmlClassService(${Component.displayName ||\r\n      Component.name})`;\r\n\r\n    static contextType = HtmlClassServiceContext;\r\n\r\n    render() {\r\n      return <Component {...this.props} htmlClassService={this.context} />;\r\n    }\r\n  }\r\n\r\n  return WithHtmlClassService;\r\n}\r\n\r\nexport const HtmlClassServiceConsumer = HtmlClassServiceContext.Consumer;\r\n\r\nexport function MetronicLayoutProvider({ children }) {\r\n  const lc = useMemo(getConfig, []);\r\n  const hcs = useMemo(() => {\r\n    const service = new HtmlClassService();\r\n\r\n    service.setConfig(lc);\r\n\r\n    return service;\r\n  }, [lc]);\r\n\r\n  return (\r\n    <HtmlClassServiceContext.Provider value={hcs}>\r\n      {children}\r\n    </HtmlClassServiceContext.Provider>\r\n  );\r\n}\r\n","import { toAbsoluteUrl } from \"../../_helpers\";\r\nexport function getInitLayoutConfig() {\r\n  return {\r\n    \"demo\": \"demo1\",\r\n    \"js\": {\r\n      \"breakpoints\": {\r\n        \"sm\": \"576\",\r\n        \"md\": \"768\",\r\n        \"lg\": \"992\",\r\n        \"xl\": \"1200\",\r\n        \"xxl\": \"1200\"\r\n      },\r\n      \"colors\": {\r\n        \"theme\": {\r\n          \"base\": {\r\n            \"white\": \"#ffffff\",\r\n            \"primary\": \"#6993FF\",\r\n            \"secondary\": \"#E5EAEE\",\r\n            \"success\": \"#1BC5BD\",\r\n            \"info\": \"#8950FC\",\r\n            \"warning\": \"#FFA800\",\r\n            \"danger\": \"#F64E60\",\r\n            \"light\": \"#F3F6F9\",\r\n            \"dark\": \"#212121\"\r\n          },\r\n          \"light\": {\r\n            \"white\": \"#ffffff\",\r\n            \"primary\": \"#E1E9FF\",\r\n            \"secondary\": \"#ECF0F3\",\r\n            \"success\": \"#C9F7F5\",\r\n            \"info\": \"#EEE5FF\",\r\n            \"warning\": \"#FFF4DE\",\r\n            \"danger\": \"#FFE2E5\",\r\n            \"light\": \"#F3F6F9\",\r\n            \"dark\": \"#D6D6E0\"\r\n          },\r\n          \"inverse\": {\r\n            \"white\": \"#ffffff\",\r\n            \"primary\": \"#ffffff\",\r\n            \"secondary\": \"#212121\",\r\n            \"success\": \"#ffffff\",\r\n            \"info\": \"#ffffff\",\r\n            \"warning\": \"#ffffff\",\r\n            \"danger\": \"#ffffff\",\r\n            \"light\": \"#464E5F\",\r\n            \"dark\": \"#ffffff\"\r\n          }\r\n        },\r\n        \"gray\": {\r\n          \"gray100\": \"#F3F6F9\",\r\n          \"gray200\": \"#ECF0F3\",\r\n          \"gray300\": \"#E5EAEE\",\r\n          \"gray400\": \"#D6D6E0\",\r\n          \"gray500\": \"#B5B5C3\",\r\n          \"gray600\": \"#80808F\",\r\n          \"gray700\": \"#464E5F\",\r\n          \"gray800\": \"#1B283F\",\r\n          \"gray900\": \"#212121\"\r\n        }\r\n      },\r\n      \"fontFamily\": \"Poppins\"\r\n    },\r\n    \"loader\": {\r\n      \"enabled\": true,\r\n      \"type\": \"\",\r\n      \"logo\": \"/metronic/react/demo1/media/logos/logo-dark-sm.png\",\r\n      \"message\": \"Please wait...\"\r\n    },\r\n    \"toolbar\": {\r\n      \"display\": true\r\n    },\r\n    \"header\": {\r\n      \"self\": {\r\n        \"width\": \"fluid\",\r\n        \"theme\": \"light\",\r\n        \"fixed\": {\r\n          \"desktop\": true,\r\n          \"mobile\": true\r\n        }\r\n      },\r\n      \"menu\": {\r\n        \"self\": {\r\n          \"display\": false,\r\n          \"layout\": \"default\",\r\n          \"root-arrow\": false,\r\n          \"icon-style\": \"duotone\"\r\n        },\r\n        \"desktop\": {\r\n          \"arrow\": true,\r\n          \"toggle\": \"click\",\r\n          \"submenu\": {\r\n            \"theme\": \"light\",\r\n            \"arrow\": true\r\n          }\r\n        },\r\n        \"mobile\": {\r\n          \"submenu\": {\r\n            \"theme\": \"dark\",\r\n            \"accordion\": true\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \"subheader\": {\r\n      \"display\": false,\r\n      \"displayDesc\": false,\r\n      \"displayDaterangepicker\": true,\r\n      \"layout\": \"subheader-v1\",\r\n      \"fixed\": true,\r\n      \"width\": \"fluid\",\r\n      \"clear\": false,\r\n      \"style\": \"solid\"\r\n    },\r\n    \"content\": {\r\n      \"width\": \"fluid\"\r\n    },\r\n    \"brand\": {\r\n      \"self\": {\r\n        \"theme\": \"dark\"\r\n      }\r\n    },\r\n    \"aside\": {\r\n      \"self\": {\r\n        \"theme\": \"dark\",\r\n        \"display\": true,\r\n        \"fixed\": true,\r\n        \"minimize\": {\r\n          \"toggle\": true,\r\n          \"default\": false,\r\n          \"hoverable\": true\r\n        }\r\n      },\r\n      \"footer\": {\r\n        \"self\": {\r\n          \"display\": true\r\n        }\r\n      },\r\n      \"menu\": {\r\n        \"dropdown\": false,\r\n        \"scroll\": true,\r\n        \"icon-style\": \"duotone\",\r\n        \"submenu\": {\r\n          \"accordion\": true,\r\n          \"dropdown\": {\r\n            \"arrow\": true,\r\n            \"hover-timeout\": 500\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \"footer\": {\r\n      \"self\": {\r\n        \"fixed\": true,\r\n        \"width\": \"fluid\"\r\n      }\r\n    },\r\n    \"extras\": {\r\n      \"search\": {\r\n        \"display\": false,\r\n        \"layout\": \"dropdown\",\r\n        \"offcanvas\": {\r\n          \"direction\": \"right\"\r\n        }\r\n      },\r\n      \"notifications\": {\r\n        \"display\": false,\r\n        \"layout\": \"dropdown\",\r\n        \"dropdown\": {\r\n          \"style\": \"dark\"\r\n        },\r\n        \"offcanvas\": {\r\n          \"directions\": \"right\"\r\n        }\r\n      },\r\n      \"quick-actions\": {\r\n        \"display\": false,\r\n        \"layout\": \"dropdown\",\r\n        \"dropdown\": {\r\n          \"style\": \"dark\"\r\n        },\r\n        \"offcanvas\": {\r\n          \"directions\": \"right\"\r\n        }\r\n      },\r\n      \"user\": {\r\n        \"display\": true,\r\n        \"layout\": \"dropdown\",\r\n        \"dropdown\": {\r\n          \"style\": \"dark\"\r\n        },\r\n        \"offcanvas\": {\r\n          \"directions\": \"right\"\r\n        }\r\n      },\r\n      \"languages\": {\r\n        \"display\": false\r\n      },\r\n      \"cart\": {\r\n        \"display\": false,\r\n        \"dropdown\": {\r\n          \"style\": \"dark\"\r\n        }\r\n      },\r\n      \"quick-panel\": {\r\n        \"display\": false,\r\n        \"offcanvas\": {\r\n          \"directions\": \"right\"\r\n        }\r\n      },\r\n      \"chat\": {\r\n        \"display\": true\r\n      },\r\n      \"toolbar\": {\r\n        \"display\": true\r\n      },\r\n      \"scrolltop\": {\r\n        \"display\": true\r\n      }\r\n    }\r\n  };\r\n}\r\n","import React, {useMemo} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport objectPath from \"object-path\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport {useHtmlClassService} from \"../../_core/MetronicLayout\";\r\nimport {toAbsoluteUrl} from \"../../../_helpers\";\r\n\r\nexport function Brand() {\r\n  const uiService = useHtmlClassService();\r\n\r\n  const layoutProps = useMemo(() => {\r\n    return {\r\n      brandClasses: uiService.getClasses(\"brand\", true),\r\n      asideSelfMinimizeToggle: objectPath.get(\r\n          uiService.config,\r\n          \"aside.self.minimize.toggle\"\r\n      ),\r\n      headerLogo: uiService.getLogo(),\r\n      headerStickyLogo: uiService.getStickyLogo()\r\n    };\r\n  }, [uiService]);\r\n\r\n  return (\r\n    <>\r\n      {/* begin::Brand */}\r\n      <div\r\n          className={`brand flex-column-auto ${layoutProps.brandClasses}`}\r\n          id=\"kt_brand\"\r\n      >\r\n        {/* begin::Logo */}\r\n        <Link to=\"\" className=\"brand-logo\">\r\n          <img alt=\"logo\" src={layoutProps.headerLogo}/>\r\n        </Link>\r\n        {/* end::Logo */}\r\n\r\n        {layoutProps.asideSelfMinimizeToggle && (\r\n          <>\r\n            {/* begin::Toggle */}\r\n            <button className=\"brand-toggle btn btn-sm px-0\" id=\"kt_aside_toggle\">\r\n              <span className=\"svg-icon svg-icon-xl\">\r\n                  <SVG src={toAbsoluteUrl(\"/media/svg/icons/Navigation/Angle-double-left.svg\")}/>\r\n              </span>\r\n            </button>\r\n            {/* end::Toolbar */}\r\n            </>\r\n        )}\r\n      </div>\r\n      {/* end::Brand */}\r\n      </>\r\n  );\r\n}\r\n","import { Ability, AbilityBuilder } from '@casl/ability';\r\nimport store from \"../../redux/store\";\r\n\r\n// Defines how to detect object's type\r\nfunction subjectName(item) {\r\n  if (!item || typeof item === 'string') {\r\n    return item;\r\n  }\r\n  return item.__type;\r\n}\r\n\r\nconst ability = new Ability([], { subjectName });\r\n\r\nlet currentAuth;\r\nstore.subscribe(() => {\r\n  const prevAuth = currentAuth;\r\n  //const { auth: { authToken } } = store.getState();\r\n  const { auth: { user } } = store.getState();\r\n  currentAuth = user //store.getState().user;\r\n  if (prevAuth !== currentAuth) {\r\n    ability.update(defineRulesFor(currentAuth));\r\n  }\r\n});\r\n\r\nfunction defineRulesFor(auth) {\r\n  const { can, cannot, rules } = AbilityBuilder.extract();\r\n  if (auth && auth.isAdmin == true) {\r\n    can('view', 'manage-custom-market');\r\n    can('view', 'custom-market-tree-action');\r\n    can('view', 'menu-maestros');\r\n    can('view', 'menu-usuarios');\r\n  }\r\n  if (auth && auth.isAdmin == false) {\r\n    cannot('view', 'manage-custom-market');\r\n    cannot('view', 'menu-maestros');\r\n    cannot('view', 'menu-usuarios');\r\n  }\r\n  return rules;\r\n}\r\n\r\nexport default ability;","import { createCanBoundTo } from '@casl/react';\r\nimport ability from './ability';\r\n\r\nexport default createCanBoundTo(ability);","/* eslint-disable jsx-a11y/role-supports-aria-props */\r\n/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { toAbsoluteUrl, checkIsActive } from \"../../../../_helpers\";\r\nimport LayersIcon from '@material-ui/icons/Layers';\r\nimport ImportContactsIcon from '@material-ui/icons/ImportContacts';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport Can from \"../../../../../app/config/Can\";\r\nimport { FormattedMessage } from \"react-intl\";\r\n\r\nexport function AsideMenuList({ layoutProps }) {\r\n  const location = useLocation();\r\n  const getMenuItemActive = (url, hasSubmenu = false) => {\r\n    return checkIsActive(location, url)\r\n      ? ` ${!hasSubmenu &&\r\n          \"menu-item-active\"} menu-item-open menu-item-not-hightlighted`\r\n      : \"\";\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* begin::Menu Nav */}\r\n      <ul className={`menu-nav ${layoutProps.ulClasses}`} style={{height: '100%'}}>\r\n\r\n        <li\r\n            className={`menu-item menu-item-submenu ${getMenuItemActive(\"/administracion-mercados\", true)}`}\r\n            aria-haspopup=\"true\"\r\n            data-menu-toggle=\"hover\"\r\n          >\r\n            <NavLink className=\"menu-link menu-toggle\" to=\"/administracion-mercados\">\r\n              <span className=\"svg-icon menu-icon\">\r\n                <LayersIcon />\r\n              </span>\r\n              <span className=\"menu-text\">\r\n                <FormattedMessage id=\"MENU.MANAGE_CUSTOM_MARKET\" />\r\n              </span>\r\n            </NavLink>\r\n          </li>\r\n          <Can I=\"view\" a=\"menu-maestros\">\r\n            <li\r\n              className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros\", true)}`}\r\n              aria-haspopup=\"true\"\r\n              data-menu-toggle=\"hover\"\r\n            >\r\n              <NavLink className=\"menu-link menu-toggle\" to=\"/google-material\">\r\n                <span className=\"svg-icon menu-icon\">\r\n                  <ImportContactsIcon />\r\n                </span>\r\n                <span className=\"menu-text\">\r\n                  <FormattedMessage id=\"MENU.MASTERS\" />\r\n                </span>\r\n                <i className=\"menu-arrow\" />\r\n              </NavLink>\r\n              <div className=\"menu-submenu \">\r\n                <i className=\"menu-arrow\" />\r\n                <ul className=\"menu-subnav\">\r\n                  <li className=\"menu-item  menu-item-parent\" aria-haspopup=\"true\">\r\n                    <span className=\"menu-link\">\r\n                      <span className=\"menu-text\">\r\n                        <FormattedMessage id=\"MENU.MASTERS\" />\r\n                      </span>\r\n                    </span>\r\n                  </li>\r\n\r\n                  {/* Inputs */}\r\n                  {/*begin::2 Level*/}\r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/grupo-drogas\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/grupo-drogas\"\r\n                    >\r\n                      <span className=\"menu-text\">                        \r\n                        <FormattedMessage id=\"MENU.MASTERS.DRUG_GROUP\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>  \r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/grupo-laboratorios\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/grupo-laboratorios\"\r\n                    >\r\n                      <span className=\"menu-text\">                        \r\n                        <FormattedMessage id=\"MENU.MASTERS.LABORATORY_GROUP\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>         \r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/grupo-presentaciones\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/grupo-presentaciones\"\r\n                    >\r\n                      <span className=\"menu-text\">                        \r\n                        <FormattedMessage id=\"MENU.MASTERS.PRODUCT_PRESENTATION_GROUP\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>                                              \r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/grupo-productos\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/grupo-productos\"\r\n                    >\r\n                      <span className=\"menu-text\">                        \r\n                        <FormattedMessage id=\"MENU.MASTERS.PRODUCT_GROUP\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>     \r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/presentaciones\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/presentaciones\"\r\n                    >\r\n                      <span className=\"menu-text\">\r\n                        <FormattedMessage id=\"MENU.MASTERS.PRODUCT_PRESENTATION\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>                                \r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/productos\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/productos\"\r\n                    >\r\n                      <span className=\"menu-text\">\r\n                        <FormattedMessage id=\"MENU.MASTERS.PRODUCT\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>\r\n                  <li\r\n                    className={`menu-item menu-item-submenu ${getMenuItemActive(\"/maestros/unidad-negocios\", true)}`}\r\n                    aria-haspopup=\"false\"\r\n                    data-menu-toggle=\"hover\"\r\n                  >\r\n                    <NavLink\r\n                      className=\"menu-link menu-toggle\"\r\n                      to=\"/maestros/unidad-negocios\"\r\n                    >\r\n                      <span className=\"menu-text\">                        \r\n                        <FormattedMessage id=\"MENU.MASTERS.BUSINESS_UNIT\" />\r\n                      </span>\r\n                    </NavLink>\r\n                  </li>                  \r\n                </ul>\r\n              </div>\r\n            </li>\r\n          </Can>\r\n          <Can I=\"view\" a=\"menu-usuarios\">\r\n            <li\r\n              className={`menu-item menu-item-submenu ${getMenuItemActive(\"/usuarios\", true)}`}\r\n              aria-haspopup=\"true\"\r\n              data-menu-toggle=\"hover\"\r\n            >\r\n              <NavLink className=\"menu-link menu-toggle\" to=\"/usuarios\">\r\n                <span className=\"svg-icon menu-icon\">\r\n                  <PeopleIcon />\r\n                </span>\r\n                <span className=\"menu-text\">\r\n                  <FormattedMessage id=\"MENU.USERS\" />\r\n                </span>\r\n              </NavLink>\r\n            </li>            \r\n          </Can>\r\n\r\n        {/*begin::1 Level*/}\r\n        <li\r\n          style={{bottom: '0px', width: '100%'}}\r\n          className={`position-absolute pb-5 menu-item ${getMenuItemActive(\"/logout\", false)}`}\r\n          aria-haspopup=\"true\"\r\n        >\r\n          <NavLink className=\"menu-link\" to=\"/logout\">\r\n            <span className=\"svg-icon menu-icon\">\r\n              <PowerSettingsNewIcon/>\r\n            </span>\r\n            <span className=\"menu-text\">\r\n              <FormattedMessage id=\"MENU.LOGOUT\" />\r\n            </span>\r\n          </NavLink>\r\n        </li>\r\n        {/*end::1 Level*/}\r\n      </ul>\r\n      {/* end::Menu Nav */}\r\n    </>\r\n  );\r\n}\r\n","import React, {useMemo} from \"react\";\r\nimport {AsideMenuList} from \"./AsideMenuList\";\r\nimport {useHtmlClassService} from \"../../../_core/MetronicLayout\";\r\n\r\nexport function AsideMenu({disableScroll}) {\r\n  const uiService = useHtmlClassService();\r\n  const layoutProps = useMemo(() => {\r\n    return {\r\n      layoutConfig: uiService.config,\r\n      asideMenuAttr: uiService.getAttributes(\"aside_menu\"),\r\n      ulClasses: uiService.getClasses(\"aside_menu_nav\", true),\r\n      asideClassesFromConfig: uiService.getClasses(\"aside_menu\", true)\r\n    };\r\n  }, [uiService]);\r\n\r\n  return (\r\n    <>\r\n      {/* begin::Menu Container */}\r\n      <div\r\n        id=\"kt_aside_menu\"\r\n        data-menu-vertical=\"1\"\r\n        className={`aside-menu my-4 ${layoutProps.asideClassesFromConfig}`}\r\n        {...layoutProps.asideMenuAttr}\r\n      >\r\n        <AsideMenuList layoutProps={layoutProps} />\r\n      </div>\r\n      {/* end::Menu Container */}\r\n    </>\r\n  );\r\n}\r\n","import React, {useMemo} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport objectPath from \"object-path\";\r\nimport {Brand} from \"../brand/Brand\";\r\nimport {AsideMenu} from \"./aside-menu/AsideMenu\";\r\nimport {useHtmlClassService} from \"../../_core/MetronicLayout\";\r\n\r\nexport function Aside() {\r\n  const uiService = useHtmlClassService();\r\n\r\n  const layoutProps = useMemo(() => {\r\n    return {\r\n      disableScroll:\r\n          objectPath.get(uiService.config, \"aside.menu.dropdown\") === \"true\" ||\r\n          false,\r\n      asideClassesFromConfig: uiService.getClasses(\"aside\", true),\r\n      disableAsideSelfDisplay:\r\n          objectPath.get(uiService.config, \"aside.self.display\") === false,\r\n      headerLogo: uiService.getLogo()\r\n    };\r\n  }, [uiService]);\r\n\r\n  return (\r\n      <>\r\n        {/* begin::Aside */}\r\n        <div id=\"kt_aside\"\r\n             className={`aside aside-left  ${layoutProps.asideClassesFromConfig} d-flex flex-column flex-row-auto`}>\r\n          <Brand/>\r\n\r\n          {/* begin::Aside Menu */}\r\n          <div id=\"kt_aside_menu_wrapper\" className=\"aside-menu-wrapper flex-column-fluid\">\r\n            {layoutProps.disableAsideSelfDisplay && (\r\n              <>\r\n                {/* begin::Header Logo */}\r\n                <div className=\"header-logo\">\r\n                  <Link to=\"\">\r\n                    <img alt=\"logo\" src={layoutProps.headerLogo}/>\r\n                  </Link>\r\n                </div>\r\n                {/* end::Header Logo */}\r\n              </>\r\n            )}\r\n            <AsideMenu disableScroll={layoutProps.disableScroll}/>\r\n          </div>\r\n          {/* end::Aside Menu */}\r\n        </div>\r\n        {/* end::Aside */}\r\n      </>\r\n  );\r\n}\r\n","import React, {useMemo} from \"react\";\r\nimport {useHtmlClassService} from \"../../_core/MetronicLayout\";\r\n\r\nexport function Footer() {\r\n  const today = new Date().getFullYear();\r\n  const uiService = useHtmlClassService();\r\n\r\n  const layoutProps = useMemo(() => {\r\n    return {\r\n      footerClasses: uiService.getClasses(\"footer\", true),\r\n      footerContainerClasses: uiService.getClasses(\"footer_container\", true)\r\n    };\r\n  }, [uiService]);\r\n\r\n  return (\r\n    <div\r\n      className={`footer bg-white py-4 d-flex flex-lg-column  ${layoutProps.footerClasses}`}\r\n      id=\"kt_footer\"\r\n    >\r\n      <div\r\n        className={`${layoutProps.footerContainerClasses} d-flex flex-column flex-md-row align-items-center justify-content-between`}\r\n      >\r\n        <div className=\"text-dark order-2 order-md-1\">\r\n          <span className=\"text-muted font-weight-bold mr-2\">{today.toString()}</span> &copy;{\" \"}\r\n          <a\r\n            href=\"http://www.solutica.com.ar\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            className=\"text-dark-75 text-hover-primary\"\r\n          >\r\n            Solutica\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutHeader = function() {\r\n    // Private properties\r\n    var _element;\r\n    var _elementForMobile;\r\n    var _object;\r\n\r\n\t// Private functions\r\n    // Get Height\r\n    var _getHeight = function() {\r\n        var height = 0;\r\n\r\n        if (_element) {\r\n            height = KTUtil.actualHeight(_element) + 1;\r\n        }\r\n\r\n        return height;\r\n    }\r\n\r\n    // Get Height\r\n    var _getHeightForMobile = function() {\r\n        var height;\r\n\r\n        height = KTUtil.actualHeight(_elementForMobile);\r\n\r\n        return height;\r\n    }\r\n\r\n    // Public Methods\r\n\treturn {\r\n\t\tinit: function(id, idForMobile) {\r\n            _element = KTUtil.getById(id);\r\n            _elementForMobile = KTUtil.getById(idForMobile);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\t\t},\r\n\r\n        isFixed: function() {\r\n            return KTUtil.hasClass(KTUtil.getBody(), 'header-fixed')\r\n        },\r\n\r\n        isFixedForMobile: function() {\r\n            return KTUtil.hasClass(KTUtil.getBody(), 'header-mobile-fixed')\r\n        },\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        },\r\n\r\n        getElementForMobile: function() {\r\n            return _elementForMobile;\r\n        },\r\n\r\n        getHeader: function() {\r\n            return _object;\r\n        },\r\n\r\n        getHeight: function() {\r\n            return _getHeight();\r\n        },\r\n\r\n        getHeightForMobile: function() {\r\n            return _getHeightForMobile();\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutHeader;\r\n}\r\n\nexport default KTLayoutHeader;","/* eslint-disable */\n\"use strict\";\n\nimport KTOffcanvas from \"./../../components/offcanvas.js\";\nimport KTMenu from \"./../../components/menu.js\";\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutHeaderMenu = function() {\r\n    // Private properties\r\n\tvar _menuElement;\r\n    var _menuObject;\r\n    var _offcanvasElement;\r\n    var _offcanvasObject;\r\n\r\n    // Private functions\r\n\tvar _init = function() {\r\n\t\t_offcanvasObject = new KTOffcanvas(_offcanvasElement, {\r\n\t\t\toverlay: true,\r\n\t\t\tbaseClass: 'header-menu-wrapper',\r\n\t\t\tcloseBy: 'kt_header_menu_mobile_close_btn',\r\n\t\t\ttoggleBy: {\r\n\t\t\t\ttarget: 'kt_header_mobile_toggle',\r\n\t\t\t\tstate: 'mobile-toggle-active'\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t_menuObject = new KTMenu(_menuElement, {\r\n\t\t\tsubmenu: {\r\n\t\t\t\tdesktop: 'dropdown',\r\n\t\t\t\ttablet: 'accordion',\r\n\t\t\t\tmobile: 'accordion'\r\n\t\t\t},\r\n\t\t\taccordion: {\r\n\t\t\t\tslideSpeed: 200, // accordion toggle slide speed in milliseconds\r\n\t\t\t\texpandAll: false // allow having multiple expanded accordions in the menu\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Close aside offcanvas panel before page reload On tablet and mobile\r\n        _menuObject.on('linkClick', function(menu) {\r\n            if (KTUtil.isBreakpointDown('lg')) { // Tablet and mobile mode\r\n                _offcanvasObject.hide(); // Hide offcanvas after general link click\r\n            }\r\n        });\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n        init: function(menuId, offcanvasId) {\r\n            _menuElement = KTUtil.getById(menuId);\r\n            _offcanvasElement = KTUtil.getById(offcanvasId);\r\n\r\n            if (!_menuElement) {\r\n                return;\r\n            }\r\n\r\n            // Initialize menu\r\n            _init();\r\n\t\t},\r\n\r\n\t\tgetMenuElement: function() {\r\n\t\t\treturn _menuElement;\r\n\t\t},\r\n\r\n        getOffcanvasElement: function() {\r\n\t\t\treturn _offcanvasElement;\r\n\t\t},\r\n\r\n        getMenu: function() {\r\n\t\t\treturn _menuObject;\r\n\t\t},\r\n\r\n\t\tpauseDropdownHover: function(time) {\r\n\t\t\tif (_menuObject) {\r\n\t\t\t\t_menuObject.pauseDropdownHover(time);\r\n\t\t\t}\r\n\t\t},\r\n\r\n        getOffcanvas: function() {\r\n\t\t\treturn _offcanvasObject;\r\n\t\t},\r\n\r\n\t\tcloseMobileOffcanvas: function() {\r\n\t\t\tif (_menuObject && KTUtil.isMobileDevice()) {\r\n\t\t\t\t_offcanvasObject.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutHeaderMenu;\r\n}\r\n\nexport default KTLayoutHeaderMenu;","/* eslint-disable */\n\"use strict\";\n\nimport KTToggle from \"./../../components/toggle.js\";\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutHeaderTopbar = function() {\r\n    // Private properties\r\n\tvar _toggleElement;\r\n    var _toggleObject;\r\n\r\n    // Private functions\r\n    var _init = function() {\r\n\t\t\t_toggleObject = new KTToggle(_toggleElement, KTUtil.getBody(), {\r\n\t\t\t\ttargetState: 'topbar-mobile-on',\r\n\t\t\t\ttoggleState: 'active',\r\n\t\t\t});\r\n    }\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _toggleElement = KTUtil.getById(id);\r\n\r\n\t\t\tif (!_toggleElement) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n            _init();\r\n\t\t},\r\n\r\n        getToggleElement: function() {\r\n            return _toggleElement;\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutHeaderTopbar;\r\n}\r\n\nexport default KTLayoutHeaderTopbar;","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutBrand = function() {\r\n    // Private properties\r\n    var _element;\r\n\r\n    // Private functions\r\n    var _getHeight = function() {\r\n        var height = 0;\r\n\r\n        if (_element) {\r\n            height = KTUtil.actualHeight(_element);\r\n        }\r\n\r\n        return height;\r\n    }\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\t\t},\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        },\r\n\r\n        getHeight: function() {\r\n            return _getHeight();\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutBrand;\r\n}\r\n\nexport default KTLayoutBrand;","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./../../components/util.js\";\nimport KTOffcanvas from \"./../../components/offcanvas.js\";\r\n\r\nvar KTLayoutAside = function() {\r\n    // Private properties\r\n    var _body;\r\n    var _element;\r\n    var _offcanvasObject;\r\n\r\n    // Private functions\r\n\t// Initialize\r\n\tvar _init = function() {\r\n\t\tvar offcanvasClass = KTUtil.hasClass(_element, 'aside-offcanvas-default') ? 'aside-offcanvas-default' : 'aside';\r\n\r\n        // Initialize mobile aside offcanvas\r\n\t\t_offcanvasObject = new KTOffcanvas(_element, {\r\n\t\t\tbaseClass: offcanvasClass,\r\n\t\t\toverlay: true,\r\n\t\t\tcloseBy: 'kt_aside_close_btn',\r\n\t\t\ttoggleBy: {\r\n\t\t\t\ttarget: 'kt_aside_mobile_toggle',\r\n\t\t\t\tstate: 'mobile-toggle-active'\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n            _body = KTUtil.getBody();\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n            _init();\r\n        },\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        },\r\n\r\n        getOffcanvas: function() {\r\n            return _offcanvasObject;\r\n        },\r\n\r\n        isFixed: function() {\r\n            return KTUtil.hasClass(_body, 'aside-fixed');\r\n        },\r\n\r\n        isMinimized: function() {\r\n            return (KTUtil.hasClass(_body, 'aside-fixed') && KTUtil.hasClass(_body, 'aside-minimize'));\r\n        },\r\n\r\n        isHoverable: function() {\r\n            return (KTUtil.hasClass(_body, 'aside-fixed') && KTUtil.hasClass(_body, 'aside-minimize-hoverable'));\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutAside;\r\n}\r\n\nexport default KTLayoutAside;","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutSubheader = function() {\r\n    // Private properties\r\n    var _element;\r\n\r\n    // Private functions\r\n    var _getHeight = function() {\r\n        var height = 0;\r\n\r\n        if (_element) {\r\n            height = KTUtil.actualHeight(_element);\r\n        }\r\n\r\n        return height;\r\n    }\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\t\t},\r\n\r\n        isFixed: function() {\r\n            return KTUtil.hasClass(KTUtil.getBody(), 'subheader-fixed');\r\n        },\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        },\r\n\r\n        getHeight: function() {\r\n            return _getHeight();\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutSubheader;\r\n}\r\n\nexport default KTLayoutSubheader;","/* eslint-disable */\n\"use strict\";\n\nimport KTLayoutHeader from \"./header.js\";\nimport KTCard from \"./../../components/card.js\";\nimport { KTUtil } from \"./../../components/util.js\";\nimport KTLayoutSubheader from \"./subheader.js\";\r\n\r\nvar KTLayoutStickyCard = function() {\r\n    // Private properties\r\n\tvar _element;\r\n    var _object;\r\n\r\n\t// Private functions\r\n\tvar _init = function() {\r\n\t\tvar offset = 300;\r\n\r\n\t\tif (typeof KTLayoutHeader !== 'undefined') {\r\n\t\t\toffset = KTLayoutHeader.getHeight();\r\n\t\t}\r\n\r\n        _object = new KTCard(_element, {\r\n\t\t\tsticky: {\r\n\t\t\t\toffset: offset,\r\n\t\t\t\tzIndex: 90,\r\n\t\t\t\tposition: {\r\n\t\t\t\t\ttop: function() {\r\n\t\t\t\t\t\tvar pos = 0;\r\n                        var body = KTUtil.getBody();\r\n\r\n\t\t\t\t\t\tif (KTUtil.isBreakpointUp('lg')) {\r\n\t\t\t\t\t\t\tif (typeof KTLayoutHeader !== 'undefined' && KTLayoutHeader.isFixed()) {\r\n\t\t\t\t\t\t\t\tpos = pos + KTLayoutHeader.getHeight();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (typeof KTLayoutSubheader !== 'undefined' && KTLayoutSubheader.isFixed()) {\r\n\t\t\t\t\t\t\t\tpos = pos + KTLayoutSubheader.getHeight();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (typeof KTLayoutHeader !== 'undefined' && KTLayoutHeader.isFixedForMobile()) {\r\n\t\t\t\t\t\t\t\tpos = pos + KTLayoutHeader.getHeightForMobile();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpos = pos - 1; // remove header border width\r\n\r\n\t\t\t\t\t\treturn pos;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tleft: function(card) {\r\n\t\t\t\t\t\treturn KTUtil.offset(_element).left;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: function(card) {\r\n\t\t\t\t\t\tvar body = KTUtil.getBody();\r\n\r\n\t\t\t\t\t\tvar cardWidth = parseInt(KTUtil.css(_element, 'width'));\r\n\t\t\t\t\t\tvar bodyWidth = parseInt(KTUtil.css(body, 'width'));\r\n\t\t\t\t\t\tvar cardOffsetLeft = KTUtil.offset(_element).left;\r\n\r\n\t\t\t\t\t\treturn bodyWidth - cardWidth - cardOffsetLeft;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t_object.initSticky();\r\n\r\n\t\tKTUtil.addResizeHandler(function() {\r\n\t\t\t_object.updateSticky();\r\n\t\t});\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n\t\t\t_init();\r\n\t\t},\r\n\r\n\t\tupdate: function() {\r\n\t\t\tif (_object) {\r\n\t\t\t\t_object.updateSticky();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutStickyCard;\r\n}\r\n\nexport default KTLayoutStickyCard;","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./../../components/util.js\";\nimport KTLayoutBrand from \"./brand.js\";\nimport KTMenu from \"./../../components/menu.js\";\nimport KTLayoutAside from \"./aside.js\";\r\n\r\nvar KTLayoutAsideMenu = function() {\r\n    // Private properties\r\n    var _body;\r\n    var _element;\r\n    var _menuObject;\r\n\r\n\t// Initialize\r\n\tvar _init = function() {\r\n\t\tvar menuDesktopMode = (KTUtil.attr(_element, 'data-menu-dropdown') === '1' ? 'dropdown' : 'accordion');\r\n        var scroll;\r\n\r\n\t\tif (KTUtil.attr(_element, 'data-menu-scroll') === '1') {\r\n\t\t\tscroll = {\r\n\t\t\t\trememberPosition: true, // remember position on page reload\r\n\t\t\t\theight: function() { // calculate available scrollable area height\r\n\t\t\t\t\tvar height = parseInt(KTUtil.getViewPort().height);\r\n\r\n\t\t\t\t\tif (KTUtil.isBreakpointUp('lg')) {\r\n\t\t\t\t\t\theight = height - KTLayoutBrand.getHeight();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\theight = height - (parseInt(KTUtil.css(_element, 'marginBottom')) + parseInt(KTUtil.css(_element, 'marginTop')));\r\n\r\n\t\t\t\t\treturn height;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t_menuObject = new KTMenu(_element, {\r\n\t\t\t// Vertical scroll\r\n\t\t\tscroll: scroll,\r\n\r\n\t\t\t// Submenu setup\r\n\t\t\tsubmenu: {\r\n\t\t\t\tdesktop: menuDesktopMode,\r\n\t\t\t\ttablet: 'accordion', // menu set to accordion in tablet mode\r\n\t\t\t\tmobile: 'accordion' // menu set to accordion in mobile mode\r\n\t\t\t},\r\n\r\n\t\t\t// Accordion setup\r\n\t\t\taccordion: {\r\n\t\t\t\texpandAll: false // allow having multiple expanded accordions in the menu\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n    var _initHover = function() {\r\n        // Handle Minimized Aside Hover\r\n\t\tif (KTUtil.hasClass(_body, 'aside-fixed') && KTUtil.hasClass(_body, 'aside-minimize-hoverable')) {\r\n\t\t\tvar insideTm;\r\n\t\t\tvar outsideTm;\r\n\r\n            // Handle Aside Hover Mode\r\n\t\t\tKTUtil.addEvent(_element, 'mouseenter', function(e) {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif (KTUtil.isBreakpointUp('lg') === false) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (outsideTm) {\r\n\t\t\t\t\tclearTimeout(outsideTm);\r\n\t\t\t\t\toutsideTm = null;\r\n\t\t\t\t}\r\n\r\n                if (insideTm) {\r\n\t\t\t\t\tclearTimeout(insideTm);\r\n\t\t\t\t\tinsideTm = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinsideTm = setTimeout(function() {\r\n\t\t\t\t\tif (KTUtil.hasClass(_body, 'aside-minimize') && KTUtil.isBreakpointUp('lg')) {\r\n\t\t\t\t\t\t// Hover class\r\n\t\t\t\t\t\tKTUtil.addClass(_body, 'aside-minimize-hover');\r\n\r\n\t\t\t\t\t\tKTLayoutAsideMenu.getMenu().scrollUpdate();\r\n\t\t\t\t\t\tKTLayoutAsideMenu.getMenu().scrollTop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 50);\r\n\t\t\t});\r\n\r\n\t\t\tKTUtil.addEvent(KTLayoutAside.getElement(), 'mouseleave', function(e) {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif (KTUtil.isBreakpointUp('lg') === false) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (insideTm) {\r\n\t\t\t\t\tclearTimeout(insideTm);\r\n\t\t\t\t\tinsideTm = null;\r\n\t\t\t\t}\r\n\r\n                if (outsideTm) {\r\n\t\t\t\t\tclearTimeout(outsideTm);\r\n\t\t\t\t\toutsideTm = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toutsideTm = setTimeout(function() {\r\n\t\t\t\t    if (KTUtil.hasClass(_body, 'aside-minimize-hover') && KTUtil.isBreakpointUp('lg')) {\r\n\t\t\t\t\t    KTUtil.removeClass(_body, 'aside-minimize-hover');\r\n\r\n\t\t\t\t\t\t// Hover class\r\n                        KTLayoutAsideMenu.getMenu().scrollUpdate();\r\n\t\t\t\t\t\tKTLayoutAsideMenu.getMenu().scrollTop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 100);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _body = KTUtil.getBody();\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize menu\r\n            _init();\r\n            _initHover();\r\n\t\t},\r\n\r\n\t\tgetElement: function() {\r\n\t\t\treturn _element;\r\n\t\t},\r\n\r\n        getMenu: function() {\r\n\t\t\treturn _menuObject;\r\n\t\t},\r\n\r\n        pauseDropdownHover: function(time) {\r\n\t\t\tif (_menuObject) {\r\n\t\t\t\t_menuObject.pauseDropdownHover(time);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcloseMobileOffcanvas: function() {\r\n\t\t\tif (_menuObject && KTUtil.isMobileDevice()) {\r\n\t\t\t\t_menuObject.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutAsideMenu;\r\n}\r\n\nexport default KTLayoutAsideMenu;","/* eslint-disable */\n\"use strict\";\n\nimport KTToggle from \"./../../components/toggle.js\";\nimport KTLayoutStickyCard from \"./sticky-card.js\";\nimport KTLayoutHeaderMenu from \"./header-menu.js\";\nimport KTLayoutAsideMenu from \"./aside-menu.js\";\nimport { KTCookie } from \"./../../components/cookie.js\";\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutAsideToggle = function() {\r\n    // Private properties\r\n    var _body;\r\n    var _element;\r\n    var _toggleObject;\r\n\r\n\t// Initialize\r\n\tvar _init = function() {\r\n\t\t_toggleObject = new KTToggle(_element, _body, {\r\n\t\t\ttargetState: 'aside-minimize',\r\n\t\t\ttoggleState: 'active'\r\n\t\t});\r\n\r\n\t\t_toggleObject.on('toggle', function(toggle) {\r\n            // Update sticky card\r\n            if (typeof KTLayoutStickyCard !== 'undefined') {\r\n                KTLayoutStickyCard.update();\r\n            }\r\n\r\n            // Pause header menu dropdowns\r\n            if (typeof KTLayoutHeaderMenu !== 'undefined') {\r\n                KTLayoutHeaderMenu.pauseDropdownHover(800);\r\n            }\r\n\r\n            // Pause aside menu dropdowns\r\n            if (typeof KTLayoutAsideMenu !== 'undefined') {\r\n                KTLayoutAsideMenu.pauseDropdownHover(800);\r\n            }\r\n\r\n            // Remember state in cookie\r\n\t\t\tKTCookie.setCookie('kt_aside_toggle_state', toggle.getState());\r\n\t\t\t// to set default minimized left aside use this cookie value in your\r\n\t\t\t// server side code and add \"kt-primary--minimize aside-minimize\" classes to\r\n\t\t\t// the body tag in order to initialize the minimized left aside mode during page loading.\r\n\t\t});\r\n\r\n\t\t_toggleObject.on('beforeToggle', function(toggle) {\r\n\t\t\tif (KTUtil.hasClass(_body, 'aside-minimize') === false && KTUtil.hasClass(_body, 'aside-minimize-hover')) {\r\n\t\t\t\tKTUtil.removeClass(_body, 'aside-minimize-hover');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n            _body = KTUtil.getBody();\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n            _init();\r\n\t\t},\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        },\r\n\r\n        getToggle: function() {\r\n\t\t\treturn _toggleObject;\r\n\t\t},\r\n\r\n\t\tonToggle: function(handler) {\r\n\t\t\tif (typeof _toggleObject.element !== 'undefined') {\r\n\t\t\t\t_toggleObject.on('toggle', handler);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutAsideToggle;\r\n}\r\n\nexport default KTLayoutAsideToggle;","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutFooter = function() {\r\n    // Private properties\r\n    var _element;\r\n\r\n\t// Private functions\r\n\tvar _getHeight = function() {\r\n\t\tvar height = 0;\r\n\r\n        if (_element) {\r\n            height = KTUtil.actualHeight(_element);\r\n        }\r\n\r\n\t\treturn height;\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\t\t},\r\n\r\n\t\tgetHeight: function() {\r\n\t\t\treturn _getHeight();\r\n\t\t},\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutFooter;\r\n}\r\n\nexport default KTLayoutFooter;","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./../../components/util.js\";\nimport KTLayoutHeader from \"./header.js\";\nimport KTLayoutSubheader from \"./subheader.js\";\nimport KTLayoutFooter from \"./footer.js\";\r\n\r\nvar KTLayoutContent = function() {\r\n    // Private properties\r\n    var _element;\r\n\r\n\t// Private functions\r\n\tvar _getHeight = function() {\r\n\t\tvar height;\r\n\r\n\t\theight = KTUtil.getViewPort().height;\r\n\r\n        if (_element) {\r\n            height = height - parseInt(KTUtil.css(_element, 'paddingTop')) - parseInt(KTUtil.css(_element, 'paddingBottom'));\r\n        }\r\n\r\n        height = height - KTLayoutHeader.getHeight();\r\n        height = height - KTLayoutSubheader.getHeight();\r\n        height = height - KTLayoutFooter.getHeight();\r\n\r\n\t\treturn height;\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\t\t},\r\n\r\n\t\tgetHeight: function() {\r\n\t\t\treturn _getHeight();\r\n\t\t},\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutContent;\r\n}\r\n\nexport default KTLayoutContent;","/* eslint-disable */\n\"use strict\";\n\nimport KTScrolltop from \"./../../components/scrolltop.js\";\nimport { KTUtil } from \"./../../components/util.js\";\r\n\r\nvar KTLayoutScrolltop = function() {\r\n    // Private properties\r\n    var _element;\r\n    var _object;\r\n\r\n    // Private functions\r\n    var _init = function() {\r\n        _object = new KTScrolltop(_element, {\r\n          offset: 300,\r\n          speed: 600,\r\n        });\r\n    }\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n            _init();\r\n\t\t},\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        }\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutScrolltop;\r\n}\r\n\nexport default KTLayoutScrolltop;","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./../../components/util.js\";\nimport KTLayoutContent from \"./content.js\";\r\n\r\nvar KTLayoutStretchedCard = function() {\r\n    // Private properties\r\n\tvar _element;\r\n\r\n\t// Private functions\r\n\tvar _init = function() {\r\n\t\tvar scroll = KTUtil.find(_element, '.card-scroll');\r\n\t\tvar cardBody = KTUtil.find(_element, '.card-body');\r\n\t\tvar cardHeader = KTUtil.find(_element, '.card-header');\r\n\r\n\t\tvar height = KTLayoutContent.getHeight();\r\n\r\n\t\theight = height - parseInt(KTUtil.actualHeight(cardHeader));\r\n\r\n\t\theight = height - parseInt(KTUtil.css(_element, 'marginTop')) - parseInt(KTUtil.css(_element, 'marginBottom'));\r\n\t\theight = height - parseInt(KTUtil.css(_element, 'paddingTop')) - parseInt(KTUtil.css(_element, 'paddingBottom'));\r\n\r\n\t\theight = height - parseInt(KTUtil.css(cardBody, 'paddingTop')) - parseInt(KTUtil.css(cardBody, 'paddingBottom'));\r\n\t\theight = height - parseInt(KTUtil.css(cardBody, 'marginTop')) - parseInt(KTUtil.css(cardBody, 'marginBottom'));\r\n\r\n\t\theight = height - 3;\r\n\r\n\t\tKTUtil.css(scroll, 'height', height + 'px');\r\n\t}\r\n\r\n    // Public methods\r\n\treturn {\r\n\t\tinit: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n\t\t\t_init();\r\n\r\n            // Re-calculate on window resize\r\n            KTUtil.addResizeHandler(function() {\r\n\t\t\t\t_init();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tupdate: function() {\r\n\t\t\t_init();\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutStretchedCard;\r\n}\r\n\nexport default KTLayoutStretchedCard;","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./../../components/util.js\";\nimport KTOffcanvas from \"./../../components/offcanvas.js\";\r\n\r\nvar KTLayoutQuickPanel = function() {\r\n    // Private properties\r\n    var _element;\r\n    var _offcanvasObject;\r\n    var _notificationsElement;\r\n    var _logsElement;\r\n    var _settingsElement;\r\n\r\n    // Private functions\r\n    var _getContentHeight = function() {\r\n        var height;\r\n\r\n        var header = KTUtil.find(_element, '.offcanvas-header');\r\n        var content = KTUtil.find(_element, '.offcanvas-content');\r\n\r\n        var height = parseInt(KTUtil.getViewPort().height);\r\n\r\n        if (header) {\r\n            height = height - parseInt(KTUtil.actualHeight(header));\r\n            height = height - parseInt(KTUtil.css(header, 'marginTop'));\r\n            height = height - parseInt(KTUtil.css(header, 'marginBottom'));\r\n        }\r\n\r\n        if (content) {\r\n            height = height - parseInt(KTUtil.css(content, 'marginTop'));\r\n            height = height - parseInt(KTUtil.css(content, 'marginBottom'));\r\n        }\r\n\r\n        height = height - parseInt(KTUtil.css(_element, 'paddingTop'));\r\n        height = height - parseInt(KTUtil.css(_element, 'paddingBottom'));\r\n\r\n        height = height - 2;\r\n\r\n        return height;\r\n    }\r\n\r\n    var _init = function() {\r\n        _offcanvasObject = new KTOffcanvas(_element, {\r\n            overlay: true,\r\n            baseClass: 'offcanvas',\r\n            placement: 'right',\r\n            closeBy: 'kt_quick_panel_close',\r\n            toggleBy: 'kt_quick_panel_toggle'\r\n        });\r\n    }\r\n\r\n    var _initNotifications = function() {\r\n        KTUtil.scrollInit(_notificationsElement, {\r\n            mobileNativeScroll: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                return _getContentHeight();\r\n            }\r\n        });\r\n    }\r\n\r\n    var _initLogs = function() {\r\n        KTUtil.scrollInit(_logsElement, {\r\n            mobileNativeScroll: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                return _getContentHeight();\r\n            }\r\n        });\r\n    }\r\n\r\n    var _initSettings = function() {\r\n        KTUtil.scrollInit(_settingsElement, {\r\n            mobileNativeScroll: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                return _getContentHeight();\r\n            }\r\n        });\r\n    }\r\n\r\n    var _updateScrollbars = function() {\r\n        $(_element).find('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\r\n            KTUtil.scrollUpdate(_notificationsElement);\r\n            KTUtil.scrollUpdate(_logsElement);\r\n            KTUtil.scrollUpdate(_settingsElement);\r\n        });\r\n    }\r\n\r\n    // Public methods\r\n    return {\r\n        init: function(id) {\r\n            _element = KTUtil.getById(id);\r\n            _notificationsElement = KTUtil.getById('kt_quick_panel_notifications');\r\n            _logsElement = KTUtil.getById('kt_quick_panel_logs');\r\n            _settingsElement = KTUtil.getById('kt_quick_panel_settings');\r\n\r\n            _init();\r\n            _initNotifications();\r\n            _initLogs();\r\n            _initSettings();\r\n\r\n            \r\n        }\r\n    };\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutQuickPanel;\r\n}\r\n\nexport default KTLayoutQuickPanel;","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./../../components/util.js\";\nimport KTOffcanvas from \"./../../components/offcanvas.js\";\r\n\r\nvar KTLayoutQuickUser = function() {\r\n    // Private properties\r\n    var _element;\r\n    var _offcanvasObject;\r\n\r\n    // Private functions\r\n    var _init = function() {\r\n        var header = KTUtil.find(_element, '.offcanvas-header');\r\n        var content = KTUtil.find(_element, '.offcanvas-content');\r\n\r\n        _offcanvasObject = new KTOffcanvas(_element, {\r\n            overlay: true,\r\n            baseClass: 'offcanvas',\r\n            placement: 'right',\r\n            closeBy: 'kt_quick_user_close',\r\n            toggleBy: 'kt_quick_user_toggle'\r\n        });\r\n\r\n        KTUtil.scrollInit(content, {\r\n            disableForMobile: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                var height = parseInt(KTUtil.getViewPort().height);\r\n\r\n                if (header) {\r\n                    height = height - parseInt(KTUtil.actualHeight(header));\r\n                    height = height - parseInt(KTUtil.css(header, 'marginTop'));\r\n                    height = height - parseInt(KTUtil.css(header, 'marginBottom'));\r\n                }\r\n\r\n                if (content) {\r\n                    height = height - parseInt(KTUtil.css(content, 'marginTop'));\r\n                    height = height - parseInt(KTUtil.css(content, 'marginBottom'));\r\n                }\r\n\r\n                height = height - parseInt(KTUtil.css(_element, 'paddingTop'));\r\n                height = height - parseInt(KTUtil.css(_element, 'paddingBottom'));\r\n\r\n                height = height - 2;\r\n\r\n                return height;\r\n            }\r\n        });\r\n    }\r\n\r\n    // Public methods\r\n    return {\r\n        init: function(id) {\r\n            _element = KTUtil.getById(id);\r\n\r\n            if (!_element) {\r\n                return;\r\n            }\r\n\r\n            // Initialize\r\n            _init();\r\n        },\r\n\r\n        getElement: function() {\r\n            return _element;\r\n        }\r\n    };\r\n}();\r\n\r\n// Webpack support\r\nif (typeof module !== 'undefined') {\r\n\t// module.exports = KTLayoutQuickUser;\r\n}\r\n\nexport default KTLayoutQuickUser;","import React, {useLayoutEffect} from \"react\";\r\nimport {KTUtil} from \"../../_assets/js/components/util\";\r\nimport KTLayoutHeader from \"../../_assets/js/layout/base/header\";\r\nimport KTLayoutHeaderMenu from \"../../_assets/js/layout/base/header-menu\";\r\nimport KTLayoutHeaderTopbar from \"../../_assets/js/layout/base/header-topbar\";\r\nimport KTLayoutBrand from \"../../_assets/js/layout/base/brand\";\r\nimport KTLayoutAside from \"../../_assets/js/layout/base/aside\";\r\nimport KTLayoutAsideToggle from \"../../_assets/js/layout/base/aside-toggle\";\r\nimport KTLayoutAsideMenu from \"../../_assets/js/layout/base/aside-menu\";\r\nimport KTLayoutContent from \"../../_assets/js/layout/base/content\";\r\nimport KTLayoutFooter from \"../../_assets/js/layout/base/footer\";\r\nimport KTLayoutSubheader from \"../../_assets/js/layout/base/subheader\";\r\nimport KTLayoutScrolltop from \"../../_assets/js/layout/extended/scrolltop\";\r\nimport KTLayoutStickyCard from \"../../_assets/js/layout/base/sticky-card\";\r\nimport KTLayoutStretchedCard from \"../../_assets/js/layout/base/stretched-card\";\r\nimport KTLayoutQuickPanel from \"../../_assets/js/layout/extended/quick-panel\";\r\nimport KTLayoutQuickUser from \"../../_assets/js/layout/extended/quick-user\";\r\n\r\nexport function LayoutInit() {\r\n  useLayoutEffect(() => {\r\n    // Initialization\r\n    KTUtil.ready(function () {\r\n      ////////////////////////////////////////////////////\r\n      // Layout Base Partials(mandatory for core layout)//\r\n      ////////////////////////////////////////////////////\r\n      // Init Desktop & Mobile Headers\r\n      KTLayoutHeader.init('kt_header', 'kt_header_mobile');\r\n\r\n      // Init Header Menu\r\n      KTLayoutHeaderMenu.init('kt_header_menu', 'kt_header_menu_wrapper');\r\n      // Init Header Topbar For Mobile Mode\r\n      KTLayoutHeaderTopbar.init('kt_header_mobile_topbar_toggle');\r\n      // Init Brand Panel For Logo\r\n      KTLayoutBrand.init('kt_brand');\r\n      // Init Aside\r\n      KTLayoutAside.init('kt_aside');\r\n\r\n      // Init Aside Menu Toggle\r\n      KTLayoutAsideToggle.init('kt_aside_toggle');\r\n      //\r\n      // Init Aside Menu\r\n      KTLayoutAsideMenu.init('kt_aside_menu');\r\n\r\n      // Init Content\r\n      KTLayoutContent.init('kt_content');\r\n\r\n      // Init Footer\r\n      KTLayoutFooter.init('kt_footer');\r\n\r\n\r\n      //////////////////////////////////////////////\r\n      // Layout Extended Partials(optional to use)//\r\n      //////////////////////////////////////////////\r\n      KTLayoutSubheader.init('kt_subheader');\r\n\r\n      // Init Scrolltop\r\n      KTLayoutScrolltop.init('kt_scrolltop');\r\n\r\n      // Init Sticky Card\r\n      KTLayoutStickyCard.init('kt_page_sticky_card');\r\n\r\n      // Init Stretched Card\r\n      KTLayoutStretchedCard.init('kt_page_stretched_card');\r\n\r\n      // Init Quick Offcanvas Panel\r\n      KTLayoutQuickPanel.init('kt_quick_panel');\r\n\r\n      // Init Quick User Panel\r\n      KTLayoutQuickUser.init('kt_quick_user');\r\n    });\r\n  }, []);\r\n  return <></>;\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\n\r\nexport function DropdownMenu1() {\r\n    return (<>\r\n        {/*begin::Navigation*/}\r\n        <ul className=\"navi navi-hover\">\r\n            <li className=\"navi-header font-weight-bold py-5\">\r\n                <span className=\"font-size-lg\">Choose Label:</span>\r\n                <i className=\"flaticon2-information icon-md text-muted\" data-toggle=\"tooltip\" data-placement=\"right\"\r\n                   title=\"Click to learn more...\"></i>\r\n            </li>\r\n            <li className=\"navi-separator mb-3 opacity-70\"></li>\r\n            <li className=\"navi-item\">\r\n                <a href=\"#\" className=\"navi-link\">\r\n            <span className=\"navi-text\">\r\n                <span className=\"label label-xl label-inline label-light-success\">Customer</span>\r\n            </span>\r\n                </a>\r\n            </li>\r\n            <li className=\"navi-item\">\r\n                <a href=\"#\" className=\"navi-link\">\r\n            <span className=\"navi-text\">\r\n                <span className=\"label label-xl label-inline label-light-danger\">Partner</span>\r\n            </span>\r\n                </a>\r\n            </li>\r\n            <li className=\"navi-item\">\r\n                <a href=\"#\" className=\"navi-link\">\r\n            <span className=\"navi-text\">\r\n                <span className=\"label label-xl label-inline label-light-warning\">Suplier</span>\r\n            </span>\r\n                </a>\r\n            </li>\r\n            <li className=\"navi-item\">\r\n                <a href=\"#\" className=\"navi-link\">\r\n            <span className=\"navi-text\">\r\n                <span className=\"label label-xl label-inline label-light-primary\">Member</span>\r\n            </span>\r\n                </a>\r\n            </li>\r\n            <li className=\"navi-item\">\r\n                <a href=\"#\" className=\"navi-link\">\r\n            <span className=\"navi-text\">\r\n                <span className=\"label label-xl label-inline label-light-dark\">Staff</span>\r\n            </span>\r\n                </a>\r\n            </li>\r\n            <li className=\"navi-separator mt-3 opacity-70\"></li>\r\n            <li className=\"navi-footer pt-5 pb-4\">\r\n                <a className=\"btn btn-clean font-weight-bold btn-sm\" href=\"#\">\r\n                    <i className=\"ki ki-plus icon-sm\"></i>\r\n                    Add new\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        {/*end::Navigation*/}\r\n    </>);\r\n}\r\n","import React from \"react\";\r\n\r\nexport const DropdownTopbarItemToggler = React.forwardRef((props, ref) => {\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className=\"topbar-item\"\r\n      onClick={e => {\r\n        e.preventDefault();\r\n        props.onClick(e);\r\n      }}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n});\r\n\r\nDropdownTopbarItemToggler.displayName = 'DropdownTopbarItemToggler';\r\n","/* eslint-disable no-restricted-imports */\r\n/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React, {forwardRef} from \"react\";\r\nimport {OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport {DropdownMenu1} from \"../../../../_partials/dropdowns\";\r\nimport {toAbsoluteUrl} from \"../../../../_helpers\";\r\n\r\nconst QuickActionsDropdownToggle = forwardRef((props, ref) => {\r\n  return (\r\n    <a\r\n      ref={ref}\r\n      href=\"#\"\r\n      onClick={e => {\r\n        e.preventDefault();\r\n        props.onClick(e);\r\n      }}\r\n      id=\"kt_subheader_quick_actions\"\r\n      className=\"btn btn-sm btn-clean btn-icon\"\r\n    >\r\n      {\" \"}\r\n      <span className=\"svg-icon svg-icon-success svg-icon-lg\">\r\n        <span className=\"svg-icon-success svg-icon-2x\">\r\n          <SVG  src={toAbsoluteUrl(\"/media/svg/icons/Files/File-plus.svg\")} />\r\n        </span>\r\n      </span>\r\n    </a>\r\n  );\r\n});\r\n\r\nexport function QuickActions() {\r\n  return (\r\n      <>\r\n        <OverlayTrigger\r\n            placement=\"left\"\r\n            overlay={<Tooltip id=\"quick-actions-tooltip\">Quick actions</Tooltip>}\r\n        >\r\n          <Dropdown className=\"dropdown-inline\" drop=\"down\" alignRight>\r\n            <Dropdown.Toggle\r\n                as={QuickActionsDropdownToggle}\r\n                id=\"dropdown-toggle-quick-actions-subheader\"\r\n            />\r\n\r\n            <Dropdown.Menu className=\"dropdown-menu p-0 m-0 dropdown-menu-md dropdown-menu-right\">\r\n              <DropdownMenu1 />\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </OverlayTrigger>\r\n      </>\r\n  );\r\n}\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport function BreadCrumbs({ items }) {\r\n  if (!items || !items.length) {\r\n    return \"\";\r\n  }\r\n\r\n  return (\r\n    <ul className=\"breadcrumb breadcrumb-transparent breadcrumb-dot font-weight-bold p-0 my-2\">\r\n      <li className=\"breadcrumb-item\">\r\n        <Link to=\"/dashboard\">\r\n          <i className=\"flaticon2-shelter text-muted icon-1x\" />\r\n        </Link>\r\n      </li>\r\n      {items.map((item, index) => (\r\n        <li key={`bc${index}`} className=\"breadcrumb-item\">\r\n          <Link className=\"text-muted\" to={{ pathname: item.pathname }}>\r\n            {item.title}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React, { createContext, useState, useContext } from \"react\";\r\n\r\nexport function getBreadcrumbsAndTitle(menuId, pathName) {\r\n  const result = {\r\n    breadcrumbs: [],\r\n    title: \"\",\r\n  };\r\n\r\n  const menu = document.getElementById(menuId);\r\n  if (!menu) {\r\n    return result;\r\n  }\r\n\r\n  const activeLinksArray = Array.from(\r\n    menu.getElementsByClassName(\"active\") || []\r\n  );\r\n  const activeLinks = activeLinksArray.filter((el) => el.tagName === \"A\");\r\n  if (!activeLinks) {\r\n    return result;\r\n  }\r\n\r\n  activeLinks.forEach((link) => {\r\n    const titleSpans = link.getElementsByClassName(\"menu-text\");\r\n    if (titleSpans) {\r\n      const titleSpan = Array.from(titleSpans).find(\r\n        (t) => t.innerHTML && t.innerHTML.trim().length > 0\r\n      );\r\n      if (titleSpan) {\r\n        result.breadcrumbs.push({\r\n          pathname: link.pathname.replace(process.env.PUBLIC_URL, \"\"),\r\n          title: titleSpan.innerHTML,\r\n        });\r\n      }\r\n    }\r\n  });\r\n  result.title = getTitle(result.breadcrumbs, pathName);\r\n  return result;\r\n}\r\n\r\nexport function getTitle(breadCrumbs, pathname) {\r\n  if (!breadCrumbs || !pathname) {\r\n    return \"\";\r\n  }\r\n\r\n  const length = breadCrumbs.length;\r\n  if (!length) {\r\n    return \"\";\r\n  }\r\n\r\n  return breadCrumbs[length - 1].title;\r\n}\r\n\r\nconst SubheaderContext = createContext();\r\n\r\nexport function useSubheader() {\r\n  return useContext(SubheaderContext);\r\n}\r\n\r\nexport const SubheaderConsumer = SubheaderContext.Consumer;\r\n\r\nexport function MetronicSubheaderProvider({ children }) {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [breadcrumbs, setBreadcrumbs] = useState([]);\r\n  const value = { title, setTitle, breadcrumbs, setBreadcrumbs };\r\n  return (\r\n    <SubheaderContext.Provider value={value}>\r\n      {children}\r\n    </SubheaderContext.Provider>\r\n  );\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React, {useMemo, useLayoutEffect, useEffect} from \"react\";\r\nimport objectPath from \"object-path\";\r\nimport {useLocation} from \"react-router-dom\";\r\nimport {QuickActions} from \"./components/QuickActions\";\r\nimport {BreadCrumbs} from \"./components/BreadCrumbs\";\r\nimport {getBreadcrumbsAndTitle, useSubheader} from \"../../_core/MetronicSubheader\";\r\nimport {useHtmlClassService} from \"../../_core/MetronicLayout\"\r\n\r\nexport function SubHeader() {\r\n  const uiService = useHtmlClassService();\r\n  const location = useLocation();\r\n  const subheader = useSubheader();\r\n\r\n  const layoutProps = useMemo(() => {\r\n    return {\r\n      config: uiService.config,\r\n      subheaderMobileToggle: objectPath.get(\r\n          uiService.config,\r\n          \"subheader.mobile-toggle\"\r\n      ),\r\n      subheaderCssClasses: uiService.getClasses(\"subheader\", true),\r\n      subheaderContainerCssClasses: uiService.getClasses(\r\n          \"subheader_container\",\r\n          true\r\n      )\r\n    };\r\n  }, [uiService]);\r\n\r\n  useLayoutEffect(() => {\r\n    const aside = getBreadcrumbsAndTitle(\"kt_aside_menu\", location.pathname);\r\n    const header = getBreadcrumbsAndTitle(\"kt_header_menu\", location.pathname);\r\n    const breadcrumbs = (aside && aside.breadcrumbs.length > 0) ? aside.breadcrumbs : header.breadcrumbs;\r\n    subheader.setBreadcrumbs(breadcrumbs);\r\n    subheader.setTitle((aside && aside.title && aside.title.length > 0) ? aside.title : header.title);\r\n    // eslint-disable-next-line\r\n  }, [location.pathname]);\r\n\r\n  // Do not remove this useEffect, need from update title/breadcrumbs outside (from the page)\r\n  useEffect(() => {}, [subheader]);\r\n\r\n  return (\r\n      <div\r\n          id=\"kt_subheader\"\r\n          className={`subheader py-2 py-lg-4   ${layoutProps.subheaderCssClasses}`}\r\n      >\r\n        <div\r\n            className={`${layoutProps.subheaderContainerCssClasses} d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap`}\r\n        >\r\n          {/* Info */}\r\n          <div className=\"d-flex align-items-center flex-wrap mr-1\">\r\n            {layoutProps.subheaderMobileToggle && (\r\n                <button\r\n                    className=\"burger-icon burger-icon-left mr-4 d-inline-block d-lg-none\"\r\n                    id=\"kt_subheader_mobile_toggle\"\r\n                >\r\n                  <span/>\r\n                </button>\r\n            )}\r\n\r\n            <div className=\"d-flex align-items-baseline mr-5\">\r\n              <h5 className=\"text-dark font-weight-bold my-2 mr-5\">\r\n                <>\r\n                  {subheader.title}\r\n                </>\r\n                {/*<small></small>*/}\r\n              </h5>\r\n\r\n            </div>\r\n\r\n\r\n            <BreadCrumbs items={subheader.breadcrumbs} />\r\n          </div>\r\n\r\n          {/* Toolbar */}\r\n          <div className=\"d-flex align-items-center\">\r\n            <a href=\"#\" className=\"btn btn-light btn-sm font-weight-bold\" id=\"kt_dashboard_daterangepicker\"\r\n               data-toggle=\"tooltip\" title=\"Select dashboard daterange\" data-placement=\"left\">\r\n              <span className=\"text-muted font-weight-bold mr-2\" id=\"kt_dashboard_daterangepicker_title\">Today</span>\r\n              <span className=\"text-primary font-weight-bold\" id=\"kt_dashboard_daterangepicker_date\">Aug 16</span>\r\n            </a>\r\n            <QuickActions/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,no-undef */\r\nimport React, {useState} from \"react\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport {Tab, Nav} from \"react-bootstrap\";\r\nimport {toAbsoluteUrl} from \"../../../../_helpers\";\r\n\r\nexport function QuickPanel() {\r\n  const [selectedTab, setSelectedTab] = useState(\"AuditLogs\");\r\n\r\n  const setTab = _tabName => {\r\n    setSelectedTab(_tabName);\r\n  };\r\n\r\n  return (\r\n      <div id=\"kt_quick_panel\" className=\"offcanvas offcanvas-left pt-5 pb-10\">\r\n        <Tab.Container\r\n            defaultActiveKey={selectedTab}\r\n        >\r\n          {/*begin::Header*/}\r\n          <div\r\n              className=\"offcanvas-header offcanvas-header-navs d-flex align-items-center justify-content-between mb-5\">\r\n            <Nav\r\n                onSelect={setTab}\r\n                as=\"ul\"\r\n                role=\"tablist\"\r\n                className=\"nav nav-bold nav-tabs nav-tabs-line nav-tabs-line-3x nav-tabs-primary flex-grow-1 px-10\"\r\n            >\r\n              <Nav.Item as=\"li\">\r\n                <Nav.Link\r\n                    eventKey=\"AuditLogs\"\r\n                    className={`nav-link ${\r\n                        selectedTab === \"AuditLogs\" ? \"active\" : \"\"\r\n                    }`}\r\n                >\r\n                  Audit Logs\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item className=\"nav-item\" as=\"li\">\r\n                <Nav.Link\r\n                    eventKey=\"Notifications\"\r\n                    className={`nav-link ${\r\n                        selectedTab === \"Notifications\" ? \"active\" : \"\"\r\n                    }`}\r\n                >\r\n                  Notifications\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item as=\"li\">\r\n                <Nav.Link\r\n                    eventKey=\"Settings\"\r\n                    className={`nav-link ${\r\n                        selectedTab === \"Settings\" ? \"active\" : \"\"\r\n                    }`}\r\n                >\r\n                  Settings\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n            </Nav>\r\n\r\n            <div className=\"offcanvas-close mt-n1 pr-5\" style={{position: \"absolute\", top: \"15px\", right: \"10px\"}}>\r\n              <a\r\n                  href=\"#\"\r\n                  className=\"btn btn-xs btn-icon btn-light btn-hover-primary\"\r\n                  id=\"kt_quick_panel_close\"\r\n              >\r\n                <i className=\"ki ki-close icon-xs text-muted\"></i>\r\n              </a>\r\n            </div>\r\n          </div>\r\n          {/*end::Header*/}\r\n\r\n          {/*begin::Content*/}\r\n          <div className=\"offcanvas-content px-10\">\r\n            <div className=\"tab-content\">\r\n              <div\r\n                  id=\"kt_quick_panel_logs\"\r\n                  role=\"tabpanel\"\r\n                  className={`tab-pane fade pt-3 pr-5 mr-n5 scroll ps ${selectedTab === \"AuditLogs\" ? \"active show\" : \"\"}`}\r\n              >\r\n                <div className=\"mb-15\">\r\n                  <h5 className=\"font-weight-bold mb-5\">System Messages</h5>\r\n                  <div className=\"d-flex align-items-center flex-wrap mb-5\">\r\n                    <div className=\"symbol symbol-50 symbol-light mr-5\">\r\n                    <span className=\"symbol-label\">\r\n                      <img\r\n                          src={toAbsoluteUrl(\"/media/svg/misc/006-plurk.svg\")}\r\n                          alt=\"\"\r\n                          className=\"h-50 align-self-center\"\r\n                      />\r\n                    </span>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-bolder text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Top Authors\r\n                      </a>\r\n                      <span className=\"text-muted font-weight-bold\">\r\n                      Most Successful Fellas\r\n                    </span>\r\n                    </div>\r\n                    <span className=\"btn btn-sm btn-light font-weight-bolder py-1 my-lg-0 my-2 text-dark-50\">\r\n                    +82$\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center flex-wrap mb-5\">\r\n                    <div className=\"symbol symbol-50 symbol-light mr-5\">\r\n                    <span className=\"symbol-label\">\r\n                      <img\r\n                          src={toAbsoluteUrl(\"/media/svg/misc/015-telegram.svg\")}\r\n                          alt=\"\"\r\n                          className=\"h-50 align-self-center\"\r\n                      />\r\n                    </span>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-bolder text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Popular Authors\r\n                      </a>\r\n                      <span className=\"text-muted font-weight-bold\">\r\n                      Most Successful Fellas\r\n                    </span>\r\n                    </div>\r\n                    <span className=\"btn btn-sm btn-light font-weight-bolder  my-lg-0 my-2 py-1 text-dark-50\">\r\n                    +280$\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center flex-wrap mb-5\">\r\n                    <div className=\"symbol symbol-50 symbol-light mr-5\">\r\n                    <span className=\"symbol-label\">\r\n                      <img\r\n                          src={toAbsoluteUrl(\"/media/svg/misc/003-puzzle.svg\")}\r\n                          alt=\"\"\r\n                          className=\"h-50 align-self-center\"\r\n                      />\r\n                    </span>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-bolder text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        New Users\r\n                      </a>\r\n                      <span className=\"text-muted font-weight-bold\">\r\n                      Most Successful Fellas\r\n                    </span>\r\n                    </div>\r\n                    <span className=\"btn btn-sm btn-light font-weight-bolder  my-lg-0 my-2 py-1 text-dark-50\">\r\n                    +4500$\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center flex-wrap mb-5\">\r\n                    <div className=\"symbol symbol-50 symbol-light mr-5\">\r\n                    <span className=\"symbol-label\">\r\n                      <img\r\n                          src={toAbsoluteUrl(\"/media/svg/misc/005-bebo.svg\")}\r\n                          alt=\"\"\r\n                          className=\"h-50 align-self-center\"\r\n                      />\r\n                    </span>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-bolder text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Active Customers\r\n                      </a>\r\n                      <span className=\"text-muted font-weight-bold\">\r\n                      Most Successful Fellas\r\n                    </span>\r\n                    </div>\r\n                    <span className=\"btn btn-sm btn-light font-weight-bolder my-lg-0 my-2 py-1 text-dark-50\">\r\n                    +4500$\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center flex-wrap\">\r\n                    <div className=\"symbol symbol-50 symbol-light mr-5\">\r\n                    <span className=\"symbol-label\">\r\n                      <img\r\n                          src={toAbsoluteUrl(\r\n                              \"/media/svg/misc/014-kickstarter.svg\"\r\n                          )}\r\n                          alt=\"\"\r\n                          className=\"h-50 align-self-center\"\r\n                      />\r\n                    </span>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-bolder text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Bestseller Theme\r\n                      </a>\r\n                      <span className=\"text-muted font-weight-bold\">\r\n                      Most Successful Fellas\r\n                    </span>\r\n                    </div>\r\n                    <span className=\"btn btn-sm btn-light font-weight-bolder my-lg-0 my-2 py-1 text-dark-50\">\r\n                    +4500$\r\n                  </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mb-5\">\r\n                  <h5 className=\"font-weight-bold mb-5\">Notifications</h5>\r\n\r\n                  <div className=\"d-flex align-items-center bg-light-warning rounded p-5 mb-5\">\r\n                  <span className=\"svg-icon svg-icon-warning mr-5\">\r\n                    <SVG\r\n                        src={toAbsoluteUrl(\"/media//svg/icons/Home/Library.svg\")}\r\n                        className=\"svg-icon svg-icon-lg\"\r\n                    ></SVG>\r\n                  </span>\r\n\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-normal text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Another purpose persuade\r\n                      </a>\r\n                      <span className=\"text-muted font-size-sm\">\r\n                      Due in 2 Days\r\n                    </span>\r\n                    </div>\r\n\r\n                    <span className=\"font-weight-bolder text-warning py-1 font-size-lg\">\r\n                    +28%\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center bg-light-success rounded p-5 mb-5\">\r\n                  <span className=\"svg-icon svg-icon-success mr-5\">\r\n                    <SVG\r\n                        src={toAbsoluteUrl(\r\n                            \"/media/svg/icons/Communication/Write.svg\"\r\n                        )}\r\n                        className=\"svg-icon svg-icon-lg\"\r\n                    ></SVG>\r\n                  </span>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-normal text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Would be to people\r\n                      </a>\r\n                      <span className=\"text-muted font-size-sm\">\r\n                      Due in 2 Days\r\n                    </span>\r\n                    </div>\r\n\r\n                    <span className=\"font-weight-bolder text-success py-1 font-size-lg\">\r\n                    +50%\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center bg-light-danger rounded p-5 mb-5\">\r\n                  <span className=\"svg-icon svg-icon-danger mr-5\">\r\n                    <SVG\r\n                        src={toAbsoluteUrl(\r\n                            \"/media/svg/icons/Communication/Group-chat.svg\"\r\n                        )}\r\n                        className=\"svg-icon svg-icon-lg\"\r\n                    ></SVG>\r\n                  </span>\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-normel text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        Purpose would be to persuade\r\n                      </a>\r\n                      <span className=\"text-muted font-size-sm\">\r\n                      Due in 2 Days\r\n                    </span>\r\n                    </div>\r\n\r\n                    <span className=\"font-weight-bolder text-danger py-1 font-size-lg\">\r\n                    -27%\r\n                  </span>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex align-items-center bg-light-info rounded p-5\">\r\n                  <span className=\"svg-icon svg-icon-info mr-5\">\r\n                    <SVG\r\n                        src={toAbsoluteUrl(\r\n                            \"/media/svg/icons/General/Attachment2.svg\"\r\n                        )}\r\n                        className=\"svg-icon svg-icon-lg\"\r\n                    ></SVG>\r\n                  </span>\r\n\r\n                    <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n                      <a\r\n                          href=\"#\"\r\n                          className=\"font-weight-normel text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n                      >\r\n                        The best product\r\n                      </a>\r\n                      <span className=\"text-muted font-size-sm\">\r\n                      Due in 2 Days\r\n                    </span>\r\n                    </div>\r\n\r\n                    <span className=\"font-weight-bolder text-info py-1 font-size-lg\">\r\n                    +8%\r\n                  </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div\r\n                  id=\"kt_quick_panel_notifications\"\r\n                  role=\"tabpanel\"\r\n                  className={`tab-pane fade pt-2 pr-5 mr-n5 scroll ps ${selectedTab === \"Notifications\" ? \"active show\" : \"\"}`}\r\n              >\r\n                <div className=\"navi navi-icon-circle navi-spacer-x-0\">\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-bell text-success icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold font-size-lg\">\r\n                          5 new user generated report\r\n                        </div>\r\n                        <div className=\"text-muted\">Reports based on sales</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon2-box text-danger icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          2 new items submited\r\n                        </div>\r\n                        <div className=\"text-muted\">by Grog John</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-psd text-primary icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          79 PSD files generated\r\n                        </div>\r\n                        <div className=\"text-muted\">Reports based on sales</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon2-supermarket text-warning icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          $2900 worth producucts sold\r\n                        </div>\r\n                        <div className=\"text-muted\">Total 234 items</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-paper-plane-1 text-success icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          4.5h-avarage response time\r\n                        </div>\r\n                        <div className=\"text-muted\">Fostest is Barry</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-safe-shield-protection text-danger icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          3 Defence alerts\r\n                        </div>\r\n                        <div className=\"text-muted\">\r\n                          40% less alerts thar last week\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-notepad text-primary icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          Avarage 4 blog posts per author\r\n                        </div>\r\n                        <div className=\"text-muted\">Most posted 12 time</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-users-1 text-warning icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          16 authors joined last week\r\n                        </div>\r\n                        <div className=\"text-muted\">\r\n                          9 photodrapehrs, 7 designer\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon2-box text-info icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          2 new items have been submited\r\n                        </div>\r\n                        <div className=\"text-muted\">by Grog John</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon2-download text-success icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          2.8 GB-total downloads size\r\n                        </div>\r\n                        <div className=\"text-muted\">\r\n                          Mostly PSD end AL concepts\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon2-supermarket text-danger icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          $2900 worth producucts sold\r\n                        </div>\r\n                        <div className=\"text-muted\">Total 234 items</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-bell text-primary icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          7 new user generated report\r\n                        </div>\r\n                        <div className=\"text-muted\">Reports based on sales</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                  <a href=\"#\" className=\"navi-item\">\r\n                    <div className=\"navi-link rounded\">\r\n                      <div className=\"symbol symbol-50 mr-3\">\r\n                        <div className=\"symbol-label\">\r\n                          <i className=\"flaticon-paper-plane-1 text-success icon-lg\"></i>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"navi-text\">\r\n                        <div className=\"font-weight-bold  font-size-lg\">\r\n                          4.5h-avarage response time\r\n                        </div>\r\n                        <div className=\"text-muted\">Fostest is Barry</div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              <div\r\n                  id=\"kt_quick_panel_settings\"\r\n                  role=\"tabpanel\"\r\n                  className={`tab-pane fade pt-3 pr-5 mr-n5 scroll ps ${selectedTab === \"Settings\" ? \"active show\" : \"\"}`}\r\n              >\r\n                <form className=\"form\">\r\n                  <div>\r\n                    <h5 className=\"font-weight-bold mb-3\">Customer Care</h5>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Enable Notifications:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-success switch-sm\">\r\n                        <label>\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              onChange={() => {\r\n                              }}\r\n                              checked\r\n                              name=\"\"\r\n                          />\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Enable Case Tracking:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-success switch-sm\">\r\n                        <label>\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              name=\"quick_panel_notifications_2\"\r\n                              onChange={() => {\r\n                              }}\r\n                          />\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Support Portal:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-success switch-sm\">\r\n                        <label>\r\n                          <input type=\"checkbox\" name=\"\" onChange={() => {\r\n                          }}/>\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"separator separator-dashed my-6\"></div>\r\n\r\n                  <div className=\"pt-2\">\r\n                    <h5 className=\"font-weight-bold mb-3\">Reports</h5>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Generate Reports:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-sm switch-danger\">\r\n                        <label>\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              name=\"\"\r\n                              onChange={() => {\r\n                              }}\r\n                              checked\r\n                          />\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Enable Report Export:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-sm switch-danger\">\r\n                        <label>\r\n                          <input type=\"checkbox\" name=\"\" onChange={() => {\r\n                          }}/>\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Allow Data Collection:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-sm switch-danger\">\r\n                        <label>\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              name=\"\"\r\n                              onChange={() => {\r\n                              }}\r\n                              checked\r\n                          />\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"separator separator-dashed my-6\"></div>\r\n\r\n                  <div className=\"pt-2\">\r\n                    <h5 className=\"font-weight-bold mb-3\">Memebers</h5>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Enable Member singup:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-sm switch-primary\">\r\n                        <label>\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              checked\r\n                              onChange={() => {\r\n                              }}\r\n                              name=\"\"\r\n                          />\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Allow User Feedbacks:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-sm switch-primary\">\r\n                        <label>\r\n                          <input type=\"checkbox\" name=\"\" onChange={() => {\r\n                          }}/>\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group mb-0 row\">\r\n                      <label className=\"col-8 col-form-label\">\r\n                        Enable Customer Portal:\r\n                      </label>\r\n                      <div className=\"col-4 text-right\">\r\n                      <span className=\"switch switch-sm switch-primary\">\r\n                        <label>\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              checked\r\n                              onChange={() => {\r\n                              }}\r\n                              name=\"\"\r\n                          />\r\n                          <span></span>\r\n                        </label>\r\n                      </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/*end::Content*/}\r\n        </Tab.Container>\r\n      </div>\r\n  );\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,no-undef */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toAbsoluteUrl } from \"../../../../_helpers\";\r\n\r\nexport function QuickUser() {\r\n  const history = useHistory();\r\n  const user = useSelector((state) => state.auth.user, shallowEqual);\r\n  const logoutClick = () => {\r\n    const toggle = document.getElementById(\"kt_quick_user_toggle\");\r\n    if (toggle) {\r\n      toggle.click();\r\n    }\r\n    history.push(\"/logout\");\r\n  };\r\n\r\n  return (\r\n    <div\r\n      id=\"kt_quick_user\"\r\n      className=\"offcanvas offcanvas-right offcanvas p-10\"\r\n    >\r\n      <div className=\"offcanvas-header d-flex align-items-center justify-content-between pb-5\">\r\n        <h3 className=\"font-weight-bold m-0\">\r\n          User Profile\r\n          <small className=\"text-muted font-size-sm ml-2\">12 messages</small>\r\n        </h3>\r\n        <a\r\n          className=\"btn btn-xs btn-icon btn-light btn-hover-primary cursor-pointer\"\r\n          id=\"kt_quick_user_close\"\r\n        >\r\n          <i className=\"ki ki-close icon-xs text-muted\" />\r\n        </a>\r\n      </div>\r\n\r\n      <div className=\"offcanvas-content pr-5 mr-n5\">\r\n        <div className=\"d-flex align-items-center mt-5\">\r\n          <div className=\"symbol symbol-100 mr-5\">\r\n            <div\r\n              className=\"symbol-label\"\r\n              style={{\r\n                backgroundImage: `url(${user.pic})`,\r\n              }}\r\n            />\r\n            <i className=\"symbol-badge bg-success\" />\r\n          </div>\r\n          <div className=\"d-flex flex-column\">\r\n            <a\r\n              href=\"#\"\r\n              className=\"font-weight-bold font-size-h5 text-dark-75 text-hover-primary\"\r\n            >\r\n              {user.firstname} {user.lastname}\r\n            </a>\r\n            <div className=\"text-muted mt-1\">{user.occupation}</div>\r\n            <div className=\"navi mt-2\">\r\n              <a className=\"navi-item cursor-pointer\">\r\n                <span className=\"navi-link p-0 pb-2\">\r\n                  <span className=\"navi-icon mr-1\">\r\n                    <span className=\"svg-icon-lg svg-icon-primary\">\r\n                      <SVG\r\n                        src={toAbsoluteUrl(\r\n                          \"/media/svg/icons/Communication/Mail-notification.svg\"\r\n                        )}\r\n                      ></SVG>\r\n                    </span>\r\n                  </span>\r\n                  <span className=\"navi-text text-muted text-hover-primary\">\r\n                    {user.email}\r\n                  </span>\r\n                </span>\r\n              </a>\r\n            </div>\r\n            {/* <Link to=\"/logout\" className=\"btn btn-light-primary btn-bold\">\r\n                Sign Out\r\n              </Link> */}\r\n            <button\r\n              className=\"btn btn-light-primary btn-bold\"\r\n              onClick={logoutClick}\r\n            >\r\n              Sign out\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"separator separator-dashed mt-8 mb-5\" />\r\n\r\n        <div className=\"navi navi-spacer-x-0 p-0\">\r\n          <Link to=\"/user-profile\" className=\"navi-item\">\r\n            <div className=\"navi-link\">\r\n              <div className=\"symbol symbol-40 bg-light mr-3\">\r\n                <div className=\"symbol-label\">\r\n                  <span className=\"svg-icon svg-icon-md svg-icon-success\">\r\n                    <SVG\r\n                      src={toAbsoluteUrl(\r\n                        \"/media/svg/icons/General/Notification2.svg\"\r\n                      )}\r\n                    ></SVG>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"navi-text\">\r\n                <div className=\"font-weight-bold\">My Profile</div>\r\n                <div className=\"text-muted\">\r\n                  Account settings and more{\" \"}\r\n                  <span className=\"label label-light-danger label-inline font-weight-bold\">\r\n                    update\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n\r\n          <Link to=\"/user-profile\" className=\"navi-item\">\r\n            <div className=\"navi-link\">\r\n              <div className=\"symbol symbol-40 bg-light mr-3\">\r\n                <div className=\"symbol-label\">\r\n                  <span className=\"svg-icon svg-icon-md svg-icon-warning\">\r\n                    <SVG\r\n                      src={toAbsoluteUrl(\r\n                        \"/media/svg/icons/Shopping/Chart-bar1.svg\"\r\n                      )}\r\n                    ></SVG>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"navi-text\">\r\n                <div className=\"font-weight-bold\">My Messages</div>\r\n                <div className=\"text-muted\">Inbox and tasks</div>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n\r\n          <a href=\"/user/profile\" className=\"navi-item\">\r\n            <div className=\"navi-link\">\r\n              <div className=\"symbol symbol-40 bg-light mr-3\">\r\n                <div className=\"symbol-label\">\r\n                  <span className=\"svg-icon svg-icon-md svg-icon-danger\">\r\n                    <SVG\r\n                      src={toAbsoluteUrl(\r\n                        \"/media/svg/icons/Files/Selected-file.svg\"\r\n                      )}\r\n                    ></SVG>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"navi-text\">\r\n                <div className=\"font-weight-bold\">My Activities</div>\r\n                <div className=\"text-muted\">Logs and notifications</div>\r\n              </div>\r\n            </div>\r\n          </a>\r\n\r\n          <a href=\"/user/profile\" className=\"navi-item\">\r\n            <div className=\"navi-link\">\r\n              <div className=\"symbol symbol-40 bg-light mr-3\">\r\n                <div className=\"symbol-label\">\r\n                  <span className=\"svg-icon svg-icon-md svg-icon-primary\">\r\n                    <SVG\r\n                      src={toAbsoluteUrl(\r\n                        \"/media/svg/icons/Communication/Mail-opened.svg\"\r\n                      )}\r\n                    ></SVG>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"navi-text\">\r\n                <div className=\"font-weight-bold\">My Tasks</div>\r\n                <div className=\"text-muted\">latest tasks and projects</div>\r\n              </div>\r\n            </div>\r\n          </a>\r\n        </div>\r\n\r\n        <div className=\"separator separator-dashed my-7\"></div>\r\n\r\n        <div>\r\n          <h5 className=\"mb-5\">Recent Notifications</h5>\r\n\r\n          <div className=\"d-flex align-items-center bg-light-warning rounded p-5 gutter-b\">\r\n            <span className=\"svg-icon svg-icon-warning mr-5\">\r\n              <SVG\r\n                src={toAbsoluteUrl(\"/media/svg/icons/Home/Library.svg\")}\r\n                className=\"svg-icon svg-icon-lg\"\r\n              ></SVG>\r\n            </span>\r\n\r\n            <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n              <a\r\n                href=\"#\"\r\n                className=\"font-weight-normal text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n              >\r\n                Another purpose persuade\r\n              </a>\r\n              <span className=\"text-muted font-size-sm\">Due in 2 Days</span>\r\n            </div>\r\n\r\n            <span className=\"font-weight-bolder text-warning py-1 font-size-lg\">\r\n              +28%\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"d-flex align-items-center bg-light-success rounded p-5 gutter-b\">\r\n            <span className=\"svg-icon svg-icon-success mr-5\">\r\n              <SVG\r\n                src={toAbsoluteUrl(\"/media/svg/icons/Communication/Write.svg\")}\r\n                className=\"svg-icon svg-icon-lg\"\r\n              ></SVG>\r\n            </span>\r\n            <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n              <a\r\n                href=\"#\"\r\n                className=\"font-weight-normal text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n              >\r\n                Would be to people\r\n              </a>\r\n              <span className=\"text-muted font-size-sm\">Due in 2 Days</span>\r\n            </div>\r\n\r\n            <span className=\"font-weight-bolder text-success py-1 font-size-lg\">\r\n              +50%\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"d-flex align-items-center bg-light-danger rounded p-5 gutter-b\">\r\n            <span className=\"svg-icon svg-icon-danger mr-5\">\r\n              <SVG\r\n                src={toAbsoluteUrl(\r\n                  \"/media/svg/icons/Communication/Group-chat.svg\"\r\n                )}\r\n                className=\"svg-icon svg-icon-lg\"\r\n              ></SVG>\r\n            </span>\r\n            <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n              <a\r\n                href=\"#\"\r\n                className=\"font-weight-normel text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n              >\r\n                Purpose would be to persuade\r\n              </a>\r\n              <span className=\"text-muted font-size-sm\">Due in 2 Days</span>\r\n            </div>\r\n\r\n            <span className=\"font-weight-bolder text-danger py-1 font-size-lg\">\r\n              -27%\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"d-flex align-items-center bg-light-info rounded p-5\">\r\n            <span className=\"svg-icon svg-icon-info mr-5\">\r\n              <SVG\r\n                src={toAbsoluteUrl(\"/media/svg/icons/General/Attachment2.svg\")}\r\n                className=\"svg-icon svg-icon-lg\"\r\n              ></SVG>\r\n            </span>\r\n\r\n            <div className=\"d-flex flex-column flex-grow-1 mr-2\">\r\n              <a\r\n                href=\"#\"\r\n                className=\"font-weight-normel text-dark-75 text-hover-primary font-size-lg mb-1\"\r\n              >\r\n                The best product\r\n              </a>\r\n              <span className=\"text-muted font-size-sm\">Due in 2 Days</span>\r\n            </div>\r\n\r\n            <span className=\"font-weight-bolder text-info py-1 font-size-lg\">\r\n              +8%\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport {toAbsoluteUrl} from \"../../../_helpers\";\r\n\r\nexport function ScrollTop() {\r\n  return (\r\n      <div id=\"kt_scrolltop\" className=\"scrolltop\">\r\n        <span className=\"svg-icon\">\r\n          <SVG src={toAbsoluteUrl(\"/media/svg/icons/Navigation/Up-2.svg\")}></SVG>\r\n        </span>{\" \"}\r\n      </div>\r\n  );\r\n}\r\n","import React, {useMemo} from \"react\";\r\nimport objectPath from \"object-path\";\r\n// LayoutContext\r\nimport {useHtmlClassService} from \"../_core/MetronicLayout\";\r\n// Import Layout components\r\nimport {Aside} from \"./aside/Aside\";\r\nimport {Footer} from \"./footer/Footer\";\r\nimport {LayoutInit} from \"./LayoutInit\";\r\nimport {SubHeader} from \"./subheader/SubHeader\";\r\nimport {QuickPanel} from \"./extras/offcanvas/QuickPanel\";\r\nimport {QuickUser} from \"./extras/offcanvas/QuickUser\";\r\nimport {ScrollTop} from \"./extras/ScrollTop\";\r\n\r\nexport function Layout({ children }) {\r\n    const uiService = useHtmlClassService();\r\n    // Layout settings (cssClasses/cssAttributes)\r\n    const layoutProps = useMemo(() => {\r\n        return {\r\n            layoutConfig: uiService.config,\r\n            selfLayout: objectPath.get(uiService.config, \"self.layout\"),\r\n            asideDisplay: objectPath.get(uiService.config, \"aside.self.display\"),\r\n            subheaderDisplay: objectPath.get(uiService.config, \"subheader.display\"),\r\n            desktopHeaderDisplay: objectPath.get(\r\n                uiService.config,\r\n                \"header.self.fixed.desktop\"\r\n            ),\r\n            contentCssClasses: uiService.getClasses(\"content\", true),\r\n            contentContainerClasses: uiService.getClasses(\"content_container\", true),\r\n            contentExtended: objectPath.get(uiService.config, \"content.extended\")\r\n        };\r\n    }, [uiService]);\r\n\r\n    return layoutProps.selfLayout !== \"blank\" ? (\r\n        <>\r\n            {/*begin::Main*/}\r\n            <div className=\"d-flex flex-column flex-root pt-0\">\r\n                {/*begin::Page*/}\r\n                <div className=\"d-flex flex-row flex-column-fluid page\">\r\n                    {layoutProps.asideDisplay && (<Aside/>)}\r\n                    {/*begin::Wrapper*/}\r\n                    <div className=\"d-flex flex-column flex-row-fluid wrapper pt-0\" id=\"kt_wrapper\">\r\n                        {/*begin::Content*/}\r\n                        <div\r\n                            id=\"kt_content\"\r\n                            className={`content ${layoutProps.contentCssClasses} d-flex flex-column flex-column-fluid`}\r\n                        >\r\n                            {layoutProps.subheaderDisplay && <SubHeader/>}\r\n                            {/*begin::Entry*/}\r\n                            {!layoutProps.contentExtended && (\r\n                                <div className=\"d-flex flex-column-fluid\">\r\n                                    {/*begin::Container*/}\r\n                                    <div className={layoutProps.contentContainerClasses}>\r\n                                        {children}\r\n                                    </div>\r\n                                    {/*end::Container*/}\r\n                                </div>\r\n                            )}\r\n\r\n                            {layoutProps.contentExtended && {children}}\r\n                            {/*end::Entry*/}\r\n                        </div>\r\n                        {/*end::Content*/}\r\n                        <Footer/>\r\n                    </div>\r\n                    {/*end::Wrapper*/}\r\n                </div>\r\n                {/*end::Page*/}\r\n            </div>\r\n            <QuickUser/>\r\n            <QuickPanel/>\r\n            <ScrollTop/>\r\n            {/*end::Main*/}\r\n            <LayoutInit />\r\n        </>\r\n    ) : (\r\n        // BLANK LAYOUT\r\n        <div className=\"d-flex flex-column flex-root\">{children}</div>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {useRouteMatch} from \"react-router-dom\";\r\n\r\nexport function Content({ children }) {\r\n  const match = useRouteMatch() || {};\r\n  const animationEndClass = \"grid-animateContent-finished\";\r\n  const [cssClassesState, setCssClassesState] = useState([\r\n    \"grid-animateContent\",\r\n    animationEndClass\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    // for animation start should toggle 'grid-animateContent-finished' css class\r\n    // TODO: change useMemo\r\n    const fullClasses = [...cssClassesState];\r\n    const startAnimation = fullClasses.filter(el => el !== animationEndClass);\r\n    setCssClassesState(startAnimation);\r\n    const timeOutId = setTimeout(() => {\r\n      setCssClassesState(fullClasses);\r\n    }, 200);\r\n\r\n    return () => {\r\n      clearTimeout(timeOutId);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [match.url]);\r\n\r\n  return <>{children}</>;\r\n}\r\n","import React from \"react\";\r\nimport {Route} from \"react-router-dom\";\r\nimport {Content} from \"./Content\";\r\n\r\nexport function ContentRoute({ children, component, render, ...props }) {\r\n  return (\r\n    <Route {...props}>\r\n      {routeProps => {\r\n        if (typeof children === \"function\") {\r\n          return <Content>{children(routeProps)}</Content>;\r\n        }\r\n\r\n        if (!routeProps.match) {\r\n          return null;\r\n        }\r\n\r\n        if (children) {\r\n          return <Content>{children}</Content>;\r\n        }\r\n\r\n        if (component) {\r\n          return (\r\n            <Content>{React.createElement(component, routeProps)}</Content>\r\n          );\r\n        }\r\n\r\n        if (render) {\r\n          return <Content>{render(routeProps)}</Content>;\r\n        }\r\n\r\n        return null;\r\n      }}\r\n    </Route>\r\n  );\r\n}\r\n","import React, {createContext, useContext, useState, useEffect} from \"react\";\r\n\r\nconst MetronicSplashScreenContext = createContext();\r\n\r\nexport function MetronicSplashScreenProvider({ children }) {\r\n  const [count, setCount] = useState(0);\r\n  let visible = count > 0;\r\n\r\n  useEffect(() => {\r\n    const splashScreen = document.getElementById(\"splash-screen\");\r\n\r\n    // Show SplashScreen\r\n    if (splashScreen && visible) {\r\n      splashScreen.classList.remove(\"hidden\");\r\n\r\n      return () => {\r\n        splashScreen.classList.add(\"hidden\");\r\n      };\r\n    }\r\n\r\n    // Hide SplashScreen\r\n    let timeout;\r\n    if (splashScreen && !visible) {\r\n      timeout = setTimeout(() => {\r\n        splashScreen.classList.add(\"hidden\");\r\n      }, 3000);\r\n    }\r\n\r\n    return () => {\r\n      clearTimeout(timeout);\r\n    };\r\n  }, [visible]);\r\n\r\n  return (\r\n    <MetronicSplashScreenContext.Provider value={setCount}>\r\n      {children}\r\n    </MetronicSplashScreenContext.Provider>\r\n  );\r\n}\r\n\r\nexport function LayoutSplashScreen({ visible = true }) {\r\n  // Everything are ready - remove splashscreen\r\n  const setCount = useContext(MetronicSplashScreenContext);\r\n\r\n  useEffect(() => {\r\n    if (!visible) {\r\n      return;\r\n    }\r\n\r\n    setCount(prev => {\r\n      return prev + 1;\r\n    });\r\n\r\n    return () => {\r\n      setCount(prev => {\r\n        return prev - 1;\r\n      });\r\n    };\r\n  }, [setCount, visible]);\r\n\r\n  return null;\r\n}\r\n","import React from \"react\";\r\nimport {createMuiTheme, ThemeProvider} from \"@material-ui/core\";\r\n\r\nconst theme = createMuiTheme(\r\n  /**\r\n   * @see https://material-ui.com/customization/themes/#theme-configuration-variables\r\n   */\r\n  {\r\n    // direction: \"rtl\",\r\n    typography: {\r\n      fontFamily: [\"Poppins\"].join(\",\")\r\n    },\r\n\r\n    palette: {\r\n      primary: {\r\n        // light: will be calculated from palette.primary.main,\r\n        main: \"#17c191\",\r\n        // dark: will be calculated from palette.primary.main,\r\n        // contrastText: \"#fff\" //will be calculated to contrast with palette.primary.main\r\n      },\r\n      secondary: {\r\n        // light: will be calculated from palette.primary.main,\r\n        main: \"#3783e7\",\r\n        // dark: will be calculated from palette.primary.main,\r\n        // contrastText: \"#fff\" //will be calculated to contrast with palette.primary.main\r\n      },\r\n      error: {\r\n        // light: will be calculated from palette.primary.main,\r\n        main: \"#f018a6\",\r\n        // dark: will be calculated from palette.primary.main,\r\n        // contrastText: \"#fff\" //will be calculated to contrast with palette.primary.main\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @see https://material-ui.com/customization/globals/#default-props\r\n     */\r\n    props: {\r\n      // Name of the component \r\n      MuiButtonBase: {\r\n        // The properties to apply\r\n        disableRipple: false // No more ripple, on the whole application !\r\n      },\r\n\r\n      // Set default elevation to 1 for popovers.\r\n      MuiPopover: {\r\n        elevation: 1\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nexport function MaterialThemeProvider(props) {\r\n  const { children } = props;\r\n\r\n  return <ThemeProvider theme={theme}>{children}</ThemeProvider>;\r\n}\r\n","import axios from 'axios'\r\n\r\nclass CustomMarketSync {\r\n\r\n    getProducts = async() => {\r\n        return await axios.get(`products/components`)\r\n    }\r\n    getDrugs = async() => {\r\n        return await axios.get(`drugs/components`)\r\n    }\r\n    getProductPresentations = async() => {\r\n        return await axios.get(`productpresentations/components`)\r\n    }\r\n    getLaboratories = async() => {\r\n        return await axios.get(`laboratories/components`)\r\n    }\r\n    getPharmaceuticalForms = async() => {\r\n        return await axios.get(`pharmaceuticalforms`)\r\n    }\r\n\r\n    getLineGroups = async() => {\r\n        return await axios.get(`linegroups`)\r\n    }\r\n    \r\n    getTherapeuticalClasses = async() => {\r\n        return await axios.get(`therapeuticalclasses/component`)\r\n    }\r\n}\r\n\r\nexport default new CustomMarketSync;","import React from 'react';\r\nimport axios from 'axios';\r\nimport CustomMarketSync from '../utils'\r\nimport { actionTypes } from './mercadosRedux'\r\nimport { FormattedMessage } from \"react-intl\";\r\n\r\nexport const getCustomMarketTree = () => {\r\n  return async function(dispatch) {\r\n    dispatch({type: actionTypes.RECEIVE_CUSTOM_MARKET_TREE_DATA, isLoading: true, customMarketTree: [] })\r\n    const customMarkets = await axios.get(`customMarkets/tree`)\r\n    dispatch({type: actionTypes.RECEIVE_CUSTOM_MARKET_TREE_DATA, isLoading: false, customMarketTree: customMarkets.data })\r\n  }\r\n}\r\n\r\nexport const getCustomMarkets = () => {\r\n  return async function(dispatch) {\r\n    dispatch({type: actionTypes.RECEIVE_CUSTOM_MARKET_DATA, isLoading: true, customMarket: [] })\r\n    const customMarketData = await axios.get(`customMarkets`)\r\n    let customMarkets = [];\r\n    if(customMarketData && customMarketData.data) {\r\n      customMarketData.data.map(customMarket => {\r\n            //let valueEncoded = btoa(JSON.stringify(customMarket));\r\n\r\n            let descriptionValues = []\r\n            if (customMarket.description) {\r\n              descriptionValues.push(customMarket.description)\r\n            }\r\n            if (customMarket.line) {\r\n              descriptionValues.push(customMarket.line)\r\n            }\r\n            if (customMarket.lineGroup) {\r\n              descriptionValues.push(customMarket.lineGroup)\r\n            }\r\n            let description = descriptionValues.join(' / ');            \r\n\r\n            customMarkets.push({code: customMarket.code, description: description.toUpperCase()})\r\n        }) \r\n    }\r\n    dispatch({type: actionTypes.RECEIVE_CUSTOM_MARKET_DATA, isLoading: false, data: customMarkets })\r\n  }\r\n}\r\n\r\nexport const getCustomMarketsByLine = (lineCodes) => {\r\n  return async function(dispatch) {\r\n    const customMarketData = await axios.get(`customMarkets/by-line?lineCodes=${lineCodes}`)\r\n    //const customMarketData = await axios.get(`customMarkets`)\r\n    let customMarkets = [];\r\n    if(customMarketData && customMarketData.data) {\r\n      customMarketData.data.map(customMarket => {\r\n            let valueEncoded = btoa(JSON.stringify(customMarket));\r\n\r\n            let descriptionValues = []\r\n            if (customMarket.description) {\r\n              descriptionValues.push(customMarket.description)\r\n            }\r\n            if (customMarket.line) {\r\n              descriptionValues.push(customMarket.line)\r\n            }\r\n/*             if (customMarket.lineGroup) {\r\n              descriptionValues.push(customMarket.lineGroup)\r\n            } */\r\n            let description = descriptionValues.join(' - ');            \r\n\r\n            customMarkets.push({label: description.toUpperCase(), value: valueEncoded, checked: false})\r\n        }) \r\n    }\r\n    return customMarkets\r\n  }\r\n}\r\n\r\nexport const getDrugs = (itemsChecked) => {\r\n  return function async(dispatch) {\r\n    dispatch({type: actionTypes.SET_LOADING_DRUGS, loading: true })  \r\n    CustomMarketSync.getDrugs().then(response => { \r\n      let drugs = [];\r\n      if(response && response.data) {\r\n        response.data.map(drug => {\r\n              let valueEncoded = btoa(JSON.stringify(drug));\r\n              let checked = setPreviousChecked(itemsChecked, valueEncoded)\r\n\r\n              drugs.push({label: drug.description.toUpperCase(), value: valueEncoded, checked: checked, isGroup: drug.drugGroupCode != null })\r\n          }) \r\n      }      \r\n      dispatch({type: actionTypes.RECEIVE_DRUGS_DATA, drugs: drugs})\r\n      dispatch({type: actionTypes.SET_LOADING_DRUGS, loading: false })  \r\n      });\r\n  }\r\n}\r\n\r\nexport const getLaboratories = (itemsChecked) => {\r\n  return async function(dispatch) {\r\n    dispatch({type: actionTypes.SET_LOADING_LABORATORIES, loading: true })\r\n    const laboratoriesData = await axios.get(`laboratories/components`)\r\n    let laboratories = [];\r\n    if(laboratoriesData && laboratoriesData.data) {\r\n      laboratoriesData.data.map(laboratory => {\r\n            let valueEncoded = btoa(JSON.stringify(laboratory));\r\n            let checked = setPreviousChecked(itemsChecked, valueEncoded)\r\n\r\n            laboratories.push({label: laboratory.description.toUpperCase(), value: valueEncoded, checked: checked, isGroup: laboratory.laboratoryGroupCode != null })\r\n        }) \r\n    }\r\n    dispatch({type: actionTypes.RECEIVE_LABORATORIES_DATA, laboratories: laboratories })\r\n    dispatch({type: actionTypes.SET_LOADING_LABORATORIES, loading: false })\r\n  }\r\n}\r\n\r\nexport const createLine = (line) => {\r\n  return async function (dispatch) {\r\n    return axios.post(`lines`, line)\r\n  }\r\n}\r\n\r\nexport const updateLine = (lineCode, line) => {\r\n  return async function (dispatch) {\r\n    return axios.put(`lines/${lineCode}`, line)\r\n  }\r\n}\r\n\r\nexport const getLines = () => {\r\n  return async function(dispatch) {\r\n    dispatch({type: actionTypes.RECEIVE_LINES_DATA, isLoading: true, lines: [] })\r\n    const lines = await axios.get(`lines`)\r\n    let linesData = [];\r\n    if(lines && lines.data) {\r\n      lines.data.map(line => {\r\n            let fullDescription = line.description\r\n            if (line.lineGroup && line.lineGroup.description) {\r\n              fullDescription += ' / ' + line.lineGroup.description\r\n            }\r\n            line.fullDescription = fullDescription\r\n            linesData.push(line)\r\n        }) \r\n    }\r\n    dispatch({type: actionTypes.RECEIVE_LINES_DATA, isLoading: false, lines: linesData })\r\n  }\r\n}\r\n\r\nexport const getLinesByLineGroup = (lineGroupCodes) => {\r\n  return async function(dispatch) {\r\n    const linesData = await axios.get(`lines/by-linegroup?lineGroupCodes=${lineGroupCodes}`)\r\n    let lines = [];\r\n    if(linesData && linesData.data) {\r\n      linesData.data.map(line => {\r\n            let valueEncoded = btoa(JSON.stringify(line));\r\n            lines.push({label: line.description.toUpperCase(), value: valueEncoded, checked: false})\r\n        }) \r\n    }\r\n    return lines\r\n  }\r\n}\r\n\r\nexport const createLineGroup = (lineGroup) => {\r\n  return async function (dispatch) {\r\n    return axios.post(`lineGroups`, lineGroup)\r\n  }\r\n}\r\n\r\nexport const updateLineGroup = (lineGroupCode, lineGroup) => {\r\n  return async function (dispatch) {\r\n    return axios.put(`lineGroups/${lineGroupCode}`, lineGroup)\r\n  }\r\n}\r\n\r\nexport const getLineGroups = () => {\r\n  return async function(dispatch) {\r\n    dispatch({type: actionTypes.SET_LOADING_LINEGROUPS, loading: true })\r\n    const lineGroupsData = await axios.get(`linegroups`)\r\n    let linegroups = [];\r\n    if(lineGroupsData && lineGroupsData.data) {\r\n      lineGroupsData.data.map(linegroup => {\r\n            let valueEncoded = btoa(JSON.stringify(linegroup));\r\n            linegroups.push({label: linegroup.description.toUpperCase(), value: valueEncoded, checked: false})\r\n        }) \r\n    }\r\n    dispatch({type: actionTypes.RECEIVE_LINEGROUPS_DATA, linegroups: linegroups })\r\n    dispatch({type: actionTypes.SET_LOADING_LINEGROUPS, loading: false })\r\n  }\r\n}\r\n\r\nexport const getPharmaceuticalForms = () => {\r\n  return async function(dispatch) {\r\n    dispatch({type: actionTypes.SET_LOADING_PHARMACEUTICALFORMS, loading: true })\r\n    const pharmaceuticalformsData = await axios.get(`pharmaceuticalforms`)\r\n    let pharmaceuticalforms = [];\r\n    if(pharmaceuticalformsData && pharmaceuticalformsData.data) {\r\n      pharmaceuticalformsData.data.map(pharmaceuticalform => {\r\n            let valueEncoded = btoa(JSON.stringify(pharmaceuticalform));\r\n            let description = getPharmaceuticalFormDescription(pharmaceuticalform)\r\n            pharmaceuticalforms.push({label: description.toUpperCase(), value: valueEncoded, checked: false})\r\n        }) \r\n    }\r\n    dispatch({type: actionTypes.RECEIVE_PHARMACEUTICALFORMS_DATA, pharmaceuticalforms: pharmaceuticalforms })\r\n    dispatch({type: actionTypes.SET_LOADING_PHARMACEUTICALFORMS, loading: false })\r\n  }\r\n}\r\n\r\nexport const getPharmaceuticalFormsByProduct = (productCodes, productGroupCodes) => {\r\n  return async function(dispatch) {\r\n    try {\r\n      const pharmaceuticalformsData = await axios.get(`pharmaceuticalforms/by-product?productCodes=${productCodes}&productGroupCodes=${productGroupCodes}`)\r\n      let pharmaceuticalforms = [];\r\n      if(pharmaceuticalformsData && pharmaceuticalformsData.data) {\r\n        pharmaceuticalformsData.data.map(pharmaceuticalform => {\r\n              let valueEncoded = btoa(JSON.stringify(pharmaceuticalform));\r\n              let description = getPharmaceuticalFormDescription(pharmaceuticalform)\r\n              pharmaceuticalforms.push({label: description.toUpperCase(), value: valueEncoded, checked: false})\r\n          }) \r\n      }\r\n      return pharmaceuticalforms\r\n    } catch (e) {\r\n      dispatch({\r\n        type: actionTypes.SET_GET_ERROR, \r\n        visible: true, \r\n        title: <FormattedMessage id=\"CUSTOM_MARKET_TAB.ERROR.TITLE\" />,\r\n        description: <FormattedMessage id=\"CUSTOM_MARKET_TAB.ERROR.DESCRIPTION\" />\r\n      })\r\n      return []\r\n    }\r\n  }\r\n}\r\n\r\nexport const getPharmaceuticalFormsByProductPresentation = (productPresentationCodes, productPresentationGroupCodes) => {\r\n  return async function(dispatch) {\r\n    try {\r\n      const pharmaceuticalformsData = await axios.get(`pharmaceuticalforms/by-productpresentation?productPresentationCodes=${productPresentationCodes}&productPresentationGroupCodes=${productPresentationGroupCodes}`)\r\n      let pharmaceuticalforms = [];\r\n      if(pharmaceuticalformsData && pharmaceuticalformsData.data) {\r\n        pharmaceuticalformsData.data.map(pharmaceuticalform => {\r\n              let valueEncoded = btoa(JSON.stringify(pharmaceuticalform));\r\n              let description = getPharmaceuticalFormDescription(pharmaceuticalform)\r\n              pharmaceuticalforms.push({label: description.toUpperCase(), value: valueEncoded, checked: false})\r\n          }) \r\n      }\r\n      return pharmaceuticalforms\r\n    } catch (e) {\r\n      dispatch({\r\n        type: actionTypes.SET_GET_ERROR, \r\n        visible: true, \r\n        title: <FormattedMessage id=\"CUSTOM_MARKET_TAB.ERROR.TITLE\" />,\r\n        description: <FormattedMessage id=\"CUSTOM_MARKET_TAB.ERROR.DESCRIPTION\" />\r\n      })\r\n      return []\r\n    }\r\n  }\r\n}\r\n\r\nexport const getCustomMarketDescription = (customMarket) => {\r\n  let description = []\r\n  if (customMarket.lineGroupDescription) {\r\n      description.push(customMarket.lineGroupDescription)\r\n  }\r\n  if (customMarket.lineDescription) {\r\n      description.push(customMarket.lineDescription)\r\n  }        \r\n  if (customMarket.description) {\r\n      description.push(customMarket.description)\r\n  }      \r\n  return description.join(' / ')    \r\n}\r\n\r\n\r\nconst getPharmaceuticalFormDescription = (pharmaceuticalForm) => {\r\n  let description = []\r\n  if (pharmaceuticalForm.imscode) {\r\n    description.push(pharmaceuticalForm.imscode)\r\n  }        \r\n  if (pharmaceuticalForm.description) {\r\n    description.push(pharmaceuticalForm.description)\r\n  }      \r\n  return description.join(' - ')  \r\n}\r\n\r\nexport const setMarketDescriptionTitle = (description) => {\r\n  return async function (dispatch) {\r\n    return dispatch({ type: actionTypes.SET_CUSTOM_MARKET_TITLE, description})\r\n  }\r\n}\r\nexport const getCustomMarketByCode = (code) => {\r\n  return async function (dispatch) {\r\n    dispatch({type: actionTypes.STORE_CUSTOM_MARKET_SELECTED, isLoading: true })\r\n    const getCustomMarket = await axios.get(`customMarkets/${code}`)\r\n    if(getCustomMarket && getCustomMarket.data) {\r\n      getCustomMarket.data.customMarketDetail.forEach(function(cmd, index) {\r\n        cmd.index = index;\r\n      });\r\n\r\n      getCustomMarket.data.fullDescription = getCustomMarketDescription(getCustomMarket.data)\r\n\r\n      return dispatch({type: actionTypes.STORE_CUSTOM_MARKET_SELECTED, isLoading: false, customMarketSelected: getCustomMarket.data}) \r\n    }\r\n  }\r\n}\r\n\r\nexport const getCustomMarketGroupByCustomMarketCode = (customMarketCode) => {\r\n  return async function (dispatch) {\r\n    dispatch({type: actionTypes.STORE_CUSTOM_MARKET_GROUPS, isLoading: true, customMarketGroups: null})\r\n    const getCustomMarketGroup = await axios.get(`customMarketGroups/by-custommarket?customMarketCode=${customMarketCode}`)\r\n    if(getCustomMarketGroup && getCustomMarketGroup.data) {\r\n      return dispatch({type: actionTypes.STORE_CUSTOM_MARKET_GROUPS, isLoading: false, customMarketGroups: getCustomMarketGroup.data})\r\n    }\r\n  }\r\n}\r\n\r\nexport const createCustomMarketGroup = (customMarketGroup) => {\r\n  return async function (dispatch) {\r\n    return axios.post(`customMarketGroups`, customMarketGroup)\r\n  }\r\n}\r\n\r\nexport const updateCustomMarketGroup = (customMakertGroupCode, customMarketGroup) => {\r\n  return async function (dispatch) {\r\n    return axios.put(`customMarketGroups/${customMakertGroupCode}`, customMarketGroup)\r\n  }\r\n}\r\n\r\nexport const deleteCustomMarketGroup = (customMakertGroupCode) => {\r\n  return async function (dispatch) {\r\n    return axios.delete(`customMarketGroups/${customMakertGroupCode}`)\r\n  }\r\n}\r\n\r\nexport const createCustomMarket = (customMarket) => {\r\n  return async function (dispatch) {\r\n    return await axios.post(`customMarkets`, customMarket)\r\n  }\r\n}\r\n\r\nexport const updateCustomMarket = (customMarket) => {\r\n  customMarket.customMarketDetail.forEach(function(cmd, index) {\r\n    cmd.order = index;\r\n  }); \r\n\r\n  return async function (dispatch) {\r\n    //dispatch({type: actionTypes.STORE_CUSTOM_MARKET_SELECTED, isLoading: true })\r\n    const getCustomMarket = await axios.put(`customMarkets/${customMarket.code}`, customMarket)\r\n    if(getCustomMarket && getCustomMarket.data) {\r\n      getCustomMarket.data.customMarketDetail.forEach(function(cmd, index) {\r\n        cmd.index = index;\r\n      });\r\n  \r\n      getCustomMarket.data.fullDescription = getCustomMarketDescription(getCustomMarket.data)\r\n\r\n      return dispatch({type: actionTypes.STORE_CUSTOM_MARKET_SELECTED, isLoading: false, customMarketSelected: getCustomMarket.data}) \r\n    }\r\n  }\r\n}\r\n\r\nexport const deleteCustomMarket = (customMarket) => {\r\n  return async function (dispatch) {\r\n    //dispatch({type: actionTypes.STORE_CUSTOM_MARKET_SELECTED, isLoading: true })\r\n    await axios.delete(`customMarkets/${customMarket.code}`)\r\n    return dispatch({type: actionTypes.STORE_CUSTOM_MARKET_SELECTED, isLoading: false, customMarketSelected: {}, treeVisible: true}) \r\n  }\r\n}\r\n\r\nexport const cloneCustomMarket = (customMarket) => {\r\n  return async function(dispatch) {\r\n    customMarket.customMarketDetail = null\r\n    return await axios.post(`customMarkets/clone/${customMarket.code}`, customMarket)\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const setMarketTreeVisible = (visible) => {\r\n  return async function (dispatch) {\r\n    return dispatch({ type: actionTypes.SET_CUSTOM_MARKET_TREE_VISIBLE, visible})\r\n  }\r\n}\r\n\r\nexport const getProducts = (itemsChecked) => {\r\n  return async function(dispatch) {\r\n    dispatch({type: actionTypes.SET_LOADING_PRODUCTS, loading: true })\r\n    const products = await axios.get(`products/components`)\r\n    if(products && products.data) {\r\n      let productsMercado = [];\r\n      products.data.map(product => {\r\n            let valueEncoded = btoa(JSON.stringify(product));\r\n            let checked = setPreviousChecked(itemsChecked, valueEncoded)\r\n\r\n            let descriptionValues = []\r\n            if (product.description) {\r\n              descriptionValues.push(product.description)\r\n            }\r\n            if (product.class) {\r\n              descriptionValues.push(product.class)\r\n            }\r\n            if (product.laboratory) {\r\n              descriptionValues.push(product.laboratory)\r\n            }\r\n            let description = descriptionValues.join(' - ');\r\n            productsMercado.push({label: description.toUpperCase(), value: valueEncoded, checked: checked, isGroup: product.productGroupCode != null })\r\n      })\r\n      dispatch({type: actionTypes.RECEIVE_PRODUCTS_DATA, products: productsMercado })\r\n      dispatch({type: actionTypes.SET_LOADING_PRODUCTS, loading: false })\r\n    }\r\n  }\r\n}\r\n\r\nexport const getProductByDrug = (drugCodes, drugGroupCodes) => {\r\n  return async function(dispatch) {\r\n    try {\r\n      const productsData = await axios.get(`products/by-drug?drugCodes=${drugCodes}&drugGroupCodes=${drugGroupCodes}`)\r\n      let products = [];\r\n      if(productsData && productsData.data) {\r\n        productsData.data.map(product => {\r\n              let valueEncoded = btoa(JSON.stringify(product));\r\n              let descriptionValues = []\r\n              if (product.description) {\r\n                descriptionValues.push(product.description)\r\n              }\r\n              if (product.class) {\r\n                descriptionValues.push(product.class)\r\n              }\r\n              if (product.laboratory) {\r\n                descriptionValues.push(product.laboratory)\r\n              }\r\n              let description = descriptionValues.join(' - ');\r\n              products.push({label: description.toUpperCase(), value: valueEncoded, checked: false, isGroup: product.productGroupCode != null })\r\n          })\r\n        }\r\n      return products\r\n    } catch (e) {\r\n      dispatch({\r\n        type: actionTypes.SET_GET_ERROR, \r\n        visible: true, \r\n        title: <FormattedMessage id=\"CUSTOM_MARKET_TAB.ERROR.TITLE\" />,\r\n        description: <FormattedMessage id=\"CUSTOM_MARKET_TAB.ERROR.DESCRIPTION\" />\r\n      })\r\n      return []\r\n    }      \r\n  }\r\n}\r\n\r\nexport const getProductByLaboratory = (laboratoryCodes, laboratoryGroupCodes) => {\r\n  return async function(dispatch) {\r\n    const productsData = await axios.get(`products/by-laboratory?laboratoryCodes=${laboratoryCodes}&laboratoryGroupCodes=${laboratoryGroupCodes}`)\r\n    let products = [];\r\n    if(productsData && productsData.data) {\r\n      productsData.data.map(product => {\r\n            let valueEncoded = btoa(JSON.stringify(product));\r\n            let descriptionValues = []\r\n            if (product.description) {\r\n              descriptionValues.push(product.description)\r\n            }\r\n            if (product.class) {\r\n              descriptionValues.push(product.class)\r\n            }\r\n            if (product.laboratory) {\r\n              descriptionValues.push(product.laboratory)\r\n            }\r\n            let description = descriptionValues.join(' - ');\r\n            products.push({label: description.toUpperCase(), value: valueEncoded, checked: false, isGroup: product.productGroupCode != null })\r\n        })\r\n      }\r\n    return products\r\n  }\r\n}\r\n\r\nexport const getProductByTherapeuticalClass = (therapeuticalClassCodes) => {\r\n  return async function(dispatch) {\r\n    const productsData = await axios.get(`products/by-therapeuticalClass?therapeuticalClassCodes=${therapeuticalClassCodes}`)\r\n    let products = [];\r\n    if(productsData && productsData.data) {\r\n      productsData.data.map(product => {\r\n            let valueEncoded = btoa(JSON.stringify(product));\r\n            let descriptionValues = []\r\n            if (product.description) {\r\n              descriptionValues.push(product.description)\r\n            }\r\n            if (product.class) {\r\n              descriptionValues.push(product.class)\r\n            }\r\n            if (product.laboratory) {\r\n              descriptionValues.push(product.laboratory)\r\n            }\r\n            let description = descriptionValues.join(' - ');\r\n            products.push({label: description.toUpperCase(), value: valueEncoded, checked: false, isGroup: product.productGroupCode != null })\r\n        })\r\n      }\r\n    return products\r\n  }\r\n}\r\n\r\nexport const getProductPresentations = (itemsChecked) => {\r\n  return async function(dispatch) {\r\n    dispatch({type: actionTypes.SET_LOADING_PRODUCT_PRESENTATIONS, loading: true })\r\n    const presentations = await axios.get(`productpresentations/components`)\r\n    let presentationsData = [];\r\n    if(presentations && presentations.data) {\r\n      presentations.data.map(presentation => {\r\n            let valueEncoded = btoa(JSON.stringify(presentation));\r\n            let checked = setPreviousChecked(itemsChecked, valueEncoded)\r\n\r\n            let descriptionValues = []\r\n            if (presentation.description) {\r\n              descriptionValues.push(presentation.description)\r\n            }\r\n            if (presentation.class) {\r\n              descriptionValues.push(presentation.class)\r\n            }\r\n            if (presentation.laboratory) {\r\n              descriptionValues.push(presentation.laboratory)\r\n            }\r\n            if (presentation.therapeuticalClass) {\r\n              descriptionValues.push(presentation.therapeuticalClass)\r\n            }\r\n            let description = descriptionValues.join(' - ');            \r\n            presentationsData.push({label: description.toUpperCase(), value: valueEncoded, checked: checked, isGroup: presentation.productPresentationGroupCode != null })\r\n        }) \r\n    }\r\n    dispatch({type: actionTypes.RECEIVE_PRODUCT_PRESENTATIONS_DATA, productpresentations: presentationsData })\r\n    dispatch({type: actionTypes.SET_LOADING_PRODUCT_PRESENTATIONS, loading: false })\r\n  }\r\n}\r\n\r\nexport const getProductTypes = () => {\r\n  return async function(dispatch) {\r\n    const productTypes = await axios.get(`producttypes`)\r\n    let productTypesData = [];\r\n    if(productTypes && productTypes.data) {\r\n      productTypes.data.map(productType => {          \r\n        productTypesData.push({code: productType.code, description:  productType.description})\r\n        }) \r\n    }\r\n    dispatch({type: actionTypes.RECEIVE_PRODUCT_TYPES_DATA, producttypes: productTypesData })\r\n  }\r\n}\r\n\r\nexport const getPresentationsbyPharmaceuticalForms = (pharmaceuticalFormsCodes, productCodes = null, productGroupCodes = null) => {\r\n  return async function(dispatch) {\r\n    const presentations = await axios.get(`productpresentations/by-pharmaceuticalForm?pharmaceuticalFormCodes=${pharmaceuticalFormsCodes}&productCodes=${productCodes}&productGroupCodes=${productGroupCodes}`)\r\n    let presentationsData = [];\r\n    if(presentations && presentations.data) {\r\n      presentations.data.map(presentation => {\r\n            let valueEncoded = btoa(JSON.stringify(presentation));\r\n            let descriptionValues = []\r\n            if (presentation.description) {\r\n              descriptionValues.push(presentation.description)\r\n            }\r\n            if (presentation.class) {\r\n              descriptionValues.push(presentation.class)\r\n            }\r\n            if (presentation.laboratory) {\r\n              descriptionValues.push(presentation.laboratory)\r\n            }\r\n            if (presentation.therapeuticalClass) {\r\n              descriptionValues.push(presentation.therapeuticalClass)\r\n            }\r\n            let description = descriptionValues.join(' - ');            \r\n            presentationsData.push({label: description.toUpperCase(), value: valueEncoded, checked: false, isGroup: presentation.productPresentationGroupCode != null })\r\n        }) \r\n    }\r\n    return presentationsData\r\n  }\r\n}\r\n\r\nexport const getTherapeuticalClasses = () => {\r\n  return function async(dispatch) {\r\n    dispatch({type: actionTypes.SET_LOADING_THERAPEUTICAL_CLASESS, loading: true })\r\n    CustomMarketSync.getTherapeuticalClasses().then(response => { \r\n      let therapeuticalClasses = [];\r\n      if(response && response.data) {\r\n        response.data.map(therapeuticalClass => {\r\n              let valueEncoded = btoa(JSON.stringify(therapeuticalClass));\r\n              let descriptionValues = []\r\n              if (therapeuticalClass.imscode) {\r\n                descriptionValues.push(therapeuticalClass.imscode)\r\n              }      \r\n              if (therapeuticalClass.description) {\r\n                descriptionValues.push(therapeuticalClass.description)\r\n              }\r\n              let description = descriptionValues.join(' - ');            \r\n              therapeuticalClasses.push({label: description.toUpperCase(), value: valueEncoded, checked: false})\r\n          }) \r\n      }      \r\n      dispatch({type: actionTypes.RECEIVE_THERAPEUTICAL_CLASESS_DATA, therapeuticalclasses: therapeuticalClasses})\r\n      dispatch({type: actionTypes.SET_LOADING_THERAPEUTICAL_CLASESS, loading: false })\r\n      });\r\n  }\r\n}\r\n\r\n\r\nexport const createProductGroup = (data) => {\r\n  return async function(dispatch) {\r\n    const createProductGroup = await axios.post(`products/group`, data, { headers: { 'Content-Type':'application/json'}})\r\n  }\r\n}\r\n\r\nexport const createLaboratoryGroup = (data) => {\r\n  return async function(dispatch) {\r\n    const createLaboraotryGroup = await axios.post(`laboratories/group`, data, { headers: { 'Content-Type':'application/json'}})\r\n  }\r\n}\r\n\r\nexport const createDrugGroup = (data) => {\r\n  return async function(dispatch) {\r\n    const createDrugGroup = await axios.post(`drugs/group`, data, { headers: { 'Content-Type':'application/json'}})\r\n  }\r\n}\r\n\r\nexport const createProductPresentationGroup = (data) => {\r\n  return async function(dispatch) {\r\n    const createPPGroup = await axios.post(`productpresentations/group`, data, { headers: { 'Content-Type':'application/json'}})\r\n  }\r\n}\r\n\r\nexport const getCustomMarketsPreview = (code) => {\r\n  return async function(dispatch) {\r\n    const customMarketPreview = await axios.get(`customMarkets/preview/${code}`)\r\n    return customMarketPreview.data\r\n  }\r\n}\r\nexport const dispatchProductLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({type: actionTypes.SET_LOADING_PRODUCTS, loading: loading })\r\n  }\r\n}\r\n\r\nexport const dispatchProductPresentationLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({type: actionTypes.SET_LOADING_PRODUCT_PRESENTATIONS, loading: loading })\r\n  }\r\n}\r\n\r\nexport const dispatchTherapeuticalClassesLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({type: actionTypes.SET_LOADING_THERAPEUTICAL_CLASESS, loading: loading })\r\n  }\r\n}\r\n\r\nexport const dispatchLaboratoriesLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({type: actionTypes.SET_LOADING_LABORATORIES, loading: loading })\r\n  }\r\n}\r\n\r\nexport const dispatchDrugsLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({type: actionTypes.SET_LOADING_DRUGS, loading: loading })\r\n  }\r\n}\r\n\r\n\r\nexport const dispatchPharmaceuticalFormsLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({type: actionTypes.SET_LOADING_PHARMACEUTICALFORMS, loading: false })\r\n  }\r\n}\r\n\r\nexport const dispatchLineGroupsLoading = (loading) => {\r\n  return async function (dispatch) {\r\n    return dispatch({type: actionTypes.SET_LOADING_LINEGROUPS, loading: false })\r\n  }\r\n}\r\n\r\n\r\nexport const dispatchProducts = (products) => {\r\n  return function (dispatch) {\r\n    return dispatch({type: actionTypes.RECEIVE_PRODUCTS_DATA, products: products })\r\n  }\r\n}\r\n\r\nexport const dispatchProductPresentations = (productPresentations) => {\r\n  return function (dispatch) {\r\n    return dispatch({type: actionTypes.RECEIVE_PRODUCT_PRESENTATIONS_DATA, productpresentations: productPresentations })\r\n  }\r\n}\r\n\r\nexport const dispatchTherapeuticalClasses = (therapeuticalClasses) => {\r\n  return async function (dispatch) {\r\n    dispatch({type: actionTypes.RECEIVE_THERAPEUTICAL_CLASESS_DATA, therapeuticalclasses: therapeuticalClasses})\r\n  }\r\n}\r\n\r\nexport const dispatchLaboratories = (laboratories) => {\r\n  return async function (dispatch) {\r\n    dispatch({type: actionTypes.RECEIVE_LABORATORIES_DATA, laboratories: laboratories })\r\n  }\r\n}\r\n\r\nexport const dispatchDrugs = (drugs) => {\r\n  return async function (dispatch) {\r\n    dispatch({type: actionTypes.RECEIVE_DRUGS_DATA, drugs: drugs})\r\n  }\r\n}\r\n\r\nexport const dispatchPharmaceuticalForms = (pharmaceuticalforms) => {\r\n  return async function (dispatch) {\r\n    dispatch({type: actionTypes.RECEIVE_PHARMACEUTICALFORMS_DATA, pharmaceuticalforms: pharmaceuticalforms })\r\n  }\r\n}\r\n\r\nexport const dispatchLineGroups = (linegroups) => {\r\n  return async function (dispatch) {\r\n    dispatch({type: actionTypes.RECEIVE_LINEGROUPS_DATA, linegroups: linegroups })\r\n  }\r\n}\r\n\r\nexport const setCustomMarketPageView = (view) => {\r\n  return function(dispatch) {\r\n    return dispatch({type: actionTypes.SET_CUSTOM_MARKET_PAGE_VIEW, view })\r\n  }\r\n}\r\n\r\nexport const resetCustomMarket = () => {\r\n  return function (dispatch) {\r\n    return dispatch({type: actionTypes.RESET_CUSTOM_MARKET})\r\n  }\r\n}\r\n\r\nexport const setPreviousChecked = (itemsChecked, valueToCompare) => {\r\n  let checked = false\r\n  if (itemsChecked) {\r\n    itemsChecked.map(item => {\r\n      if (item.value == valueToCompare) {\r\n        checked = true\r\n      }\r\n    })\r\n  }\r\n  return checked\r\n}\r\n\r\n\r\nexport const setGetError = (visible, title = null, description = null) => {\r\n  return async function(dispatch) {\r\n    dispatch({type: actionTypes.SET_GET_ERROR, visible: visible, title: title, description: description})\r\n  }\r\n}\r\n\r\nexport const setActionCustomMarketPreview = (action) => {\r\n  return async function(dispatch) {\r\n    dispatch({type: actionTypes.CUSTOM_MARKET_PREVIEW_ACTION, preview: {type: action.type, visible: action.visible, item: action.item}})\r\n  }\r\n}\r\n\r\nexport const actionCustomMarketPreviewReset = () => {\r\n  return async function(dispatch) {\r\n    dispatch({type: actionTypes.CUSTOM_MARKET_PREVIEW_ACTION, preview: {type: '', visible: false, item: null}})\r\n  }\r\n}","export default {\r\n    tree: {\r\n        base: {\r\n            listStyle: 'none',\r\n            backgroundColor: '#21252B',\r\n            margin: 0,\r\n            padding: 0,\r\n            color: '#9DA5AB',\r\n            fontFamily: 'lucida grande ,tahoma,verdana,arial,sans-serif',\r\n            fontSize: '14px'\r\n        },\r\n        node: {\r\n            base: {\r\n                position: 'relative'\r\n            },\r\n            link: {\r\n                cursor: 'pointer',\r\n                position: 'relative',\r\n                padding: '0px 5px',\r\n                display: 'block'\r\n            },\r\n            activeLink: {\r\n                background: '#31363F'\r\n            },\r\n            toggle: {\r\n                base: {\r\n                    position: 'relative',\r\n                    display: 'inline-block',\r\n                    verticalAlign: 'top',\r\n                    marginLeft: '-5px',\r\n                    height: '24px',\r\n                    width: '24px'\r\n                },\r\n                wrapper: {\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    margin: '-7px 0 0 -7px',\r\n                    height: '14px'\r\n                },\r\n                height: 14,\r\n                width: 14,\r\n                arrow: {\r\n                    fill: '#9DA5AB',\r\n                    strokeWidth: 0\r\n                }\r\n            },\r\n            header: {\r\n                base: {\r\n                    display: 'inline-block',\r\n                    verticalAlign: 'top',\r\n                    color: '#9DA5AB'\r\n                },\r\n                connector: {\r\n                    width: '2px',\r\n                    height: '12px',\r\n                    borderLeft: 'solid 2px black',\r\n                    borderBottom: 'solid 2px black',\r\n                    position: 'absolute',\r\n                    top: '0px',\r\n                    left: '-21px'\r\n                },\r\n                title: {\r\n                    lineHeight: '24px',\r\n                    verticalAlign: 'middle'\r\n                }\r\n            },\r\n            subtree: {\r\n                listStyle: 'none',\r\n                paddingLeft: '19px'\r\n            },\r\n            loading: {\r\n                color: '#E2C089'\r\n            }\r\n        }\r\n    }\r\n};\r\n","export default {\r\n    toggle: ({node: {toggled}}, duration = 300) => ({\r\n        animation: {rotateZ: toggled ? 90 : 0},\r\n        duration: duration\r\n    }),\r\n    drawer: (/* props */) => ({\r\n        enter: {\r\n            animation: 'slideDown',\r\n            duration: 300\r\n        },\r\n        leave: {\r\n            animation: 'slideUp',\r\n            duration: 300\r\n        }\r\n    })\r\n};\r\n","const randomString = () => Math.random().toString(36).substring(7);\r\n\r\nexport default randomString;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Div = styled('div', {\r\n    shouldForwardProp: prop => ['className', 'children'].indexOf(prop) !== -1\r\n})((({style}) => style));\r\n\r\nexport const Ul = styled('ul', {\r\n    shouldForwardProp: prop => ['className', 'children'].indexOf(prop) !== -1\r\n})((({style}) => style));\r\n","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {VelocityComponent} from 'velocity-react';\r\n\r\nclass Container extends PureComponent {\r\n    renderToggle() {\r\n        const {animations} = this.props;\r\n\r\n        if (!animations) {\r\n            return this.renderToggleDecorator();\r\n        }\r\n\r\n        return (\r\n            <VelocityComponent animation={animations.toggle.animation} duration={animations.toggle.duration}>\r\n                {this.renderToggleDecorator()}\r\n            </VelocityComponent>\r\n        );\r\n    }\r\n\r\n    renderToggleDecorator() {\r\n        const {style, decorators, onClick} = this.props;\r\n        return <decorators.Toggle style={style.toggle} onClick={onClick}/>;\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            style, decorators, terminal, node, onSelect, customStyles\r\n        } = this.props;\r\n        return (\r\n            <div style={node.active ? {...style.container} : {...style.link}}>\r\n                {!terminal ? this.renderToggle() : null}\r\n                <decorators.Header node={node} style={style.header} customStyles={customStyles} onSelect={onSelect}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nContainer.propTypes = {\r\n    customStyles: PropTypes.object,\r\n    style: PropTypes.object.isRequired,\r\n    decorators: PropTypes.object.isRequired,\r\n    terminal: PropTypes.bool.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    onSelect: PropTypes.func,\r\n    animations: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.bool\r\n    ]).isRequired,\r\n    node: PropTypes.object.isRequired\r\n};\r\n\r\nContainer.defaultProps = {\r\n    onSelect: null,\r\n    customStyles: {}\r\n};\r\n\r\nexport default Container;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {Div} from '../common';\r\n\r\nconst Header = ({onSelect, node, style, customStyles}) => (\r\n    <div style={style.base} onClick={onSelect}>\r\n        <Div style={node.selected ? {...style.title, ...customStyles.header.title} : style.title}>\r\n            {node.name}\r\n        </Div>\r\n    </div>\r\n);\r\n\r\nHeader.propTypes = {\r\n    onSelect: PropTypes.func,\r\n    style: PropTypes.object,\r\n    customStyles: PropTypes.object,\r\n    node: PropTypes.object.isRequired\r\n};\r\n\r\nHeader.defaultProps = {\r\n    customStyles: {}\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from '@emotion/styled';\r\n\r\nconst Loading = styled(({className}) => (\r\n    <div className={className}>loading...</div>\r\n))(({style}) => style);\r\n\r\nLoading.propTypes = {\r\n    style: PropTypes.object\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from '@emotion/styled';\r\n\r\nimport {Div} from '../common';\r\n\r\nconst Polygon = styled('polygon', {\r\n    shouldForwardProp: prop => ['className', 'children', 'points'].indexOf(prop) !== -1\r\n})((({style}) => style));\r\n\r\nconst Toggle = ({style, onClick}) => {\r\n    const {height, width} = style;\r\n    const midHeight = height * 0.5;\r\n    const points = `0,0 0,${height} ${width},${midHeight}`;\r\n\r\n    return (\r\n        <div style={style.base} onClick={onClick}>\r\n            <Div style={style.wrapper}>\r\n                <svg {...{height, width}}>\r\n                    <Polygon points={points} style={style.arrow}/>\r\n                </svg>\r\n            </Div>\r\n        </div>\r\n    );\r\n};\r\n\r\nToggle.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    style: PropTypes.object\r\n};\r\n\r\nexport default Toggle;\r\n","import Container from './Container';\r\nimport Header from './Header';\r\nimport Loading from './Loading';\r\nimport Toggle from './Toggle';\r\n\r\nexport default {\r\n    Container,\r\n    Header,\r\n    Loading,\r\n    Toggle\r\n};\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport shallowEqual from 'shallowequal';\r\nimport deepEqual from 'deep-equal';\r\n\r\nclass NodeHeader extends Component {\r\n    shouldComponentUpdate(nextProps) {\r\n        const props = this.props;\r\n        const nextPropKeys = Object.keys(nextProps);\r\n\r\n        for (let i = 0; i < nextPropKeys.length; i++) {\r\n            const key = nextPropKeys[i];\r\n            if (key === 'animations') {\r\n                continue;\r\n            }\r\n\r\n            const isEqual = shallowEqual(props[key], nextProps[key]);\r\n            if (!isEqual) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return !deepEqual(props.animations, nextProps.animations, {strict: true});\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            animations, decorators, node, onClick, style, onSelect, customStyles\r\n        } = this.props;\r\n        const {active, children} = node;\r\n        const terminal = !children;\r\n        let styles;\r\n        if (active) {\r\n            styles = Object.assign(style, {container: {...style.link, ...style.activeLink}});\r\n        } else {\r\n            styles = style;\r\n        }\r\n        return (\r\n            <decorators.Container\r\n                animations={animations}\r\n                decorators={decorators}\r\n                node={node}\r\n                onClick={onClick}\r\n                customStyles={customStyles}\r\n                onSelect={onSelect}\r\n                terminal={terminal}\r\n                style={styles}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nNodeHeader.propTypes = {\r\n    style: PropTypes.object.isRequired,\r\n    customStyles: PropTypes.object,\r\n    decorators: PropTypes.object.isRequired,\r\n    animations: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.bool\r\n    ]).isRequired,\r\n    node: PropTypes.object.isRequired,\r\n    onClick: PropTypes.func,\r\n    onSelect: PropTypes.func\r\n};\r\n\r\nNodeHeader.defaultProps = {\r\n    customStyles: {}\r\n};\r\n\r\nexport default NodeHeader;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {VelocityTransitionGroup} from 'velocity-react';\r\n\r\nconst Drawer = ({restAnimationInfo, children}) => (\r\n    <VelocityTransitionGroup {...restAnimationInfo}>\r\n        {children}\r\n    </VelocityTransitionGroup>\r\n);\r\n\r\nDrawer.propTypes = {\r\n    restAnimationInfo: PropTypes.shape({}).isRequired,\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.func,\r\n        PropTypes.arrayOf(PropTypes.func, PropTypes.shape({})),\r\n        PropTypes.shape({})\r\n    ])\r\n};\r\n\r\nexport default Drawer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {Ul} from '../common';\r\n\r\nconst Loading = ({style, decorators}) => (\r\n    <Ul style={style.subtree}>\r\n        <li>\r\n            <decorators.Loading style={style.loading}/>\r\n        </li>\r\n    </Ul>\r\n);\r\n\r\nLoading.propTypes = {\r\n    decorators: PropTypes.object.isRequired,\r\n    style: PropTypes.object.isRequired\r\n};\r\n\r\nexport default Loading;\r\n","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from '@emotion/styled';\r\nimport {isArray, isFunction} from 'lodash';\r\n\r\nimport defaultAnimations from '../../themes/animations';\r\nimport {randomString} from '../../util';\r\nimport {Ul} from '../common';\r\nimport NodeHeader from '../NodeHeader';\r\nimport Drawer from './Drawer';\r\nimport Loading from './Loading';\r\n\r\nconst Li = styled('li', {\r\n    shouldForwardProp: prop => ['className', 'children', 'ref'].indexOf(prop) !== -1\r\n})(({style}) => style);\r\n\r\nclass TreeNode extends PureComponent {\r\n    onClick() {\r\n        const {node, onToggle} = this.props;\r\n        if (onToggle) {\r\n            onToggle(node, !node.toggled);\r\n        }\r\n    }\r\n\r\n    animations() {\r\n        const {animations, node} = this.props;\r\n        if (!animations) {\r\n            return {\r\n                toggle: defaultAnimations.toggle(this.props, 0)\r\n            };\r\n        }\r\n        const animation = Object.assign({}, animations, node.animations);\r\n        return {\r\n            toggle: animation.toggle(this.props),\r\n            drawer: animation.drawer(this.props)\r\n        };\r\n    }\r\n\r\n    decorators() {\r\n        const {decorators, node} = this.props;\r\n        let nodeDecorators = node.decorators || {};\r\n\r\n        return Object.assign({}, decorators, nodeDecorators);\r\n    }\r\n\r\n    renderChildren(decorators) {\r\n        const {\r\n            animations, decorators: propDecorators, node, style, onToggle, onSelect, customStyles\r\n        } = this.props;\r\n\r\n        if (node.loading) {\r\n            return (\r\n                <Loading decorators={decorators} style={style}/>\r\n            );\r\n        }\r\n\r\n        let children = node.children;\r\n        if (!isArray(children)) {\r\n            children = children ? [children] : [];\r\n        }\r\n\r\n        return (\r\n            <Ul style={style.subtree}>\r\n                {children.map(child => (\r\n                    <TreeNode\r\n                        onSelect={onSelect}\r\n                        onToggle={onToggle}\r\n                        animations={animations}\r\n                        style={style}\r\n                        customStyles={customStyles}\r\n                        decorators={propDecorators}\r\n                        key={child.id || randomString()}\r\n                        node={child}\r\n                    />\r\n                ))}\r\n            </Ul>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            node, style, onSelect, customStyles\r\n        } = this.props;\r\n        const decorators = this.decorators();\r\n        const animations = this.animations();\r\n        const {...restAnimationInfo} = animations.drawer;\r\n        return (\r\n            <Li style={style.base}>\r\n                <NodeHeader\r\n                    decorators={decorators}\r\n                    animations={animations}\r\n                    node={node}\r\n                    style={style}\r\n                    customStyles={customStyles}\r\n                    onClick={() => this.onClick()}\r\n                    onSelect={isFunction(onSelect) ? (() => this.props.onToggle(node)) : undefined}\r\n                />\r\n                <Drawer restAnimationInfo={{...restAnimationInfo}}>\r\n                    {node.toggled ? this.renderChildren(decorators, animations) : null}\r\n                </Drawer>\r\n            </Li>\r\n        );\r\n    }\r\n}\r\n\r\nTreeNode.propTypes = {\r\n    onSelect: PropTypes.func,\r\n    onToggle: PropTypes.func,\r\n    style: PropTypes.object.isRequired,\r\n    customStyles: PropTypes.object,\r\n    node: PropTypes.object.isRequired,\r\n    decorators: PropTypes.object.isRequired,\r\n    animations: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.bool\r\n    ]).isRequired\r\n};\r\n\r\nTreeNode.defaultProps = {\r\n    customStyles: {}\r\n};\r\n\r\nexport default TreeNode;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {castArray} from 'lodash';\r\n\r\nimport defaultTheme from '../themes/default';\r\nimport defaultAnimations from '../themes/animations';\r\nimport {randomString} from '../util';\r\nimport {Ul} from './common';\r\nimport defaultDecorators from './Decorators';\r\nimport TreeNode from './TreeNode';\r\n\r\nconst TreeBeard = ({\r\n    animations, decorators, data, onToggle, style, onSelect, customStyles\r\n}) => (\r\n    <Ul style={{...defaultTheme.tree.base, ...style.tree.base}}>\r\n        {castArray(data).map(node => (\r\n            <TreeNode\r\n                decorators={decorators}\r\n                node={node}\r\n                onToggle={onToggle}\r\n                animations={animations}\r\n                onSelect={onSelect}\r\n                customStyles={customStyles}\r\n                key={node.id || randomString()}\r\n                style={{...defaultTheme.tree.node, ...style.tree.node}}\r\n            />\r\n        ))}\r\n    </Ul>\r\n);\r\n\r\nTreeBeard.propTypes = {\r\n    style: PropTypes.object,\r\n    customStyles: PropTypes.object,\r\n    data: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.array\r\n    ]).isRequired,\r\n    animations: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.bool\r\n    ]),\r\n    onToggle: PropTypes.func,\r\n    onSelect: PropTypes.func,\r\n    decorators: PropTypes.object\r\n};\r\n\r\nTreeBeard.defaultProps = {\r\n    style: defaultTheme,\r\n    animations: defaultAnimations,\r\n    decorators: defaultDecorators,\r\n    customStyles: {}\r\n};\r\n\r\nexport default TreeBeard;\r\n","import React from 'react'\r\nimport ContentLoader from 'react-content-loader'\r\n\r\nconst Loader = props => {\r\n  return (\r\n    <ContentLoader\r\n      width={450}\r\n      height={700}\r\n      viewBox=\"0 0 450 700\"\r\n      backgroundColor=\"#f5f5f5\"\r\n      foregroundColor=\"#dbdbdb\"\r\n      {...props}\r\n    >\r\n      <rect x=\"0\" y=\"5\" rx=\"3\" ry=\"3\" width=\"350\" height=\"50\" />\r\n      \r\n      <rect x=\"0\" y=\"70\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"105\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"140\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"175\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"210\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"245\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"280\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"315\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"350\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"385\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"420\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"455\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"490\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"525\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"560\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"595\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"630\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"665\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />\r\n      <rect x=\"0\" y=\"700\" rx=\"3\" ry=\"3\" width=\"350\" height=\"30\" />      \r\n    </ContentLoader>\r\n  )\r\n}\r\n\r\nexport default Loader","// Helper functions for filtering\r\nexport const defaultMatcher = (filterText, node) => {\r\n    return node.name !== undefined && node.name.toLowerCase().indexOf(filterText.toLowerCase()) !== -1;\r\n};\r\n\r\nexport const findNode = (node, filter, matcher) => {\r\n    return matcher(filter, node) || // i match\r\n        (node.children && // or i have decendents and one of them match\r\n            node.children.length &&\r\n            !!node.children.find(child => findNode(child, filter, matcher)));\r\n};\r\n\r\nexport const filterTree = (node, filter, matcher = defaultMatcher) => {\r\n    // If im an exact match then all my children get to stay\r\n    if (matcher(filter, node) || !node.children) {\r\n        return node;\r\n    }\r\n    // If not then only keep the ones that match or have matching descendants\r\n    const filtered = node.children\r\n        .filter(child => findNode(child, filter, matcher))\r\n        .map(child => filterTree(child, filter, matcher));\r\n    return Object.assign({}, node, {children: filtered});\r\n};\r\n\r\nexport const expandFilteredNodes = (node, filter, matcher = defaultMatcher) => {\r\n    let children = node.children;\r\n    if (!children || children.length === 0) {\r\n        return Object.assign({}, node, {toggled: false});\r\n    }\r\n    const childrenWithMatches = node.children.filter(child => findNode(child, filter, matcher));\r\n    const shouldExpand = childrenWithMatches.length > 0;\r\n    // If im going to expand, go through all the matches and see if thier children need to expand\r\n    if (shouldExpand) {\r\n        children = childrenWithMatches.map(child => {\r\n            return expandFilteredNodes(child, filter, matcher);\r\n        });\r\n    }\r\n    return Object.assign({}, node, {\r\n        children: children,\r\n        toggled: shouldExpand\r\n    });\r\n};","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst LineGroupDialog = (props) => {\r\n  const {open, handleClose, lineGroupSelected} = props;\r\n  const [loading, setLoading] = useState(false);    \r\n  const [initialValues, setInitialValues] = useState({ description: '' }); \r\n\r\n  const getInitialValues = (lineGroupSelected) => {\r\n    if (lineGroupSelected == null) {\r\n      setInitialValues({ description: '' })\r\n    } else {\r\n      setInitialValues({ description: lineGroupSelected.name })\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    getInitialValues(lineGroupSelected)\r\n  }, [lineGroupSelected])   \r\n\r\n  const validate = values => {\r\n    const errors = {};\r\n    if (values.description == '') {\r\n        errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n    }    \r\n        \r\n    return errors;\r\n  }\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: initialValues,\r\n    validate: validate,\r\n    onSubmit: (values, { setSubmitting, setErrors }) => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n        try {  \r\n          let lineGroup = {\r\n            description: values.description\r\n          }\r\n          if (lineGroupSelected == null) {\r\n            await props.createLineGroup(lineGroup)\r\n          } else {\r\n            await props.updateLineGroup(lineGroupSelected.key, lineGroup)\r\n          }\r\n          disableLoading();\r\n          handleClose()\r\n          await Promise.all([props.getCustomMarketTree(), props.getLineGroups()])\r\n        } catch(err) {\r\n          setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n          disableLoading();\r\n        } finally {\r\n          setSubmitting(false);\r\n        }   \r\n      }, 500)\r\n    }\r\n  });\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n    setLoading(false);\r\n  };  \r\n\r\n  return (\r\n    <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText>\r\n        <strong>\r\n          {(lineGroupSelected == null) ? <FormattedMessage id=\"LINE_GROUP_DIALOG.TITLE.CREATE\" /> : <FormattedMessage id=\"LINE_GROUP_DIALOG.TITLE.EDIT\" />}\r\n        </strong>\r\n      </DialogContentText>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"description\"\r\n          name=\"description\"\r\n          label={<FormattedMessage id=\"LINE_GROUP_DIALOG.DESCRIPTION\" />}\r\n          value={formik.values.description}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.description && Boolean(formik.errors.description)}\r\n          helperText={formik.touched.description && formik.errors.description}\r\n        />\r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          {formik.errors.api &&\r\n            <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{formik.errors.api}</div>\r\n          }                \r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n              <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n          </Button>\r\n          <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n              <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n            </span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(LineGroupDialog);","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst LineDialog = (props) => {\r\n  const {open, handleClose, linegroups, lines, lineSelected, lineGroupSelected} = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const emptyInitialValues = { description: '', lineGroupCode: '', laboratoryReportHeader: '', laboratoryReportFooter: '', drugReportHeader: '', drugReportFooter: '' }    \r\n  const [initialValues, setInitialValues] = useState(emptyInitialValues); \r\n\r\n  const getInitialValues = (lineSelected, lineGroupSelected) => {\r\n    if (lineSelected == null && lineGroupSelected == null) {\r\n      setInitialValues(emptyInitialValues)\r\n    } else if (lineSelected != null) {\r\n       let lineObj = getLine(lineSelected)\r\n      if (lineObj) {\r\n        setInitialValues({ \r\n          description: lineObj.description,\r\n          lineGroupCode: lineObj.lineGroup.code,\r\n          laboratoryReportHeader: lineObj.laboratoryReportHeader,\r\n          laboratoryReportFooter: lineObj.laboratoryReportFooter,\r\n          drugReportHeader: lineObj.drugReportHeader,\r\n          drugReportFooter: lineObj.drugReportFooter\r\n        })\r\n      } else {\r\n        setInitialValues(emptyInitialValues)\r\n      }\r\n    } else if (lineGroupSelected != null) {\r\n         setInitialValues({ \r\n           description: '',\r\n           lineGroupCode: lineGroupSelected.key,\r\n           laboratoryReportHeader: '',\r\n           laboratoryReportFooter: '',\r\n           drugReportHeader: '',\r\n           drugReportFooter: ''\r\n         })\r\n    }\r\n  }\r\n\r\n const getLine = (lineSelected) => {\r\n   let linesFilter = lines.data.filter(x => x.code == lineSelected.key)\r\n   if (linesFilter.length > 0) {\r\n     return linesFilter[0]\r\n   }\r\n   return null\r\n }\r\n\r\n const getItemObject = (item) => {\r\n    let itemObj = JSON.parse(atob(item.value))\r\n    return itemObj\r\n}\r\n\r\n  React.useEffect(() => { \r\n    getInitialValues(lineSelected, lineGroupSelected)\r\n  }, [lineSelected, lineGroupSelected])   \r\n\r\n  const validate = values => {\r\n    const errors = {};\r\n    if (values.description == '') {\r\n        errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n    }    \r\n\r\n    if (values.lineGroupCode == '' || values.lineGroupCode == undefined || values.lineGroupCode == null) {\r\n      errors.lineGroupCode = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n    }\r\n        \r\n    return errors;\r\n  }\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: initialValues,\r\n    validate: validate,\r\n    onSubmit: (values, { setSubmitting, setErrors }) => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n        try {  \r\n          let line = {\r\n            description: values.description, \r\n            lineGroupCode: values.lineGroupCode, \r\n            laboratoryReportHeader: values.laboratoryReportHeader, \r\n            laboratoryReportFooter: values.laboratoryReportFooter, \r\n            drugReportHeader: values.drugReportHeader, \r\n            drugReportFooter: values.drugReportFooter \r\n          }\r\n          if (lineSelected == null) {\r\n            await props.createLine(line)\r\n          } else {\r\n            await props.updateLine(lineSelected.key, line)\r\n          }\r\n          disableLoading();\r\n          handleClose()\r\n          await Promise.all([props.getCustomMarketTree(), props.getLines()])\r\n        } catch(err) {\r\n          setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n          disableLoading();\r\n        } finally {\r\n          setSubmitting(false);\r\n        } \r\n      }, 500)\r\n    }\r\n  });\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n    setLoading(false);\r\n  };  \r\n\r\n  return (\r\n    <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText>\r\n        <strong>\r\n          {(lineSelected == null) ? <FormattedMessage id=\"LINE_DIALOG.TITLE.CREATE\" /> : <FormattedMessage id=\"LINE_DIALOG.TITLE.EDIT\" />}\r\n        </strong>\r\n      </DialogContentText>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"description\"\r\n          name=\"description\"\r\n          label={<FormattedMessage id=\"LINE_DIALOG.DESCRIPTION\" />}\r\n          value={formik.values.description}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.description && Boolean(formik.errors.description)}\r\n          helperText={formik.touched.description && formik.errors.description}\r\n        />\r\n        <FormControl className={`d-block mb-4 mt-2`}>\r\n          <label className={(formik.touched.lineGroupCode && Boolean(formik.errors.lineGroupCode)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n            <FormattedMessage id=\"LINE_DIALOG.LINE_GROUP\" />\r\n          </label>\r\n          <Select\r\n              className={`mt-0`}\r\n              fullWidth\r\n              id=\"lineGroupCode\"\r\n              name=\"lineGroupCode\"\r\n              label=\"lineGroupCode\"\r\n              value={formik.values.lineGroupCode}\r\n              onChange={formik.handleChange}\r\n              error={formik.touched.lineGroupCode && Boolean(formik.errors.lineGroupCode)}\r\n              helperText={formik.touched.lineGroupCode && formik.errors.lineGroupCode}\r\n          >\r\n            {linegroups && linegroups.map((lineGroup) => {\r\n                let lineGroupObj = getItemObject(lineGroup)\r\n                return (\r\n                  <MenuItem key={lineGroupObj.code} value={lineGroupObj.code}>{lineGroupObj.description.toUpperCase()}</MenuItem>\r\n                )\r\n            })}\r\n          </Select>\r\n          {formik.touched.lineGroupCode && Boolean(formik.errors.lineGroupCode) &&\r\n            <p className=\"MuiFormHelperText-root Mui-error\">{formik.touched.lineGroupCode && formik.errors.lineGroupCode}</p>\r\n          }              \r\n        </FormControl>         \r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"laboratoryReportHeader\"\r\n          name=\"laboratoryReportHeader\"\r\n          label={<FormattedMessage id=\"LINE_DIALOG.LABORATORY_REPORT_HEADER\" />}\r\n          value={formik.values.laboratoryReportHeader}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.laboratoryReportHeader && Boolean(formik.errors.laboratoryReportHeader)}\r\n          helperText={formik.touched.laboratoryReportHeader && formik.errors.laboratoryReportHeader}\r\n        />\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"laboratoryReportFooter\"\r\n          name=\"laboratoryReportFooter\"\r\n          label={<FormattedMessage id=\"LINE_DIALOG.LABORATORY_REPORT_FOOTER\" />}\r\n          value={formik.values.laboratoryReportFooter}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.laboratoryReportFooter && Boolean(formik.errors.laboratoryReportFooter)}\r\n          helperText={formik.touched.laboratoryReportFooter && formik.errors.laboratoryReportFooter}\r\n        />\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"drugReportHeader\"\r\n          name=\"drugReportHeader\"\r\n          label={<FormattedMessage id=\"LINE_DIALOG.DRUG_REPORT_HEADER\" />}\r\n          value={formik.values.drugReportHeader}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.drugReportHeader && Boolean(formik.errors.drugReportHeader)}\r\n          helperText={formik.touched.drugReportHeader && formik.errors.drugReportHeader}\r\n        />\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"drugReportFooter\"\r\n          name=\"drugReportFooter\"\r\n          label={<FormattedMessage id=\"LINE_DIALOG.DRUG_REPORT_FOOTER\" />}\r\n          value={formik.values.drugReportFooter}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.drugReportFooter && Boolean(formik.errors.drugReportFooter)}\r\n          helperText={formik.touched.drugReportFooter && formik.errors.drugReportFooter}\r\n        />                \r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          {formik.errors.api &&\r\n            <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{formik.errors.api}</div>\r\n          }          \r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n              <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n          </Button>\r\n          <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n              <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n            </span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        linegroups: state.mercados.linegroups,\r\n        lines: state.mercados.lines\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(LineDialog);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\r\nimport { VariableSizeList } from 'react-window';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst LISTBOX_PADDING = 8; // px\r\n\r\nfunction renderRow(props) {\r\n  const { data, index, style } = props;\r\n  return React.cloneElement(data[index], {\r\n    style: {\r\n      ...style,\r\n      top: style.top + LISTBOX_PADDING,\r\n    },\r\n  });\r\n}\r\n\r\nconst OuterElementContext = React.createContext({});\r\n\r\nconst OuterElementType = React.forwardRef((props, ref) => {\r\n  const outerProps = React.useContext(OuterElementContext);\r\n  return <div ref={ref} {...props} {...outerProps} />;\r\n});\r\n\r\nfunction useResetCache(data) {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (ref.current != null) {\r\n      ref.current.resetAfterIndex(0, true);\r\n    }\r\n  }, [data]);\r\n  return ref;\r\n}\r\n\r\n// Adapter for react-window\r\nconst ListboxComponent = React.forwardRef(function ListboxComponent(props, ref) {\r\n  const { children, ...other } = props;\r\n  const itemData = React.Children.toArray(children);\r\n  const theme = useTheme();\r\n  const smUp = useMediaQuery(theme.breakpoints.up('sm'), { noSsr: true });\r\n  const itemCount = itemData.length;\r\n  const itemSize = smUp ? 36 : 48;\r\n\r\n  const getChildSize = (child) => {\r\n    if (React.isValidElement(child) && child.type === ListSubheader) {\r\n      return 48;\r\n    }\r\n\r\n    return itemSize;\r\n  };\r\n\r\n  const getHeight = () => {\r\n    if (itemCount > 8) {\r\n      return 8 * itemSize;\r\n    }\r\n    return itemData.map(getChildSize).reduce((a, b) => a + b, 0);\r\n  };\r\n\r\n  const gridRef = useResetCache(itemCount);\r\n\r\n  return (\r\n    <div ref={ref}>\r\n      <OuterElementContext.Provider value={other}>\r\n        <VariableSizeList\r\n          itemData={itemData}\r\n          height={getHeight() + 2 * LISTBOX_PADDING}\r\n          width=\"100%\"\r\n          ref={gridRef}\r\n          outerElementType={OuterElementType}\r\n          innerElementType=\"ul\"\r\n          itemSize={(index) => getChildSize(itemData[index])}\r\n          overscanCount={5}\r\n          itemCount={itemCount}\r\n        >\r\n          {renderRow}\r\n        </VariableSizeList>\r\n      </OuterElementContext.Provider>\r\n    </div>\r\n  );\r\n});\r\n\r\nListboxComponent.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nconst useStyles = makeStyles({\r\n  listbox: {\r\n    boxSizing: 'border-box',\r\n    '& ul': {\r\n      padding: 0,\r\n      margin: 0,\r\n    },\r\n  },\r\n});\r\n\r\nconst SelectVirtualize = (props) => {\r\n  const { id, options, optionLabel, value, onChange, disabled } = props\r\n  const classes = useStyles();\r\n\r\n  const onAutoCompleteChange = (event, values) => {\r\n    onChange(values?.code || null)\r\n  }\r\n\r\n  return (\r\n    <Autocomplete\r\n      id={id}\r\n      fullWidth\r\n      disableListWrap\r\n      disabled={disabled == true ? true : false}\r\n      classes={classes}\r\n      ListboxComponent={ListboxComponent}\r\n      options={options}\r\n      getOptionLabel={(option) => option[optionLabel]}\r\n      renderInput={(params) => (\r\n        <TextField {...params} variant=\"standard\"/>\r\n      )}\r\n      renderOption={(option) => <Typography noWrap>{option[optionLabel]}</Typography>}\r\n      onChange={onAutoCompleteChange}\r\n      value={(options && options.filter(x => x.code == value)[0]) || null}\r\n    />\r\n  );\r\n}\r\n\r\nexport default SelectVirtualize\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from \"yup\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport SelectVirtualize from '../../../components/SelectVirtualize'\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n\r\nconst CustomMarketDialog = (props) => {\r\n  const {customMarket, lineSelected, isActionClone, allCustomMarket, lines, open, handleClose} = props;\r\n  const [loading, setLoading] = useState(false);    \r\n  const emptyInitialValues = {\r\n    description: '',\r\n    footer: '',\r\n    header: '',\r\n    lineCode: '',\r\n    order: '',\r\n    marketFilter: 0,        \r\n    drugReport: false,\r\n    labReport: false,\r\n    controlPanel: false,\r\n    productReport: true,\r\n    tcReport: false,\r\n    testMarket: false,\r\n    marketClass: 0,  \r\n    marketReference: 0    \r\n  }\r\n  const [initialValues, setInitialValues] = useState(emptyInitialValues); \r\n\r\n  const getInitialValues = () => {\r\n    if (props.customMarket != null) {\r\n      setInitialValues({\r\n        description: (isActionClone == true) ? '' : props.customMarket.data.description,\r\n        footer: props.customMarket.data.footer,\r\n        header: props.customMarket.data.header,\r\n        lineCode: props.customMarket.data.lineCode,\r\n        order: props.customMarket.data.order,\r\n        marketFilter: props.customMarket.data.marketFilter,        \r\n        drugReport: props.customMarket.data.drugReport,\r\n        labReport: props.customMarket.data.labReport,\r\n        controlPanel: props.customMarket.data.controlPanel,\r\n        productReport: props.customMarket.data.productReport,\r\n        tcReport: props.customMarket.data.tcReport,\r\n        testMarket: props.customMarket.data.testMarket ,\r\n        marketClass: props.customMarket.data.marketClass,  \r\n        marketReference: props.customMarket.data.marketReference       \r\n      })\r\n    } else if (props.lineSelected != null) {\r\n        let lineObj = getLine(props.lineSelected)\r\n        setInitialValues({\r\n            description: '',\r\n            footer: '',\r\n            header: '',\r\n            lineCode: lineObj.code,\r\n            order: '',\r\n            marketFilter: 0,        \r\n            drugReport: false,\r\n            labReport: false,\r\n            controlPanel: false,\r\n            productReport: true,\r\n            tcReport: false,\r\n            testMarket: lineObj.code == null,\r\n            marketClass: 0,  \r\n            marketReference: 0\r\n        })        \r\n    } else {\r\n        setInitialValues(emptyInitialValues)\r\n    }\r\n  }\r\n\r\n  const getLine = (lineSelected) => {\r\n    let lineArr = lines.data.filter(x => x.code == lineSelected.key)\r\n    if (lineArr.length > 0) {\r\n        return lineArr[0]\r\n    } else {\r\n        return { code: null }\r\n    }\r\n  }\r\n\r\n  const handleCancel = () => {\r\n      handleClose()\r\n      formik.resetForm()\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    getInitialValues()\r\n  }, [customMarket, lineSelected, isActionClone])\r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (values.description == '') {\r\n            errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }    \r\n        if (values.order == '') {\r\n            errors.order = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        if ((values.testMarket == '' || values.testMarket == false) && (values.lineCode == '' || values.lineCode == null)) {\r\n            errors.lineCode = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        return errors;\r\n    };\r\n\r\n    const Schema = Yup.object().shape({\r\n        order: Yup.number()     \r\n        .test(\r\n            'is-decimal',   \r\n            'Formato invalido',\r\n            value => value == undefined || (value + \"\").match(/^[0-9]+$/) ,\r\n        )\r\n      });  \r\n\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: initialValues,\r\n        validationSchema: Schema,\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    let customMarketModified = prepareSave(values)\r\n                    if (props.customMarket != null) {\r\n                        if (isActionClone == true){\r\n                            await props.cloneCustomMarket(customMarketModified)\r\n                        }  else {\r\n                            await props.updateCustomMarket(customMarketModified)\r\n                        }\r\n                    } else if (props.lineSelected != null) {\r\n                        let customMarketCreated = await props.createCustomMarket(customMarketModified)\r\n                        props.setCustomMarketPageView('manage')\r\n                        props.setMarketTreeVisible(false);\r\n                        await Promise.all([props.getCustomMarketByCode(customMarketCreated.data.code), props.getCustomMarketGroupByCustomMarketCode(customMarketCreated.data.code)])\r\n                    }\r\n                    disableLoading();\r\n                    handleClose()\r\n                    await Promise.all([props.getCustomMarketTree(), props.getCustomMarkets()])\r\n                } catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                    formik.resetForm()\r\n                }\r\n            }, 500)\r\n        }\r\n    }\r\n  );\r\n\r\n\r\n  const prepareSave = ({description, footer, header, lineCode, order, marketFilter, drugReport, labReport, controlPanel, productReport, tcReport, testMarket, marketClass, marketReference}) => {\r\n    let copyCustomMarket = {}                    \r\n    if (customMarket && customMarket.data) {\r\n        copyCustomMarket = JSON.parse(JSON.stringify(customMarket.data))\r\n    }\r\n\r\n    if (description !== null) {\r\n        copyCustomMarket.description = description\r\n    }\r\n    if (footer !== null) {\r\n        copyCustomMarket.footer = footer\r\n    }\r\n    if (header !== null) {\r\n        copyCustomMarket.header = header\r\n    }\r\n    if (lineCode !== null) {\r\n        copyCustomMarket.lineCode = parseInt(lineCode)\r\n    }\r\n    if (order !== null) {\r\n        copyCustomMarket.order = parseInt(order)\r\n    } \r\n    if (marketFilter !== null) {\r\n        copyCustomMarket.marketFilter = parseInt(marketFilter)\r\n    }\r\n    if (drugReport !== null) {\r\n        copyCustomMarket.drugReport = drugReport\r\n    }\r\n    if (labReport !== null) {\r\n        copyCustomMarket.labReport = labReport\r\n    }\r\n    if (controlPanel !== null) {\r\n        copyCustomMarket.controlPanel = controlPanel\r\n    }\r\n    if (productReport !== null) {\r\n        copyCustomMarket.productReport = productReport\r\n    }\r\n    if (tcReport !== null) {\r\n        copyCustomMarket.tcReport = tcReport\r\n    }\r\n    if (testMarket !== null) {\r\n        copyCustomMarket.testMarket = testMarket\r\n        if (testMarket == true) {  \r\n            copyCustomMarket.lineCode = null\r\n        }\r\n    } \r\n\r\n    if (marketClass !== null) {\r\n        copyCustomMarket.marketClass = parseInt(marketClass)\r\n        copyCustomMarket.marketReference = parseInt(marketClass) == 3 ? parseInt(marketReference) : null\r\n    }    \r\n\r\n    return copyCustomMarket\r\n  }\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n    setLoading(false);\r\n  };  \r\n\r\n  const handleChangeLine = (value) => {\r\n    handleChange('lineCode', value)\r\n  }\r\n\r\n  const handleChangeMarketClass = (value) => {\r\n    handleChange('marketClass', value.target.value)\r\n    if(value.target.value != 3) {\r\n        handleChangeMarketReference(null)\r\n    }\r\n  }\r\n\r\n  const handleChangeMarketReference = (value) => {\r\n    handleChange('marketReference', value)\r\n  }\r\n\r\n  const handleChange = (field, value) => {\r\n    formik.setFieldValue(field, value);\r\n  }\r\n\r\n  return (\r\n    <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open} \r\n        onClose={handleCancel} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText> \r\n          {(customMarket && customMarket.data) ? ((isActionClone == true) ? <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TITLE.CLONE_CUSTOM_MARKET\" /> : customMarket.data.fullDescription) : <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TITLE.CREATE_CUSTOM_MARKET\" />}\r\n        </DialogContentText>\r\n        <form onSubmit={formik.handleSubmit}>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.DESCRIPTION\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                > \r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"description\"\r\n                    name=\"description\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.DESCRIPTION\" />}\r\n                    helperText={\"errorMessage\"}\r\n                    value={formik.values.description}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.description && Boolean(formik.errors.description)}\r\n                    helperText={formik.touched.description && formik.errors.description}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.HEADER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"header\"\r\n                    name=\"header\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.HEADER\" />}\r\n                    value={formik.values.header}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.header && Boolean(formik.errors.header)}\r\n                    helperText={formik.touched.header && formik.errors.header}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.FOOTER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"footer\"\r\n                    name=\"footer\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.FOOTER\" />}\r\n                    value={formik.values.footer}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.footer && Boolean(formik.errors.footer)}\r\n                    helperText={formik.touched.footer && formik.errors.footer}\r\n                />\r\n            </Tooltip>                \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.LINE\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >            \r\n                <FormControl className={`d-block mb-4 mt-2`}>\r\n                        <label className={(formik.touched.lineCode && Boolean(formik.errors.lineCode)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n                            <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.LINE\" />\r\n                        </label>\r\n                    <SelectVirtualize id=\"lineCode\" options={!lines.isLoading && lines.data} optionLabel=\"fullDescription\" value={formik.values.lineCode} onChange={handleChangeLine}/>                        \r\n                    {formik.touched.lineCode && Boolean(formik.errors.lineCode) &&\r\n                        <p className=\"MuiFormHelperText-root Mui-error\" style={{color: '#f018a6', fontSize: '0.75rem'}}>{formik.touched.lineCode && formik.errors.lineCode}</p>\r\n                    }\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.ORDER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                   \r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"order\"\r\n                    name=\"order\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.ORDER\" />}\r\n                    type=\"number\"\r\n                    value={formik.values.order}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.order && Boolean(formik.errors.order)}\r\n                    helperText={formik.touched.order && formik.errors.order}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.MARKET_FILTER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >               \r\n                <FormControl className={`d-block mb-4 mt-2`}>\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.MARKET_FILTER\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"marketFilter\"\r\n                        name=\"marketFilter\"\r\n                        label=\"marketFilter\"\r\n                        value={formik.values.marketFilter}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.marketFilter && Boolean(formik.errors.marketFilter)}\r\n                    >\r\n                        <MenuItem key='TOTAL' value={0}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.TOTAL\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='ETICO' value={1}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.ETICO\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='POPULAR' value={2}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.POPULAR\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl> \r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.MARKET_CLASS\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >               \r\n                <FormControl className={`d-block mb-4 mt-2`}>\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.MARKET_CLASS\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"marketClass\"\r\n                        name=\"marketClass\"\r\n                        label=\"marketClass\"\r\n                        value={formik.values.marketClass}\r\n                        onChange={handleChangeMarketClass}\r\n                        error={formik.touched.marketClass && Boolean(formik.errors.marketClass)}\r\n                    >\r\n                        <MenuItem key='TOTAL' value={0}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.TOTAL\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='ETICO' value={1}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.ETICO\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='POPULAR' value={2}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.POPULAR\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='OTHER' value={3}>\r\n                            <FormattedMessage id=\"MASTER.CLASS.OTHER\" />\r\n                        </MenuItem>                    \r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.MARKET_REFERENCE\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                      \r\n                <FormControl className={`d-block mb-4 mt-2`}>\r\n                    <label className=\"pf-10\" style={{color: formik.values.marketClass != 3 ? 'silver': ''}}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.MARKET_REFERENCE\" />\r\n                    </label>\r\n                    <SelectVirtualize \r\n                        id=\"marketReference\" \r\n                        options={!allCustomMarket.isLoading && allCustomMarket.data} \r\n                        optionLabel=\"description\" value={formik.values.marketReference} \r\n                        onChange={handleChangeMarketReference} \r\n                        disabled={formik.values.marketClass != 3}\r\n                    />                        \r\n                </FormControl>                             \r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.DRUG_REPORT\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                      \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}            \r\n                        id=\"drugReport\"\r\n                        name=\"drugReport\"\r\n                        label=\"drugReport\"\r\n                        checked={formik.values.drugReport}\r\n                        onChange={formik.handleChange}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.DRUG_REPORT\" />\r\n                    </label>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.LAB_REPORT\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >          \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}            \r\n                        id=\"labReport\"\r\n                        name=\"labReport\"\r\n                        label=\"labReport\"\r\n                        checked={formik.values.labReport}\r\n                        onChange={formik.handleChange}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.LAB_REPORT\" />\r\n                    </label>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.CONTROL_PANEL\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                       \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}            \r\n                        id=\"controlPanel\"\r\n                        name=\"controlPanel\"\r\n                        label=\"controlPanel\"\r\n                        checked={formik.values.controlPanel}\r\n                        onChange={formik.handleChange}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.CONTROL_PANEL\" />\r\n                    </label>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.PRODUCT_REPORT\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                      \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}            \r\n                        id=\"productReport\"\r\n                        name=\"productReport\"\r\n                        label=\"productReport\"\r\n                        checked={formik.values.productReport}\r\n                        onChange={formik.handleChange}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.PRODUCT_REPORT\" />\r\n                    </label>\r\n                </FormControl> \r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.TC_REPORT\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >          \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}\r\n                        id=\"tcReport\"\r\n                        name=\"tcReport\"\r\n                        label=\"tcReport\"\r\n                        checked={formik.values.tcReport}\r\n                        onChange={formik.handleChange}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TC_REPORT\" />\r\n                    </label>\r\n                </FormControl>   \r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TOOLTIP.TEST_MARKET\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >                                                                                  \r\n                <FormControl className={`d-block mb-4`}>\r\n                    <Checkbox\r\n                        className={`pl-0`}\r\n                        id=\"testMarket\"\r\n                        name=\"testMarket\"\r\n                        label=\"testMarket\"\r\n                        checked={formik.values.testMarket}\r\n                        onChange={(e) => { \r\n                            formik.handleChange(e)\r\n                            if (!formik.values.testMarket) {\r\n                                handleChangeLine(null)\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label className={`pf-10`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DIALOG.TEST_MARKET\" />\r\n                    </label>\r\n                </FormControl> \r\n            </Tooltip> \r\n        </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n            {formik.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{formik.errors.api}</div>\r\n            }\r\n            <Button \r\n            onClick={handleCancel} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n                <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n            </Button>\r\n            <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n                <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n            </span>\r\n            </Button>\r\n        </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        allCustomMarket: state.mercados.allCustomMarket,\r\n        lines: state.mercados.lines\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CustomMarketDialog);","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst heightW = window.innerHeight;\r\nconst widthW = window.innerWidth;\r\n\r\nexport const useStyles = makeStyles({\r\n    '@global': {\r\n      '*::-webkit-scrollbar': {\r\n        width: '0.8em'\r\n      },\r\n      '*::-webkit-scrollbar-track': {\r\n        '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.00)'\r\n      },\r\n      '*::-webkit-scrollbar-thumb': {\r\n        backgroundColor: 'rgba(0,0,0,.1)',\r\n        outline: '1px solid slategrey'\r\n      }\r\n    },\r\n    rowC: {\r\n      display: 'flex',\r\n      flexDirection: 'row'\r\n    },\r\n    card: {\r\n      width: widthW * 0.19,\r\n      height: heightW * 0.35,\r\n      borderRadius: 5,\r\n      marginTop: '1%',\r\n    },\r\n    title: {\r\n      fontSize: 18,\r\n      marginLeft: '2%'\r\n    },\r\n    pos: {\r\n      marginTop: '5%',\r\n      fontSize: 14\r\n    },\r\n    Lista: {\r\n      marginLeft: '7%'\r\n    },\r\n    textfield: {\r\n      borderRadius: 5,\r\n      width: '97%',\r\n      marginLeft: '3%'\r\n    },\r\n    textfield1: {\r\n      width: '96.56%',\r\n      borderRadius: 5,\r\n      marginLeft: '2%'\r\n    },\r\n    root: {\r\n      width: '100%',\r\n      maxWidth: 360,\r\n      marginLeft: '5%'\r\n    },\r\n    fixedList: {\r\n      width: '100%',\r\n      height: heightW * 0.32,\r\n      backgroundColor: 'white'\r\n    },\r\n    productos: {\r\n      width: widthW * 0.19,\r\n      height: heightW * 0.35,\r\n      position: 'center',\r\n      borderRadius: 5,\r\n      marginTop: '1%',\r\n      marginLeft: '1%',\r\n    },\r\n    presentaciones: {\r\n      height: heightW * 0.34,\r\n      width: '96.56%',\r\n      position: 'center',\r\n      borderRadius: 5,\r\n      marginTop: '1.5%',\r\n      marginLeft: '2%'\r\n    },\r\n    preview: {\r\n      height: heightW * 0.39,\r\n      position: 'center',\r\n      borderRadius: 5,\r\n      marginTop: '1.3%',\r\n      overflow: 'auto',\r\n      width: '100.57%'\r\n    },\r\n    propiedades: {\r\n      height: heightW * 0.39,\r\n      borderRadius: 5,\r\n      marginTop: '3%',\r\n      overflow: 'auto'\r\n    },\r\n    componentes: {\r\n      height: heightW * 0.34,\r\n      position: 'center',\r\n      borderRadius: 5,\r\n      marginTop: '3%',\r\n      marginLeft: '3%',\r\n      overflow: 'auto',\r\n      scrollbarWidth: 'none'\r\n    },\r\n    presentacionCT: {\r\n      height: heightW * 0.34,\r\n      width: '95%',\r\n      position: 'center',\r\n      borderRadius: 5,\r\n      marginTop: '3%',\r\n      marginLeft: '2%',\r\n      overflow: 'auto',\r\n      overflowY: 'hidden'\r\n      \r\n    },\r\n    textfieldCT: {\r\n      width: '95%',\r\n      borderRadius: 5,\r\n      marginLeft: '2%'\r\n    },\r\n    textfieldProd: {\r\n      width: '98%',\r\n      borderRadius: 5,\r\n      marginLeft: '1%'\r\n    },\r\n    presentacionProd: {\r\n      height: heightW * 0.34,\r\n      width: '98%',\r\n      position: 'center',\r\n      borderRadius: 5,\r\n      marginTop: '1%',\r\n      marginLeft: '1%'\r\n    },\r\n    modal: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      alignItems: 'center',\r\n      justifyContent: 'center'\r\n    },\r\n    modalCard: {\r\n      width: '20%',\r\n      height: '20%'\r\n    },\r\n    closeModalButton: {\r\n      width: '100%',\r\n      height: '100%',\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      justifyContent: 'flex-end'\r\n    },\r\n    button: {\r\n      height: '150%',\r\n      width: 100,\r\n      borderRadius: 10,\r\n      borderColor: 'black',\r\n      border: '2px solid black'\r\n    },\r\n    grupos: {\r\n      width: '100%',\r\n      height: '96%',\r\n      marginTop: '5.1%'\r\n    },\r\n    modalCardMercado: {\r\n      width: '20%',\r\n      height: '50%',\r\n      overflow: 'auto'\r\n    },\r\n    drawer: {\r\n      backgroundColor: '#fff',\r\n      position: 'relative',\r\n      left: '13.8%',\r\n      width: 300,\r\n      top: '7%'\r\n    }\r\n  });","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { Treebeard } from '../../../components/Tree';\r\nimport Loader from '../../../components/Tree/components/Decorators/Loader';\r\nimport * as filters from '../../../components/Tree/util/filter';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\r\nimport { Menu, Item, contextMenu } from 'react-contexify';\r\nimport 'react-contexify/dist/ReactContexify.css';\r\nimport LineGroupDialog from './LineGroupDialog'\r\nimport LineDialog from './LineDialog'\r\nimport CustomMarketDialog from './CustomMarketDialog'\r\nimport Can from './../../../config/Can';\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\n\r\nconst CustomMarketTree = (props) => {\r\n    const clases = useStyles()\r\n    const { customMarket, customMarketTree } = props; \r\n    const [ loading, setLoading ] = React.useState(true)\r\n    const [ allCustomMarkets, setAllCustomMarkets ] = React.useState([])\r\n    const [ customMarketsData, setCustomMarkets ] = React.useState([])\r\n    const [ data, setData ] = React.useState([])\r\n    const [cursor, setCursor] = React.useState(false);\r\n    const [openCreateLineGroupModal, setOpenCreateLineGroupModal] = React.useState(false);\r\n    const [lineGroupSelected, setLineGroupSelected] = React.useState(null);\r\n    const [openLineDialog, setOpenLineDialog] = React.useState(false);\r\n    const [lineSelected, setLineSelected] = React.useState(null);\r\n    const [openCustomMarketDialog, setOpenCustomMarketDialog] = React.useState(false);\r\n\r\n    const getItemObject = (item) => {\r\n        let copyItem = JSON.parse(JSON.stringify(item))                    \r\n        let keyObj = JSON.parse(atob(copyItem.key))\r\n        copyItem.key = keyObj.key\r\n        return copyItem\r\n    }\r\n    \r\n    const handleCloseCreateLineGroupModal = () => {\r\n        setOpenCreateLineGroupModal(false);\r\n    };    \r\n  \r\n    const handleOpenCreateLineGroupModal = (event, selectedItem) => {\r\n        let item = null\r\n        if (selectedItem != undefined && selectedItem != null) {\r\n            item = getItemObject(selectedItem)\r\n        }\r\n        setLineGroupSelected(item);\r\n        setOpenCreateLineGroupModal(true);\r\n    };\r\n\r\n    const handleCloseLineDialog = () => {\r\n        setOpenLineDialog(false);\r\n    };\r\n  \r\n    const handleOpenLineDialog = (event, selectedItem) => {\r\n        let item = null\r\n        if (selectedItem != undefined && selectedItem != null) {\r\n            item = getItemObject(selectedItem)\r\n        }\r\n\r\n        setLineSelected(item);\r\n        setLineGroupSelected(null);\r\n        setOpenLineDialog(true);\r\n    };\r\n\r\n    const handleOpenEditLineDialog = (event, selectedItem) => {\r\n        let item = null\r\n        if (selectedItem != undefined && selectedItem != null) {\r\n            item = getItemObject(selectedItem)\r\n        }\r\n\r\n        setLineSelected(null);\r\n        setLineGroupSelected(item);\r\n        setOpenLineDialog(true);\r\n    };\r\n    \r\n    const handleCloseCustomMarketDialog = () => {\r\n        setOpenCustomMarketDialog(false);\r\n    };\r\n  \r\n    const handleOpenCustomMarketDialog = (event, selectedItem) => {\r\n        let item = null\r\n        if (selectedItem != undefined && selectedItem != null) {\r\n            item = getItemObject(selectedItem)\r\n        }\r\n        setLineSelected(item);\r\n        setOpenCustomMarketDialog(true);\r\n    };    \r\n\r\n    const getCustomerMarkets = async() => {\r\n        if (props.customMarketTree.isLoading == false) {\r\n            setAllCustomMarkets(props.customMarketTree.data) \r\n            setCustomMarkets(props.customMarketTree.data) \r\n            setData(generateNodeTree(props.customMarketTree.data))\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        getCustomerMarkets()\r\n    },[customMarketTree])\r\n\r\n    const onSelectCustomMarketManage = async(market) => {\r\n        props.setCustomMarketPageView('manage')\r\n        props.setMarketTreeVisible(false);\r\n        await Promise.all([props.getCustomMarketByCode(market.customerMarket.customMarketCode), props.getCustomMarketGroupByCustomMarketCode(market.customerMarket.customMarketCode)])\r\n    }\r\n\r\n    const onSelectCustomMarketPreview = async(market) => {\r\n        props.setCustomMarketPageView('preview')\r\n        props.setMarketTreeVisible(false);\r\n        await Promise.all([props.getCustomMarketByCode(market.customerMarket.customMarketCode), props.getCustomMarketGroupByCustomMarketCode(market.customerMarket.customMarketCode)])\r\n    }\r\n\r\n    const generateNodeTree = (nodes) => {\r\n       const treeData = {id: 1, name:' ', isroot: true, toggled: true };\r\n        let lineGroupsTree = []\r\n        let testMarketNode = null\r\n        nodes.map(parent => {\r\n            let childNodes = []\r\n            let lineGroupKey = { key: parent.lineGroupCode, type: 'linegroup', name: parent.lineGroupDescription.toUpperCase() }\r\n            let lineGroupKeyEncoded = btoa(JSON.stringify(lineGroupKey));\r\n            if (parent.lines.length == 1 && parent.lines[0].lineDescription == undefined) {\r\n                lineGroupsTree.push({key: lineGroupKeyEncoded, type: 'linegroup', name: parent.lineGroupDescription.toUpperCase(), children: [], active: true, isTest: parent.lineGroupCode == undefined })\r\n            } else {\r\n                parent.lines.map(child => {\r\n                    let marketNodes = []\r\n                    child.customMarkets.map(childMarket => {\r\n                        if (childMarket.customMarketCode) {\r\n                            marketNodes.push({key: childMarket.customMarketCode, value: {customerMarket: childMarket, lineDescription: child.lineDescription, lineGroupCode: parent.lineGroupDescription},name: childMarket.customMarketDescription.toUpperCase(), })\r\n                        }\r\n                    })\r\n                    let lineKey = { key: child.lineCode, type: 'line', name: child.lineDescription.toUpperCase() }\r\n                    let lineKeyEncoded = btoa(JSON.stringify(lineKey));\r\n                    childNodes.push({key: lineKeyEncoded, type: 'line', name: child.lineDescription.toUpperCase(), children: marketNodes, active: true, isTest: child.lineCode == undefined})\r\n                })\r\n                \r\n                if (parent.lineGroupCode == undefined) {\r\n                    testMarketNode = {key: lineGroupKeyEncoded, type: 'linegroup', name: parent.lineGroupDescription.toUpperCase(), children: childNodes, active: true, isTest: parent.lineGroupCode == undefined }\r\n                } else {\r\n                    lineGroupsTree.push({key: lineGroupKeyEncoded, type: 'linegroup', name: parent.lineGroupDescription.toUpperCase(), children: childNodes, active: true, isTest: parent.lineGroupCode == undefined })\r\n                }\r\n            }\r\n        })\r\n\r\n        if (testMarketNode) {\r\n            lineGroupsTree.push(testMarketNode)\r\n        }\r\n\r\n        treeData.children =  lineGroupsTree;\r\n        return treeData;\r\n    }\r\n\r\n    const onToggle = (node, toggled) => {\r\n        if (cursor) {\r\n            cursor.active = false;\r\n        }\r\n        node.active = true;\r\n        if (node.children) {\r\n            node.toggled = toggled;\r\n        }\r\n        setCursor(node);\r\n        setData(Object.assign({}, data))\r\n    }\r\n\r\n    const onFilterKeyUp = ({target: {value}}) => {\r\n        let treeData = generateNodeTree(customMarketsData)\r\n        const filter = value.trim();\r\n        if(!filter || filter == '') {\r\n            return setData(treeData)\r\n        }else{\r\n            let filtered = filters.filterTree(treeData, filter);\r\n            filtered = filters.expandFilteredNodes(filtered, filter);\r\n            setData(filtered)\r\n        }\r\n    }\r\n\r\n    const show = (id, e) => {\r\n        contextMenu.show({\r\n            id,\r\n            event: e\r\n        })\r\n    }\r\n\r\n    const showIconTree = (active, type, onClick) => {\r\n        if(type == 'linegroup') {\r\n            if(active) {\r\n                return <KeyboardArrowDownIcon onClick={onClick} style={{cursor:'pointer'}} /> \r\n            }else{\r\n                return <KeyboardArrowRightIcon onClick={onClick} style={{cursor:'pointer'}} />\r\n            }\r\n        }\r\n        if(type == 'line') {\r\n            if(active){\r\n                return <KeyboardArrowDownIcon onClick={onClick} style={{cursor:'pointer'}} /> \r\n            }else{\r\n                return <KeyboardArrowRightIcon onClick={onClick} style={{cursor:'pointer'}}/>\r\n            }\r\n        }\r\n        \r\n    }\r\n    const decorators = {\r\n\r\n        Container: (subprops) => {\r\n            if(subprops && subprops.node.children) {\r\n                let { type, key } = subprops.node;\r\n                return (\r\n                    <>\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            flexWrap: 'wrap',\r\n                            height: 30,\r\n                            marginBottom: (subprops.node && subprops.node.isroot) ? '10px': '4px',\r\n                        }}\r\n                        >\r\n                            {subprops.node && subprops.node.isroot &&\r\n                                <>                          \r\n                                    <Can I=\"view\" a=\"custom-market-tree-action\">\r\n                                        <div \r\n                                            className=\"position-absolute pt-1 pl-1 pr-10 ml-6 mb-2 justify-content-start text-dark\"\r\n                                            style={{backgroundColor: 'rgb(58 61 64 / 68%)', minWidth: '380px', height: '31px', borderRadius: '4px', cursor: 'pointer'}}\r\n                                            onClick={handleOpenCreateLineGroupModal}\r\n                                        >\r\n                                            <span className=\"pl-0 ml-0 font-italic\">\r\n                                                <IconButton size='small'aria-label=\"\" style={{color: 'rgb(197 218 239)'}}>\r\n                                                    <AddIcon /> \r\n                                                    <span style={{fontSize: '0.875rem'}} className=\"pl-3\">\r\n                                                        <FormattedMessage id=\"CUSTOM_MARKET_TREE.ACTION.LINE_GROUP.CREATE\" />\r\n                                                    </span>\r\n                                                </IconButton>\r\n                                            </span>\r\n                                        </div>\r\n                                    </Can>\r\n                                    <LineGroupDialog open={openCreateLineGroupModal} handleClose={handleCloseCreateLineGroupModal} lineGroupSelected={lineGroupSelected}/>\r\n                                    <LineDialog open={openLineDialog} handleClose={handleCloseLineDialog} lineSelected={lineSelected} lineGroupSelected={lineGroupSelected}/>\r\n                                    <CustomMarketDialog open={openCustomMarketDialog} handleClose={handleCloseCustomMarketDialog} customMarket={null} lineSelected={lineSelected} isActionClone={false}/>\r\n                                </>\r\n                            }\r\n                            {subprops.node && !subprops.node.isroot &&\r\n                                <>\r\n                                    <Button\r\n                                        className=\"justify-content-start text-dark pr-5\"\r\n                                        style={type == 'linegroup' ? \r\n                                            ({backgroundColor: 'rgb(23 107 193 / 40%)', minWidth: '380px'}) : \r\n                                            ({backgroundColor: 'rgb(23 107 193 / 15%)', minWidth: '345px'})\r\n                                        }\r\n                                        onClick={() => subprops.onClick}\r\n                                        onContextMenu={(e) => show(subprops.node.key, e)}\r\n                                    >\r\n                                        {showIconTree(subprops.node.toggled, subprops.node.type, subprops.onClick)}\r\n                                        <span style={{marginLeft:10, cursor: 'pointer', width: '100%', textAlign: 'left'}} onClick={subprops.onClick} onContextMenu={(e) => show(subprops.node.key, e)}>{subprops.node.name}</span>\r\n                                    </Button>\r\n                                    <Can I=\"view\" a=\"custom-market-tree-action\">\r\n                                        <Menu id={subprops.node.key}>\r\n                                            <>\r\n                                                {subprops.node.type == 'line' &&\r\n                                                    <>\r\n                                                        <Item \r\n                                                            onClick={(event) => handleOpenLineDialog(event, subprops.node)}\r\n                                                            disabled={subprops.node.isTest ? 'disabled' : ''}\r\n                                                        >\r\n                                                            <FormattedMessage id=\"CUSTOM_MARKET_TREE.ACTION.LINE.EDIT\" />\r\n                                                        </Item>\r\n                                                        <Item \r\n                                                            onClick={(event) => handleOpenCustomMarketDialog(event, subprops.node)}\r\n                                                        >\r\n                                                            <FormattedMessage id=\"CUSTOM_MARKET_TREE.ACTION.CUSTOM_MARKET.CREATE\" />\r\n                                                        </Item>\r\n                                                    </>\r\n                                                }\r\n                                                {subprops.node.type == 'linegroup' &&\r\n                                                    <>\r\n                                                        <Item \r\n                                                            onClick={(event) => handleOpenCreateLineGroupModal(event, subprops.node)}\r\n                                                            disabled={subprops.node.isTest ? 'disabled' : ''}\r\n                                                        >\r\n                                                            <FormattedMessage id=\"CUSTOM_MARKET_TREE.ACTION.LINE_GROUP.EDIT\" />\r\n                                                        </Item>\r\n                                                        <Item onClick={(event) => handleOpenEditLineDialog(event, subprops.node)}>\r\n                                                            <FormattedMessage id=\"CUSTOM_MARKET_TREE.ACTION.LINE.CREATE\" />\r\n                                                        </Item>\r\n                                                    </>\r\n                                                }\r\n                                            </>\r\n                                        </Menu>\r\n                                    </Can>\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </>\r\n                );\r\n                \r\n            }else{\r\n                return (\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            flexWrap: 'wrap',\r\n                            height: 30\r\n                        }}\r\n                        >\r\n                            <Can not I=\"view\" a=\"manage-custom-market\">\r\n                                <span style={{marginLeft:10, cursor:'pointer', width: '100%', textAlign: 'left', fontSize: '12px'}} onClick={() => onSelectCustomMarketPreview(subprops.node.value)}>{subprops.node.name}</span>\r\n                            </Can>\r\n                            <Can I=\"view\" a=\"manage-custom-market\">\r\n                                <span style={{marginLeft:10, cursor:'pointer', width: '100%', textAlign: 'left', fontSize: '12px'}} onClick={() => onSelectCustomMarketManage(subprops.node.value)}>{subprops.node.name}</span>\r\n                            </Can>\r\n                        </div>\r\n                );\r\n\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {loading &&\r\n                <Loader />\r\n            }\r\n            {!loading && Object.keys(customMarket.data).length > 0 &&               \r\n                <IconButton aria-label=\"\" onClick={() => props.setMarketTreeVisible(false)} className=\"float-right\">\r\n                    <CloseIcon/>\r\n                </IconButton>\r\n            }\r\n            {!loading && customMarketsData.length > 0 &&\r\n                <>\r\n                    <div style={{width: '380px'}} className=\"mb-5 ml-6\">\r\n                        <TextField \r\n                            style={{width:'100%'}}\r\n                            id=\"filterTree\" \r\n                            label='Buscar' \r\n                            variant=\"outlined\"\r\n                            onKeyUp={onFilterKeyUp}\r\n                            autoComplete=\"off\"\r\n                        />\r\n                    </div>    \r\n                    <Treebeard\r\n                        data={data}\r\n                        onToggle={onToggle}\r\n                        style={styles}\r\n                        decorators={decorators}\r\n                    />\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nconst styles = {\r\n    tree: {\r\n        base: {\r\n            listStyle: 'none',\r\n            backgroundColor: '#fff',\r\n            margin: 0,\r\n            padding: 0,\r\n            color: '#000',\r\n            fontFamily: 'lucida grande ,tahoma,verdana,arial,sans-serif',\r\n            fontSize: '14px'\r\n        },\r\n        node: {\r\n            base: {\r\n                position: 'relative'\r\n            },\r\n            link: {\r\n                cursor: 'pointer',\r\n                position: 'relative',\r\n                padding: '0px 5px',\r\n                display: 'block'\r\n            },\r\n            activeLink: {\r\n                background: '#fff'\r\n            },\r\n            toggle: {\r\n                base: {\r\n                    position: 'relative',\r\n                    display: 'inline-block',\r\n                    verticalAlign: 'top',\r\n                    marginLeft: '-5px',\r\n                    height: '24px',\r\n                    width: '24px'\r\n                },\r\n                wrapper: {\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    margin: '-7px 0 0 -7px',\r\n                    height: '14px'\r\n                },\r\n                height: 14,\r\n                width: 14,\r\n                arrow: {\r\n                    fill: '#9DA5AB',\r\n                    strokeWidth: 0\r\n                }\r\n            },\r\n            header: {\r\n                base: {\r\n                    display: 'inline-block',\r\n                    verticalAlign: 'top',\r\n                    color: '#000'\r\n                },\r\n                connector: {\r\n                    width: '2px',\r\n                    height: '12px',\r\n                    borderLeft: 'solid 2px black',\r\n                    borderBottom: 'solid 2px black',\r\n                    position: 'absolute',\r\n                    top: '0px',\r\n                    left: '-21px'\r\n                },\r\n                title: {\r\n                    lineHeight: '24px',\r\n                    verticalAlign: 'middle'\r\n                }\r\n            },\r\n            subtree: {\r\n                listStyle: 'none',\r\n                paddingLeft: '19px'\r\n            },\r\n            loading: {\r\n                color: '#E2C089'\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarket: state.mercados.customMarket,\r\n        customMarketTree: state.mercados.customMarketTree,\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(React.memo(CustomMarketTree));","import React, { useState } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst CustomMarketDeleteDialog = (props) => {\r\n  const {customMarket, open, handleClose} = props\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n      setLoading(false);\r\n  };     \r\n\r\n  const handleDelete = () => {\r\n    setErrors({})\r\n    enableLoading()\r\n    setTimeout( async () => {\r\n        try {    \r\n            await props.deleteCustomMarket(customMarket.data)\r\n            disableLoading()\r\n            handleClose()\r\n            await Promise.all([props.getCustomMarketTree(),props.getCustomMarkets()])\r\n        } catch(e) {\r\n          if (e.response && e.response.data.message == 'is_not_valid_delete_custom_market') {\r\n              setErrors( {api: <FormattedMessage id=\"CUSTOM_MARKET_DELETE_DIALOG.MARKET_REFERENCE_EXCEPTION\" values={{ list: e.response.data.customMarketDescription }} />} )\r\n          } else {          \r\n              setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n            }\r\n          disableLoading()\r\n        }\r\n    }, 500);\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    setErrors({})\r\n  }, [open])\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open}\r\n        keepMounted\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\">\r\n          <FormattedMessage id=\"CUSTOM_MARKET_DELETE_DIALOG.TITLE\" />\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n            <FormattedMessage id=\"CUSTOM_MARKET_DELETE_DIALOG.MESSAGE\" />\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {errors.api &&\r\n            <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{errors.api}</div>\r\n          }           \r\n          <Button onClick={handleClose} color=\"primary\" disabled={loading}>\r\n            <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n          </Button>\r\n          <Button onClick={handleDelete} className=\"text-danger\" disabled={loading}>\r\n          {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n              <FormattedMessage id=\"FORM.ACTION.DELETE\" />\r\n            </span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      customMarket: state.mercados.customMarket\r\n  }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CustomMarketDeleteDialog);","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport PreviewIcon from '@material-ui/icons/Visibility';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CustomMarketDialog from './CustomMarketDialog'\r\nimport CustomMarketDeleteDialog from './CustomMarketDeleteDialog'\r\nimport Can from './../../../config/Can';\r\n\r\nfunction CustomMarketAction(props) {\r\n\tconst { customMarketPageView, customMarket, lineSelected } = props;\r\n  const [isActionClone, setIsActionClone] = React.useState(false);\r\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\r\n\tconst [openCustomMarketDialog, setOpenCustomMarketDialog] = React.useState(false);\r\n  const [openCustomMarketDeleteDialog, setOpenCustomMarketDeleteDialog] = React.useState(false);\r\n\tconst openMenu = Boolean(anchorEl);  \r\n\tconst ITEM_HEIGHT = 48;\r\n\r\n  const handleOpenMenu = (event) => {\r\n    event.stopPropagation();\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseMenu = (event) => {\r\n    setAnchorEl(null);\r\n  };  \r\n\r\n  const handleCloseDialog = () => {\r\n    setOpenCustomMarketDialog(false);\r\n  };\r\n\r\n  const handleOpenEditDialog = (event) => {\r\n    handleCloseMenu()\r\n    setIsActionClone(false)\r\n    setOpenCustomMarketDialog(true);\r\n  };\r\n\r\n  const handleOpenCloneDialog = (event) => {\r\n    handleCloseMenu()\r\n    setIsActionClone(true)\r\n    setOpenCustomMarketDialog(true);\r\n  };\r\n\r\n  const handleOpenDeleteDialog = (event) => {\r\n    handleCloseMenu()\r\n    setOpenCustomMarketDeleteDialog(true);\r\n  };\r\n\r\n  const handleCloseDeleteDialog = () => {\r\n    setOpenCustomMarketDeleteDialog(false);\r\n  };\r\n\r\n    return ( \r\n      <>        \r\n        <Can I=\"view\" a=\"manage-custom-market\">\r\n          <>\r\n            <IconButton aria-label=\"\" onClick={handleOpenMenu} color=\"primary\">\r\n              <MoreVertIcon style={{fontSize: '1.8rem'}}/>\r\n            </IconButton>\r\n            <Menu\r\n              id=\"customMarketMenu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={openMenu}\r\n              onClose={handleCloseMenu}\r\n              PaperProps={{\r\n                style: {\r\n                maxHeight: ITEM_HEIGHT * 4.5,\r\n                width: '24ch',\r\n                },\r\n              }}\r\n            >\r\n              <MenuItem key='menuItemEdit' onClick={handleOpenEditDialog}>\r\n                <FormattedMessage id=\"CUSTOM_MARKET_ACTION.EDIT\" />\r\n              </MenuItem>\r\n              <MenuItem key='menuItemClone'  onClick={handleOpenCloneDialog}>\r\n                <FormattedMessage id=\"CUSTOM_MARKET_ACTION.CLONE\" />\r\n              </MenuItem>                       \r\n              <MenuItem key='menuItemDelete' onClick={handleOpenDeleteDialog}>\r\n                <FormattedMessage id=\"CUSTOM_MARKET_ACTION.DELETE\" />\r\n              </MenuItem>                                           \r\n            </Menu>\r\n            <div className=\"float-right ml-15\">\r\n              {customMarketPageView.view == 'manage' && (\r\n                <div\r\n                  id=\"btn_preview\"\r\n                  className={`btn btn-secondary font-weight-bold px-2 pr-6 py-0 mb-2`}\r\n                  style={{fontWeight: '600'}}\r\n                  onClick={() => props.setCustomMarketPageView('preview')}\r\n                  >\r\n                  <IconButton aria-label=\"\"  color=\"primary\">\r\n                    <PreviewIcon color=\"primary\"/>\r\n                  </IconButton>\r\n                  <span style={{color:'#17c191'}}>\r\n                    <FormattedMessage id=\"CUSTOM_MARKET_ACTION.PREVIEW\" />\r\n                  </span>\r\n                </div>\r\n              )}\r\n              {customMarketPageView.view == 'preview' && (\r\n                <div\r\n                  id=\"btn_manage\"\r\n                  className={`btn btn-secondary font-weight-bold px-2 pr-6 py-0 mb-2`}\r\n                  style={{fontWeight: '600'}}\r\n                  onClick={() => props.setCustomMarketPageView('manage')}\r\n                >\r\n                  <IconButton aria-label=\"\"  color=\"primary\">\r\n                    <EditIcon color=\"primary\"/>\r\n                  </IconButton>\r\n                  <span style={{color:'#17c191'}}>\r\n                    <FormattedMessage id=\"CUSTOM_MARKET_ACTION.MANAGE\" />\r\n                  </span>\r\n                </div>\r\n              )}              \r\n            </div>\r\n          </>\r\n        </Can>\r\n        <CustomMarketDialog open={openCustomMarketDialog} handleClose={handleCloseDialog} customMarket={customMarket} lineSelected={lineSelected} isActionClone={isActionClone}/>\r\n        <CustomMarketDeleteDialog open={openCustomMarketDeleteDialog} handleClose={handleCloseDeleteDialog} customMarket={customMarket}/>\r\n      </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      customMarketPageView: state.mercados.customMarketPageView\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CustomMarketAction)","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { injectIntl } from \"react-intl\";\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport CustomMarketAction from './CustomMarketAction'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport AccountTreeIcon from '@material-ui/icons/AccountTree';\r\n\r\nconst CustomMarketToolbar = (props) => {\r\n  const { intl, customMarket} = props;\r\n\r\n  if (customMarket.isLoading || Object.keys(customMarket.data).length == 0) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <Grid item xs={12} className=\"pt-1 pl-0 pr-0 pb-0\">\r\n      <div style={{\r\n          display: 'inline-flex',\r\n          alignItems: 'center',\r\n          flexWrap: 'wrap',\r\n          marginBottom:8\r\n      }}>\r\n          <div\r\n              id=\"btn_tree\"\r\n              className={`btn btn-secondary font-weight-bold px-2 py-0 mb-2`}\r\n              onClick={() => props.setMarketTreeVisible(true)}\r\n          >\r\n              <Tooltip title={intl.formatMessage({id: \"CUSTOM_MARKET_TREE.TITLE\"})}>\r\n                  <IconButton aria-label=\"\"  color=\"primary\">\r\n                      <AccountTreeIcon/> \r\n                  </IconButton>\r\n              </Tooltip>                                \r\n          </div>\r\n          <span \r\n              className={`ml-10`}\r\n              style={{ fontSize: '16px', fontWeight: '500', borderBottom: '2px solid #17c191', color: '#636060' }}>\r\n              { customMarket.data.lineGroupDescription && (\r\n                <>\r\n                  {customMarket.data.lineGroupDescription.toUpperCase()}\r\n                  <span style={{color: 'rgb(56 56 197 / 48%)'}} className=\"pl-4 pr-4\">|</span>\r\n                </>\r\n              )}\r\n              { customMarket.data.lineDescription && (\r\n                <>\r\n                  {customMarket.data.lineDescription.toUpperCase()}\r\n                  <span style={{color: 'rgb(56 56 197 / 48%)'}} className=\"pl-4 pr-4\">|</span>\r\n                </>\r\n              )}\r\n              { customMarket.data.description.toUpperCase() }\r\n          </span>\r\n          <CustomMarketAction customMarket={customMarket} lineSelected={null}/>\r\n      </div>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      customMarket: state.mercados.customMarket\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(CustomMarketToolbar));","import React, { Component } from 'react';\r\nimport { List } from 'react-virtualized';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport CheckboxUi from '@material-ui/core/Checkbox';\r\n\r\nconst Checkbox = ({ onChange, checked, label, isGroup, style, value }) =>\r\n  <div style={{ ...style }}>\r\n    <FormControlLabel control={\r\n      <CheckboxUi \r\n        checked={checked || false}\r\n        onChange={onChange}\r\n        value={value}\r\n        />\r\n        }\r\n        label = {[label, isGroup ? <span className=\"text-primary pl-4\" key={value}><strong>&#8859;</strong></span> : null]}\r\n      />\r\n  </div>; \r\n\r\nconst Checkboxes = (props) => {\r\n\r\n  const { items, rowHeight, height, width } = props;\r\n  const rowCount = items.length + 1;\r\n\r\n  const handleChange = event => {\r\n    const { labelKey, onChange } = props;\r\n    onChange({ [labelKey]: event.target.value, checked: event.target.checked });\r\n  };\r\n\r\n  const handleSelectAllChange = event => {\r\n    const { onSelectAllChange } = props;\r\n    onSelectAllChange(event.target.checked);\r\n  };\r\n  const checkboxRenderer = ({ index, style }) => {\r\n    const { items, filtered, labelKey } = props;\r\n\r\n    if (index === 0) {\r\n      const label = filtered ? '(Todos los filtrados)' : '(Todos)';\r\n      const checked = items.filter(i => i.checked).length === items.length;\r\n      return (\r\n        <Checkbox\r\n          style={style}\r\n          key={'#ALL#'}\r\n          onChange={handleSelectAllChange}\r\n          label={label}\r\n          checked={checked}\r\n        />\r\n      );\r\n    }\r\n    const item = items[index - 1];\r\n    return (\r\n      <Checkbox\r\n        style={style}\r\n        key={item.value}\r\n        onChange={handleChange}\r\n        label={item.label}\r\n        value={item.value}\r\n        checked={item.checked}\r\n        isGroup={item.isGroup}\r\n      />\r\n    );\r\n  };\r\n  \r\n    \r\n    return (\r\n      <List\r\n        height={height}\r\n        width={width}\r\n        rowCount={rowCount}\r\n        rowHeight={rowHeight}\r\n        rowRenderer={checkboxRenderer}\r\n      />\r\n    );\r\n  \r\n}\r\n\r\nexport default Checkboxes;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { AutoSizer } from 'react-virtualized';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Checkboxes from './Checkboxes';\r\n\r\nfunction getDistinctFast(items, key) {\r\n  let unique = {};\r\n  let distinct = [];\r\n  for (let opt of items) {\r\n    if (typeof unique[opt[key]] === 'undefined') {\r\n      distinct.push(opt);\r\n    }\r\n    unique[opt[key]] = 0;\r\n  }\r\n  return distinct;\r\n}\r\n\r\n// Fast function to update items\r\n// Use the fact that both arrays are sorted and have no duplicates\r\n// and that all elements of the second array are present in the first array\r\nfunction updateItems(base, items, labelKey) {\r\n  let index = 0;\r\n  for (let it of items) {\r\n    while (base[index][labelKey] !== it[labelKey]) {\r\n      index += 1;\r\n    }\r\n    base[index].checked = it.checked;\r\n  }\r\n  return base;\r\n}\r\n\r\nconst FilterBar = ({ value, onChange, height, width, title, options, onSelectItemFromMenu, hasSelectedItems }) => {\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = (event) => {\r\n    event.stopPropagation();\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const onSelectOption = (action) => {\r\n    onSelectItemFromMenu(action)\r\n    handleClose();\r\n  }\r\n  \r\n  /*const options = [\r\n    'Asignar al mercado',\r\n    'Crear grupo',\r\n  ];*/\r\n  const ITEM_HEIGHT = 48;\r\n\r\n  return (\r\n    <div style={{ height }}>\r\n      <div style={{width: '80%'}}>\r\n          <TextField \r\n            autoComplete=\"off\"\r\n            style={{width}}\r\n            id=\"filter\" \r\n            label={title} \r\n            variant=\"outlined\"\r\n            onChange={event => onChange(event.target.value)}\r\n            value={value}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon />\r\n                </InputAdornment>\r\n              ),\r\n              endAdornment: (\r\n                <div>\r\n                  {options !== undefined && options.length > 0 &&\r\n                    <>\r\n                      <InputAdornment onClick={handleClick} style={{cursor:'pointer'}} position='end'>\r\n                        <IconButton>\r\n                          <MoreVertIcon />\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                      <Menu\r\n                        id=\"long-menu\"\r\n                        anchorEl={anchorEl}\r\n                        keepMounted\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        PaperProps={{\r\n                          style: {\r\n                            maxHeight: ITEM_HEIGHT * 4.5,\r\n                            width: '24ch',\r\n                          },\r\n                        }}\r\n                      >\r\n                        {options.map((option,key) => (\r\n                          <MenuItem key={key} onClick={() => onSelectOption(option.action)} disabled={!hasSelectedItems}>\r\n                            {option.title}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Menu>\r\n                    </>\r\n                  }\r\n                </div>\r\n              )\r\n            }}\r\n          />\r\n        </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nconst Footer = ({\r\n  width,\r\n  height,\r\n  hasOkButton,\r\n  hasCancelButton,\r\n  onOk,\r\n  onCancel\r\n}) =>\r\n  <div style={{ display: 'flex', width, height }}>\r\n    {hasOkButton && <input type=\"button\" value=\"Ok\" onClick={onOk} />}\r\n    {hasCancelButton &&\r\n      <input type=\"button\" value=\"Cancel\" onClick={onCancel} />}\r\n  </div>;\r\n\r\nclass VirtualizedCheckbox extends Component {\r\n  static propTypes = {\r\n    hasCancelButton: PropTypes.bool,\r\n    hasFilterBox: PropTypes.bool,\r\n    hasOkButton: PropTypes.bool,\r\n    height: PropTypes.number,\r\n    items: PropTypes.array,\r\n    labelKey: PropTypes.string,\r\n    onCancel: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n    onOk: PropTypes.func,\r\n    rowHeight: PropTypes.number,\r\n    textFilter: PropTypes.string\r\n  };\r\n\r\n  static defaultProps = {\r\n    hasOkButton: false,\r\n    hasCancelButton: false,\r\n    hasFilterBox: true,\r\n    labelKey: 'value',\r\n    onCancel: () => null,\r\n    onChange: () => null,\r\n    onOk: () => null,\r\n    items: [],\r\n    rowHeight: 35,\r\n    textFilter: ''\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { items: propsItems, labelKey, textFilter } = props;\r\n\r\n    this.state = {\r\n      items: [],\r\n      filter: ''\r\n    }\r\n    if(this.props.items.length > 0) {\r\n      const objectItems =\r\n        typeof propsItems[0] === 'string'\r\n          ? propsItems.map(item => ({ [labelKey]: item }))\r\n          : propsItems;\r\n      const items = getDistinctFast(objectItems, labelKey);\r\n      this.state = {\r\n        items,\r\n        filter: textFilter\r\n      };\r\n\r\n    }\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if(this.props.item !== nextProps.items) {\r\n      this.setState({ items: nextProps.items})\r\n    }\r\n  }\r\n\r\n  handleSelectAllChange = checked => {\r\n    const items = this.getFilteredItems().map(it => ({ ...it, checked }));\r\n    this.setState(prevState => ({\r\n      items: updateItems(prevState.items, items, this.props.labelKey)\r\n    }));\r\n    let prepareItems = []\r\n    items.map(itm => {\r\n      if(itm.checked) {\r\n        prepareItems.push(itm)\r\n      }\r\n    })\r\n    this.props.onOk(prepareItems)\r\n  };\r\n\r\n  handleChange = eventTarget => {\r\n    const index = this.state.items.findIndex(\r\n      it => it[this.props.labelKey] === eventTarget[this.props.labelKey]\r\n    );\r\n    const items = [...this.state.items];\r\n    items[index].checked = eventTarget.checked;\r\n    this.setState(prevState => ({\r\n      items\r\n    }));\r\n    if (this.props.onChange) {\r\n      this.props.onChange(items[index]);\r\n    }\r\n    this.handleOkClick();\r\n  };\r\n\r\n  handleFilterChange = filter => {\r\n    this.setState(() => ({\r\n      filter\r\n    }));\r\n  };\r\n\r\n  getFilteredItems = () => {\r\n    const { items, filter } = this.state;\r\n    return items.filter(\r\n      it =>\r\n        it[this.props.labelKey] &&\r\n        it.label.toLowerCase().includes(filter.toLowerCase())\r\n    );\r\n  };\r\n\r\n  handleOkClick = () => {\r\n    const { items, filter } = this.state;\r\n    const checkedItems = items.filter(i => i.checked);\r\n    this.props.onOk(checkedItems, checkedItems.length === items.length, filter);\r\n  };\r\n\r\n  handleCancelClick = () => this.props.onCancel();\r\n  \r\n  hasSelectedItems = () => {\r\n    return this.state.items.filter(i => i.checked).length\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      rowHeight,\r\n      hasOkButton,\r\n      hasCancelButton,\r\n      hasFilterBox,\r\n      height,\r\n      width: propWidth,\r\n      title,\r\n      options,\r\n      onSelectItemFromMenu\r\n    } = this.props;\r\n    const hasFooter = hasOkButton || hasCancelButton;\r\n    const virtualScrollHeight = h => {\r\n      let i = 0;\r\n      if (hasFooter) {\r\n        i += 1;\r\n      }\r\n      if (hasFilterBox) {\r\n        i += 1;\r\n      }\r\n      const actualHeight = height || h;\r\n      return actualHeight - i * rowHeight;\r\n    };\r\n    \r\n    return (\r\n      <AutoSizer>\r\n        {({ width, height }) =>\r\n          <div>\r\n            {hasFilterBox\r\n              ? <FilterBar\r\n                  value={this.state.filter}\r\n                  onChange={this.handleFilterChange}\r\n                  height={60}\r\n                  width={propWidth || width}\r\n                  title={title}\r\n                  options={options}\r\n                  hasSelectedItems={this.hasSelectedItems()}\r\n                  onSelectItemFromMenu={onSelectItemFromMenu}\r\n                />\r\n              : null}\r\n              {this.props.items.length > 0 &&\r\n                <Checkboxes\r\n                  height={virtualScrollHeight(height)}\r\n                  width={propWidth || width}\r\n                  items={this.getFilteredItems()}\r\n                  labelKey={this.props.labelKey}\r\n                  filtered={!!this.state.filter}\r\n                  rowHeight={rowHeight}\r\n                  onChange={this.handleChange}\r\n                  onSelectAllChange={this.handleSelectAllChange}\r\n                />\r\n              }\r\n            {hasFooter\r\n              ? <Footer\r\n                  onOk={this.handleOkClick}\r\n                  onCancel={this.handleCancelClick}\r\n                  width={propWidth || width}\r\n                  height={rowHeight}\r\n                  hasOkButton={false}\r\n                  hasCancelButton={false}\r\n                />\r\n              : null}\r\n          </div>}\r\n      </AutoSizer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VirtualizedCheckbox;","import React from 'react'\r\nimport ContentLoader from 'react-content-loader'\r\n\r\nconst Loader = props => {\r\n  return (\r\n    <ContentLoader\r\n      width={300}\r\n      height={360}\r\n      viewBox=\"0 0 280 360\"\r\n      backgroundColor=\"#f5f5f5\"\r\n      foregroundColor=\"#dbdbdb\"\r\n      {...props}\r\n    >\r\n      <rect x=\"0\" y=\"10\" rx=\"3\" ry=\"3\" width=\"280\" height=\"25\" />\r\n      \r\n      <rect x=\"0\" y=\"40\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"40\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"60\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"60\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"80\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />      \r\n      <rect x=\"11\" y=\"80\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n\r\n      <rect x=\"0\" y=\"100\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"100\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"120\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"120\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"140\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"140\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n\r\n      <rect x=\"0\" y=\"160\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"160\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"180\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"180\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"200\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"200\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n\r\n      <rect x=\"0\" y=\"220\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"220\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"240\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"240\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"260\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"260\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n\r\n      <rect x=\"0\" y=\"280\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"280\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n     <rect x=\"0\" y=\"300\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"300\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"320\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"320\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />      \r\n\r\n      <rect x=\"0\" y=\"340\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"340\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n      \r\n      <rect x=\"0\" y=\"360\" rx=\"3\" ry=\"3\" width=\"8\" height=\"8\" />\r\n      <rect x=\"11\" y=\"360\" rx=\"3\" ry=\"3\" width=\"265\"height=\"8\" />\r\n    </ContentLoader>\r\n  )\r\n}\r\n\r\nexport default Loader","import React from 'react'\r\nimport { AutoSizer } from 'react-virtualized';\r\nimport VirtualizedCheckbox from './VirtualizedCheckbox'\r\nimport Loader from './Loader'\r\n\r\nconst ListVirtualized = (props) => {\r\n\r\n    const { items, isLoading,title, onChange,options, onSelectItemFromMenu, infoRef } = props;\r\n    const [ filter, setFilter ] = React.useState('')\r\n\r\n    const onSelect = (selected) => {\r\n        props.onChange(selected);\r\n    }\r\n    return (\r\n        <div style={{width: '100%', height: '100%', marginRight: 10}}>\r\n            {isLoading &&\r\n                <Loader />\r\n            }\r\n            {!isLoading  &&\r\n                <VirtualizedCheckbox\r\n                    items={items || []}\r\n                    title={title}\r\n                    onOk={onSelect}\r\n                    options={options}\r\n                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                    onCancel={ () => console.log('')}\r\n                />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListVirtualized;","import React from 'react'\r\nimport { DialogContent } from '@material-ui/core'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport { injectIntl } from \"react-intl\";\r\n\r\n\r\nconst ActionTabDialog = (props) => {\r\n    const { children, onAccept, onCancel, title, description, visible, isLoading, type, intl } = props;\r\n    \r\n    const handleClose = () => {\r\n        if(!isLoading) {\r\n            props.onCancel();\r\n        }\r\n    }\r\n    return (\r\n        <Dialog \r\n            onClose={handleClose} \r\n            open={visible}\r\n            maxWidth='sm'\r\n            fullWidth={true}\r\n            keepMounted\r\n            aria-labelledby=\"alert-dialog-slide-title\"\r\n            aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n        <DialogContent>\r\n          <DialogContentText className=\"mb-8\">\r\n            <strong>\r\n                {title}\r\n            </strong>\r\n            <p></p>\r\n            {description}\r\n          </DialogContentText>                       \r\n                {children}\r\n                <DialogActions>\r\n                    <Button onClick={onCancel} color=\"primary\" disabled={isLoading ? true : false}>\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button onClick={onAccept} color=\"primary\" disabled={isLoading ? true : false} className={(type && type == 'delete')? \"text-danger\": \"\"}>\r\n                        {isLoading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n                        <span style={{paddingLeft:'25px'}}>{type && type == 'delete' ? intl.formatMessage({id: \"FORM.ACTION.DELETE\"}) : intl.formatMessage({id: \"FORM.ACTION.SAVE\"})}</span>\r\n                    </Button>\r\n                </DialogActions>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default injectIntl(ActionTabDialog);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport { List,ListItem,ListItemText, TextField } from '@material-ui/core'\r\nimport { FixedSizeList } from 'react-window';\r\nimport { useFormik } from 'formik';\r\nimport { useStyles } from '../../../../Style/GeneralStyles';\r\n\r\n\r\nconst ProductForm = (props) => {\r\n\r\n    const { productsSelected, formHasBeenSubmited, onChangeStatusForm } = props;\r\n    const classes = useStyles();\r\n\r\n    const detectFormSubmited = () => {\r\n        if(formHasBeenSubmited) {\r\n            formikCreateProduct.handleSubmit();\r\n            onChangeStatusForm();\r\n        }\r\n    }\r\n    React.useEffect(() => {\r\n\r\n        detectFormSubmited()\r\n\r\n        return () => {}\r\n        \r\n    }, [formHasBeenSubmited])\r\n\r\n\r\n    const prepareToSave = ({description}) => {   \r\n        let t = []\r\n        productsSelected.map(x => {\r\n            let product = getItemObject(x)\r\n            if(product && product.productCode) {\r\n                t.push(product.productCode)\r\n            }\r\n        })\r\n        return JSON.stringify({description: description, productCodes: t})\r\n    }\r\n\r\n    const validateProduct = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n            errors.description = 'campo obligatorio';\r\n        }\r\n      \r\n        if (productsSelected.some(x => x.isGroup == true)) {\r\n            errors.api = 'No es posible crear un grupo de productos con elementos de tipo grupo'\r\n        }\r\n\r\n        return errors;\r\n    };\r\n    const formikCreateProduct = useFormik({\r\n        initialValues: {\r\n          description: '',\r\n        },\r\n        validate: validateProduct,\r\n        onSubmit: async(values) => {\r\n\r\n            props.onChangeLoadingForm(true)\r\n            setTimeout(() => {\r\n                let productGroupToSave = prepareToSave(values)\r\n                props.createProductGroup(productGroupToSave)\r\n                    .then(() => {\r\n                        props.onChangeLoadingForm(false)\r\n                        props.onClose()\r\n                    })\r\n                    .catch((e) => {\r\n                        console.error(e)\r\n                        props.onChangeLoadingForm(false)\r\n                        //setSubmitting(false);\r\n                    });\r\n            }, 1000);\r\n        },\r\n    });\r\n\r\n    const renderProductsRow = (props) => {\r\n        const { index, style } = props;\r\n      \r\n        return (\r\n          <ListItem button style={style} key={index}>\r\n            <span className={ (productsSelected[index].isGroup == true) ? \"text-danger\" : \"\"}>\r\n                {productsSelected[index].label }\r\n                { productsSelected[index].isGroup == true &&\r\n                    <span className=\"text-danger pl-4\" key={productsSelected[index].value}><strong>&#8859;</strong></span>\r\n                }\r\n            </span>\r\n          </ListItem>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={formikCreateProduct.handleSubmit}>\r\n            <TextField\r\n                className={`mb-4`}\r\n                fullWidth\r\n                autoComplete='off'\r\n                name=\"description\"\r\n                label=\"Descripcin\"\r\n                type='text'\r\n                onChange={formikCreateProduct.handleChange}\r\n                value={formikCreateProduct.values.description}\r\n                error={formikCreateProduct.touched.description && Boolean(formikCreateProduct.errors.description)}\r\n                helperText={formikCreateProduct.touched.description && formikCreateProduct.errors.description}\r\n            />\r\n            <div>\r\n                <span>Seleccionados</span>\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <FixedSizeList height={200} width={'100%'} itemSize={30} itemCount={productsSelected.length}>\r\n                        {renderProductsRow}\r\n                    </FixedSizeList>\r\n                </div>\r\n            </div> \r\n            {formikCreateProduct.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-0 pt-7\" style={{width: '100%'}}>{formikCreateProduct.errors.api}</div>\r\n            }\r\n        </form>\r\n    )\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(ProductForm);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport { ListItem,ListItemText, TextField } from '@material-ui/core'\r\nimport { FixedSizeList } from 'react-window';\r\n\r\nimport { useFormik } from 'formik';\r\nimport { useStyles } from '../../../../Style/GeneralStyles';\r\n\r\n\r\nconst ProductPresentationForm = (props) => {\r\n\r\n    const { productPresentationSelected, formHasBeenSubmited, onChangeStatusForm } = props;\r\n    const classes = useStyles();\r\n\r\n    const detectFormSubmited = () => {\r\n        if(formHasBeenSubmited) {\r\n            formikCreateProduct.handleSubmit();\r\n            onChangeStatusForm();\r\n        }\r\n    }\r\n    React.useEffect(() => {\r\n\r\n        detectFormSubmited()\r\n\r\n        return () => {}\r\n        \r\n    }, [formHasBeenSubmited])\r\n\r\n\r\n    const prepareProductPresentationToSave = ({description}) => {\r\n        \r\n        let t = []\r\n        productPresentationSelected.map(x => {\r\n            let productPresentation = getItemObject(x)\r\n            if (productPresentation.code) {\r\n                t.push(productPresentation.code)\r\n            }\r\n        })\r\n        return JSON.stringify({description: description, ProductPresentationCodes: t})\r\n        \r\n    }\r\n    const validateProduct = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = 'campo obligatorio';\r\n        }\r\n\r\n        if (productPresentationSelected.some(x => x.isGroup == true)) {\r\n            errors.api = 'No es posible crear un grupo de presentaciones con elementos de tipo grupo'\r\n        }\r\n      \r\n        return errors;\r\n    };\r\n    const formikCreateProduct = useFormik({\r\n        initialValues: {\r\n          description: '',\r\n        },\r\n        validate: validateProduct,\r\n        onSubmit: async(values) => {\r\n\r\n            props.onChangeLoadingForm(true)\r\n            setTimeout(() => {\r\n                let productPresentationGroupToSave = prepareProductPresentationToSave(values)\r\n                props.createProductPresentationGroup(productPresentationGroupToSave)\r\n                    .then(() => {\r\n                        props.onChangeLoadingForm(false)\r\n                        props.onClose()\r\n                    })\r\n                    .catch((e) => {\r\n                        console.error(e)\r\n                        props.onChangeLoadingForm(false)\r\n                        //setSubmitting(false);\r\n                    });\r\n            }, 1000);\r\n        },\r\n    });\r\n\r\n    const renderProductsRow = (props) => {\r\n        const { index, style } = props;\r\n      \r\n        return (\r\n          <ListItem button style={style} key={index}>\r\n            <span className={ (productPresentationSelected[index].isGroup == true) ? \"text-danger\" : \"\"}>\r\n                {productPresentationSelected[index].label }\r\n                { productPresentationSelected[index].isGroup == true &&\r\n                    <span className=\"text-danger pl-4\" key={productPresentationSelected[index].value}><strong>&#8859;</strong></span>\r\n                }\r\n            </span>            \r\n          </ListItem>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={formikCreateProduct.handleSubmit}>\r\n            <TextField\r\n                className={`mb-4`}\r\n                fullWidth\r\n                autoComplete='off'\r\n                name=\"description\"\r\n                label=\"Descripcin\"\r\n                type='text'\r\n                onChange={formikCreateProduct.handleChange}\r\n                value={formikCreateProduct.values.description}\r\n                error={formikCreateProduct.touched.description && Boolean(formikCreateProduct.errors.description)}\r\n                helperText={formikCreateProduct.touched.description && formikCreateProduct.errors.description}                \r\n            />\r\n            <div>\r\n                <span>Seleccionados</span>\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <FixedSizeList height={200} width={'100%'} itemSize={30} itemCount={productPresentationSelected.length}>\r\n                        {renderProductsRow}\r\n                    </FixedSizeList>\r\n                </div>\r\n            </div> \r\n            {formikCreateProduct.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-0 pt-7\" style={{width: '100%'}}>{formikCreateProduct.errors.api}</div>\r\n            }            \r\n        </form>\r\n    )\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(ProductPresentationForm);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport { useFormik } from 'formik'\r\nimport { List,ListItem,ListItemText, TextField, Grid,  } from '@material-ui/core'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { FixedSizeList } from 'react-window';\r\nimport { customMarketDetailDefault } from '../../customMarketDetailDefault'\r\nimport { useStyles } from '../../../../Style/GeneralStyles';\r\n\r\n\r\nconst MarketAssignForm = (props) => {\r\n\r\n    const { itemsSelecteds, customMarketGroups, formHasBeenSubmited, onChangeStatusForm, customMarketType } = props;\r\n    const classes = useStyles();\r\n\r\n    const detectFormSubmited = () => {\r\n        if(formHasBeenSubmited) {\r\n            formikAsignMarket.handleSubmit();\r\n            onChangeStatusForm();\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n\r\n        detectFormSubmited()\r\n\r\n        return () => {}\r\n        \r\n    }, [formHasBeenSubmited])\r\n\r\n    const prepareToSaveCustomMarket = ({customMarketGroup}) => {        \r\n        let copyCustomMarket = JSON.parse(JSON.stringify(props.customMarket.data))        \r\n\r\n        itemsSelecteds.map(x => {\r\n            if(customMarketType == 'marketAssignFromProduct') {\r\n                let product = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                if(product && product.productGroupCode) {\r\n                    \r\n                    customMarketDetailValues.productGroupCode = product.productGroupCode\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                if(product && product.productCode) {\r\n                    customMarketDetailValues.productCode = product.productCode\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n            }\r\n            if(customMarketType == 'marketAssignFromPharmaceuticalForm') {\r\n                let pharmaceuticalForm = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                \r\n                if(pharmaceuticalForm && pharmaceuticalForm.code) {\r\n                    customMarketDetailValues.pharmaceuticalFormCode = pharmaceuticalForm.code\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n\r\n            }\r\n            if(customMarketType == 'marketAssignFromProductPresentation') {\r\n                let productPresentation = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n\r\n                if (productPresentation && productPresentation.code) {\r\n                    customMarketDetailValues.productPresentationCode = productPresentation.code;\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                \r\n                if (productPresentation && productPresentation.productPresentationGroupCode) {\r\n                    customMarketDetailValues.productPresentationGroupCode = productPresentation.productPresentationGroupCode;\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                \r\n            }\r\n            if(customMarketType == 'marketAssignFromLaboratory') {\r\n                let laboratory = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                \r\n                if(laboratory && laboratory.laboratoryGroupCode) {\r\n                    customMarketDetailValues.laboratoryGroupCode = laboratory.laboratoryGroupCode\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                if(laboratory && laboratory.laboratoryCode) {\r\n                    customMarketDetailValues.laboratoryCode = laboratory.laboratoryCode\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n\r\n                }\r\n            }\r\n            if(customMarketType == 'marketAssignFromDrug') {\r\n                let drug = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n\r\n                if(drug && drug.drugCode) {\r\n                    customMarketDetailValues.drugCode = drug.drugCode\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                if(drug && drug.drugGroupCode) {\r\n                    customMarketDetailValues.drugGroupCode = drug.drugGroupCode\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                \r\n            }\r\n            if(customMarketType == 'marketAssignFromTherapeuticalClass') {\r\n                let therapeuticalClass = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                \r\n                if(therapeuticalClass && therapeuticalClass.code) {\r\n                    customMarketDetailValues.therapeuticalClassCode = therapeuticalClass.code\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                \r\n            }\r\n            if(customMarketType == 'marketAssignFromMarkets') {\r\n                let market = getItemObject(x)\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                if(market && market.code) {\r\n                    customMarketDetailValues.detailCustomMarketCode = market.code\r\n                    customMarketDetailValues.customMarketGroupCode = customMarketGroup == -1 ? null : customMarketGroup\r\n                    copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n                }\r\n                \r\n            }\r\n        })\r\n\r\n        return copyCustomMarket;\r\n        \r\n    }\r\n    const validateAsignMarket = values => {\r\n        const errors = {};\r\n        if (!values.customMarketGroup) {\r\n          errors.customMarketGroup = 'campo obligatorio';\r\n        }\r\n      \r\n        return errors;\r\n    };\r\n    const formikAsignMarket = useFormik({\r\n        initialValues: {\r\n            customMarketGroup: -1,\r\n        },\r\n        validate: validateAsignMarket,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            props.onChangeLoadingForm(true)\r\n            setTimeout(async () => {\r\n                try {\r\n                    let customMarketToSave = prepareToSaveCustomMarket(values)\r\n                    await props.updateCustomMarket(customMarketToSave)            \r\n                    props.onChangeLoadingForm(false)\r\n                    props.onClose()\r\n                } catch (e) {\r\n                    if (e.response && e.response.data && e.response.data.detailCustomMarketCode) {\r\n                        let customMarketObjError = itemsSelecteds.filter(is =>  e.response.data.detailCustomMarketCode == getItemObject(is).code) \r\n                        if (customMarketObjError && customMarketObjError[0] && customMarketObjError[0].label) {\r\n                            setErrors( {api: 'No se ha podido asignar el mercado: ' + customMarketObjError[0].label } )\r\n                        } else {\r\n                            setErrors( {api: \"No se ha podido completar la accin\"} )    \r\n                        }\r\n                    } else {\r\n                        setErrors( {api: \"No se ha podido completar la accin\"} )\r\n                    }\r\n                    props.onChangeLoadingForm(false)\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 1000);\r\n        },\r\n    });\r\n\r\n    const renderProductsRow = (props) => {\r\n        const { index, style } = props;\r\n      \r\n        return (\r\n          <ListItem style={{...style, backgroundColor: 'rgb(160 158 158 / 4%)', borderBottom: '1px solid #423a3a'}} key={index}>\r\n            <span>\r\n                {itemsSelecteds[index].label }\r\n                { itemsSelecteds[index].isGroup == true &&\r\n                    <span className=\"text-primary pl-4\" key={itemsSelecteds[index].value}><strong>&#8859;</strong></span>\r\n                }\r\n            </span>\r\n          </ListItem>\r\n        );\r\n    }\r\n    return (\r\n        <form onSubmit={formikAsignMarket.handleSubmit}>\r\n            <FormControl className={classes.formControl} style={{display: 'flow-root'}}>\r\n                <label \r\n                    style={{fontSize: '14px'}}\r\n                    className={(formikAsignMarket.touched.customMarketGroup && Boolean(formikAsignMarket.errors.customMarketGroup)) ? 'm-0 pf-10 pr-10 MuiFormLabel-root Mui-error' : 'm-0 pf-10 pr-10 pf-10' }>\r\n                        Agrupacin\r\n                </label>\r\n                <Select\r\n                    id=\"customMarketGroup\"\r\n                    name='customMarketGroup'\r\n                    value={formikAsignMarket.values.customMarketGroup}\r\n                    onChange={formikAsignMarket.handleChange}\r\n                    displayEmpty\r\n                    style={{margin: '0px'}}\r\n                    className={classes.selectEmpty}\r\n                >\r\n                <MenuItem key='default' value={-1}>SIN AGRUPACIN</MenuItem>\r\n                {customMarketGroups && customMarketGroups.data && customMarketGroups.data.length > 0 && (customMarketGroups.data.map((cmg, index) => {\r\n                    return (<MenuItem \r\n                                key={cmg.code} \r\n                                value={cmg.code}\r\n                                className={(cmg.groupCondition == 'N') ? 'text-danger' : (cmg.groupCondition == 'A') ? 'text-primary' : ''}\r\n                                >\r\n                                <label className={(cmg.groupCondition == 'N') ? 'text-danger' : (cmg.groupCondition == 'A') ? 'text-primary' : ''}>\r\n                                    {cmg.description.toUpperCase()}\r\n                                </label>\r\n                            </MenuItem>)\r\n                    }))\r\n                }\r\n                </Select>\r\n                {formikAsignMarket.touched.customMarketGroup && Boolean(formikAsignMarket.errors.customMarketGroup) &&\r\n                    <p className=\"MuiFormHelperText-root Mui-error\">{formikAsignMarket.touched.customMarketGroup && formikAsignMarket.errors.customMarketGroup}</p>\r\n                }                    \r\n            </FormControl>\r\n            <div className=\"mt-10\">\r\n                <span style={{fontSize: '14px'}}>Seleccionados</span>\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <FixedSizeList height={200} width={'100%'} itemSize={30} itemCount={itemsSelecteds.length}>\r\n                        {renderProductsRow}\r\n                    </FixedSizeList>\r\n                </div>\r\n            </div> \r\n            {formikAsignMarket.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-0 pt-7\" style={{width: '100%'}}>{formikAsignMarket.errors.api}</div>\r\n            }\r\n        </form>   \r\n    )\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return { \r\n        mercados: state.mercados,\r\n        customMarketGroups: state.mercados.customMarketGroups,\r\n        customMarket: state.mercados.customMarket,\r\n      }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(MarketAssignForm);","export function customMarketDetailDefault() {\r\n    return {\r\n        intemodifier: \"1\",\r\n        modifier: \"1\",\r\n        ensureVisible: false,\r\n        expand: false,\r\n        graphs: false,\r\n        resume: false,        \r\n        itemCondition: 'O',\r\n        pattern: '',\r\n        productTypeCode: null \r\n    };\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport { useFormik } from 'formik'\r\nimport { ListItem,ListItemText, TextField  } from '@material-ui/core'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { FixedSizeList } from 'react-window';\r\nimport { useStyles } from '../../../../Style/GeneralStyles';\r\n\r\n\r\nconst LaboratoryForm = (props) => {\r\n\r\n    const { laboratoriesSelecteds,  formHasBeenSubmited, onChangeStatusForm } = props;\r\n    const classes = useStyles();\r\n                                                \r\n    const detectFormSubmited = () => {\r\n        if(formHasBeenSubmited) {\r\n            formikCreateLaboratory.handleSubmit();\r\n            onChangeStatusForm();\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n\r\n        detectFormSubmited()\r\n\r\n        return () => {}\r\n        \r\n    }, [formHasBeenSubmited])\r\n\r\n    const prepareSaveLaboratory = ({description, clase}) => {\r\n        \r\n        let t = []\r\n        laboratoriesSelecteds.map(lab => {\r\n            let laboratory = getItemObject(lab)\r\n            if(laboratory && laboratory.laboratoryCode) {\r\n                t.push(laboratory.laboratoryCode)\r\n            }\r\n        })\r\n        return JSON.stringify({description, class: clase,  laboratoryCodes: t})\r\n        \r\n    }\r\n    const validateLaboratory = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = 'campo obligatorio';\r\n        }\r\n      \r\n        if (!values.clase) {\r\n          errors.clase = 'campo obligatorio';\r\n        }\r\n\r\n        if (laboratoriesSelecteds.some(x => x.isGroup == true)) {\r\n            errors.api = 'No es posible crear un grupo de laboratorios con elementos de tipo grupo'\r\n        }        \r\n      \r\n        return errors;\r\n    };\r\n    const formikCreateLaboratory = useFormik({\r\n        initialValues: {\r\n          description: '',\r\n          clase: ''\r\n        },\r\n        validate: validateLaboratory,\r\n        onSubmit: async(values) => {\r\n            props.onChangeLoadingForm(true)\r\n            setTimeout(() => {\r\n                let prepareLaboratory = prepareSaveLaboratory(values)\r\n                props.createLaboratoryGroup(prepareLaboratory)\r\n                    .then(() => {\r\n                        props.onChangeLoadingForm(false)\r\n                        props.onClose()\r\n                    })\r\n                    .catch((e) => {\r\n                        console.error(e)\r\n                        props.onChangeLoadingForm(false)\r\n                        //setSubmitting(false);\r\n                    });\r\n                }, 1000);\r\n        },\r\n    });\r\n\r\n    const renderLaboratoriesRow = (props) => {\r\n        const { index, style } = props;\r\n      \r\n        return (\r\n          <ListItem button style={style} key={index}>\r\n            <span className={ (laboratoriesSelecteds[index].isGroup == true) ? \"text-danger\" : \"\"}>\r\n                {laboratoriesSelecteds[index].label }\r\n                { laboratoriesSelecteds[index].isGroup == true &&\r\n                    <span className=\"text-danger pl-4\" key={laboratoriesSelecteds[index].value}><strong>&#8859;</strong></span>\r\n                }\r\n            </span>                       \r\n          </ListItem>\r\n        );\r\n    }\r\n    return (\r\n        <form onSubmit={formikCreateLaboratory.handleSubmit}>\r\n            <TextField\r\n                className={`mb-4`}\r\n                fullWidth\r\n                autoComplete='off'\r\n                name=\"description\"\r\n                label=\"Descripcin\"\r\n                type='text'\r\n                onChange={formikCreateLaboratory.handleChange}\r\n                value={formikCreateLaboratory.values.description}\r\n                error={formikCreateLaboratory.touched.description && Boolean(formikCreateLaboratory.errors.description)}\r\n                helperText={formikCreateLaboratory.touched.description && formikCreateLaboratory.errors.description}\r\n            />\r\n            <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label className={(formikCreateLaboratory.touched.clase && Boolean(formikCreateLaboratory.errors.clase)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>Clase</label>\r\n                <Select\r\n                    className={`mt-0`}\r\n                    fullWidth\r\n                    id=\"clase\"\r\n                    name=\"clase\"\r\n                    value={formikCreateLaboratory.values.clase}\r\n                    onChange={formikCreateLaboratory.handleChange}\r\n                    error={formikCreateLaboratory.touched.clase && Boolean(formikCreateLaboratory.errors.clase)}\r\n                    helperText={formikCreateLaboratory.touched.clase && formikCreateLaboratory.errors.clase}\r\n                >\r\n                    <MenuItem value={'T'} key={1}>Total</MenuItem>\r\n                    <MenuItem value={'E'} key={2}>Etico</MenuItem>\r\n                    <MenuItem value={'P'} key={3}>Popular</MenuItem>\r\n                </Select>\r\n                {formikCreateLaboratory.touched.clase && Boolean(formikCreateLaboratory.errors.clase) &&\r\n                  <p className=\"MuiFormHelperText-root Mui-error\">{formikCreateLaboratory.touched.clase && formikCreateLaboratory.errors.clase}</p>\r\n                }                \r\n            </FormControl>\r\n            <div>\r\n                <span>Seleccionados</span>\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <FixedSizeList height={200} width={'100%'} itemSize={30} itemCount={laboratoriesSelecteds.length}>\r\n                        {renderLaboratoriesRow}\r\n                    </FixedSizeList>\r\n                </div>\r\n            </div> \r\n            {formikCreateLaboratory.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-0 pt-7\" style={{width: '100%'}}>{formikCreateLaboratory.errors.api}</div>\r\n            }            \r\n        </form>   \r\n    )\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(LaboratoryForm);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport { useFormik } from 'formik'\r\nimport { List,ListItem,ListItemText, TextField, Grid,  } from '@material-ui/core'\r\nimport { FixedSizeList } from 'react-window';\r\nimport { useStyles } from '../../../../Style/GeneralStyles';\r\n\r\n\r\nconst DrugForm = (props) => {\r\n\r\n    const { drugSelecteds, formHasBeenSubmited, onChangeStatusForm } = props;\r\n    const classes = useStyles();\r\n\r\n    const detectFormSubmited = () => {\r\n        if(formHasBeenSubmited) {\r\n            formikCreateDrug.handleSubmit();\r\n            onChangeStatusForm();\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n\r\n        detectFormSubmited()\r\n\r\n        return () => {}\r\n        \r\n    }, [formHasBeenSubmited])\r\n\r\n    const prepareDrugToSave = ({description}) => {\r\n        \r\n        let t = []\r\n        drugSelecteds.map(x => {\r\n            let drug = getItemObject(x)\r\n            t.push(drug.drugCode)\r\n        })\r\n        return JSON.stringify({description: description, drugCodes: t})\r\n        \r\n    }\r\n    const validateDrug = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = 'campo obligatorio';\r\n        }\r\n\r\n        if (drugSelecteds.some(x => x.isGroup == true)) {\r\n            errors.api = 'No es posible crear un grupo de drogas con elementos de tipo grupo'\r\n        }                \r\n      \r\n        return errors;\r\n    };\r\n    const formikCreateDrug = useFormik({\r\n        initialValues: {\r\n          description: '',\r\n        },\r\n        validate: validateDrug,\r\n        onSubmit: async(values) => {\r\n            props.onChangeLoadingForm(true)\r\n            setTimeout(() => {\r\n                let drugsGroupToSave = prepareDrugToSave(values)\r\n                props.createDrugGroup(drugsGroupToSave)\r\n                    .then(() => {\r\n                        props.onChangeLoadingForm(false)\r\n                        props.onClose()\r\n                    })\r\n                    .catch((e) => {\r\n                        console.error(e)\r\n                        props.onChangeLoadingForm(false)\r\n                        //setSubmitting(false);\r\n                    });\r\n                }, 1000);\r\n        },\r\n    });\r\n    \r\n\r\n    const renderDrugsRow = (props) => {\r\n        const { index, style } = props;\r\n      \r\n        return (\r\n          <ListItem button style={style} key={index}>\r\n            <span className={ (drugSelecteds[index].isGroup == true) ? \"text-danger\" : \"\"}>\r\n                {drugSelecteds[index].label }\r\n                { drugSelecteds[index].isGroup == true &&\r\n                    <span className=\"text-danger pl-4\" key={drugSelecteds[index].value}><strong>&#8859;</strong></span>\r\n                }\r\n            </span>                                  \r\n          </ListItem>\r\n        );\r\n    }\r\n    return (\r\n        <form onSubmit={formikCreateDrug.handleSubmit}>\r\n            <TextField\r\n                className={`mb-4`}\r\n                fullWidth\r\n                autoComplete='off'\r\n                name=\"description\"\r\n                label=\"Descripcin\"\r\n                type='text'\r\n                onChange={formikCreateDrug.handleChange}\r\n                value={formikCreateDrug.values.description}\r\n                error={formikCreateDrug.touched.description && Boolean(formikCreateDrug.errors.description)}\r\n                helperText={formikCreateDrug.touched.description && formikCreateDrug.errors.description}\r\n            />\r\n            <div>\r\n                <span>Seleccionados</span>\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <FixedSizeList height={200} width={'100%'} itemSize={30} itemCount={drugSelecteds.length}>\r\n                        {renderDrugsRow}\r\n                    </FixedSizeList>\r\n                </div>\r\n            </div> \r\n            {formikCreateDrug.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-0 pt-7\" style={{width: '100%'}}>{formikCreateDrug.errors.api}</div>\r\n            }                        \r\n        </form>   \r\n    )\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return { \r\n        mercados: state.mercados,\r\n      }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(DrugForm);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport { useFormik } from 'formik'\r\nimport * as Yup from \"yup\";\r\nimport { TextField } from '@material-ui/core'\r\nimport { injectIntl, FormattedMessage } from \"react-intl\";\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { useStyles } from '../../../../Style/GeneralStyles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n\r\nconst CustomMarketPreviewForm = (props) => {\r\n\r\n    const { action, formHasBeenSubmited, onChangeStatusForm, intl, productTypes } = props;\r\n    const [loading, setLoading] = React.useState(false);\r\n    const classes = useStyles();\r\n\r\n    const detectFormSubmited = () => {\r\n        if(formHasBeenSubmited) {\r\n            onChangeStatusForm();\r\n            if(action.type == 'delete') {\r\n                props.onDelete(action.item)\r\n            }else{\r\n                formik.handleSubmit();\r\n            }\r\n        }\r\n    }\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n\r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };\r\n\r\n    const initialValues = {\r\n        intemodifier: action.type == 'edit' ? action.item.intemodifier :  '',\r\n        modifier: action.type == 'edit' ? action.item.modifier : '',\r\n        ensureVisible: action.type == 'edit' ? Boolean(action.item.ensureVisible) : '',\r\n        expand: action.type == 'edit' ? Boolean(action.item.expand) : '',\r\n        graph: action.type == 'edit' ? Boolean(action.item.graph) : '',\r\n        resume: action.type == 'edit' ? Boolean(action.item.resume) : '',\r\n        id: action.type == 'edit' ? action.item.id : '',\r\n        productPresentationCode: action.type == 'edit' ? action.item.productPresentationCode : '',\r\n        pattern: action.type == 'edit' ? action.item.pattern : '',\r\n        productTypeCode: action.type == 'edit' ? action.item.productTypeCode : ''\r\n\r\n    };\r\n    \r\n    React.useEffect(() => {\r\n\r\n        detectFormSubmited()\r\n\r\n        return () => {}\r\n        \r\n    }, [formHasBeenSubmited])\r\n\r\n\r\n    const Schema = Yup.object().shape({\r\n        intemodifier: Yup.string()     \r\n        .test(\r\n            'is-decimal',   \r\n            'Formato invalido',\r\n            value => value == undefined || (value + \"\").match(/^[0-9]+([,][0-9]{1,2})?$/) ,\r\n        ),\r\n        modifier:  Yup.string()\r\n        .test(\r\n            'is-decimal',   \r\n            'Formato invalido',\r\n            value => value == undefined || (value + \"\").match(/^[0-9]+([,][0-9]{1,2})?$/) ,\r\n        ),\r\n      });        \r\n    \r\n    const formik = useFormik({\r\n        initialValues,\r\n        validationSchema: Schema,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            //props.onChangeLoadingForm(true)\r\n            //setTimeout(async () => {\r\n                //try {\r\n                    props.onUpdate(values)\r\n                    //props.onChangeLoadingForm(false)\r\n                    handleClose()\r\n                /*} catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    props.onChangeLoadingForm(false)\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }*/\r\n            //}, 1000);\r\n        },\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.onClose();\r\n    }\r\n\r\n    \r\n    if(action.type == 'edit') {\r\n        return (\r\n            <form\r\n                onSubmit={formik.handleSubmit}\r\n                className=\"form fv-plugins-bootstrap fv-plugins-framework\"\r\n            >\r\n            {formik.status ? (\r\n            <div className=\"mb-10 alert alert-custom alert-light-danger alert-dismissible\">\r\n                <div className=\"alert-text font-weight-bold\">{formik.status}</div>\r\n            </div>\r\n            ): null }\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.INTEMODIFIER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"intemodifier\"\r\n                    name=\"intemodifier\"\r\n                    label={intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.INTEMODIFIER\"})}\r\n                    type=\"text\"\r\n                    value={formik.values.intemodifier}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.intemodifier && Boolean(formik.errors.intemodifier)}\r\n                    helperText={formik.touched.intemodifier && formik.errors.intemodifier}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.MODIFIER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"modifier\"\r\n                    name=\"modifier\"\r\n                    label={intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.MODIFIER\"})}\r\n                    type=\"text\"\r\n                    value={formik.values.modifier}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.modifier && Boolean(formik.errors.modifier)}\r\n                    helperText={formik.touched.modifier && formik.errors.modifier}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.ENSURE_VISIBLE\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        {intl.formatMessage({id:\"CUSTOM_MARKET_DETAIL.ENSURE_VISIBLE\"})}\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"ensureVisible\"\r\n                        name=\"ensureVisible\"\r\n                        label=\"ensureVisible\"\r\n                        value={formik.values.ensureVisible}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.ensureVisible && Boolean(formik.errors.ensureVisible)}\r\n                        helperText={formik.touched.ensureVisible && formik.errors.ensureVisible}\r\n                    >\r\n                        <MenuItem key='yes' value={true} selected={formik.values.ensureVisible === true ? true : false}>\r\n                        <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false} selected={formik.values.ensureVisible === false ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.EXPAND\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.EXPAND\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"expand\"\r\n                        name=\"expand\"\r\n                        label=\"expand\"\r\n                        value={formik.values.expand}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.expand && Boolean(formik.errors.expand)}\r\n                        helperText={formik.touched.expand && formik.errors.expand}\r\n                    >\r\n                        <MenuItem key='yes' value={true} selected={action.item.expand == true ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false} selected={action.item.expand == false ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl> \r\n            </Tooltip>         \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.GRAPHS\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.GRAPHS\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"graphs\"\r\n                        name=\"graph\"\r\n                        label=\"graph\"\r\n                        value={formik.values.graph}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.graph && Boolean(formik.errors.graph)}\r\n                        helperText={formik.touched.graph && formik.errors.graph}\r\n                    >\r\n                        <MenuItem key='yes' value={true} selected={formik.values.graph == true ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false} selected={formik.values.graph == false ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl> \r\n            </Tooltip>     \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.RESUME\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.RESUME\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"resume\"\r\n                        name=\"resume\"\r\n                        label=\"resume\"\r\n                        value={formik.values.resume}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.resume && Boolean(formik.errors.resume)}\r\n                        helperText={formik.touched.resume && formik.errors.resume}\r\n                    >\r\n                        <MenuItem key='yes' value={true} selected={formik.values.resume == true ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false} selected={formik.values.resume == false ? true : false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.PATTERN\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"pattern\"\r\n                    name=\"pattern\"\r\n                    label={intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.PATTERN\"})}\r\n                    type=\"text\"\r\n                    value={formik.values.pattern}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.pattern && Boolean(formik.errors.pattern)}\r\n                    helperText={formik.touched.pattern && formik.errors.pattern}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.PRODUCT_TYPE\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.PRODUCT_TYPE\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"productTypeCode\"\r\n                        name=\"productTypeCode\"\r\n                        label=\"productTypeCode\"\r\n                        value={formik.values.productTypeCode}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.productTypeCode && Boolean(formik.errors.productTypeCode)}\r\n                        helperText={formik.touched.productTypeCode && formik.errors.productTypeCode}\r\n                    >\r\n                        <MenuItem key='-1' value={\"\"}>&nbsp;</MenuItem>\r\n                        {productTypes && (productTypes.map((pt, index) => {\r\n                                return <MenuItem key={pt.code} value={pt.code}>{pt.description.toUpperCase()}</MenuItem>\r\n                            }))\r\n                        }\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n        </form>\r\n        )\r\n\r\n    }\r\n    return null\r\n\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return { \r\n        mercados: state.mercados,\r\n        productTypes: state.mercados.producttypes,\r\n        productPresentation: state.mercados.productpresentations,\r\n        \r\n      }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(CustomMarketPreviewForm));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { MarketAssignForm, ProductForm, ProductPresentationForm } from './Forms'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst ProductTabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, products, loadingProducts } = props\r\n\r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ formBtnSubmitDisabled, setFormBtnSubmitDisabled ] = React.useState(false)\r\n    const [ loadingPharmaceuticalForms, setLoadingPharmaceuticalForms] = React.useState(false);\r\n    const [ pharmaceuticalForms, setPharmaceuticalForms ] = React.useState([])\r\n    const [ loadingProductPresentation, setLoadingProductPresentation] = React.useState(false);\r\n    const [ productsSelected, setProductsSelected ] = React.useState([])\r\n    const [ dialogVisibleForProducts, setDialogVisibleForProducts ] = React.useState(false);\r\n    const [ pharmaceuticalFormSelected, setPharmaceuticalFormSelecteds ] = React.useState([])\r\n    const [ productPresentation, setProductPresentation ] = React.useState([])\r\n    const [ productPresentationSelected, setProductPresentationSelected ] = React.useState([])\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n    const [ dialogVisibleForPresentation , setDialogVisibleForPresentation] = React.useState(false)\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n\r\n    const getAllProducts = async(itemsChecked) => {\r\n        await props.getProducts(itemsChecked);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (!products) {\r\n            getAllProducts(null)\r\n        }\r\n    },[])\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadProductVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])    \r\n\r\n    React.useEffect(() => {\r\n        getProductPresentationsByPharmaceuticalForm()\r\n     }, [pharmaceuticalForms]);    \r\n\r\n    const reloadProductVirtualizedCheckbox = () => {\r\n        \r\n        props.dispatchProductLoading(true)\r\n        if (products) {\r\n            let productsAllUnchecked = products.map(p => ({ ...p, checked: false }));\r\n            props.dispatchProducts(productsAllUnchecked)\r\n            onSelectProduct([])\r\n            setPharmaceuticalFormSelecteds([])\r\n            setProductPresentationSelected([])\r\n        }\r\n        props.dispatchProductLoading(false)        \r\n    }\r\n\r\n    const reloadPharmaceuticalFormVirtualizedCheckbox = async () => {\r\n\r\n        setPharmaceuticalFormSelecteds([])\r\n        setProductPresentationSelected([])\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n\r\n        productsSelected.map(productItem => {               \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        \r\n        await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes, true)\r\n    }    \r\n\r\n    const reloadProductPresentationVirtualizedCheckbox = async () => {\r\n        \r\n        setProductPresentationSelected([])\r\n        let pharmaceuticalFormCodes = []\r\n\r\n        pharmaceuticalFormSelected.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        \r\n        await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes, true)\r\n    } \r\n\r\n    const getPharmaceuticalFormByProduct = async (productCodes, productGroupCodes, resetChecked = false) => {\r\n        setLoadingPharmaceuticalForms(true)\r\n        let pharmaceuticalFormPreviousSelecteds = !resetChecked ? pharmaceuticalForms.filter(x => x.checked ==true) : []\r\n        await props.getPharmaceuticalFormsByProduct(productCodes.join(','), productGroupCodes.join(',')) \r\n            .then(async (pharmaceuticalformsResponse) => {\r\n                let pharmaceuticalforms = pharmaceuticalformsResponse.map(pharmaceuticalform => {\r\n                    if (pharmaceuticalFormPreviousSelecteds.some(x => x.value == pharmaceuticalform.value)) {\r\n                        pharmaceuticalform.checked = true\r\n                    }\r\n                    return pharmaceuticalform\r\n                })            \r\n\r\n                setPharmaceuticalForms(pharmaceuticalforms)\r\n                setPharmaceuticalFormSelecteds(pharmaceuticalforms.filter(x => x.checked === true))\r\n                setLoadingPharmaceuticalForms(false)\r\n        })    \r\n    }\r\n\r\n    const getProductPresentationsByPharmaceuticalForm = async (pharmaceuticalFormCodes, resetChecked = false) => {\r\n        if (pharmaceuticalFormCodes == null || pharmaceuticalFormCodes == undefined) {\r\n            pharmaceuticalFormCodes = []\r\n            let pharmaceuticalFormsPreviousSelecteds = pharmaceuticalForms.filter(pfItem => pfItem.checked == true)\r\n            pharmaceuticalFormsPreviousSelecteds.map(pharmaceuticalFormItem => {            \r\n                let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n                pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n            })\r\n\r\n            if (pharmaceuticalFormCodes.length == 0) {\r\n                setProductPresentation([])\r\n                setProductPresentationSelected([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingProductPresentation(true)\r\n\r\n        let productCodes = productsSelected.map(productItem => {               \r\n            return getItemObject(productItem).productCode || null\r\n        })\r\n        productCodes = productCodes.filter(p => p !== null)\r\n\r\n        let productGroupCodes = productsSelected.map(productItem => {               \r\n            return getItemObject(productItem).productGroupCode || null\r\n        })        \r\n        productGroupCodes = productGroupCodes.filter(p => p !== null)\r\n\r\n        let productPresentationPreviousSelecteds = !resetChecked ? productPresentation.filter(x => x.checked ==true) : []\r\n        await props.getPresentationsbyPharmaceuticalForms(pharmaceuticalFormCodes.join(','), productCodes.join(','), productGroupCodes.join(',')) \r\n            .then((productPresentationsResponse) => {\r\n                let productPresentations = productPresentationsResponse.map(productPresentation => {\r\n                    if (productPresentationPreviousSelecteds.some(x => x.value == productPresentation.value)) {\r\n                        productPresentation.checked = true\r\n                    }\r\n                    return productPresentation\r\n                })            \r\n                setProductPresentation(productPresentations)\r\n                setProductPresentationSelected(productPresentations.filter(x => x.checked === true))\r\n                setLoadingProductPresentation(false)\r\n        })    \r\n    }\r\n\r\n    const onSelectProduct = async(items) => {\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(productItem => {               \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n\r\n        setProductsSelected(itemsChecked)\r\n        if(productsCodes.length > 0  || productGroupsCodes.length > 0) {\r\n            await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes)\r\n        } else {\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }\r\n    }\r\n\r\n    const onSelectPharmaceuticalForms = async(items) => {\r\n        let pharmaceuticalFormCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n\r\n        setPharmaceuticalFormSelecteds(itemsChecked)\r\n        if(pharmaceuticalFormCodes.length > 0) {\r\n            await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes)\r\n        } else {\r\n            setProductPresentation([])\r\n            setProductPresentationSelected([])\r\n        }   \r\n    }\r\n\r\n    const onSelectProductPresentation = async(items) => {\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n        setProductPresentationSelected(itemsChecked)\r\n    }\r\n\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'marketAssignFromProduct') {\r\n            if(productsSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productsSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'createProductGroup') {\r\n            if(productsSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForProducts(true)\r\n            }\r\n        } else if(action == 'createPresentationGroup') {\r\n            if(productPresentationSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForPresentation(true)\r\n            }\r\n        } else if(action == 'marketAssignFromPharmaceuticalForm') {\r\n            if(pharmaceuticalFormSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(pharmaceuticalFormSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'marketAssignFromProductPresentation') {\r\n            if(productPresentationSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productPresentationSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const refreshVirtualizedCheckbox = async () => {\r\n\r\n        closeDialog()\r\n        \r\n        if(marketAssignType == 'marketAssignFromProduct') {\r\n            reloadProductVirtualizedCheckbox()\r\n        } else if (marketAssignType == 'createProductGroup') {\r\n            reloadProductVirtualizedCheckbox()\r\n            await getAllProducts(null)                \r\n        } else if(marketAssignType == 'marketAssignFromPharmaceuticalForm') {\r\n            await reloadPharmaceuticalFormVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromProductPresentation'  || marketAssignType == 'createPresentationGroup') {\r\n            await reloadProductPresentationVirtualizedCheckbox()\r\n        }\r\n\r\n    }\r\n    \r\n    const closeDialog = () => {\r\n        setMarketAssignItems([])\r\n        setMarketAssignType('')\r\n        setFormLoading(false)\r\n        setFormHasBeenSubmited(false)\r\n        setDialogVisibleForProducts(false)\r\n        setDialogVisibleForPresentation(false)\r\n        setDialogVisibleForMarketAssing(false)      \r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n            setFormBtnSubmitDisabled(true)\r\n        },\r\n        []\r\n    );\r\n    \r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={products}\r\n                                    isLoading={loadingProducts}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT\"})}\r\n                                    onChange={onSelectProduct}\r\n                                    onSelectAllChange={onSelectProduct}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createProductGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromProduct'},\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={pharmaceuticalForms}\r\n                                    isLoading={loadingProducts || loadingPharmaceuticalForms}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PHARMACEUTICAL_FORM\"})}\r\n                                    onChange={onSelectPharmaceuticalForms}\r\n                                    onSelectAllChange={onSelectPharmaceuticalForms}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromPharmaceuticalForm'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={6} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={productPresentation}\r\n                                    isLoading={loadingProducts || loadingPharmaceuticalForms || loadingProductPresentation}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT_PRESENTATION\"})}\r\n                                    onChange={onSelectProductPresentation}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action: 'createPresentationGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromProductPresentation'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={() => closeDialog()}\r\n                        btnDisabled={formBtnSubmitDisabled}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForProducts}\r\n                    >\r\n                        <ProductForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productsSelected={productsSelected} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={()=> refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={() => setDialogVisibleForMarketAssing(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                        <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={()=> refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForPresentation(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForPresentation}\r\n                    >\r\n                        <ProductPresentationForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productPresentationSelected={productPresentationSelected} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={()=> refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    \r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n      customMarket: state.mercados.customMarket,\r\n      products: state.mercados.products,\r\n      loadingProducts: state.mercados.loadingProducts\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(ProductTabContainer));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport { MarketAssignForm, DrugForm, ProductForm, ProductPresentationForm, LaboratoryForm } from './Forms'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst DrugabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, drugs, loadingDrugs } = props\r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    const [ loadingProducts, setLoadingProducts] = React.useState(false);\r\n    const [ products, setProducts ] = React.useState([])\r\n    const [ loadingPharmaceuticalForms, setLoadingPharmaceuticalForms] = React.useState(false);\r\n    const [ pharmaceuticalForms, setPharmaceuticalForms ] = React.useState([])\r\n    const [ loadingProductPresentation, setLoadingProductPresentation] = React.useState(false);\r\n    const [ productPresentation, setProductPresentation ] = React.useState([])\r\n    const [ drugSelecteds, setDrugSelecteds] = React.useState([])\r\n    const [ dialogVisibleForDrugs, setDialogVisibleForDrugs ] = React.useState(false);\r\n    const [ productSelecteds, setProductSelecteds] = React.useState([])\r\n    const [ dialogVisibleForProducts, setDialogVisibleForProducts ] = React.useState(false);\r\n    const [ dialogVisibleForPresentation , setDialogVisibleForPresentation] = React.useState(false)\r\n    const [ productPresentationSelecteds, setProductPresentationSelecteds ] = React.useState([])\r\n    const [ pharmaceuticalFormSelecteds, setPharmaceuticalFormsSelecteds ] = React.useState([])\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n\r\n    const getAllDrugs = async(itemsChecked) => {\r\n        await props.getDrugs(itemsChecked);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadDrugVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])\r\n\r\n    React.useEffect(() => {\r\n        if (!drugs) {\r\n            getAllDrugs(null)\r\n        }\r\n\r\n    },[])\r\n\r\n    React.useEffect(() => {\r\n        getPharmaceuticalFormByProduct()\r\n     }, [products]);      \r\n     \r\n    React.useEffect(() => {\r\n        getProductPresentationsByPharmaceuticalForm()\r\n    }, [pharmaceuticalForms]);           \r\n\r\n    const reloadDrugVirtualizedCheckbox = () => {\r\n        props.dispatchDrugsLoading(true)\r\n        if (drugs) {\r\n            let drugsAllUnchecked = drugs.map(d => ({ ...d, checked: false }));\r\n            props.dispatchDrugs(drugsAllUnchecked)\r\n            onSelectDrugs([])\r\n            onSelectProducts([])\r\n            onSelectPharmaceuticalForms([])\r\n            onSelectProductPresentation([])\r\n        }\r\n        props.dispatchDrugsLoading(false)        \r\n    }\r\n\r\n    const reloadProductVirtualizedCheckbox = async () => {\r\n\r\n        setProductSelecteds([])\r\n        setPharmaceuticalFormsSelecteds([])\r\n        setProductPresentationSelecteds([])\r\n\r\n\r\n        let drugCodes = []\r\n        let drugGroupCodes = []\r\n\r\n        drugSelecteds.map(drugItem => {\r\n            if(drugItem.checked) {                \r\n                let drug = getItemObject(drugItem)\r\n                if (drug.drugCode) {\r\n                    drugCodes.push(drug.drugCode)\r\n                } else if (drug.drugGroupCode) {\r\n                    drugGroupCodes.push(drug.drugGroupCode)\r\n                }\r\n    \r\n            }\r\n        })\r\n\r\n        await getProductByDrug(drugCodes, drugGroupCodes, true)\r\n    }\r\n\r\n    const reloadPharmaceuticalFormVirtualizedCheckbox = async () => {\r\n        setPharmaceuticalFormsSelecteds([])\r\n        setProductPresentationSelecteds([])\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n\r\n        productSelecteds.map(productItem => {               \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        \r\n        await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes, true)        \r\n    }\r\n\r\n    const reloadProductPresentationVirtualizedCheckbox = async () => {\r\n        \r\n        setProductPresentationSelecteds([])\r\n        let pharmaceuticalFormCodes = []\r\n\r\n        pharmaceuticalFormSelecteds.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        \r\n        await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes, true)\r\n    } \r\n\r\n\r\n    const closeDialog = () => {\r\n        setMarketAssignItems([])\r\n        setMarketAssignType('')\r\n        setFormHasBeenSubmited(false)\r\n        setDialogVisibleForDrugs(false)\r\n        setDialogVisibleForProducts(false)\r\n        setDialogVisibleForPresentation(false)\r\n        setDialogVisibleForMarketAssing(false)\r\n    }\r\n\r\n    const getProductByDrug = async (drugCodes, drugGroupCodes, resetChecked = false) => {\r\n        setLoadingProducts(true)\r\n        let productPreviousSelecteds = !resetChecked ? products.filter(x => x.checked ==true) : []\r\n        await props.getProductByDrug(drugCodes.join(','), drugGroupCodes.join(',')) \r\n            .then(async (productsResponse) => {\r\n                let products = productsResponse.map(product => {\r\n                    if (productPreviousSelecteds.some(x => x.value == product.value)) {\r\n                        product.checked = true\r\n                    }\r\n                    return product\r\n                })            \r\n                setProducts(products)\r\n                setProductSelecteds(products.filter(x => x.checked === true))\r\n                setLoadingProducts(false)\r\n        })    \r\n    }\r\n\r\n    const getPharmaceuticalFormByProduct = async (productCodes, productGroupCodes, resetChecked = false) => {\r\n        if (productCodes == null || productGroupCodes == null) {\r\n            productCodes = []\r\n            productGroupCodes = []\r\n            let productsPreviousSelecteds = products.filter(pItem => pItem.checked == true)\r\n            productsPreviousSelecteds.map(productItem => {            \r\n                let product = getItemObject(productItem)\r\n                if (product.productCode) {\r\n                    productCodes.push(product.productCode)\r\n                } else if (product.productGroupCode) {\r\n                    productGroupCodes.push(product.productGroupCode)\r\n                }\r\n            })\r\n\r\n            if (productCodes.length == 0 && productGroupCodes == 0) {\r\n                setPharmaceuticalForms([])\r\n                setPharmaceuticalFormsSelecteds([])\r\n                setProductPresentation([])\r\n                setProductPresentationSelecteds([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingPharmaceuticalForms(true)\r\n        let pharmaceuticalFormPreviousSelecteds = !resetChecked ? pharmaceuticalForms.filter(x => x.checked ==true) : []\r\n        await props.getPharmaceuticalFormsByProduct(productCodes.join(','), productGroupCodes.join(',')) \r\n            .then(async (pharmaceuticalformsResponse) => {\r\n                let pharmaceuticalforms = pharmaceuticalformsResponse.map(pharmaceuticalform => {\r\n                    if (pharmaceuticalFormPreviousSelecteds.some(x => x.value == pharmaceuticalform.value)) {\r\n                        pharmaceuticalform.checked = true\r\n                    }\r\n                    return pharmaceuticalform\r\n                })            \r\n                setPharmaceuticalForms(pharmaceuticalforms)\r\n                setPharmaceuticalFormsSelecteds(pharmaceuticalforms.filter(x => x.checked === true))\r\n                setLoadingPharmaceuticalForms(false)\r\n        })    \r\n    }    \r\n\r\n    const getProductPresentationsByPharmaceuticalForm = async (pharmaceuticalFormCodes, resetChecked = false) => {\r\n        if (pharmaceuticalFormCodes == null || pharmaceuticalFormCodes == undefined) {\r\n            pharmaceuticalFormCodes = []\r\n            let pharmaceuticalFormsPreviousSelecteds = pharmaceuticalForms.filter(pfItem => pfItem.checked == true)\r\n            pharmaceuticalFormsPreviousSelecteds.map(pharmaceuticalFormItem => {            \r\n                let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n                pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n            })\r\n\r\n            if (pharmaceuticalFormCodes.length == 0) {\r\n                setProductPresentation([])\r\n                setProductPresentationSelecteds([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingProductPresentation(true)\r\n\r\n        let productCodes = productSelecteds.map(productItem => {               \r\n            return getItemObject(productItem).productCode || null\r\n        })\r\n        productCodes = productCodes.filter(p => p !== null)\r\n\r\n        let productGroupCodes = productSelecteds.map(productItem => {               \r\n            return getItemObject(productItem).productGroupCode || null\r\n        })        \r\n        productGroupCodes = productGroupCodes.filter(p => p !== null)        \r\n\r\n        let productPresentationPreviousSelecteds = !resetChecked ? productPresentation.filter(x => x.checked ==true) : []\r\n        await props.getPresentationsbyPharmaceuticalForms(pharmaceuticalFormCodes.join(','), productCodes.join(','), productGroupCodes.join(',')) \r\n            .then((productPresentationsResponse) => {\r\n                let productPresentations = productPresentationsResponse.map(productPresentation => {\r\n                    if (productPresentationPreviousSelecteds.some(x => x.value == productPresentation.value)) {\r\n                        productPresentation.checked = true\r\n                    }\r\n                    return productPresentation\r\n                })            \r\n                setProductPresentation(productPresentations)\r\n                setProductPresentationSelecteds(productPresentations.filter(x => x.checked === true))\r\n                setLoadingProductPresentation(false)\r\n        })    \r\n    }\r\n\r\n    const onSelectDrugs = async(items) => {\r\n        let drugCodes = []\r\n        let drugGroupCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true); \r\n\r\n        items.map(drugItem => {\r\n            if(drugItem.checked) {                \r\n                let drug = getItemObject(drugItem)\r\n                if (drug.drugCode) {\r\n                    drugCodes.push(drug.drugCode)\r\n                } else if (drug.drugGroupCode) {\r\n                    drugGroupCodes.push(drug.drugGroupCode)\r\n                }\r\n    \r\n            }\r\n        })\r\n        setDrugSelecteds(itemsChecked)\r\n        if(drugCodes.length > 0  || drugGroupCodes.length > 0) {\r\n            await getProductByDrug(drugCodes, drugGroupCodes)\r\n        } else {\r\n            setProducts([])\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }        \r\n    }\r\n\r\n    const onSelectProducts = async(items) => {\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(productItem => {              \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        setProductSelecteds(itemsChecked)\r\n        if(productsCodes.length > 0  || productGroupsCodes.length > 0) {\r\n            await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes)\r\n        } else {\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }\r\n    }\r\n\r\n    const onSelectPharmaceuticalForms = async(items) => {\r\n        let pharmaceuticalFormCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n        \r\n        itemsChecked.map(pharmaceuticalFormItem => {              \r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        setPharmaceuticalFormsSelecteds(itemsChecked)\r\n        if(pharmaceuticalFormCodes.length > 0) {\r\n            await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes)\r\n        } else {\r\n            setProductPresentation([])\r\n        }        \r\n    }\r\n\r\n    const onSelectProductPresentation = async(items) => {\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        setProductPresentationSelecteds(itemsChecked)\r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },\r\n        []\r\n    )\r\n\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'createDrugGroup') {\r\n            if(drugSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForDrugs(true)\r\n            }\r\n        } else if(action == 'marketAssignFromDrug') {\r\n            if(drugSelecteds.length > 0) {\r\n                setMarketAssignItems(drugSelecteds)\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'marketAssignFromProduct') {\r\n            if(productSelecteds.length > 0) {\r\n                setMarketAssignItems(productSelecteds)\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else  if(action == 'createProductGroup') {\r\n            if(productSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForProducts(true)\r\n            }\r\n        } else if(action == 'marketAssignFromPharmaceuticalForm') {\r\n            if(pharmaceuticalFormSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(pharmaceuticalFormSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'createPresentationGroup') {\r\n            if(productPresentationSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForPresentation(true)\r\n            }\r\n        } else if(action == 'marketAssignFromProductPresentation') {\r\n            if(productPresentationSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productPresentationSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const refreshVirtualizedCheckbox = async () => {\r\n\r\n        closeDialog()\r\n        \r\n        if (marketAssignType == 'marketAssignFromDrug') {\r\n            reloadDrugVirtualizedCheckbox()\r\n        } else if (marketAssignType == 'createDrugGroup') {\r\n            reloadDrugVirtualizedCheckbox()\r\n            await getAllDrugs(null)\r\n        } else if(marketAssignType == 'marketAssignFromProduct' || marketAssignType == 'createProductGroup') {\r\n            await reloadProductVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromPharmaceuticalForm') {\r\n            await reloadPharmaceuticalFormVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromProductPresentation'  || marketAssignType == 'createPresentationGroup') {\r\n            await reloadProductPresentationVirtualizedCheckbox()\r\n        }\r\n\r\n    }      \r\n    \r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={9} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={drugs}\r\n                                    isLoading={loadingDrugs}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.DRUG\"})}\r\n                                    onChange={onSelectDrugs}\r\n                                    onSelectAllChange={onSelectDrugs}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createDrugGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromDrug'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={products}\r\n                                    isLoading={loadingDrugs || loadingProducts}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT\"})}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createProductGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromProduct'}\r\n                                    ]}\r\n                                    onChange={onSelectProducts}\r\n                                    onSelectAllChange={onSelectProducts}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={0} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0, display:'none'}}>}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={pharmaceuticalForms}\r\n                                    isLoading={loadingDrugs || loadingProducts || loadingPharmaceuticalForms}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PHARMACEUTICAL_FORM\"})}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromPharmaceuticalForm',}\r\n                                    ]}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    onChange={onSelectPharmaceuticalForms}\r\n                                    onSelectAllChange={onSelectPharmaceuticalForms}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={0} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0, display:'none'}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={productPresentation}\r\n                                    isLoading={loadingDrugs || loadingProducts || loadingPharmaceuticalForms || loadingProductPresentation}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT_PRESENTATION\"})}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action: 'createPresentationGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromProductPresentation',}\r\n                                    ]}\r\n                                    onChange={onSelectProductPresentation}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.DRUG\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForDrugs(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForDrugs}\r\n                    >\r\n                        <DrugForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            drugSelecteds={drugSelecteds} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />   \r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForMarketAssing(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                        <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForProducts(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForProducts}\r\n                    >\r\n                       <ProductForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productsSelected={productSelecteds} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForPresentation(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForPresentation}\r\n                    >\r\n                        <ProductPresentationForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productPresentationSelected={productPresentationSelecteds} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n      customMarket: state.mercados.customMarket,\r\n      drugs: state.mercados.drugs,\r\n      loadingDrugs: state.mercados.loadingDrugs\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(DrugabContainer));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { MarketAssignForm } from './Forms'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst PharmaceuticalFormTabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, pharmaceuticalforms, pharmaceuticalformsLoading } = props\r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ pharmarceuticalFormSelecteds, setPharmaceuticalFormSelected ] = React.useState([])\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n\r\n    const getAll = async() => {\r\n        await props.getPharmaceuticalForms();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadPharmaceuticalFormsVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])\r\n\r\n    React.useEffect(() => {\r\n        if (!pharmaceuticalforms) {\r\n            getAll()\r\n        }\r\n    },[])\r\n\r\n    const reloadPharmaceuticalFormsVirtualizedCheckbox = () => {\r\n        props.dispatchPharmaceuticalFormsLoading(true)\r\n        if (pharmaceuticalforms) {\r\n            let pharmaceuticalformsAllUnchecked = pharmaceuticalforms.map(pf => ({ ...pf, checked: false }));\r\n            props.dispatchPharmaceuticalForms(pharmaceuticalformsAllUnchecked)\r\n            onSelectPharmaceuticalForms([])\r\n        }\r\n        props.dispatchPharmaceuticalFormsLoading(false)\r\n    }\r\n\r\n    const closeDialog = () => {\r\n        setFormHasBeenSubmited(false)\r\n        setDialogVisibleForMarketAssing(false)\r\n        setMarketAssignType('')\r\n        setMarketAssignItems([])\r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },\r\n        []\r\n    );\r\n\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'marketAssignFromPharmaceuticalForm') {\r\n            if(pharmarceuticalFormSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(pharmarceuticalFormSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onSelectPharmaceuticalForms = async(items) => {\r\n        let pharmaceuticalFormCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        setPharmaceuticalFormSelected(itemsChecked)\r\n    }\r\n\r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={12}>\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={pharmaceuticalforms}\r\n                                    isLoading={pharmaceuticalformsLoading}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PHARMACEUTICAL_FORM\"})}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromPharmaceuticalForm'}\r\n                                    ]}\r\n                                    onChange={onSelectPharmaceuticalForms}\r\n                                    onSelectAllChange={onSelectPharmaceuticalForms}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={closeDialog}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                        <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={()=> {\r\n                                    closeDialog()\r\n                                    reloadPharmaceuticalFormsVirtualizedCheckbox()\r\n                                }\r\n                            }\r\n                        />\r\n                    </ActionTabDialog>\r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n      customMarket: state.mercados.customMarket,\r\n      pharmaceuticalforms: state.mercados.pharmaceuticalforms,\r\n      pharmaceuticalformsLoading: state.mercados.pharmaceuticalformsLoading\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(PharmaceuticalFormTabContainer));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { MarketAssignForm, ProductForm, ProductPresentationForm } from './Forms'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst TherapeuticalClassTabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, therapeuticalclasses, loadingTherapeuticalClasses } = props\r\n    const [ loadingProducts, setLoadingProducts] = React.useState(false);\r\n    const [ products, setProducts ] = React.useState([])\r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    const [ loadingPharmaceuticalForms, setLoadingPharmaceuticalForms] = React.useState(false);\r\n    const [ pharmaceuticalForms, setPharmaceuticalForms ] = React.useState([])\r\n    const [ pharmaceuticalFormSelected, setPharmaceuticalFormSelected ] = React.useState([])\r\n    const [ loadingProductPresentation, setLoadingProductPresentation] = React.useState(false);\r\n    const [ productPresentation, setProductPresentation ] = React.useState([])\r\n    const [ productsSelected, setProductsSelected ] = React.useState([])\r\n    const [ dialogVisibleForProducts, setDialogVisibleForProducts ] = React.useState(false);\r\n    const [ presentationSelected, setProductPresentationSelected ] = React.useState([])\r\n    const [ dialogVisibleForPresentation , setDialogVisibleForPresentation] = React.useState(false)\r\n    const [ therapeuticalClassSelected, setTherapeuticalClassSelected ] = React.useState([])\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n\r\n    const getAllTherapeuticalClasses = async() => {\r\n        await props.getTherapeuticalClasses();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadTherapeuticalClassVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])\r\n\r\n    React.useEffect(() => {\r\n        if (!therapeuticalclasses) {\r\n            getAllTherapeuticalClasses()\r\n        }\r\n    },[])\r\n\r\n    React.useEffect(() => {\r\n        getPharmaceuticalFormByProduct()\r\n     }, [products]);     \r\n\r\n    React.useEffect(() => {\r\n        getProductPresentationsByPharmaceuticalForm()\r\n    }, [pharmaceuticalForms]);          \r\n\r\n    const reloadTherapeuticalClassVirtualizedCheckbox = () => {\r\n        props.dispatchTherapeuticalClassesLoading(true)\r\n        if (therapeuticalclasses) {\r\n            let therapeuticalClassesAllUnchecked = therapeuticalclasses.map(tc => ({ ...tc, checked: false }));\r\n            props.dispatchTherapeuticalClasses(therapeuticalClassesAllUnchecked)\r\n            onSelectTherapeuticalClasses([])\r\n            onSelectProducts([])\r\n            onSelectPharmaceuticalForms([])\r\n            onSelectProductPresentation([])\r\n        }\r\n        props.dispatchTherapeuticalClassesLoading(false)\r\n    }\r\n\r\n    const reloadProductVirtualizedCheckbox = async () => {\r\n\r\n        setProductsSelected([])\r\n        setPharmaceuticalFormSelected([])\r\n        setProductPresentationSelected([])\r\n\r\n        let therapeuticalClassCodes = []\r\n\r\n        therapeuticalClassSelected.map(therapeuticalClassItem => {\r\n            if(therapeuticalClassItem.checked) {                \r\n                let therapeuticalClass = getItemObject(therapeuticalClassItem)\r\n                therapeuticalClassCodes.push(therapeuticalClass.code)\r\n            }\r\n        })\r\n\r\n        await getProductByTherapeuticalClass(therapeuticalClassCodes, true)\r\n    }\r\n\r\n    const reloadPharmaceuticalFormVirtualizedCheckbox = async () => {\r\n        setPharmaceuticalFormSelected([])\r\n        setProductPresentationSelected([])\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n\r\n        productsSelected.map(productItem => {               \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        \r\n        await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes, true)        \r\n    }\r\n\r\n    const reloadProductPresentationVirtualizedCheckbox = async () => {\r\n        \r\n        setProductPresentationSelected([])\r\n        let pharmaceuticalFormCodes = []\r\n\r\n        pharmaceuticalFormSelected.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        \r\n        await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes, true)\r\n    }    \r\n\r\n    const getProductByTherapeuticalClass = async (therapeuticalClassCodes, resetChecked = false) => {\r\n        setLoadingProducts(true)\r\n        let productPreviousSelecteds = !resetChecked ? products.filter(x => x.checked ==true) : []\r\n        await props.getProductByTherapeuticalClass(therapeuticalClassCodes.join(',')) \r\n            .then(async (productsResponse) => {\r\n                let products = productsResponse.map(product => {\r\n                    if (productPreviousSelecteds.some(x => x.value == product.value)) {\r\n                        product.checked = true\r\n                    }\r\n                    return product\r\n                })            \r\n                setProducts(products)\r\n                setProductsSelected(products.filter(x => x.checked === true))\r\n                setLoadingProducts(false)\r\n        })    \r\n    }\r\n\r\n    const getPharmaceuticalFormByProduct = async (productCodes, productGroupCodes, resetChecked = false) => {\r\n        if (productCodes == null || productGroupCodes == null) {\r\n            productCodes = []\r\n            productGroupCodes = []\r\n            let productsPreviousSelecteds = products.filter(pItem => pItem.checked == true)\r\n            productsPreviousSelecteds.map(productItem => {            \r\n                let product = getItemObject(productItem)\r\n                if (product.productCode) {\r\n                    productCodes.push(product.productCode)\r\n                } else if (product.productGroupCode) {\r\n                    productGroupCodes.push(product.productGroupCode)\r\n                }\r\n            })\r\n\r\n            if (productCodes.length == 0 && productGroupCodes == 0) {\r\n                setPharmaceuticalForms([])\r\n                setPharmaceuticalFormSelected([])\r\n                setProductPresentation([])\r\n                setProductPresentationSelected([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingPharmaceuticalForms(true)\r\n        let pharmaceuticalFormPreviousSelecteds = !resetChecked ? pharmaceuticalForms.filter(x => x.checked ==true) : []\r\n        await props.getPharmaceuticalFormsByProduct(productCodes.join(','), productGroupCodes.join(',')) \r\n            .then(async (pharmaceuticalformsResponse) => {\r\n                let pharmaceuticalforms = pharmaceuticalformsResponse.map(pharmaceuticalform => {\r\n                    if (pharmaceuticalFormPreviousSelecteds.some(x => x.value == pharmaceuticalform.value)) {\r\n                        pharmaceuticalform.checked = true\r\n                    }\r\n                    return pharmaceuticalform\r\n                })            \r\n                setPharmaceuticalForms(pharmaceuticalforms)\r\n                setPharmaceuticalFormSelected(pharmaceuticalforms.filter(x => x.checked === true))\r\n                setLoadingPharmaceuticalForms(false)\r\n        })    \r\n    }    \r\n\r\n    const getProductPresentationsByPharmaceuticalForm = async (pharmaceuticalFormCodes, resetChecked = false) => {\r\n        if (pharmaceuticalFormCodes == null || pharmaceuticalFormCodes == undefined) {\r\n            pharmaceuticalFormCodes = []\r\n            let pharmaceuticalFormsPreviousSelecteds = pharmaceuticalForms.filter(pfItem => pfItem.checked == true)\r\n            pharmaceuticalFormsPreviousSelecteds.map(pharmaceuticalFormItem => {            \r\n                let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n                pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n            })\r\n\r\n            if (pharmaceuticalFormCodes.length == 0) {\r\n                setProductPresentation([])\r\n                setProductPresentationSelected([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingProductPresentation(true)\r\n\r\n        let productCodes = productsSelected.map(productItem => {               \r\n            return getItemObject(productItem).productCode || null\r\n        })\r\n        productCodes = productCodes.filter(p => p !== null)\r\n\r\n        let productGroupCodes = productsSelected.map(productItem => {               \r\n            return getItemObject(productItem).productGroupCode || null\r\n        })        \r\n        productGroupCodes = productGroupCodes.filter(p => p !== null)         \r\n\r\n        let productPresentationPreviousSelecteds =  !resetChecked ? productPresentation.filter(x => x.checked ==true) : []\r\n        await props.getPresentationsbyPharmaceuticalForms(pharmaceuticalFormCodes.join(','), productCodes.join(','), productGroupCodes.join(',')) \r\n            .then((productPresentationsResponse) => {\r\n                let productPresentations = productPresentationsResponse.map(productPresentation => {\r\n                    if (productPresentationPreviousSelecteds.some(x => x.value == productPresentation.value)) {\r\n                        productPresentation.checked = true\r\n                    }\r\n                    return productPresentation\r\n                })            \r\n                setProductPresentation(productPresentations)\r\n                setProductPresentationSelected(productPresentations.filter(x => x.checked === true))\r\n                setLoadingProductPresentation(false)\r\n        })    \r\n    }\r\n\r\n    const onSelectTherapeuticalClasses = async(items) => {\r\n        let therapeuticalClassCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        items.map(therapeuticalClassItem => {\r\n            if(therapeuticalClassItem.checked) {                \r\n                let therapeuticalClass = getItemObject(therapeuticalClassItem)\r\n                therapeuticalClassCodes.push(therapeuticalClass.code)\r\n            }\r\n        })\r\n        setTherapeuticalClassSelected(itemsChecked)\r\n        if(therapeuticalClassCodes.length > 0) {\r\n            await getProductByTherapeuticalClass(therapeuticalClassCodes)\r\n        } else {\r\n            setProducts([])\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }        \r\n    }\r\n    const onSelectProducts = async(items) => {\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(productItem => {              \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        setProductsSelected(itemsChecked)\r\n        if(productsCodes.length > 0  || productGroupsCodes.length > 0) {\r\n            await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes)\r\n        } else {\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }\r\n    }\r\n    const onSelectPharmaceuticalForms = async(items) => {\r\n        let pharmaceuticalFormCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        items.map(pharmaceuticalFormItem => {\r\n            if(pharmaceuticalFormItem.checked) {                \r\n                let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n                pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n            }\r\n        })\r\n        setPharmaceuticalFormSelected(itemsChecked)\r\n        if(pharmaceuticalFormCodes.length > 0) {\r\n            await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes)\r\n        } else {\r\n            setProductPresentation([])\r\n        }        \r\n    }\r\n    const onSelectProductPresentation = async(items) => {\r\n        let productPresentationCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        items.map(productPresentationItem => {\r\n            if(productPresentationItem.checked) {\r\n                let productPresentation = getItemObject(productPresentationItem)\r\n                if (productPresentation.code) {\r\n                    productPresentationCodes.push(productPresentation.code)\r\n                } else if (productPresentation.productPresentationGroupCode) {\r\n                    productPresentationCodes.push(productPresentation.productPresentationGroupCode)\r\n                }\r\n            }\r\n        })\r\n        setProductPresentationSelected(itemsChecked)\r\n           \r\n    }\r\n    const closeDialog = async() => {\r\n        setFormHasBeenSubmited(false)\r\n        setMarketAssignType('')\r\n        setMarketAssignItems([])\r\n        setDialogVisibleForProducts(false)\r\n        setDialogVisibleForPresentation(false)\r\n        setDialogVisibleForMarketAssing(false)\r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },\r\n        []\r\n    );\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'createProductGroup') {\r\n            if(productsSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForProducts(true)\r\n            }\r\n        } else if(action == 'createProductPresentationGroup') {\r\n            if(presentationSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForPresentation(true)\r\n            }\r\n        } else if(action == 'marketAssignFromTherapeuticalClass') {\r\n            if(therapeuticalClassSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(therapeuticalClassSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'marketAssignFromProduct') {\r\n            if(productsSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productsSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'marketAssignFromPharmaceuticalForm') {\r\n            if(pharmaceuticalFormSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(pharmaceuticalFormSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'marketAssignFromProductPresentation') {\r\n            if(presentationSelected.length > 0){\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(presentationSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const refreshVirtualizedCheckbox = async () => {\r\n\r\n        closeDialog()\r\n        \r\n        if (marketAssignType == 'marketAssignFromTherapeuticalClass') {\r\n            reloadTherapeuticalClassVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromProduct' || marketAssignType == 'createProductGroup') {\r\n            await reloadProductVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromPharmaceuticalForm') {\r\n            await reloadPharmaceuticalFormVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromProductPresentation'  || marketAssignType == 'createProductPresentationGroup') {\r\n            await reloadProductPresentationVirtualizedCheckbox()\r\n        }\r\n\r\n    }    \r\n\r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={therapeuticalclasses}\r\n                                    isLoading={loadingTherapeuticalClasses}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.THERAPEUTICAL_CLASS\"})}\r\n                                    onChange={onSelectTherapeuticalClasses}\r\n                                    onSelectAllChange={onSelectTherapeuticalClasses}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromTherapeuticalClass'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={products}\r\n                                    isLoading={loadingTherapeuticalClasses || loadingProducts}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT\"})}\r\n                                    onChange={onSelectProducts}\r\n                                    onSelectAllChange={onSelectProducts}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createProductGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromProduct'}\r\n                                    ]}\r\n                                    />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={pharmaceuticalForms}\r\n                                    isLoading={loadingTherapeuticalClasses || loadingProducts || loadingPharmaceuticalForms}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PHARMACEUTICAL_FORM\"})}\r\n                                    onChange={onSelectPharmaceuticalForms}\r\n                                    onSelectAllChange={onSelectPharmaceuticalForms}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromPharmaceuticalForm'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={productPresentation}\r\n                                    isLoading={loadingTherapeuticalClasses || loadingProducts || loadingPharmaceuticalForms || loadingProductPresentation}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT_PRESENTATION\"})}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action: 'createProductPresentationGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromProductPresentation'}\r\n                                    ]}\r\n                                    onChange={onSelectProductPresentation}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForProducts(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForProducts}\r\n                    >\r\n                        <ProductForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productsSelected={productsSelected} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForPresentation(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForPresentation}\r\n                    >\r\n                       <ProductPresentationForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productPresentationSelected={presentationSelected} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={() => closeDialog(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                        <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return { \r\n        customMarket: state.mercados.customMarket,\r\n        therapeuticalclasses: state.mercados.therapeuticalclasses,\r\n        loadingTherapeuticalClasses: state.mercados.loadingTherapeuticalClasses\r\n      }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(TherapeuticalClassTabContainer));    ","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { MarketAssignForm, ProductForm, ProductPresentationForm, LaboratoryForm } from './Forms'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\nimport _ from 'lodash'\r\n\r\nconst LaboratoryTabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, laboratories, loadingLaboratories } = props\r\n\r\n    const [ loadingProducts, setLoadingProducts] = React.useState(false);\r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ products, setProducts ] = React.useState([])\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    const [ loadingPharmaceuticalForms, setLoadingPharmaceuticalForms] = React.useState(false);\r\n    const [ pharmaceuticalForms, setPharmaceuticalForms ] = React.useState([])\r\n    const [ loadingProductPresentation, setLoadingProductPresentation] = React.useState(false);\r\n    const [ productPresentation, setProductPresentation ] = React.useState([])\r\n    const [ dialogVisibleForLaboratory, setDialogVisibleForLaboratory ] = React.useState(false);\r\n    const [ laboratoriesSelecteds, setLaboratoriesSelecteds] = React.useState([])\r\n    const [ dialogVisibleForProducts, setDialogVisibleForProducts ] = React.useState(false);\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n    const [ productSelecteds, setProductSelecteds] = React.useState([])\r\n    const [ dialogVisibleForPresentation , setDialogVisibleForPresentation] = React.useState(false)\r\n    const [ pharmaceuticalFormsSelecteds, setPharmaceuticalFormsSelecteds ] = React.useState([])\r\n    const [ productPresentationSelecteds, setProductPresentationSelecteds ] = React.useState([])\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n\r\n    const getAllLaboratories = async(itemsChecked) => {\r\n        await props.getLaboratories(itemsChecked);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadLaboratoryVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])\r\n\r\n    React.useEffect(() => {\r\n        if (!laboratories) {\r\n            getAllLaboratories(null)\r\n        }\r\n    },[])\r\n\r\n    React.useEffect(() => {\r\n        getPharmaceuticalFormByProduct()\r\n     }, [products]);         \r\n\r\n    React.useEffect(() => {\r\n        getProductPresentationsByPharmaceuticalForm()\r\n    }, [pharmaceuticalForms]);       \r\n\r\n    const reloadLaboratoryVirtualizedCheckbox = () => {\r\n        props.dispatchLaboratoriesLoading(true)\r\n            if (laboratories) {\r\n                let laboratoriesAllUnchecked = laboratories.map(l => ({ ...l, checked: false }));\r\n                props.dispatchLaboratories(laboratoriesAllUnchecked)\r\n                onSelectLaboratories([])\r\n                onSelectProducts([])\r\n                onSelectPharmaceuticalForms([])\r\n                onSelectProductPresentation([])\r\n            }\r\n            props.dispatchLaboratoriesLoading(false)\r\n    }\r\n\r\n    const reloadProductVirtualizedCheckbox = async () => {\r\n\r\n        setProductSelecteds([])\r\n        setPharmaceuticalFormsSelecteds([])\r\n        setProductPresentationSelecteds([])\r\n\r\n        let laboratoryCodes = []\r\n        let laboratoryGroupCodes = []\r\n        \r\n\r\n        laboratoriesSelecteds.map(laboratoryItem => {\r\n            if(laboratoryItem.checked) {                \r\n                let laboratory = getItemObject(laboratoryItem)\r\n                if (laboratory.laboratoryCode) {\r\n                    laboratoryCodes.push(laboratory.laboratoryCode)\r\n                } else if (laboratory.laboratoryGroupCode) {\r\n                    laboratoryGroupCodes.push(laboratory.laboratoryGroupCode)\r\n                }\r\n            }\r\n        })\r\n        \r\n        await getProductByLaboratory(laboratoryCodes, laboratoryGroupCodes, true)\r\n    }\r\n\r\n    const reloadPharmaceuticalFormVirtualizedCheckbox = async () => {\r\n        setPharmaceuticalFormsSelecteds([])\r\n        setProductPresentationSelecteds([])\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n\r\n        productSelecteds.map(productItem => {               \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        \r\n        await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes, true)        \r\n    }\r\n\r\n    const reloadProductPresentationVirtualizedCheckbox = async () => {\r\n        \r\n        setProductPresentationSelecteds([])\r\n        let pharmaceuticalFormCodes = []\r\n\r\n        pharmaceuticalFormsSelecteds.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        \r\n        await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes, true)\r\n    } \r\n\r\n    const getProductByLaboratory = async (laboratoryCodes, laboratoryGroupCodes, resetChecked = false) => {\r\n        setLoadingProducts(true)\r\n        let productPreviousSelecteds = !resetChecked ? products.filter(x => x.checked ==true) : []\r\n        await props.getProductByLaboratory(laboratoryCodes.join(','), laboratoryGroupCodes.join(',')) \r\n            .then(async (productsResponse) => {\r\n                let products = productsResponse.map(product => {\r\n                    if (productPreviousSelecteds.some(x => x.value == product.value)) {\r\n                        product.checked = true\r\n                    }\r\n                    return product\r\n                })            \r\n                setProducts(products)\r\n                setProductSelecteds(products.filter(x => x.checked === true))\r\n                setLoadingProducts(false)\r\n        })    \r\n    }\r\n\r\n    const getPharmaceuticalFormByProduct = async (productCodes, productGroupCodes, resetChecked = false) => {\r\n        if (productCodes == null || productGroupCodes == null) {\r\n            productCodes = []\r\n            productGroupCodes = []\r\n            let productsPreviousSelecteds = products.filter(pItem => pItem.checked == true)\r\n            productsPreviousSelecteds.map(productItem => {            \r\n                let product = getItemObject(productItem)\r\n                if (product.productCode) {\r\n                    productCodes.push(product.productCode)\r\n                } else if (product.productGroupCode) {\r\n                    productGroupCodes.push(product.productGroupCode)\r\n                }\r\n            })\r\n\r\n            if (productCodes.length == 0 && productGroupCodes == 0) {\r\n                setPharmaceuticalForms([])\r\n                setPharmaceuticalFormsSelecteds([])\r\n                setProductPresentation([])\r\n                setProductPresentationSelecteds([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingPharmaceuticalForms(true)\r\n        let pharmaceuticalFormPreviousSelecteds = !resetChecked ? pharmaceuticalForms.filter(x => x.checked ==true) : []\r\n        await props.getPharmaceuticalFormsByProduct(productCodes.join(','), productGroupCodes.join(',')) \r\n            .then(async (pharmaceuticalformsResponse) => {\r\n                let pharmaceuticalforms = pharmaceuticalformsResponse.map(pharmaceuticalform => {\r\n                    if (pharmaceuticalFormPreviousSelecteds.some(x => x.value == pharmaceuticalform.value)) {\r\n                        pharmaceuticalform.checked = true\r\n                    }\r\n                    return pharmaceuticalform\r\n                })            \r\n                setPharmaceuticalForms(pharmaceuticalforms)\r\n                setPharmaceuticalFormsSelecteds(pharmaceuticalforms.filter(x => x.checked === true))\r\n                setLoadingPharmaceuticalForms(false)\r\n        })    \r\n    }    \r\n\r\n\r\n    const getProductPresentationsByPharmaceuticalForm = async (pharmaceuticalFormCodes, resetChecked = false) => {\r\n        if (pharmaceuticalFormCodes == null || pharmaceuticalFormCodes == undefined) {\r\n            pharmaceuticalFormCodes = []\r\n            let pharmaceuticalFormsPreviousSelecteds = pharmaceuticalForms.filter(pfItem => pfItem.checked == true)\r\n            pharmaceuticalFormsPreviousSelecteds.map(pharmaceuticalFormItem => {            \r\n                let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n                pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n            })\r\n\r\n            if (pharmaceuticalFormCodes.length == 0) {\r\n                setProductPresentation([])\r\n                setProductPresentationSelecteds([])\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingProductPresentation(true)\r\n\r\n        let productCodes = productSelecteds.map(productItem => {               \r\n            return getItemObject(productItem).productCode || null\r\n        })\r\n        productCodes = productCodes.filter(p => p !== null)\r\n\r\n        let productGroupCodes = productSelecteds.map(productItem => {               \r\n            return getItemObject(productItem).productGroupCode || null\r\n        })        \r\n        productGroupCodes = productGroupCodes.filter(p => p !== null)        \r\n\r\n        let productPresentationPreviousSelecteds = !resetChecked ? productPresentation.filter(x => x.checked ==true) : []\r\n        await props.getPresentationsbyPharmaceuticalForms(pharmaceuticalFormCodes.join(','), productCodes.join(','), productGroupCodes.join(',')) \r\n            .then((productPresentationsResponse) => {\r\n                let productPresentations = productPresentationsResponse.map(productPresentation => {\r\n                    if (productPresentationPreviousSelecteds.some(x => x.value == productPresentation.value)) {\r\n                        productPresentation.checked = true\r\n                    }\r\n                    return productPresentation\r\n                })            \r\n                setProductPresentation(productPresentations)\r\n                setProductPresentationSelecteds(productPresentations.filter(x => x.checked === true))\r\n                setLoadingProductPresentation(false)\r\n        })    \r\n    }\r\n\r\n    const onSelectLaboratories = async(items) => {\r\n        let laboratoryCodes = []\r\n        let laboratoryGroupCodes = []\r\n        \r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(laboratoryItem => {\r\n            if(laboratoryItem.checked) {                \r\n                let laboratory = getItemObject(laboratoryItem)\r\n                if (laboratory.laboratoryCode) {\r\n                    laboratoryCodes.push(laboratory.laboratoryCode)\r\n                } else if (laboratory.laboratoryGroupCode) {\r\n                    laboratoryGroupCodes.push(laboratory.laboratoryGroupCode)\r\n                }\r\n            }\r\n        })\r\n        setLaboratoriesSelecteds(itemsChecked)\r\n        if(laboratoryCodes.length > 0  || laboratoryGroupCodes.length > 0) {\r\n            await getProductByLaboratory(laboratoryCodes, laboratoryGroupCodes)\r\n        } else {\r\n            setProducts([])\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }        \r\n    }\r\n\r\n    const onSelectProducts = async(items) => {\r\n        let productsCodes = []\r\n        let productGroupsCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(productItem => {              \r\n            let product = getItemObject(productItem)\r\n            if (product.productCode) {\r\n                productsCodes.push(product.productCode)\r\n            } else if (product.productGroupCode) {\r\n                productGroupsCodes.push(product.productGroupCode)\r\n            }\r\n        })\r\n        setProductSelecteds(itemsChecked)\r\n        if(productsCodes.length > 0  || productGroupsCodes.length > 0) {\r\n            await getPharmaceuticalFormByProduct(productsCodes, productGroupsCodes)\r\n        } else {\r\n            setPharmaceuticalForms([])\r\n            setProductPresentation([])\r\n        }\r\n    }\r\n\r\n    const onSelectPharmaceuticalForms = async(items) => {\r\n        let pharmaceuticalFormCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n        \r\n        itemsChecked.map(pharmaceuticalFormItem => {              \r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n        setPharmaceuticalFormsSelecteds(itemsChecked)\r\n        if(pharmaceuticalFormCodes.length > 0) {\r\n            await getProductPresentationsByPharmaceuticalForm(pharmaceuticalFormCodes)\r\n        } else {\r\n            setProductPresentation([])\r\n        }        \r\n    }\r\n\r\n    const onSelectProductPresentation = async(items) => {\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        setProductPresentationSelecteds(itemsChecked)\r\n    }\r\n\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'marketAssignFromProduct') {\r\n            if(productSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'createLaboratoryGroup') {\r\n            if(laboratoriesSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForLaboratory(true)\r\n            }\r\n        } else if(action == 'marketAssignFromLaboratory') {\r\n            if(laboratoriesSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(laboratoriesSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'createProductGroup') {\r\n            if(productSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForProducts(true)\r\n            }\r\n        } else if(action == 'marketAssignFromPharmaceuticalForm') {\r\n            if(pharmaceuticalFormsSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(pharmaceuticalFormsSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'createProductPresentationGroup') {\r\n            if(productPresentationSelecteds.length > 0) {\r\n                setDialogVisibleForPresentation(true)\r\n            }\r\n        } else if(action == 'marketAssignFromProductPresentation') {\r\n            if(productPresentationSelecteds.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productPresentationSelecteds)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n    \r\n    const refreshVirtualizedCheckbox = async () => {\r\n\r\n        closeDialog()\r\n        \r\n        if (marketAssignType == 'marketAssignFromLaboratory') {\r\n            reloadLaboratoryVirtualizedCheckbox()\r\n        } else if (marketAssignType == 'createLaboratoryGroup') {\r\n            reloadLaboratoryVirtualizedCheckbox()\r\n            await getAllLaboratories(null)\r\n        } else if(marketAssignType == 'marketAssignFromProduct' || marketAssignType == 'createProductGroup') {\r\n            await reloadProductVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromPharmaceuticalForm') {\r\n            await reloadPharmaceuticalFormVirtualizedCheckbox()\r\n        } else if(marketAssignType == 'marketAssignFromProductPresentation'  || marketAssignType == 'createProductPresentationGroup') {\r\n            await reloadProductPresentationVirtualizedCheckbox()\r\n        }\r\n\r\n    }  \r\n       \r\n    const closeDialog = () => {\r\n        setMarketAssignItems([])\r\n        setMarketAssignType('')\r\n        setFormHasBeenSubmited(false)\r\n        setDialogVisibleForLaboratory(false)\r\n        setDialogVisibleForProducts(false)\r\n        setDialogVisibleForPresentation(false)\r\n        setDialogVisibleForMarketAssing(false)\r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },\r\n        []\r\n    );\r\n\r\n    \r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={2} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={laboratories}\r\n                                    isLoading={loadingLaboratories}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.LABORATORY\"})}\r\n                                    onChange={onSelectLaboratories}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createLaboratoryGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromLaboratory'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={products}\r\n                                    isLoading={loadingLaboratories || loadingProducts}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT\"})}\r\n                                    onChange={onSelectProducts}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createProductGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromProduct'}\r\n                                    ]}\r\n                                    onSelectAllChange={onSelectProducts}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={pharmaceuticalForms}\r\n                                    isLoading={loadingLaboratories || loadingProducts || loadingPharmaceuticalForms}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PHARMACEUTICAL_FORM\"})}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromPharmaceuticalForm',}\r\n                                    ]}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    onChange={onSelectPharmaceuticalForms}\r\n                                    onSelectAllChange={onSelectPharmaceuticalForms}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={4}>\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={productPresentation}\r\n                                    isLoading={loadingLaboratories || loadingProducts || loadingPharmaceuticalForms || loadingProductPresentation}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT_PRESENTATION\"})}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createProductPresentationGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action: 'marketAssignFromProductPresentation'}\r\n                                    ]}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    onChange={onSelectProductPresentation}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.LABORATORY\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForLaboratory(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForLaboratory}\r\n                    >\r\n                        <LaboratoryForm\r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            laboratoriesSelecteds={laboratoriesSelecteds} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForMarketAssing(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                       <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForProducts(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForProducts}\r\n                    >\r\n                        <ProductForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productsSelected={productSelecteds} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={()=> setDialogVisibleForPresentation(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForPresentation}\r\n                    >\r\n                        <ProductPresentationForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productPresentationSelected={productPresentationSelecteds} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={() => refreshVirtualizedCheckbox()}\r\n                        />\r\n\r\n                    </ActionTabDialog>\r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n      customMarket: state.mercados.customMarket, \r\n      laboratories: state.mercados.laboratories,\r\n      loadingLaboratories: state.mercados.loadingLaboratories\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(LaboratoryTabContainer));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { MarketAssignForm, ProductPresentationForm } from './Forms'\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst ProductPresentationTabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, productpresentations, loadingProductPresentations } = props\r\n    \r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    const [ productPresentationSelected, setProductPresentationSelected ] = React.useState([])\r\n    const [ dialogVisibleForProductPresentation, setDialogVisibleForProductPresentation ] = React.useState(false);\r\n    const [ loadingPharmaceuticalForms, setLoadingPharmaceuticalForms] = React.useState(false);\r\n    const [ pharmaceuticalForms, setPharmaceuticalForms ] = React.useState([])    \r\n    const [ pharmaceuticalFormSelected, setPharmaceuticalFormSelected ] = React.useState([])\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n\r\n    const getAllProductPresentations = async (itemsChecked) => {\r\n        await props.getProductPresentations(itemsChecked);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadProductPresentationVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])    \r\n\r\n    React.useEffect(() => {\r\n        if (!productpresentations) {\r\n            getAllProductPresentations(null)\r\n        }\r\n    },[])\r\n\r\n    const reloadProductPresentationVirtualizedCheckbox = () => {\r\n        props.dispatchProductPresentationLoading(true)\r\n        if (productpresentations) {\r\n            let productPresentationsAllUnchecked = productpresentations.map(p => ({ ...p, checked: false }));\r\n            props.dispatchProductPresentations(productPresentationsAllUnchecked)\r\n            onProductPresentation([])\r\n            setPharmaceuticalFormSelected([])\r\n        }\r\n        props.dispatchProductPresentationLoading(false)\r\n    }\r\n\r\n    const reloadPharmaceuticalFormVirtualizedCheckbox = async () => {\r\n        setPharmaceuticalFormSelected([])\r\n        let productPresentationCodes = []\r\n        let productPresentationGroupCodes = []\r\n\r\n        productPresentationSelected.map(productPresentationItem => {               \r\n            let productPresentation = getItemObject(productPresentationItem)\r\n            if (productPresentation.code) {\r\n                productPresentationCodes.push(productPresentation.code)   \r\n            } else if (productPresentation.productPresentationGroupCode) {\r\n                productPresentationGroupCodes.push(productPresentation.productPresentationGroupCode)\r\n            }\r\n        })\r\n        \r\n        await getPharmaceuticalFormsByProductPresentation(productPresentationCodes, productPresentationGroupCodes, true)\r\n    }\r\n\r\n    const closeDialog = async(refresh = false) => {\r\n        setMarketAssignItems([])\r\n        setMarketAssignType('')\r\n        setFormHasBeenSubmited(false)\r\n        setDialogVisibleForProductPresentation(false)\r\n        setDialogVisibleForMarketAssing(false)\r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },\r\n        []\r\n    );\r\n\r\n    const getPharmaceuticalFormsByProductPresentation = async (productPresentationCodes, productPresentationGroupCodes, resetChecked = false) => {\r\n        setLoadingPharmaceuticalForms(true)\r\n        let pharmaceuticalFormPreviousSelecteds = !resetChecked ? pharmaceuticalForms.filter(x => x.checked ==true) : []\r\n        await props.getPharmaceuticalFormsByProductPresentation(productPresentationCodes.join(','), productPresentationGroupCodes.join(',')) \r\n            .then(async (pharmaceuticalFormsResponse) => {\r\n                let pharmaceuticalForms = pharmaceuticalFormsResponse.map(pharmaceuticalForm => {\r\n                    if (pharmaceuticalFormPreviousSelecteds.some(x => x.value == pharmaceuticalForm.value)) {\r\n                        \r\n                        pharmaceuticalForm.checked = true\r\n                    }\r\n                    return pharmaceuticalForm\r\n                })            \r\n                setPharmaceuticalForms(pharmaceuticalForms)\r\n                setPharmaceuticalFormSelected(pharmaceuticalForms.filter(x => x.checked === true))\r\n                setLoadingPharmaceuticalForms(false)\r\n        })    \r\n    }    \r\n \r\n    const onProductPresentation = async(items) => {\r\n        let productPresentationCodes = []\r\n        let productPresentationGroupCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(productPresentationItem => {\r\n            let productPresentation = getItemObject(productPresentationItem)\r\n            if (productPresentation.code) {\r\n                productPresentationCodes.push(productPresentation.code)   \r\n            } else if (productPresentation.productPresentationGroupCode) {\r\n                productPresentationGroupCodes.push(productPresentation.productPresentationGroupCode)\r\n            } \r\n        })\r\n\r\n        setProductPresentationSelected(itemsChecked)\r\n        if(productPresentationCodes.length > 0 || productPresentationGroupCodes.length > 0) {\r\n            await getPharmaceuticalFormsByProductPresentation(productPresentationCodes, productPresentationGroupCodes)\r\n        } else {\r\n            setPharmaceuticalForms([])\r\n        }\r\n    }\r\n    \r\n    const onPharmaceuticalForm = async(items) => {\r\n        let pharmaceuticalFormCodes = [];\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(pharmaceuticalFormItem => {\r\n            let pharmaceuticalForm = getItemObject(pharmaceuticalFormItem)\r\n            pharmaceuticalFormCodes.push(pharmaceuticalForm.code)\r\n        })\r\n\r\n        setPharmaceuticalFormSelected(itemsChecked)\r\n    }\r\n\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'createProductPresentationGroup') {\r\n            if(productPresentationSelected.length > 0) {\r\n               setMarketAssignType(action)\r\n               setDialogVisibleForProductPresentation (true)\r\n            }\r\n        } else if(action == 'marketAssignFromProductPresentation') {\r\n            if(productPresentationSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(productPresentationSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        } else if(action == 'marketAssignFromPharmaceuticalForm') {\r\n            if(pharmaceuticalFormSelected.length > 0) {\r\n                setMarketAssignType(action)\r\n                setMarketAssignItems(pharmaceuticalFormSelected)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const refreshVirtualizedCheckbox = async () => {\r\n\r\n        closeDialog()\r\n\r\n        if(marketAssignType == 'marketAssignFromProductPresentation')  {\r\n            reloadProductPresentationVirtualizedCheckbox()\r\n        } else if (marketAssignType == 'createProductPresentationGroup') {\r\n            reloadProductPresentationVirtualizedCheckbox()\r\n            await getAllProductPresentations(null)\r\n        } else if(marketAssignType == 'marketAssignFromPharmaceuticalForm') {\r\n            await reloadPharmaceuticalFormVirtualizedCheckbox()\r\n        }\r\n\r\n    }    \r\n\r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={8} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={productpresentations}\r\n                                    isLoading={loadingProductPresentations}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PRODUCT_PRESENTATION\"})}\r\n                                    onChange={onProductPresentation}\r\n                                    onSelectAllChange={ () => console.log('')}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP\"}), action:'createProductPresentationGroup'},\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromProductPresentation'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={4} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={pharmaceuticalForms}\r\n                                    isLoading={loadingProductPresentations || loadingPharmaceuticalForms}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.PHARMACEUTICAL_FORM\"})}\r\n                                    onChange={onPharmaceuticalForm}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromPharmaceuticalForm'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={() => closeDialog(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForProductPresentation}\r\n                    >\r\n                       <ProductPresentationForm  \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}  \r\n                            productPresentationSelected={productPresentationSelected} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={()=> refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={() => closeDialog(false)}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                        <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={()=> refreshVirtualizedCheckbox()}\r\n                        />\r\n                    </ActionTabDialog>\r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  \r\n  return {\r\n        customMarket: state.mercados.customMarket,\r\n        productpresentations: state.mercados.productpresentations,\r\n        loadingProductPresentations: state.mercados.loadingProductPresentations\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(ProductPresentationTabContainer));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { Grid } from '@material-ui/core'\r\nimport VirtualizedCheckbox from '../../../components/ListCheckbox'\r\nimport ActionTabDialog from './ActionTabDialog'\r\nimport { MarketAssignForm } from './Forms'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst CustomMarketTabContainer = (props) => {\r\n    const clases = useStyles()\r\n    const { intl, customMarket, linegroups, loadingLinegroups } = props\r\n    const [ formLoading, setFormLoading ] = React.useState(false)\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    const [ loadingLines, setLoadingLines] = React.useState(false);\r\n    const [ lines, setLines ] = React.useState([])\r\n    const [ linesSelected, setLinesSelected] = React.useState([])\r\n    const [ loadingCustomMarkets, setLoadingCustomMarkets] = React.useState(false);\r\n    const [ customMarkets, setCustomMarkets ] = React.useState([])\r\n    const [ marketSelecteds, setMarketSelecteds ] = React.useState([])\r\n    const [ dialogVisibleForMarketAssing, setDialogVisibleForMarketAssing ] = React.useState(false);\r\n    const [ marketAssignType, setMarketAssignType ] = React.useState('')\r\n    const [ marketAssignItems, setMarketAssignItems ] = React.useState([])\r\n\r\n    const getAll = async() => {\r\n        await props.getLineGroups();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return () => {\r\n            reloadLineGroupVirtualizedCheckbox()\r\n          }\r\n    },[customMarket.data?.code])\r\n\r\n    React.useEffect(() => {\r\n        if (!linegroups) {\r\n            getAll()\r\n        }\r\n    },[])\r\n\r\n\r\n    React.useEffect(() => {\r\n        getCustomMarketsByLine()\r\n     }, [lines]);      \r\n\r\n     const reloadLineGroupVirtualizedCheckbox = () => {\r\n        props.dispatchLineGroupsLoading(true)\r\n        if (linegroups) {\r\n            let lineGroupsAllUnchecked = linegroups.map(l => ({ ...l, checked: false }));\r\n            props.dispatchLineGroups(lineGroupsAllUnchecked)\r\n            onSelectLineGroup([])\r\n            onSelectLine([])\r\n            onSelectMarkets([])\r\n        }\r\n        props.dispatchLineGroupsLoading(false)\r\n    }\r\n\r\n    const reloadCustomMarketVirtualizedCheckbox = async () => {\r\n\r\n        setLinesSelected([])\r\n        let linesCodes = []\r\n\r\n        linesSelected.map(lineItem => {\r\n            let line = getItemObject(lineItem)\r\n            linesCodes.push(line.code)\r\n        })\r\n        \r\n        await getCustomMarketsByLine(linesCodes, true)\r\n    }    \r\n\r\n    const closeDialog = () => {\r\n\r\n        setFormHasBeenSubmited(false)\r\n        setDialogVisibleForMarketAssing(false)\r\n        setMarketAssignType('')\r\n        setMarketAssignItems([])\r\n    }\r\n\r\n    const submitForm = React.useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },\r\n        []\r\n    );\r\n\r\n    const getLinesByLineGroup = async (lineGroupCodes) => {\r\n        setLoadingLines(true)\r\n        let linePreviousSelecteds = lines.filter(x => x.checked ==true)\r\n        await props.getLinesByLineGroup(lineGroupCodes.join(',')) \r\n            .then(async (linesResponse) => {\r\n                let lines = linesResponse.map(line => {\r\n                    if (linePreviousSelecteds.some(x => x.value == line.value)) {\r\n                        line.checked = true\r\n                    }\r\n                    return line\r\n                })            \r\n                setLines(lines)\r\n                setLoadingLines(false)\r\n        })    \r\n    }\r\n\r\n    const getCustomMarketsByLine = async (lineCodes, resetChecked = false) => {\r\n        if (lineCodes == null || lineCodes == undefined) {\r\n            lineCodes = []\r\n            let linesPreviousSelecteds = lines.filter(pfItem => pfItem.checked == true)\r\n            linesPreviousSelecteds.map(lineItem => {            \r\n                let line = getItemObject(lineItem)\r\n                lineCodes.push(line.code)\r\n            })\r\n\r\n            if (lineCodes.length == 0) {\r\n                setCustomMarkets([])\r\n                setMarketSelecteds([]);\r\n                return\r\n            }\r\n        }\r\n\r\n        setLoadingCustomMarkets(true)\r\n\r\n        let customMarketPreviousSelecteds = !resetChecked ? customMarkets.filter(x => x.checked ==true) : []\r\n        await props.getCustomMarketsByLine(lineCodes.join(',')) \r\n            .then((customMarketsResponse) => {\r\n                let customMarkets = customMarketsResponse.map(customMarket => {\r\n                    if (customMarketPreviousSelecteds.some(x => x.value == customMarket.value)) {\r\n                        customMarket.checked = true\r\n                    }\r\n                    return customMarket\r\n                })            \r\n                setCustomMarkets(customMarkets)\r\n                setMarketSelecteds(customMarkets.filter(x => x.checked === true));\r\n                setLoadingCustomMarkets(false)\r\n        })    \r\n    }    \r\n\r\n    const onSelectLineGroup = async(items) => {\r\n        let lineGroupCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(lineGroupItem => {\r\n            let lineGroup = getItemObject(lineGroupItem)\r\n            lineGroupCodes.push(lineGroup.code)    \r\n        })\r\n        \r\n        if(lineGroupCodes.length > 0) {\r\n            await getLinesByLineGroup(lineGroupCodes)\r\n        } else {\r\n            setLines([])\r\n            setCustomMarkets([])\r\n        }\r\n    }\r\n\r\n\r\n    const onSelectLine = async(items) => {\r\n        let linesCodes = []\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n\r\n        itemsChecked.map(lineItem => {\r\n            let line = getItemObject(lineItem)\r\n            linesCodes.push(line.code)\r\n        })\r\n\r\n        setLinesSelected(itemsChecked)\r\n\r\n        if(linesCodes.length > 0) {\r\n            await getCustomMarketsByLine(linesCodes)\r\n        } else {\r\n            setCustomMarkets([])\r\n        }\r\n        \r\n    }\r\n    const onSelectItemFromMenu = (action) => {\r\n        if(action == 'marketAssignFromMarkets') {\r\n            if(marketSelecteds.length > 0) {\r\n                setMarketAssignItems(marketSelecteds)\r\n                setMarketAssignType(action)\r\n                setDialogVisibleForMarketAssing(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onSelectMarkets =async(items) => {\r\n        let marketCodes = [];\r\n        let itemsChecked = items.filter(x => x.checked === true);\r\n        \r\n        itemsChecked.map(marketItem => {          \r\n            let market = getItemObject(marketItem)\r\n            if (market.code) {\r\n                marketCodes.push(market.code)\r\n            }\r\n        })\r\n        setMarketSelecteds(itemsChecked);\r\n    }\r\n\r\n    return (\r\n        <div style={{height:'350px'}}>\r\n                <div style={{height:'350px'}}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={linegroups}\r\n                                    isLoading={loadingLinegroups}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.LINE_GROUP\"})}\r\n                                    onChange={onSelectLineGroup}\r\n                                    onSelectAllChange={ () => console.log('')}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={lines}\r\n                                    isLoading={loadingLinegroups || loadingLines}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.LINE\"})}\r\n                                    onChange={onSelectLine}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={6} className=\"pr-0\">\r\n                            <div style={{width:'100%', height:305, marginRight:0, paddingRight: 0}}>\r\n                                <VirtualizedCheckbox\r\n                                    items={customMarkets}\r\n                                    isLoading={loadingLinegroups || loadingLines || loadingCustomMarkets}\r\n                                    title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.SEARCH.CUSTOM_MARKET\"})}\r\n                                    onChange={onSelectMarkets}\r\n                                    onSelectItemFromMenu={onSelectItemFromMenu}\r\n                                    options={[\r\n                                        {title: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"}), action:'marketAssignFromMarkets'}\r\n                                    ]}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <ActionTabDialog\r\n                        title={intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.ASSIGN_CUSTOM_MARKET\"})}\r\n                        onAccept={submitForm}\r\n                        onCancel={closeDialog}\r\n                        btnDisabled={() => console.log('')}\r\n                        isLoading={formLoading}\r\n                        visible={dialogVisibleForMarketAssing}\r\n                    >\r\n                        <MarketAssignForm \r\n                            formHasBeenSubmited={formHasBeenSubmited} \r\n                            onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                            customMarketType={marketAssignType}\r\n                            itemsSelecteds={marketAssignItems} \r\n                            onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                            onClose={ async ()=> {\r\n                                    closeDialog()\r\n                                    await reloadCustomMarketVirtualizedCheckbox()\r\n                                }\r\n                            }\r\n                        />\r\n                    </ActionTabDialog>\r\n                </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  \r\n  return { \r\n        customMarket: state.mercados.customMarket,\r\n        linegroups: state.mercados.linegroups,\r\n        loadingLinegroups: state.mercados.loadingLinegroups\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\n\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(CustomMarketTabContainer));","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../Mercados/_redux/mercadosActions';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst ErrorAlert = (props) => {\r\n  const { error } = props;\r\n  const classes = useStyles();\r\n\r\n  const handleClose = () => {\r\n    props.setGetError(false)\r\n  };\r\n\r\n  React.useEffect(() => {}, [error])  \r\n\r\n  return (\r\n    <>\r\n    {error.visible &&\r\n        <div className={classes.root}>\r\n            <Alert severity=\"error\" onClose={handleClose}>\r\n                <AlertTitle>{error.description}</AlertTitle>\r\n            </Alert>\r\n        </div>\r\n    }\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        error: state.mercados.getError\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ErrorAlert);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ProductTabContainer from './ProductTabContainer'\r\nimport DrugTabContainer from './DrugTabContainer'\r\nimport PharmaceuticalFormTabContainer from './PharmaceuticalFormTabContainer'\r\nimport TherapeuticalClassTabContainer from './TherapeuticalClassTabContainer'\r\nimport LaboratoryTabContainer from './LaboratoryTabContainer'\r\nimport ProductPresentationTabContainer from './ProductPresentationTabContainer'\r\nimport CustomMarketTabContainer from './CustomMarketTabContainer'\r\nimport ErrorAlert from '../../ErrorsExamples/ErrorAlert'\r\n\r\nfunction TabContainer({ children, dir }) {\r\n  return (\r\n    <Typography component=\"div\" dir={dir} className=\"pt-5 pl-0 pr-0 pb-0 overflow-hidden\">\r\n      {children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  dir: PropTypes.string.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: '100%'\r\n  },\r\n}));\r\n\r\nexport default function FullWidthTabs() {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  function handleChange(event, newValue) {\r\n    setValue(newValue);\r\n  }\r\n\r\n  function handleChangeIndex(index) {\r\n    setValue(index);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.PRODUCT\" />} style={{fontSize: '1rem'}}/>\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.PRODUCT_PRESENTATION\" />} style={{fontSize: '1rem'}}/>\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.THERAPEUTICAL_CLASS\" />} style={{fontSize: '1rem'}}/>\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.LABORATORY\" />} style={{fontSize: '1rem'}}/>\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.DRUG\" />} style={{fontSize: '1rem'}}/>\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.PHARMACEUTICAL_FORM\" />} style={{fontSize: '1rem'}}/>\r\n          <Tab label={<FormattedMessage id=\"CUSTOM_MARKET_TAB.TITLE.CUSTOM_MARKET\" />} style={{fontSize: '1rem'}}/>\r\n        </Tabs>\r\n      </AppBar>\r\n      <SwipeableViews\r\n        style={{ height: '365px'}}\r\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n        index={value}\r\n        onChangeIndex={handleChangeIndex}\r\n      >\r\n        <TabContainer dir={theme.direction}><ProductTabContainer /></TabContainer>\r\n        <TabContainer dir={theme.direction}><ProductPresentationTabContainer/> </TabContainer>\r\n        <TabContainer dir={theme.direction}><TherapeuticalClassTabContainer /></TabContainer>\r\n        <TabContainer dir={theme.direction}><LaboratoryTabContainer /></TabContainer>\r\n        <TabContainer dir={theme.direction}><DrugTabContainer /></TabContainer>\r\n        <TabContainer dir={theme.direction}><PharmaceuticalFormTabContainer /></TabContainer>\r\n        <TabContainer dir={theme.direction}><CustomMarketTabContainer /></TabContainer>\r\n      </SwipeableViews>\r\n      <ErrorAlert />\r\n    </div>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst CustomMarketGroupDialog = (props) => {\r\n  const {customMarket, customMarketGroupSelected, open, handleClose} = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const [initialValues, setInitialValues] = useState({ description: '',groupCondition: '' });  \r\n\r\n  const getInitialValues = (customMarketGroupSelected) => {\r\n      if (customMarketGroupSelected == null) {\r\n        setInitialValues( {\r\n              description: '',\r\n              groupCondition: ''\r\n          })\r\n      } else {\r\n          setInitialValues( {\r\n            description: customMarketGroupSelected.description,\r\n            groupCondition: customMarketGroupSelected.groupCondition        \r\n          })\r\n      }\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    handleClose()\r\n    formik.resetForm()\r\n  }  \r\n\r\n  React.useEffect(() => { \r\n    getInitialValues(customMarketGroupSelected)\r\n  }, [customMarket, customMarketGroupSelected])   \r\n\r\n  const validate = values => {\r\n    const errors = {};\r\n    if (values.description == '') {\r\n        errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n    }    \r\n\r\n    if (values.groupCondition == '' || values.groupCondition == null) {\r\n      errors.groupCondition = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n    }\r\n        \r\n    return errors;\r\n  }\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues:  initialValues,\r\n    validate: validate,\r\n    onSubmit: (values, { setSubmitting, setErrors }) => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n            try {\r\n                let customMarketGroup = {\r\n                    customMarketCode: customMarket.data.code, \r\n                    description: values.description, \r\n                    groupCondition: values.groupCondition\r\n                }                    \r\n                if (customMarketGroupSelected == null) {\r\n                    await props.createCustomMarketGroup(customMarketGroup)\r\n                } else {\r\n                    await props.updateCustomMarketGroup(customMarketGroupSelected.code, customMarketGroup)\r\n                }\r\n                await props.getCustomMarketGroupByCustomMarketCode(customMarket.data.code)\r\n                disableLoading();\r\n                handleClose()\r\n              } catch(err) {\r\n                setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                disableLoading();\r\n            } finally {\r\n                setSubmitting(false);\r\n                formik.resetForm()\r\n            }\r\n        }, 500)\r\n    }\r\n  });\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n    setLoading(false);\r\n  };  \r\n\r\n  return (\r\n    <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open} \r\n        onClose={handleCancel} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText className=\"text-uppercase\">\r\n        { !customMarketGroupSelected ? \r\n          <FormattedMessage id=\"CUSTOM_MARKET_GROUP_DIALOG.TITLE.CREATE\" />\r\n         : \r\n         <FormattedMessage id=\"CUSTOM_MARKET_GROUP_DIALOG.TITLE.EDIT\" />\r\n        }\r\n      </DialogContentText>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"description\"\r\n          name=\"description\"\r\n          label={<FormattedMessage id=\"CUSTOM_MARKET_GROUP_DIALOG.DESCRIPTION\" />}\r\n          value={formik.values.description}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.description && Boolean(formik.errors.description)}\r\n          helperText={formik.touched.description && formik.errors.description}\r\n        />\r\n        <FormControl className={`d-block mb-4 mt-2`}>\r\n            <label className={(formik.touched.groupCondition && Boolean(formik.errors.groupCondition)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n              <FormattedMessage id=\"CUSTOM_MARKET_GROUP_DIALOG.GROUP_CONDITION\" />\r\n            </label>\r\n            <Select\r\n                className={`mt-0`}\r\n                fullWidth\r\n                id=\"groupCondition\"\r\n                name=\"groupCondition\"\r\n                label=\"groupCondition\"\r\n                value={formik.values.groupCondition}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.groupCondition && Boolean(formik.errors.groupCondition)}\r\n                helperText={formik.touched.groupCondition && formik.errors.groupCondition}\r\n                className={\r\n                    (formik.values.itemCondition == 'N') ? 'text-danger' : \r\n                    (formik.values.itemCondition == 'A') ? 'text-primary' : ''\r\n                }\r\n            >\r\n                <MenuItem key='A' value=\"A\">\r\n                    <label className=\"text-primary\">\r\n                      <FormattedMessage id=\"MASTER.CONDITION.AND\" />\r\n                    </label>\r\n                </MenuItem>\r\n                <MenuItem key='O' value=\"O\">\r\n                    <label className=\"\">\r\n                      <FormattedMessage id=\"MASTER.CONDITION.OR\" />\r\n                    </label>\r\n                </MenuItem>\r\n                <MenuItem key='N' value=\"N\">\r\n                    <label className=\"text-danger\">\r\n                      <FormattedMessage id=\"MASTER.CONDITION.NOT\" />\r\n                    </label>\r\n                </MenuItem>\r\n            </Select>\r\n            {formik.touched.groupCondition && Boolean(formik.errors.groupCondition) &&\r\n              <p className=\"MuiFormHelperText-root Mui-error\">{formik.touched.groupCondition && formik.errors.groupCondition}</p>\r\n            }                    \r\n        </FormControl> \r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          {formik.errors.api &&\r\n            <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{formik.errors.api}</div>\r\n          }          \r\n          <Button \r\n            onClick={handleCancel} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n              <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n          </Button>\r\n          <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n              <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n            </span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarket: state.mercados.customMarket\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CustomMarketGroupDialog);","import React, { useState } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst CustomMarketGroupDeleteDialog = (props) => {\r\n  const {customMarketGroupSelected, open, handleClose} = props\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n      setLoading(false);\r\n  };    \r\n\r\n  const handleDelete = () => {\r\n    setErrors({})\r\n    enableLoading();\r\n    setTimeout(async () => {\r\n         try { \r\n            await props.deleteCustomMarketGroup(customMarketGroupSelected.code)\r\n            disableLoading();\r\n            handleClose(true)\r\n            await Promise.all([props.getCustomMarkets(), props.getCustomMarketGroupByCustomMarketCode(customMarketGroupSelected.customMarketCode)])\r\n          } catch(err) {\r\n            if (err.response && err.response.data == 'has_custom_market_detail') {\r\n                setErrors( {api: <FormattedMessage id=\"CUSTOM_MARKET_GROUP_DELETE_DIALOG.EXCEPTION\" />} )\r\n            } else {\r\n                setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n            }            \r\n            disableLoading();\r\n          }\r\n    }, 1000);\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    setErrors({})\r\n  }, [open])\r\n\r\n  return (\r\n    <>\r\n    {customMarketGroupSelected && customMarketGroupSelected.code && (\r\n    <div>\r\n        <Dialog\r\n            maxWidth=\"sm\"\r\n            fullWidth={true}\r\n            open={open}\r\n            keepMounted\r\n            onClose={handleClose}\r\n            aria-labelledby=\"alert-dialog-slide-title\"\r\n            aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-slide-title\">\r\n            <FormattedMessage id=\"CUSTOM_MARKET_GROUP_DELETE_DIALOG.TITLE\" />\r\n            </DialogTitle>\r\n            <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-slide-description\">\r\n                <FormattedMessage id=\"CUSTOM_MARKET_GROUP_DELETE_DIALOG.MESSAGE\" values={{ name: customMarketGroupSelected.description }}/>\r\n            </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            {errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{errors.api}</div>\r\n            }                    \r\n            <Button onClick={handleClose} color=\"primary\" disabled={loading}>\r\n                <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n            </Button>\r\n            <Button onClick={handleDelete} className=\"text-danger\" disabled={loading}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n                <span style={{paddingLeft:'25px'}}>\r\n                <FormattedMessage id=\"FORM.ACTION.DELETE\" />\r\n                </span>\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        </div>\r\n    )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(CustomMarketGroupDeleteDialog);","import React from 'react';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport CustomMarketGroupDialog from './CustomMarketGroupDialog'\r\nimport CustomMarketGroupDelete from './CustomMarketGroupDelete'\r\n\r\nexport default function CustomMarketGroupAction(props) {\r\n\tconst { customMarketGroup, customMarketGroups } = props;\r\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\r\n\tconst [openDialog, setOpenDialog] = React.useState(false);\r\n\tconst [openDeleteDialog, setOpenDeleteDialog] = React.useState(false);\r\n\tconst [customMarketGroupSelected, setCustomMarketGroupSelected] = React.useState(null);\r\n\tconst openMenu = Boolean(anchorEl);  \r\n\tconst ITEM_HEIGHT = 48;\r\n\r\n\tconst handleOpenMenu = (event) => {\r\n\t\tevent.stopPropagation();\r\n\t\tsetAnchorEl(event.currentTarget);\r\n\t};\r\n\r\n\tconst handleCloseMenu = (event) => {\r\n\t\tsetAnchorEl(null);\r\n\t};  \r\n\r\n\tconst handleCloseDialog = () => {\r\n\t\tsetOpenDialog(false);\r\n\t\tsetOpenDeleteDialog(false);\r\n\t};    \r\n\r\n\tconst handleOpenCreateDialog = (event) => {\r\n\t\thandleCloseMenu()\r\n\t\tsetCustomMarketGroupSelected(null)\r\n\t\tsetOpenDialog(true);\r\n\t};\r\n\r\n\tconst handleOpenEditDialog = (event) => {\r\n\t\thandleCloseMenu()\r\n\t\tlet customMarketGroupSelected = customMarketGroups.data.filter(x => x.code == customMarketGroup)\r\n\t\tsetCustomMarketGroupSelected(customMarketGroupSelected[0])\r\n\t\tsetOpenDialog(true);\r\n\t};\r\n\r\n\tconst hasCustomMarketDetail = () => {\r\n\t\treturn customMarketGroups.data.filter(x => x.code == customMarketGroup) > 0\t\r\n\t}\r\n\r\n\tconst handleOpenDeleteDialog = (event) => {\r\n\t\thandleCloseMenu()\r\n\t\tlet customMarketGroupSelected = customMarketGroups.data.filter(x => x.code == customMarketGroup)\r\n\t\tsetCustomMarketGroupSelected(customMarketGroupSelected[0])\r\n\t\tsetOpenDeleteDialog(true);\r\n\t};\t\r\n\r\n    return ( \r\n\t\t<>        \r\n\t\t\t<IconButton aria-label=\"\" onClick={handleOpenMenu} color=\"primary\">\r\n\t\t\t\t<MoreVertIcon style={{fontSize: '1.5rem'}}/>\r\n\t\t\t</IconButton>\r\n\t\t\t<Menu\r\n\t\t\t\tid=\"customMarketGroupMenu\"\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tkeepMounted\r\n\t\t\t\topen={openMenu}\r\n\t\t\t\tonClose={handleCloseMenu}\r\n\t\t\t\tPaperProps={{\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmaxHeight: ITEM_HEIGHT * 4.5,\r\n\t\t\t\t\t\twidth: '24ch',\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t{/* <MenuItem key='menuItemCreateGroup' onClick={handleOpenCreateDialog}>\r\n\t\t\t\t\t<FormattedMessage id=\"CUSTOM_MARKET_GROUP_ACTION.CREATE\" />\r\n\t\t\t\t</MenuItem> */}\r\n\t\t\t\t<MenuItem key='menuItemEditGroup' onClick={handleOpenEditDialog} disabled={customMarketGroup == -1} >\r\n\t\t\t\t\t<FormattedMessage id=\"CUSTOM_MARKET_GROUP_ACTION.EDIT\" />\r\n\t\t\t\t</MenuItem>\r\n\t\t\t\t<MenuItem key='menuItemDeleteGroup' onClick={handleOpenDeleteDialog} disabled={customMarketGroup == -1 && hasCustomMarketDetail()} >\r\n\t\t\t\t\t<FormattedMessage id=\"CUSTOM_MARKET_GROUP_ACTION.DELETE\" />\r\n\t\t\t\t</MenuItem>\t\t\t\t                       \r\n\t\t\t</Menu>\r\n\t\t\t<CustomMarketGroupDialog open={openDialog} handleClose={handleCloseDialog} customMarketGroupSelected={customMarketGroupSelected}/>    \r\n\t\t\t<CustomMarketGroupDelete open={openDeleteDialog} handleClose={handleCloseDialog} customMarketGroupSelected={customMarketGroupSelected}/>    \r\n\t\t</>\r\n    )\r\n}","import React from 'react';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport CustomMarketGroupAction from './CustomMarketGroupAction'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    minWidth: 180,\r\n  },\r\n  selectEmpty: {\r\n    //marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function SimpleSelect(props) {\r\n  const classes = useStyles();\r\n  let { handleCustomMarketGroupChange, customMarketGroup, customMarketGroups } = props;\r\n\r\n  return (\r\n    <>\r\n     <Toolbar>\r\n        <InputLabel className=\"mr-5 pr-3 font-weight-bold text-uppercase\" style={{fontSize: '14px'}}>\r\n          <FormattedMessage id=\"CUSTOM_MARKET_GROUP.TITLE\" />\r\n        </InputLabel>\r\n        <FormControl className={classes.formControl}>\r\n          <Select\r\n            id=\"custom-market-group-simple-select-placeholder\"\r\n            value={customMarketGroup}\r\n            onChange={handleCustomMarketGroupChange}\r\n            displayEmpty\r\n            className={classes.selectEmpty}\r\n          >\r\n            <MenuItem key='default' value={-1}>SIN AGRUPACIN</MenuItem>\r\n            {customMarketGroups && customMarketGroups.data && (customMarketGroups.data.map((cmg) => {\r\n              return (\r\n                <MenuItem \r\n                  key={cmg.code} \r\n                  value={cmg.code}\r\n                  name={cmg.description}\r\n                  className={(cmg.groupCondition == 'N') ? 'text-danger' : (cmg.groupCondition == 'A') ? 'text-primary' : ''}\r\n                  >\r\n                    <label className={(cmg.groupCondition == 'N') ? 'text-danger' : (cmg.groupCondition == 'A') ? 'text-primary' : ''}>\r\n                      {cmg.description.toUpperCase()}\r\n                    </label>\r\n                </MenuItem>\r\n              )\r\n            }))}\r\n          </Select>\r\n        </FormControl>\r\n        <CustomMarketGroupAction customMarketGroup={customMarketGroup} customMarketGroups={customMarketGroups}/>\r\n      </Toolbar>\r\n    </>\r\n  );\r\n}","import React from 'react';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport CustomMarketGroupDialog from './CustomMarketGroupDialog'\r\nimport CustomMarketGroupAction from './CustomMarketGroupAction'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: '100%',\r\n    paddingBottom: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function CustomMarketGroupTab(props) {\r\n  const { customMarketGroups, handleCustomMarketGroupChange } = props;\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [value, setValue] = React.useState(1);\r\n  const [openDialog, setOpenDialog] = React.useState(false);\r\n\r\n  function handleChange(event, newValue) {\r\n    setValue(newValue);\r\n  }\r\n\r\n  const handleOpenCreateDialog = (event) => {\r\n\t\tsetOpenDialog(true);\r\n\t};\r\n\r\n\tconst handleCloseDialog = () => {\r\n\t\tsetOpenDialog(false);\r\n\t};      \r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"scrollable\"\r\n          scrollButtons=\"auto\"          \r\n        >\r\n          <Tooltip title=\"CREAR AGRUPACIN\">\r\n            <IconButton onClick={handleOpenCreateDialog} className=\"mr-8\" color=\"primary\">\r\n              <AddCircleOutlineIcon  style={{fontSize: '1.5rem'}}/>\r\n            </IconButton>\r\n          </Tooltip>\r\n         \r\n          <Tab \r\n            onClick={() => handleCustomMarketGroupChange(-1)}\r\n            style={{fontSize: '1rem', color: '#2d1f1fd6 !important'}} \r\n            key={-1}           \r\n            label={\r\n              <span\r\n                style={{color: '#2d1f1fd6'}}\r\n              >\r\n                SIN AGRUPACIN\r\n              </span>\r\n            }\r\n            className={'text-dark'}\r\n          />\r\n            {customMarketGroups && customMarketGroups.data && (customMarketGroups.data.map((cmg) => {\r\n              return (\r\n                <Tab \r\n                  onClick={() => handleCustomMarketGroupChange(cmg.code)}\r\n                  style={{fontSize: '1rem'}} \r\n                  key={cmg.code}\r\n                  className={(cmg.groupCondition == 'N') ? 'text-danger' : (cmg.groupCondition == 'A') ? 'text-primary' : 'text-dark'}\r\n                  label={\r\n                    <span\r\n                      style={{color: (cmg.groupCondition == 'O') ? '#2d1f1fd6' : ''}}\r\n                    >\r\n                      {cmg.description.toUpperCase()}\r\n                      <CustomMarketGroupAction customMarketGroup={cmg.code} customMarketGroups={customMarketGroups}/>\r\n                    </span>\r\n                  }\r\n                />\r\n              )\r\n            }))}\r\n        </Tabs>\r\n      </AppBar>\r\n      <CustomMarketGroupDialog open={openDialog} handleClose={handleCloseDialog} customMarketGroupSelected={null}/>    \r\n    </div>\r\n  );\r\n}","import React, { useState } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst CustomMarketDetailEditDialog = (props) => {\r\n    const {customMarket, productTypes, itemSelectedIndex, ownProduct, open, handleClose} = props;\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const initialValues = {\r\n        intemodifier: '',\r\n        modifier: '',\r\n        ensureVisible: '',\r\n        expand: '',\r\n        graphs: '',\r\n        resume: '',        \r\n        itemCondition: '',\r\n        pattern: '',\r\n        productTypeCode: '', \r\n        ownProduct: ''\r\n    };\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n\r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };    \r\n\r\n    const handleCancel = () => {\r\n        handleClose()\r\n        formik.resetForm()\r\n    }  \r\n\r\n\r\n    const Schema = Yup.object().shape({\r\n        intemodifier: Yup.string()     \r\n        .test(\r\n            'is-decimal',   \r\n            'Formato invalido',\r\n            value => value == undefined || (value + \"\").match(/^[0-9]+([,][0-9]{1,2})?$/) ,\r\n        ),\r\n        modifier:  Yup.string()\r\n        .test(\r\n            'is-decimal',   \r\n            'Formato invalido',\r\n            value => value == undefined || (value + \"\").match(/^[0-9]+([,][0-9]{1,2})?$/) ,\r\n        ),\r\n      });    \r\n\r\n    const formik = useFormik({\r\n        initialValues,\r\n        validationSchema: Schema,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n            try {\r\n                let customMarketModified = prepareSave(values)\r\n                await props.updateCustomMarket(customMarketModified)\r\n                disableLoading();\r\n                handleClose()\r\n            } catch(err) {\r\n                setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                disableLoading();\r\n            } finally {\r\n                setSubmitting(false);\r\n                formik.resetForm()\r\n            }\r\n        }, 1000);\r\n        },\r\n    });\r\n\r\n  const prepareSave = ({intemodifier, modifier, ensureVisible, expand, graphs, resume, pattern, itemCondition, productTypeCode, ownProduct}) => {\r\n      let copyCustomMarket = JSON.parse(JSON.stringify(customMarket.data))                    \r\n      itemSelectedIndex.map(itemIndex => {\r\n        if (intemodifier !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].intemodifier = intemodifier\r\n        }\r\n        if (modifier !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].modifier = modifier\r\n        }\r\n        if (ensureVisible !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].ensureVisible = ensureVisible\r\n        }\r\n        if (expand !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].expand = expand\r\n        }\r\n        if (graphs !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].graphs = graphs\r\n        } \r\n        if (resume !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].resume = resume\r\n        }\r\n        if (pattern !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].pattern = pattern\r\n        }           \r\n        if (itemCondition !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].itemCondition = itemCondition\r\n        }   \r\n        if (productTypeCode !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].productTypeCode = parseInt(productTypeCode)\r\n        }   \r\n        if (ownProduct !== \"\") {\r\n            copyCustomMarket.customMarketDetail[itemIndex].ownProduct = ownProduct\r\n        }                                                              \r\n      })\r\n\r\n      return copyCustomMarket\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open} \r\n        onClose={handleCancel} \r\n        aria-labelledby=\"form-dialog-title\"\r\n        >\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            <strong>\r\n                <FormattedMessage id=\"CUSTOM_MARKET_DETAIL_DIALOG.TITLE\" />\r\n            </strong>\r\n            <p></p>\r\n            {customMarket.data.fullDescription}\r\n          </DialogContentText>\r\n            {/*begin::Form*/}\r\n            <form\r\n                onSubmit={formik.handleSubmit}\r\n                className=\"form fv-plugins-bootstrap fv-plugins-framework\"\r\n            >\r\n            {formik.status ? (\r\n            <div className=\"mb-10 alert alert-custom alert-light-danger alert-dismissible\">\r\n                <div className=\"alert-text font-weight-bold\">{formik.status}</div>\r\n            </div>\r\n            ): null }\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.INTEMODIFIER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"intemodifier\"\r\n                    name=\"intemodifier\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.INTEMODIFIER\" />}\r\n                    type=\"text\"\r\n                    value={formik.values.intemodifier}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.intemodifier && Boolean(formik.errors.intemodifier)}\r\n                    helperText={formik.touched.intemodifier && formik.errors.intemodifier}\r\n                />\r\n            </Tooltip>                \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.MODIFIER\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"modifier\"\r\n                    name=\"modifier\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.MODIFIER\" />}\r\n                    type=\"text\"\r\n                    value={formik.values.modifier}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.modifier && Boolean(formik.errors.modifier)}\r\n                    helperText={formik.touched.modifier && formik.errors.modifier}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.ITEM_CONDITION\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.ITEM_CONDITION\" />\r\n                    </label>\r\n                    <Select\r\n                        style={{marginTop: '0px'}}\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"itemCondition\"\r\n                        name=\"itemCondition\"\r\n                        label=\"itemCondition\"\r\n                        value={formik.values.itemCondition}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.itemCondition && Boolean(formik.errors.itemCondition)}\r\n                        helperText={formik.touched.itemCondition && formik.errors.itemCondition}\r\n                        className={\r\n                            (formik.values.itemCondition == 'N') ? 'text-danger' : \r\n                            (formik.values.itemCondition == 'A') ? 'text-primary' : ''\r\n                        }\r\n                    >\r\n                        <MenuItem key='A' value=\"A\">\r\n                            <label className=\"text-primary\">\r\n                                <FormattedMessage id=\"MASTER.CONDITION.AND\" />\r\n                            </label>\r\n                        </MenuItem>\r\n                        <MenuItem key='O' value=\"O\">\r\n                            <label className=\"\">\r\n                                <FormattedMessage id=\"MASTER.CONDITION.OR\" />\r\n                            </label>\r\n                        </MenuItem>\r\n                        <MenuItem key='N' value=\"N\">\r\n                            <label className=\"text-danger\">\r\n                                <FormattedMessage id=\"MASTER.CONDITION.NOT\" />\r\n                            </label>\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl> \r\n            </Tooltip> \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.ENSURE_VISIBLE\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.ENSURE_VISIBLE\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"ensureVisible\"\r\n                        name=\"ensureVisible\"\r\n                        label=\"ensureVisible\"\r\n                        value={formik.values.ensureVisible}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.ensureVisible && Boolean(formik.errors.ensureVisible)}\r\n                        helperText={formik.touched.ensureVisible && formik.errors.ensureVisible}\r\n                    >\r\n                        <MenuItem key='empty' value=\"\">&nbsp;</MenuItem>\r\n                        <MenuItem key='yes' value={true}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip> \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.EXPAND\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.EXPAND\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"expand\"\r\n                        name=\"expand\"\r\n                        label=\"expand\"\r\n                        value={formik.values.expand}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.expand && Boolean(formik.errors.expand)}\r\n                        helperText={formik.touched.expand && formik.errors.expand}\r\n                    >\r\n                        <MenuItem key='empty' value=\"\">&nbsp;</MenuItem>\r\n                        <MenuItem key='yes' value={true}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip> \r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.GRAPHS\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.GRAPHS\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"graphs\"\r\n                        name=\"graphs\"\r\n                        label=\"graphs\"\r\n                        value={formik.values.graphs}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.graphs && Boolean(formik.errors.graphs)}\r\n                        helperText={formik.touched.graphs && formik.errors.graphs}\r\n                    >\r\n                        <MenuItem key='empty' value=\"\">&nbsp;</MenuItem>\r\n                        <MenuItem key='yes' value={true}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.RESUME\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.RESUME\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"resume\"\r\n                        name=\"resume\"\r\n                        label=\"resume\"\r\n                        value={formik.values.resume}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.resume && Boolean(formik.errors.resume)}\r\n                        helperText={formik.touched.resume && formik.errors.resume}\r\n                    >\r\n                        <MenuItem key='empty' value=\"\">&nbsp;</MenuItem>\r\n                        <MenuItem key='yes' value={true}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.PATTERN\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <TextField\r\n                    className={`mb-4`}\r\n                    fullWidth\r\n                    id=\"pattern\"\r\n                    name=\"pattern\"\r\n                    label={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.PATTERN\" />}\r\n                    value={formik.values.pattern}\r\n                    autoComplete=\"off\"\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.pattern && Boolean(formik.errors.pattern)}\r\n                    helperText={formik.touched.modifier && formik.errors.pattern}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip \r\n                title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.PRODUCT_TYPE\" />}\r\n                placement=\"left\" \r\n                arrow\r\n                enterDelay={700}\r\n                enterNextDelay={700}\r\n                >\r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.PRODUCT_TYPE\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"productTypeCode\"\r\n                        name=\"productTypeCode\"\r\n                        label=\"productTypeCode\"\r\n                        value={formik.values.productTypeCode}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.productTypeCode && Boolean(formik.errors.productTypeCode)}\r\n                        helperText={formik.touched.productTypeCode && formik.errors.productTypeCode}\r\n                    >\r\n                        <MenuItem key='-1' value={\"\"}>&nbsp;</MenuItem>\r\n                        {productTypes && (productTypes.map((pt, index) => {\r\n                                return <MenuItem key={pt.code} value={pt.code}>{pt.description.toUpperCase()}</MenuItem>\r\n                            }))\r\n                        }\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            {ownProduct == true  &&\r\n            <Tooltip \r\n            title={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.TOOLTIP.OWN_PRODUCT\" />}\r\n            placement=\"left\" \r\n            arrow\r\n            enterDelay={700}\r\n            enterNextDelay={700}\r\n            >            \r\n                <FormControl className={`d-block mb-8 mt-4`}>\r\n                    <label className={`pf-10 mb-0`}>\r\n                        <FormattedMessage id=\"CUSTOM_MARKET_DETAIL.OWN_PRODUCT\" />\r\n                    </label>\r\n                    <Select\r\n                        className={`mt-0`}\r\n                        fullWidth\r\n                        id=\"ownProduct\"\r\n                        name=\"ownProduct\"\r\n                        label=\"ownProduct\"\r\n                        value={formik.values.ownProduct}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.ownProduct && Boolean(formik.errors.ownProduct)}\r\n                        helperText={formik.touched.ownProduct && formik.errors.ownProduct}\r\n                    >\r\n                        <MenuItem key='empty' value=\"\">&nbsp;</MenuItem>\r\n                        <MenuItem key='yes' value={true}>\r\n                            <FormattedMessage id=\"MASTER.YES\" />\r\n                        </MenuItem>\r\n                        <MenuItem key='no' value={false}>\r\n                            <FormattedMessage id=\"MASTER.NO\" />\r\n                        </MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Tooltip>\r\n            }                                                      \r\n            </form>\r\n            {/*end::Form*/}                                                                    \r\n        </DialogContent>\r\n        <DialogActions>\r\n            {formik.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{formik.errors.api}</div>\r\n            }            \r\n            <Button onClick={handleCancel} color=\"primary\" disabled={formik.isSubmitting}>\r\n                <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n            </Button>\r\n            <Button onClick={formik.handleSubmit} color=\"primary\" disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n                <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n            </span>\r\n            </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarket: state.mercados.customMarket,\r\n        productTypes: state.mercados.producttypes\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CustomMarketDetailEditDialog);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst CustomMarketDetailDeleteDialog = (props) => {\r\n  const {customMarket, itemSelectedIndex, open, handleClose} = props\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n      setLoading(false);\r\n  };    \r\n\r\n  const prepareDelete = () => {\r\n    let copyCustomMarket = JSON.parse(JSON.stringify(customMarket.data))                    \r\n\r\n    copyCustomMarket.customMarketDetail = copyCustomMarket.customMarketDetail.filter((cmd) => {\r\n      return !itemSelectedIndex.includes(cmd.index); \r\n    });    \r\n\r\n    return copyCustomMarket\r\n  } \r\n\r\n  const handleDelete = () => {\r\n    setErrors({})\r\n    enableLoading();\r\n    setTimeout(async () => {\r\n         try { \r\n            let customMarketModified = prepareDelete()\r\n            await props.updateCustomMarket(customMarketModified)\r\n            disableLoading();\r\n            handleClose(true)\r\n          } catch(err) {\r\n            setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n            disableLoading();\r\n          }\r\n    }, 1000);\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    setErrors({})\r\n  }, [open])\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={open}\r\n        keepMounted\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\">\r\n          <FormattedMessage id=\"CUSTOM_MARKET_DETAIL_DELETE_DIALOG.TITLE\" />\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n            <FormattedMessage id=\"CUSTOM_MARKET_DETAIL_DELETE_DIALOG.MESSAGE\" values={{ count: itemSelectedIndex.length }}/>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {errors.api &&\r\n            <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%'}}>{errors.api}</div>\r\n          }                    \r\n          <Button onClick={handleClose} color=\"primary\" disabled={loading}>\r\n            <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n          </Button>\r\n          <Button onClick={handleDelete} className=\"text-danger\" disabled={loading}>\r\n          {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>\r\n              <FormattedMessage id=\"FORM.ACTION.DELETE\" />\r\n            </span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      customMarket: state.mercados.customMarket\r\n  }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CustomMarketDetailDeleteDialog);","import React from 'react';\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport CustomMarketDetailEdit from './CustomMarketDetailEdit'\r\nimport CustomMarketDetailDelete from './CustomMarketDetailDelete'\r\n\r\nfunction EnhancedTableHead(props) {\r\n    const { classes, onSelectAllClick, numSelected, rowCount, intl, isOwnProduct } = props;\r\n\r\n    const headCells = [\r\n        { id: 'description', numeric: false, disablePadding: true, label: '' },\r\n        { id: 'intemodifier', numeric: true, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.INTEMODIFIER.SHORT\"}) },\r\n        { id: 'modifier', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.MODIFIER.SHORT\"}) },\r\n        { id: 'ensureVisible', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.ENSURE_VISIBLE\"}) },\r\n        { id: 'expand', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.EXPAND\"}) },\r\n        { id: 'graphs', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.GRAPHS\"}) },\r\n        { id: 'resume', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.RESUME\"}) },\r\n        { id: 'pattern', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.PATTERN\"}) },\r\n        { id: 'productType', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.PRODUCT_TYPE\"}) },\r\n    ];\r\n\r\n    if (isOwnProduct == true) {\r\n        headCells.push({ id: 'ownProduct', numeric: false, disablePadding: false, label: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.OWN_PRODUCT\"}) })\r\n    }\r\n\r\n    return (\r\n        <TableHead>\r\n            <TableRow>\r\n                <TableCell padding=\"checkbox\">\r\n                <Checkbox\r\n                    indeterminate={numSelected > 0 && numSelected < rowCount}\r\n                    checked={rowCount > 0 && numSelected === rowCount}\r\n                    onChange={onSelectAllClick}\r\n                    inputProps={{ 'aria-label': 'select all desserts' }}\r\n                    />\r\n                </TableCell>\r\n                {headCells.map((headCell) => (\r\n                    <TableCell key={headCell.label}>{headCell.label}</TableCell>\r\n                ))}\r\n            </TableRow>\r\n        </TableHead>\r\n    );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    numSelected: PropTypes.number.isRequired,\r\n    onSelectAllClick: PropTypes.func.isRequired,\r\n    rowCount: PropTypes.number.isRequired,\r\n    intl: PropTypes.object.isRequired,\r\n    isOwnProduct: PropTypes.object.isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles((theme) => (\r\n    {\r\n        root: {\r\n            paddingLeft: theme.spacing(2),\r\n            paddingRight: theme.spacing(1),\r\n        },\r\n        highlight:\r\n            theme.palette.type === 'light'\r\n            ? {\r\n                color: theme.palette.secondary.main,\r\n                backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n                }\r\n            : {\r\n                color: theme.palette.text.primary,\r\n                backgroundColor: theme.palette.secondary.dark,\r\n                },\r\n        title: {\r\n            flex: '1 1 100%',\r\n        },\r\n    }\r\n));\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n    const classes = useToolbarStyles();\r\n    const { intl, numSelected, selected, isOwnProduct, clearSelected } = props;\r\n    const [openEditModal, setOpenEditModal] = React.useState(false);\r\n    const [openDeleteModal, setOpenDeleteModal] = React.useState(false);\r\n    \r\n\r\n    const handleCloseEditModal = () => {\r\n        setOpenEditModal(false);\r\n    };    \r\n\r\n    const handleOpenEditModal = (event) => {\r\n        setOpenEditModal(true);\r\n    };\r\n\r\n    const handleCloseDeleteModal = (clear = false) => {\r\n        setOpenDeleteModal(false);\r\n        \r\n        if (clear == true) {\r\n            clearSelected()\r\n        }\r\n    };    \r\n\r\n    const handleOpenDeleteModal = (event) => {\r\n        setOpenDeleteModal(true);\r\n    };    \r\n\r\n    return (\r\n        <Toolbar\r\n            className={clsx(classes.root, { [classes.highlight]: numSelected > 0, })}>\r\n            {numSelected > 0 && (\r\n                <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\">\r\n                {numSelected} {numSelected == 1 ? <FormattedMessage id=\"MASTER.SELECTED\" />: <FormattedMessage id=\"MASTER.SELECTEDS\" /> }\r\n                </Typography>\r\n            )}\r\n            {numSelected > 0 && (\r\n                <>\r\n                    <Tooltip title={intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.ACTION.EDIT\"})}>\r\n                        <IconButton aria-label=\"\" onClick={handleOpenEditModal} color=\"primary\">\r\n                            <EditIcon />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                    <Tooltip title={intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.ACTION.DELETE\"})}>\r\n                        <IconButton aria-label=\"\" onClick={handleOpenDeleteModal} color=\"primary\">\r\n                            <DeleteIcon />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </>           \r\n            )}\r\n            <CustomMarketDetailEdit open={openEditModal} handleClose={handleCloseEditModal} itemSelectedIndex={selected} ownProduct={isOwnProduct}/>\r\n            <CustomMarketDetailDelete open={openDeleteModal} handleClose={handleCloseDeleteModal} itemSelectedIndex={selected}/>\r\n        </Toolbar>\r\n    );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n    numSelected: PropTypes.number.isRequired,\r\n    intl: PropTypes.object.isRequired,\r\n    isOwnProduct: PropTypes.object.isRequired,\r\n    clearSelected: PropTypes.object.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    paper: {\r\n        width: '100%',\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    table: {\r\n        minWidth: 750,\r\n    },  \r\n    visuallyHidden: {\r\n        border: 0,\r\n        clip: 'rect(0 0 0 0)',\r\n        height: 1,\r\n        margin: -1,\r\n        overflow: 'hidden',\r\n        padding: 0,\r\n        position: 'absolute',\r\n        top: 20,\r\n        width: 1,\r\n    },\r\n}));\r\n\r\nconst CustomMarketDetail = (props) => {\r\n    const { intl, rows, filterOwnProduct } = props;\r\n    const classes = useStyles();\r\n    const [selected, setSelected] = React.useState([]);\r\n    const [dense, setDense] = React.useState(true);\r\n    const [rowsPerPage, setRowsPerPage] = React.useState(999);\r\n    const [switchOwnProduct, setSwitchOwnProduct] = React.useState(false);\r\n    const [customMarketDetail, setCustomMarketDetail] = React.useState(rows)    \r\n\r\n    const handleSelectAllClick = (event) => {\r\n        if (event.target.checked) {\r\n            const newSelecteds = customMarketDetail.map((n) => n.index);\r\n            setSelected(newSelecteds);\r\n            return;\r\n        }\r\n        setSelected([]);\r\n    };\r\n\r\n    const handleClick = (event, index) => {\r\n        const selectedIndex = selected.indexOf(index);\r\n        let newSelected = [];\r\n\r\n        if (selectedIndex === -1) {\r\n            newSelected = newSelected.concat(selected, index);\r\n        } else if (selectedIndex === 0) {\r\n            newSelected = newSelected.concat(selected.slice(1));\r\n        } else if (selectedIndex === selected.length - 1) {\r\n            newSelected = newSelected.concat(selected.slice(0, -1));\r\n        } else if (selectedIndex > 0) {\r\n            newSelected = newSelected.concat(\r\n                selected.slice(0, selectedIndex),\r\n                selected.slice(selectedIndex + 1),\r\n            );\r\n        }\r\n\r\n        setSelected(newSelected);\r\n    };\r\n\r\n    const isSelected = (index) => selected.indexOf(index) !== -1;\r\n\r\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, customMarketDetail.length - rowsPerPage);\r\n    \r\n    const handleChangeSwitchOwnProduct = (event) => {\r\n        setSwitchOwnProduct(event.target.checked);\r\n        if (event.target.checked) {\r\n            setSelected([])\r\n            setCustomMarketDetail(rows.filter( x => x.ownProductsReport === true))\r\n        } else {\r\n            setCustomMarketDetail(rows)\r\n        }\r\n    };   \r\n    \r\n    const clearSelected = () => {\r\n        setSelected([])\r\n    }\r\n\r\n    React.useEffect(() => { \r\n        setSwitchOwnProduct(false)\r\n        setCustomMarketDetail(rows)\r\n    }, [rows]) \r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Paper className={classes.paper} style={{position: 'relative'}}>\r\n                {filterOwnProduct === true  && (\r\n                    <FormControlLabel\r\n                        className=\"float-left m-2\"\r\n                        style={{position: 'absolute', left: '0px', zIndex: '2'}}\r\n                        control={\r\n                            <Switch\r\n                                checked={switchOwnProduct}\r\n                                onChange={handleChangeSwitchOwnProduct}\r\n                                name=\"chkOwnProduct\"\r\n                                color=\"primary\"\r\n                            />\r\n                        }\r\n                        label={<FormattedMessage id=\"CUSTOM_MARKET_DETAIL.OWN_PRODUCTS\" />}\r\n                    />\r\n                )}\r\n                {(selected.length > 0 || filterOwnProduct === true) && \r\n                    <EnhancedTableToolbar numSelected={selected.length} clearSelected={clearSelected} selected={selected} intl={intl} isOwnProduct={switchOwnProduct} />\r\n                }\r\n                <TableContainer  style={{maxHeight: '300px', overflowY: 'auto' }} > \r\n                    <Table\r\n                        className={classes.table}\r\n                        aria-labelledby=\"tableTitle\"\r\n                        size={dense ? 'small' : 'medium'}\r\n                        aria-label=\"enhanced table\"\r\n                        stickyHeader\r\n                    >\r\n                    <EnhancedTableHead\r\n                        classes={classes}\r\n                        numSelected={selected.length}\r\n                        onSelectAllClick={handleSelectAllClick}\r\n                        rowCount={customMarketDetail.length}\r\n                        intl={intl}\r\n                        isOwnProduct={filterOwnProduct}\r\n                    />\r\n                    <TableBody>\r\n                        {customMarketDetail.map((cmd, index) => {\r\n                            const isItemSelected = isSelected(cmd.index);\r\n                            const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                            return (\r\n                                <TableRow\r\n                                    style={{cursor: 'pointer'}}\r\n                                    hover\r\n                                    onClick={(event) => handleClick(event, cmd.index)}\r\n                                    role=\"checkbox\"\r\n                                    aria-checked={isItemSelected}\r\n                                    tabIndex={-1}\r\n                                    key={cmd.index}\r\n                                    selected={isItemSelected}\r\n                                >\r\n                                <TableCell padding=\"checkbox\">\r\n                                    <Checkbox\r\n                                        checked={isItemSelected}\r\n                                        inputProps={{ 'aria-labelledby': labelId }}\r\n                                    />\r\n                                </TableCell>\r\n                                <TableCell \r\n                                    className={(cmd.itemCondition == 'N') ? 'text-danger' : (cmd.itemCondition == 'A') ? 'text-primary' : ''}\r\n                                    component=\"th\" \r\n                                    id={labelId} \r\n                                    scope=\"cmd\" \r\n                                    padding=\"none\">\r\n                                    {cmd.name}\r\n                                    {cmd.isGroup == true &&\r\n                                        <span className=\"text-primary pl-4\" key={labelId}><strong>&#8859;</strong></span>\r\n                                    }\r\n                                </TableCell>\r\n                                <TableCell align=\"center\"> {cmd.intemodifier} </TableCell>\r\n                                <TableCell align=\"center\"> {cmd.modifier} </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                <Checkbox checked={cmd.ensureVisible} />\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    <Checkbox checked={cmd.expand}/>\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                        <Checkbox checked={cmd.graphs}/>\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    <Checkbox checked={cmd.resume}/>\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">{cmd.pattern}</TableCell>\r\n                                <TableCell align=\"center\">{cmd.productTypeDescription}</TableCell>\r\n                                {filterOwnProduct == true && \r\n                                    <TableCell align=\"center\">\r\n                                        <Checkbox checked={cmd.ownProduct}/>\r\n                                    </TableCell>\r\n                                }\r\n                                </TableRow>\r\n                            );\r\n                            })}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default injectIntl(CustomMarketDetail);","import React from 'react';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport CustomMarketGroup from './CustomMarketGroup'\r\nimport CustomMarketGroupTab from './CustomMarketGroupTab'\r\nimport CustomMarketDetail from './CustomMarketDetail'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    flexGrow: 1,\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightMedium,\r\n  },\r\n  paper: {\r\n    padding:theme.spacing(0),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n    backgroundColor: '#f5f5f5'\r\n  },  \r\n}));\r\n\r\nconst useExpansionPanelStyles = makeStyles((theme) => (\r\n    {\r\n        root: {\r\n            padding: theme.spacing(1),\r\n            marginBottom: theme.spacing(0),\r\n        },\r\n        expanded: {\r\n            minHeight: '10px !important'\r\n        },\r\n    }\r\n))\r\n\r\nconst CustomMarketDefinition = (props) => {\r\n  const { intl, customMarket, customMarketGroups } = props;\r\n  const classes = useStyles();\r\n  const expansionPanelClasses = useExpansionPanelStyles()\r\n  const [ rows, setRows ] = React.useState(null)        \r\n  const [customMarketGroup, setCustomMarketGroup] = React.useState(-1);\r\n\r\n\r\n  const getCustomMarketDetailCustoMarkets = (customMarket) => {\r\n    let detailCustomMartkets = []\r\n    if(customMarket && customMarket.customMarketDetail) {\r\n        customMarket.customMarketDetail.forEach(cmd => {\r\n            if (cmd.detailCustomMarketCode) {\r\n                cmd.name = cmd.detailCustomMarketDescription.toUpperCase();\r\n                detailCustomMartkets.push(cmd)\r\n            }\r\n        });\r\n    }\r\n    return detailCustomMartkets;\r\n  }\r\n\r\n  const getCustomMarketDetailDrugs = (customMarket) => {\r\n      let drugs = []\r\n      if(customMarket && customMarket.customMarketDetail) {\r\n          customMarket.customMarketDetail.forEach(cmd => {\r\n              if (cmd.drugCode) {\r\n                  cmd.name = cmd.drugDescription.toUpperCase();\r\n                  drugs.push(cmd);\r\n              } else if (cmd.drugGroupCode) {\r\n                  cmd.name = cmd.drugGroupDescription.toUpperCase()\r\n                  cmd.isGroup = true\r\n                  drugs.push(cmd);\r\n              }\r\n          });\r\n      }\r\n      return drugs;\r\n  }\r\n\r\n  const getCustomMarketDetailLaboratories = (customMarket) => {\r\n      let laboratories = []\r\n      if(customMarket && customMarket.customMarketDetail) {\r\n          customMarket.customMarketDetail.forEach(cmd => {\r\n              if (cmd.laboratoryCode) {\r\n                  cmd.name = cmd.laboratoryDescription.toUpperCase();\r\n                  laboratories.push(cmd);\r\n              } else if (cmd.laboratoryGroupCode) {\r\n                  cmd.name = cmd.laboratoryGroupDescription.toUpperCase()\r\n                  cmd.isGroup = true\r\n                  laboratories.push(cmd);\r\n              }\r\n          });\r\n      }\r\n      return laboratories;\r\n  }   \r\n\r\n  const getCustomMarketDetailPharmaceuticaForms = (customMarket) => {\r\n      let pharmaceuticalForms = []\r\n      if(customMarket && customMarket.customMarketDetail) {\r\n          customMarket.customMarketDetail.forEach(cmd => {\r\n              if (cmd.pharmaceuticalFormCode) {\r\n                  cmd.name = cmd.pharmaceuticalFormDescription.toUpperCase();\r\n                  pharmaceuticalForms.push(cmd);\r\n              }\r\n          });\r\n      } \r\n      return pharmaceuticalForms;\r\n  }\r\n\r\n  const getCustomMarketDetailProducts = (customMarket) => {\r\n      let products = []\r\n      if(customMarket && customMarket.customMarketDetail) {\r\n          customMarket.customMarketDetail.forEach(cmd => {\r\n              if (cmd.productCode) {\r\n                  cmd.name = cmd.productDescription.toUpperCase();\r\n                  products.push(cmd);\r\n              } else if (cmd.productGroupCode) {\r\n                  cmd.name = cmd.productGroupDescription.toUpperCase() \r\n                  cmd.isGroup = true\r\n                  products.push(cmd);\r\n              }\r\n          });\r\n      } \r\n      return products;\r\n  }\r\n\r\n  const getCustomMarketDetailProductPresentations = (customMarket) => {\r\n      let productPresentations = []\r\n      if(customMarket && customMarket.customMarketDetail) {\r\n          customMarket.customMarketDetail.forEach(cmd => {\r\n              if (cmd.productPresentationCode) {\r\n                  cmd.name = cmd.productPresentationDescription.toUpperCase();\r\n                  productPresentations.push(cmd);\r\n              } else if (cmd.productPresentationGroupCode) {\r\n                  cmd.name = cmd.productPresentationGroupDescription.toUpperCase()\r\n                  cmd.isGroup = true\r\n                  productPresentations.push(cmd);\r\n              }\r\n          });\r\n      }\r\n      return productPresentations;\r\n  }\r\n\r\n  const getCustomMarketDetailTherapeuticalClasses = (customMarket) => {\r\n      let therapeuticalClasses = []\r\n      if(customMarket && customMarket.customMarketDetail) {\r\n          customMarket.customMarketDetail.forEach(cmd => {\r\n              if (cmd.therapeuticalClassCode) {\r\n                  cmd.name = cmd.therapeuticalClassDescription.toUpperCase();\r\n                  therapeuticalClasses.push(cmd);\r\n              }\r\n          });\r\n      }\r\n      return therapeuticalClasses;\r\n  }\r\n\r\n  const handleCustomMarketGroupChange = (event) => {\r\n    setCustomMarketGroup(event.target.value);\r\n  };\r\n\r\n  const handleCustomMarketGroupTabChange = (code) => {\r\n    setCustomMarketGroup(code);\r\n  };  \r\n\r\n  const detectCustomMarket = () => {\r\n    if(customMarket.data) {\r\n      setRows([\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.PRODUCT\"}), detail: getCustomMarketDetailProducts(customMarket.data), filterOwnProduct: true },\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.PRODUCT_PRESENTATION\"}), detail: getCustomMarketDetailProductPresentations(customMarket.data), filterOwnProduct: false },\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.THERAPEUTICAL_CLASS\"}), detail: getCustomMarketDetailTherapeuticalClasses(customMarket.data), filterOwnProduct: false },\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.LABORATORY\"}), detail: getCustomMarketDetailLaboratories(customMarket.data), filterOwnProduct: false },\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.DRUG\"}), detail: getCustomMarketDetailDrugs(customMarket.data), filterOwnProduct: false },\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.PHARMACEUTICAL_FORM\"}), detail: getCustomMarketDetailPharmaceuticaForms(customMarket.data), filterOwnProduct: false },\r\n          {title: intl.formatMessage({id: \"CUSTOM_MARKET_DEFINITION.TITLE.CUSTOM_MARKET\"}), detail: getCustomMarketDetailCustoMarkets(customMarket.data), filterOwnProduct: false }\r\n      ])\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n      detectCustomMarket()\r\n  },[customMarket])\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <CustomMarketGroupTab customMarketGroups={customMarketGroups} customMarketDetail={rows} handleCustomMarketGroupChange={handleCustomMarketGroupTabChange}/>\r\n      {/* <CustomMarketGroup customMarketGroups={customMarketGroups} customMarketGroup={customMarketGroup} handleCustomMarketGroupChange={handleCustomMarketGroupChange}/> */}\r\n      {rows && rows.map((row, index) => {\r\n        let cmgSelected = (customMarketGroup == -1) ? null : customMarketGroup\r\n        let rowDetailFilteredByCustomMarketGroup = row.detail.filter(x => x.customMarketGroupCode == cmgSelected)\r\n        if (rowDetailFilteredByCustomMarketGroup.length > 0) {\r\n          return (\r\n            <ExpansionPanel key={index} style={{marginBottom: '10px'}}> \r\n                <ExpansionPanelSummary\r\n                    className={expansionPanelClasses.expanded}\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"\"\r\n                    id={\"ExpansionPanelSummary\"+{index}}\r\n                >\r\n                <Typography className={classes.heading} color=\"primary\">{row.title.toUpperCase()}</Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails className={expansionPanelClasses.root}>\r\n                    <CustomMarketDetail rows={rowDetailFilteredByCustomMarketGroup} filterOwnProduct={row.filterOwnProduct}/>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n          )\r\n        }\r\n        return null\r\n      })\r\n    }\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default injectIntl(CustomMarketDefinition);","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CustomMarketTab from './Tab';\r\nimport CustomMarketCollapsableDetail from './CustomMarketCollapsableDetail';\r\nimport Can from './../../../config/Can';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useExpansionPanelStyles = makeStyles((theme) => (\r\n    {\r\n        root: {\r\n            padding: theme.spacing(1),\r\n        },\r\n        expanded: {\r\n            minHeight: '10px !important'\r\n        },\r\n    }\r\n))\r\n\r\nconst CustomMarketManage = (props) => {\r\n  const {customMarket, customMarketGroups,customMarketPageView} = props;\r\n  const classes = useExpansionPanelStyles()\r\n\r\n  return (\r\n    <>\r\n        {customMarketPageView.view == 'manage' &&\r\n            <Can I=\"view\" a=\"manage-custom-market\">\r\n                <>\r\n                    <Grid item xs={12} className=\"p-0\">   \r\n                        <ExpansionPanel defaultExpanded={true} key=\"expansion-panel-custom-market-manage\" style={{marginBottom: '10px', backgroundColor: '#f5f5f5'}}> \r\n                            <ExpansionPanelSummary\r\n                                className={classes.expanded}\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                aria-controls=\"panel1a-content\"\r\n                                id=\"expansion-panel-custom-market-manage\"\r\n                            >\r\n                            </ExpansionPanelSummary>\r\n                            <ExpansionPanelDetails className={classes.root}>                                                                    \r\n                                <CustomMarketTab style={{height: '420px', width: '100%' }} />\r\n                            </ExpansionPanelDetails>\r\n                        </ExpansionPanel>             \r\n                    </Grid>   \r\n                    <Grid item xs={12} className=\"p-0\">\r\n                        {!customMarketGroups.isLoading && !customMarket.isLoading && Object.keys(customMarket.data).length > 0 &&\r\n                            <CustomMarketCollapsableDetail customMarket={customMarket} customMarketGroups={customMarketGroups}/>\r\n                        }\r\n                    </Grid>\r\n                </>\r\n            </Can>\r\n        }\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarket: state.mercados.customMarket,\r\n        customMarketGroups: state.mercados.customMarketGroups,\r\n        customMarketPageView: state.mercados.customMarketPageView\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CustomMarketManage);","import React, { useState, useCallback } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../_redux/mercadosActions';\r\nimport ActionDialog from '../ActionTabDialog'\r\nimport { CustomMarketPreviewForm } from '../Forms'\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\n\r\nconst CustomMarketPreviewDialog = (props) => {\r\n    const { customMarketPreviewAction, intl } = props;\r\n    const [ formLoading, setFormLoading ] = useState(false);\r\n    const [ formHasBeenSubmited, setFormHasBeenSubmited ] = React.useState(false)\r\n    \r\n    const onCancel = () => {\r\n        props.actionCustomMarketPreviewReset()\r\n    }\r\n    const submitForm = useCallback(\r\n        () => {\r\n            setFormHasBeenSubmited(true)\r\n        },[]\r\n    );\r\n    if(customMarketPreviewAction.visible == true) {\r\n        return (\r\n            <ActionDialog\r\n                title={customMarketPreviewAction.type !== '' ? intl.formatMessage({id: customMarketPreviewAction.type == 'edit' ? \"ACTION.EDIT\" : \"CUSTOM_MARKET_PREVIEW_DELETE_DIALOG.MESSAGE\"}) : ''}\r\n                description={intl.formatMessage({id:\"CUSTOM_MARKET_PREVIEW.PRESENTATION\"}) + ': ' + customMarketPreviewAction.item.productPresentationDescription}\r\n                onAccept={submitForm}\r\n                onCancel={onCancel}\r\n                isLoading={formLoading}\r\n                visible={customMarketPreviewAction.visible}\r\n                type={customMarketPreviewAction.type}\r\n            >\r\n                <CustomMarketPreviewForm \r\n                    formHasBeenSubmited={formHasBeenSubmited}\r\n                    onChangeStatusForm={() => setFormHasBeenSubmited(false)}\r\n                    onClose={onCancel}\r\n                    action={customMarketPreviewAction}\r\n                    onDelete={() => props.onDelete(customMarketPreviewAction.item)}\r\n                    onUpdate={(itemUpdate) => props.onUpdate(itemUpdate)}\r\n                    onChangeLoadingForm={(loading) => setFormLoading(loading)}\r\n                />\r\n            </ActionDialog>\r\n        )\r\n    }\r\n    return null\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarketPreviewAction: state.mercados.customMarketPreviewAction\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(CustomMarketPreviewDialog));","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './../_redux/mercadosActions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport MaterialTable from 'material-table';\r\nimport { CustomMarketPreviewDialog } from './CustomMarketPreview/index' \r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Can from './../../../config/Can';\r\nimport { customMarketDetailDefault } from '../customMarketDetailDefault'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\n\r\nconst CustomMarketPreview = (props) => {\r\n  const clases = useStyles()\r\n  const {customMarket, customMarketPageView, intl } = props;  \r\n  const [ isLoading, setLoading ] = React.useState(true)\r\n  const [ marketPreviewData, setMarketPreviewData ] = React.useState([])\r\n  const [ allowedPermission, setAllowedPermission ] = React.useState(false)\r\n  const [ itemsToDelete, setItemsToDelete ] = React.useState([])\r\n  const [ itemsToEdit, setItemsToEdit ] = React.useState([])\r\n  const [ visibleButtonsToolbar,  setVisibleButtonsToolbar ] = React.useState(false)\r\n  \r\n\r\n  const onCancel = async() => {\r\n    await getCustomMarketsPreview()\r\n    setItemsToDelete([])\r\n    setItemsToEdit([])\r\n    setVisibleButtonsToolbar(false)\r\n    props.actionCustomMarketPreviewReset()\r\n  }\r\n  const getCustomMarketsPreview = async() => {\r\n\r\n      if(customMarketPageView.view == 'preview') {\r\n          setLoading(true)\r\n          let preview = await props.getCustomMarketsPreview(customMarket.data.code)\r\n          preview = preview.map( item => {\r\n            item.modifier = item.modifier.toString().replace('.', ',')\r\n            item.intemodifier = item.intemodifier.toString().replace('.', ',')\r\n            return item\r\n          })\r\n          setMarketPreviewData(preview)\r\n          setLoading(false)\r\n      }\r\n  }\r\n  const deleteCustomMarket = async(customMarketPreviewItem) => {\r\n    customMarketPreviewItem.customMarketGroupCode = null; \r\n    customMarketPreviewItem.itemCondition = 'N'; \r\n    let itemIndex = marketPreviewData.findIndex(x => x.id === customMarketPreviewItem.id)\r\n    marketPreviewData.splice(itemIndex, 1);\r\n    setItemsToDelete([...itemsToDelete, customMarketPreviewItem])\r\n    setMarketPreviewData(marketPreviewData);\r\n    props.actionCustomMarketPreviewReset()\r\n    setVisibleButtonsToolbar(true)\r\n}\r\nconst updateCustomMarket = async(customMarketSelectedItem) => {\r\n    setItemsToEdit([...itemsToEdit, customMarketSelectedItem])\r\n    props.actionCustomMarketPreviewReset()\r\n    let oldMarketPreviewData = marketPreviewData;\r\n    marketPreviewData.map((customMarketItems,index) => {\r\n        if(customMarketItems.id == customMarketSelectedItem.id) {\r\n            marketPreviewData[index].resume = customMarketSelectedItem.resume;\r\n            marketPreviewData[index].graph  = customMarketSelectedItem.graph;\r\n            marketPreviewData[index].expand = customMarketSelectedItem.expand;\r\n            marketPreviewData[index].ensureVisible  = customMarketSelectedItem.ensureVisible;\r\n            marketPreviewData[index].intemodifier   = customMarketSelectedItem.intemodifier;\r\n            marketPreviewData[index].modifier       = customMarketSelectedItem.modifier;\r\n            marketPreviewData[index].pattern       = customMarketSelectedItem.pattern;\r\n            marketPreviewData[index].productTypeCode    = customMarketSelectedItem.productTypeCode;\r\n        }\r\n    })\r\n    setMarketPreviewData([...oldMarketPreviewData, marketPreviewData]);\r\n    setVisibleButtonsToolbar(true)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    getCustomMarketsPreview()\r\n  }, [customMarketPageView.view])\r\n\r\n  const onSave = async() => {\r\n    setLoading(true)\r\n    let copyCustomMarket = JSON.parse(JSON.stringify(customMarket.data)) \r\n\r\n    if(itemsToDelete.length > 0) {\r\n        itemsToDelete.map(marketToAdd => {\r\n            const existProductPresentation = copyCustomMarket.customMarketDetail.filter(x => x.customMarketGroupCode == null && x.productPresentationCode == marketToAdd.productPresentationCode)\r\n            if(existProductPresentation && existProductPresentation.length) {\r\n                const findProductpresentation = copyCustomMarket.customMarketDetail.findIndex(x => x.productPresentationCode === existProductPresentation[0].productPresentationCode)\r\n                copyCustomMarket.customMarketDetail[findProductpresentation].itemCondition = 'N';\r\n            }else{\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                customMarketDetailValues.productPresentationCode = marketToAdd.productPresentationCode;\r\n                customMarketDetailValues.customMarketGroupCode = null;\r\n                customMarketDetailValues.itemCondition = 'N';\r\n                copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n            }\r\n        })\r\n    }\r\n    if(itemsToEdit.length > 0) {\r\n        itemsToEdit.map(prodPresentationItem => {\r\n            const existProductPresentation = copyCustomMarket.customMarketDetail.filter(x => x.customMarketGroupCode == null && x.productPresentationCode == prodPresentationItem.productPresentationCode)\r\n            if(existProductPresentation && existProductPresentation.length) {\r\n                const findProductpresentation = copyCustomMarket.customMarketDetail.findIndex(x => x.productPresentationCode === existProductPresentation[0].productPresentationCode)\r\n                if (prodPresentationItem.intemodifier !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].intemodifier = prodPresentationItem.intemodifier\r\n                }\r\n                if (prodPresentationItem.modifier !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].modifier = prodPresentationItem.modifier\r\n                }\r\n                if (prodPresentationItem.ensureVisible !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].ensureVisible = prodPresentationItem.ensureVisible\r\n                }\r\n                if (prodPresentationItem.expand !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].expand = prodPresentationItem.expand\r\n                }\r\n                if (prodPresentationItem.graph !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].graph = prodPresentationItem.graph\r\n                } \r\n                if (prodPresentationItem.resume !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].resume = prodPresentationItem.resume\r\n                }\r\n                if (prodPresentationItem.pattern !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].pattern = prodPresentationItem.pattern\r\n                }\r\n                if (prodPresentationItem.productTypeCode !== \"\") {\r\n                    copyCustomMarket.customMarketDetail[findProductpresentation].productTypeCode = prodPresentationItem.productTypeCode\r\n                }\r\n                copyCustomMarket.customMarketDetail[findProductpresentation].itemCondition = 'O'\r\n            }else{\r\n                let customMarketDetailValues  = customMarketDetailDefault()\r\n                customMarketDetailValues.productPresentationCode = prodPresentationItem.productPresentationCode;\r\n                customMarketDetailValues.customMarketGroupCode = null;\r\n                customMarketDetailValues.intemodifier = prodPresentationItem.intemodifier;\r\n                customMarketDetailValues.modifier = prodPresentationItem.modifier;\r\n                customMarketDetailValues.ensureVisible = prodPresentationItem.ensureVisible;\r\n                customMarketDetailValues.expand = prodPresentationItem.expand;\r\n                customMarketDetailValues.graph = prodPresentationItem.graph;\r\n                customMarketDetailValues.resume = prodPresentationItem.resume;\r\n                customMarketDetailValues.pattern = prodPresentationItem.pattern;\r\n                customMarketDetailValues.productTypeCode = prodPresentationItem.productTypeCode;\r\n                customMarketDetailValues.itemCondition = 'O';\r\n                copyCustomMarket.customMarketDetail.push(customMarketDetailValues)\r\n            }\r\n        })\r\n    }\r\n\r\n    await props.updateCustomMarket(copyCustomMarket)\r\n    setVisibleButtonsToolbar(false)\r\n    setItemsToEdit([])\r\n    setItemsToDelete([])\r\n    await getCustomMarketsPreview()\r\n      \r\n    }\r\n    const renderClass = (classCode) => {\r\n        if(classCode == 1) {\r\n            return intl.formatMessage({id: \"MASTER.CLASS.ETICO.SHORT\"})\r\n        }\r\n        if(classCode == 2) {\r\n            return intl.formatMessage({id: \"MASTER.CLASS.POPULAR.SHORT\"})\r\n        }\r\n        return null;\r\n    }\r\n    const ButtonSave = () => {\r\n        if(visibleButtonsToolbar) {\r\n            return (\r\n            <div\r\n                id=\"btn_save_preview\"\r\n                className={`btn btn-secondary font-weight-bold px-2 pl-4 pr-4 py-0 mt-0 mb-2`}\r\n                style={{fontWeight: '600'}}\r\n                onClick={onSave}\r\n            >\r\n                <IconButton \r\n                    aria-label=\"\"  \r\n                    color=\"primary\" \r\n                    className=\"p-3\">\r\n                    <span style={{color:'#17c191', fontSize: '14px'}}>\r\n                        <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n                    </span>\r\n                </IconButton>\r\n            </div>               \r\n            )\r\n        }\r\n        return null\r\n    }\r\n    const ButtonCancel = () => {\r\n        if(visibleButtonsToolbar) {\r\n            return (\r\n            <div\r\n                id=\"btn_cancel_preview\"\r\n                className={`btn btn-secondary font-weight-bold px-2 pl-4 pr-4 py-0 mt-0 mb-2`}\r\n                style={{fontWeight: '600'}}\r\n                onClick={onCancel}\r\n            >\r\n                <IconButton \r\n                    aria-label=\"\"  \r\n                    color=\"primary\" \r\n                    className=\"p-3\">\r\n                    <span style={{color:'#17c191', fontSize: '14px'}}>\r\n                        <FormattedMessage id=\"FORM.ACTION.CANCEL\" />\r\n                    </span>\r\n                </IconButton>\r\n            </div>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n  \r\n  return ( \r\n    <>  \r\n    {customMarketPageView.view == 'preview' &&\r\n        <>\r\n            <Can I=\"view\" a=\"manage-custom-market\" passThrough>\r\n                {(allowed) => setAllowedPermission(allowed)}\r\n            </Can>\r\n            <Grid item xs={12} className=\"p-0\">\r\n                {\r\n                (!customMarket.isLoading && Object.keys(customMarket.data).length > 0) &&\r\n                    <>\r\n                        <MaterialTable\r\n                            title=''\r\n                            isLoading={isLoading}\r\n                            columns={[\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.CODE.SHORT\"}), field: 'id'},\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.LABORATORY.SHORT\"}), field: 'labDescription' },\r\n                                {\r\n                                    title: intl.formatMessage({id: \"LABORATORY_GROUP.FORM_CLASS\"}), \r\n                                    field: 'classCode',\r\n                                    render: rowData => renderClass(rowData.classCode)\r\n                                },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.BUSINESS_UIT.SHORT\"}), field: 'businessUnit' },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.TERAPEUTICAL_CLASS\"}), field: 'tcCode' },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.DRUG\"}), field: 'drug' },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.PHARMACEUTICAL_FORM\"}), field: 'pfCode' },\r\n                                {\r\n                                    title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.PRESENTATION\"}), \r\n                                    field: 'productPresentationDescription', \r\n                                    cellStyle: {\r\n                                        minWidth: '300px'\r\n                                    }\r\n                                },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.ORDEN\"}), field: 'orden' },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_GROUP_DIALOG.GROUP_CONDITION\"}), field: 'itemCondition' },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.PATTERN\"}), field: 'pattern' },\r\n                                {\r\n                                    title: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.ENSURE_VISIBLE\"}), \r\n                                    field: 'ensureVisible',\r\n                                    render: rowData => rowData.ensureVisible == true ? intl.formatMessage({id: \"MASTER.YES\"}) : intl.formatMessage({id: \"MASTER.NO\"})\r\n                                },\r\n                                {\r\n                                    title: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.GRAPHS\"}), \r\n                                    field: 'graph',\r\n                                    render: rowData => rowData.graph == true ? intl.formatMessage({id: \"MASTER.YES\"}) : intl.formatMessage({id: \"MASTER.NO\"})\r\n                                },\r\n                                {\r\n                                    title: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.RESUME\"}), \r\n                                    field: 'resume',\r\n                                    render: rowData => rowData.resume == true ? intl.formatMessage({id: \"MASTER.YES\"}) : intl.formatMessage({id: \"MASTER.NO\"})\r\n                                },\r\n                                {\r\n                                    title: intl.formatMessage({id: \"CUSTOM_MARKET_DETAIL.EXPAND\"}), \r\n                                    field: 'expand',\r\n                                    render: rowData => rowData.expand == true ? intl.formatMessage({id: \"MASTER.YES\"}) : intl.formatMessage({id: \"MASTER.NO\"})\r\n                                },\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.MODIFIER\"}), field: 'modifier'},\r\n                                {title: intl.formatMessage({id: \"CUSTOM_MARKET_PREVIEW.INTEMODIFIER\"}), field: 'intemodifier',}\r\n                            ]}\r\n                            data={marketPreviewData}\r\n                            options={{\r\n                                filtering: true,\r\n                                pageSize: 10,\r\n                                pageSizeOptions: [10,25,50, 100],\r\n                                searchFieldAlignment: 'left',\r\n                                actionsColumnIndex: -1,\r\n                                headerStyle: { position: 'sticky', top: 0 },\r\n                                maxBodyHeight: '500px'\r\n                            }}\r\n                            actions={\r\n                                allowedPermission &&\r\n                                [{\r\n                                    icon: 'edit',\r\n                                    tooltip: intl.formatMessage({id: \"ACTION.EDIT\"}),\r\n                                    onClick: (event, rowData) => props.setActionCustomMarketPreview({type: 'edit', visible: true, item:rowData })\r\n                                },\r\n                                {\r\n                                    icon: 'delete',\r\n                                    tooltip: intl.formatMessage({id: \"FORM.ACTION.DELETE\"}),\r\n                                    onClick: (event, rowData) => props.setActionCustomMarketPreview({type: 'delete', visible: true, item:rowData }) \r\n                                },\r\n                                {\r\n                                    icon: () => <ButtonCancel />,\r\n                                    tooltip: intl.formatMessage({id: \"FORM.ACTION.CANCEL\"}),\r\n                                    isFreeAction: true,\r\n                                },\r\n                                {\r\n                                    icon: () => <ButtonSave />,\r\n                                    tooltip: intl.formatMessage({id: \"FORM.ACTION.SAVE\"}),\r\n                                    isFreeAction: true,\r\n                                }\r\n                            ]}\r\n                            localization={{\r\n                                toolbar: {\r\n                                    searchTooltip: 'Buscar',\r\n                                    searchPlaceholder: 'Buscar'\r\n                                },\r\n                                header: {\r\n                                    actions: ''\r\n                                },\r\n                                pagination: {\r\n                                    labelRowsSelect: 'resultados',\r\n                                    labelRowsPerPage: 'resultados',\r\n                                    labelDisplayedRows: '{from}-{to} de {count}'\r\n                                },\r\n                                body: {\r\n                                    emptyDataSourceMessage: '',\r\n                                }\r\n                            }}\r\n                        />\r\n                        <CustomMarketPreviewDialog onDelete={deleteCustomMarket} onUpdate={updateCustomMarket} />\r\n                    </>\r\n                }               \r\n            </Grid>         \r\n        </>\r\n    }\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarket: state.mercados.customMarket,\r\n        customMarketPageView: state.mercados.customMarketPageView\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default injectIntl(connect(mapStateToProps,mapDispatchToProps)(CustomMarketPreview));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './_redux/mercadosActions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CustomMarketTree from './components/CustomMarketTree'\r\nimport CustomMarketToolbar from './components/CustomMarketToolbar'\r\nimport CustomMarketManage from './components/CustomMarketManage'\r\nimport CustomMarketPreview from './components/CustomMarketPreview'\r\n\r\nconst Mercados = (props) => {\r\n    const { customMarket, customMarketPreview } = props;  \r\n\r\n    const getTree = async() => {\r\n        await props.getCustomMarketTree();\r\n    }\r\n\r\n    const getAllGroupLines = async() => {\r\n        await props.getLineGroups();\r\n    }\r\n\r\n    const getAllLines = async() => {\r\n        await props.getLines();\r\n    }\r\n\r\n    const getAllProductTypes = async() => {\r\n        await props.getProductTypes();\r\n    }\r\n    \r\n    const getAllCustomMarkets = async() => {\r\n        await props.getCustomMarkets();\r\n    }\r\n\r\n    React.useEffect(() => { \r\n        getTree()\r\n        getAllProductTypes() \r\n        getAllGroupLines()\r\n        getAllLines()\r\n        getAllCustomMarkets()\r\n    }, [])    \r\n\r\n    return (\r\n        <>\r\n            {customMarket.treeVisible &&\r\n                <Grid container spacing={4} style={{ position: 'fixed', zIndex: 20, height: '100%'}}>    \r\n                    <Grid item className=\"pr-0\" style={{ backgroundColor: '#FFF',zIndex: 20, height: '100%', width: '480px', overflow: 'auto'}}>\r\n                        <CustomMarketTree />\r\n                    </Grid>\r\n                    <Grid item xs={8} style={{ backgroundColor: '#c0c0c080',zIndex: 20, height: '100%'}}></Grid>\r\n                </Grid>\r\n            }\r\n\r\n            {customMarket.isLoading &&\r\n                <Grid container spacing={4} style={{ position: 'fixed', zIndex: 20, height: '100%'}}>    \r\n                    <Grid item xs={12} style={{ backgroundColor: '#c0c0c080',zIndex: 20, height: '100%'}}></Grid>\r\n                </Grid>\r\n            }\r\n\r\n            <Grid container spacing={4} style={{ position: (customMarket.treeVisible) ? 'relative': 'relative'}}>\r\n                <CustomMarketToolbar />                    \r\n                <CustomMarketManage/>\r\n                {customMarket.data && customMarket.data.code &&\r\n                    <CustomMarketPreview />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n    \r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        customMarket: state.mercados.customMarket\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Mercados);","import axios from 'axios';\r\n\r\nexport const getAll = () => {\r\n    return async function(getState) {\r\n        const businessUnits = await axios.get(`businessUnits`)\r\n        return businessUnits;\r\n    }\r\n}\r\n\r\nexport const createBusinessUnit = (data) => {\r\n    return async function(getState) {\r\n        const businessUnits = await axios.post(`businessUnits`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return businessUnits.data;\r\n    }\r\n}\r\n\r\nexport const updateBusinessUnit = (businessUnitCode, data) => {\r\n    return async function(getState) {\r\n        const businessUnits = await axios.put(`businessUnits/${businessUnitCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return businessUnits.data;\r\n    }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item } } = props;\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = 'campo obligatorio';\r\n        }\r\n      \r\n        return errors;\r\n    }; \r\n    const prepareToSave = ({description}) => {\r\n        \r\n        return JSON.stringify({description: description,})\r\n        \r\n    }\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            description: actionType == 'edit' ? item.description : '' \r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    if (actionType == 'edit') {\r\n                        await props.updateBusinessUnit(item.code, JSON.stringify({description: values.description}))\r\n                    } else if (actionType == 'create') {\r\n                        await props.createBusinessUnit(JSON.stringify({description: values.description}))\r\n                    }\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: \"Error. No se ha podido completar la accin\"} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                    formik.resetForm()\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n        formik.resetForm()\r\n    }\r\n\r\n    return (\r\n        <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={dialogVisible} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText> {actionType == 'edit' ? 'Editar Unidad de Negocio' : 'Nueva Unidad de Negocio' } </DialogContentText>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <TextField\r\n          className={`mb-4`}\r\n          fullWidth\r\n          id=\"description\"\r\n          name=\"description\"\r\n          label=\"Ttulo\"\r\n          value={formik.values.description}\r\n          autoComplete=\"off\"\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.description && Boolean(formik.errors.description)}\r\n          helperText={formik.touched.description && formik.errors.description}\r\n        />\r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            Cancelar\r\n          </Button>\r\n          <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(ActionDialog);","import React, { forwardRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './_redux/Actions';\r\nimport { Container, makeStyles } from \"@material-ui/core\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst BusinessUnits = (props) => {\r\n    const classes = useStyles();\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ businessUnitsData, setBusinessUnits ] = React.useState([])\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false\r\n    })\r\n\r\n    const getBusinessUnit = async() => {\r\n        let getBusinessUnits = await props.getAll();\r\n        setBusinessUnits(getBusinessUnits.data)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getBusinessUnit()\r\n    },[])\r\n\r\n    const editBusinessUnit = (item) => {\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, item: item})\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getBusinessUnit()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                <MaterialTable\r\n                    title=\"Unidades de Negocios\"\r\n                    columns={[\r\n                        {title: 'Ttulo', field: 'description'}\r\n                    ]}\r\n                    data={businessUnitsData}\r\n                    isLoading={isLoading}\r\n                    options={{\r\n                        pageSize: 10,\r\n                        pageSizeOptions: [10,25,50, 100],\r\n                        searchFieldAlignment: 'left',\r\n                        actionsColumnIndex: -1,\r\n                    }}\r\n                    localization={{\r\n                        toolbar: {\r\n                            searchTooltip: 'Buscar',\r\n                            searchPlaceholder: 'Buscar'\r\n                        },\r\n                        header: {\r\n                            actions: ''\r\n                        },\r\n                        pagination: {\r\n                            labelRowsSelect: 'resultados',\r\n                            labelRowsPerPage: 'resultados',\r\n                            labelDisplayedRows: '{from}-{to} de {count}'\r\n                        },\r\n                        body: {\r\n                            emptyDataSourceMessage: '',\r\n                        }\r\n                    }}\r\n                    actions={[\r\n                        {\r\n                            icon: 'add',\r\n                            tooltip: 'Crear Unidad de Negocio',\r\n                            isFreeAction: true,\r\n                            onClick: () => setDialogAction({actionType: 'create', dialogVisible: true}),\r\n                            position:'toolbar'\r\n                        }, \r\n                        {\r\n                            icon: 'edit',\r\n                            tooltip: 'Editar',\r\n                            onClick: (event, rowData) => editBusinessUnit(rowData)\r\n                        }\r\n                    ]}\r\n                    />\r\n                </div>            \r\n                <ActionDialog action={dialogAction} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(BusinessUnits);","import axios from 'axios';\r\n\r\nexport const getAllProductPresentations = () => {\r\n    return async function(getState) {\r\n        const productpresentations = await axios.get(`productpresentations`)\r\n        return productpresentations.data;\r\n    }\r\n}\r\n\r\nexport const getAllTherapeuticlass = () => {\r\n    return async function(getState) {\r\n        const therapeuticalclasses = await axios.get(`therapeuticalclasses`)\r\n        return therapeuticalclasses.data;\r\n    }\r\n}\r\n\r\nexport const getAllBusinessUnits = () => {\r\n    return async function(getState) {\r\n        const businessUnits = await axios.get(`businessUnits`)\r\n        return businessUnits.data;\r\n    }\r\n}\r\n\r\nexport const updateProductPresentation = (productPresentationCode, data) => {\r\n    return async function(getState) {\r\n        const update = await axios.put(`productpresentations/${productPresentationCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return update.data;\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item, therapeuticalClass, businessUnits } } = props;\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (values.therapeuticalClassCode == '') {\r\n          errors.therapeuticalClassCode = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n        \r\n        if (values.businessUnitCode == '') {\r\n            errors.businessUnitCode = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }          \r\n        \r\n        if (values.classCode === '') {\r\n            errors.classCode = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        return errors;\r\n    };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n          therapeuticalClassCode: actionType == 'edit' ? item.therapeuticalClassCode : '',\r\n          businessUnitCode: actionType == 'edit' ? item.businessUnitCode : null,\r\n          classCode: actionType == 'edit' ? item.classCode : null\r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    await props.updateProductPresentation(item.code, JSON.stringify({therapeuticalClassCode: values.therapeuticalClassCode, businessUnitCode: values.businessUnitCode == undefined ? null: values.businessUnitCode, classCode: values.classCode == undefined ? null : values.classCode}))\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n\r\n\r\n    return (\r\n        <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={dialogVisible} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText> {actionType == 'edit' ? `Editar ${item.description}` : 'Nueva Unidad de Negocio' } </DialogContentText>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label \r\n                className={(formik.touched.therapeuticalClassCode && Boolean(formik.errors.therapeuticalClassCode)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }\r\n                style={{ color: (formik.touched.therapeuticalClassCode && Boolean(formik.errors.therapeuticalClassCode)) ? '#f018a6' : '' }}\r\n            >\r\n                Clase Teraputica\r\n            </label>\r\n                <Select\r\n                    className={`mt-0`}\r\n                    fullWidth\r\n                    id=\"therapeuticalClassCode\"\r\n                    name=\"therapeuticalClassCode\"\r\n                    value={formik.values.therapeuticalClassCode}\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.therapeuticalClassCode && Boolean(formik.errors.therapeuticalClassCode)}\r\n                    helperText={formik.touched.therapeuticalClassCode && formik.errors.therapeuticalClassCode}\r\n                >\r\n                    <MenuItem key=\"empty-line\" value={''}>&nbsp;</MenuItem>\r\n                    {therapeuticalClass.map((thep,key) => {\r\n                        return (\r\n                            <MenuItem value={thep.code} key={key}>{thep.description}</MenuItem>\r\n                        )\r\n                        })\r\n                    }\r\n                </Select>\r\n                {formik.touched.therapeuticalClassCode && Boolean(formik.errors.therapeuticalClassCode) &&\r\n                  <p className=\"MuiFormHelperText-root Mui-error\"  style={{color: '#f018a6', fontSize: '0.75rem'}}>{formik.touched.therapeuticalClassCode && formik.errors.therapeuticalClassCode}</p>\r\n                }                \r\n        </FormControl>\r\n        <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label \r\n                className={(formik.touched.businessUnitCode && Boolean(formik.errors.businessUnitCode)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }\r\n                style={{ color: (formik.touched.businessUnitCode && Boolean(formik.errors.businessUnitCode)) ? '#f018a6' : '' }}\r\n            >\r\n                Unidad de Negocio\r\n            </label>\r\n                <Select\r\n                    className={`mt-0`}\r\n                    fullWidth\r\n                    id=\"businessUnitCode\"\r\n                    name=\"businessUnitCode\"\r\n                    value={formik.values.businessUnitCode}\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.businessUnitCode && Boolean(formik.errors.businessUnitCode)}\r\n                    helperText={formik.touched.businessUnitCode && formik.errors.businessUnitCode}\r\n                >\r\n                    <MenuItem key=\"empty-line\" value={''}>&nbsp;</MenuItem>\r\n                    {businessUnits.map((bu,key) => {\r\n                        return (\r\n                            <MenuItem value={bu.code} key={key}>{bu.description}</MenuItem>\r\n                        )\r\n                        })\r\n                    }\r\n                </Select>\r\n                {formik.touched.businessUnitCode && Boolean(formik.errors.businessUnitCode) &&\r\n                  <p className=\"MuiFormHelperText-root Mui-error\"  style={{color: '#f018a6', fontSize: '0.75rem'}}>{formik.touched.businessUnitCode && formik.errors.businessUnitCode}</p>\r\n                }                \r\n        </FormControl>\r\n        <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label \r\n                className={(formik.touched.classCode && Boolean(formik.errors.classCode)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }\r\n                style={{ color: (formik.touched.classCode && Boolean(formik.errors.classCode)) ? '#f018a6' : '' }}\r\n            >\r\n                Gnero\r\n            </label>\r\n                <Select\r\n                    className={`mt-0`}\r\n                    fullWidth\r\n                    id=\"classCode\"\r\n                    name=\"classCode\"\r\n                    value={formik.values.classCode}\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.classCode && Boolean(formik.errors.classCode)}\r\n                    helperText={formik.touched.classCode && formik.errors.classCode}\r\n                >\r\n                    <MenuItem key=\"empty-line\" value={''}>&nbsp;</MenuItem>\r\n                    <MenuItem key='TOTAL' value={0}>\r\n                        <FormattedMessage id=\"MASTER.CLASS.TOTAL\" />\r\n                    </MenuItem>\r\n                    <MenuItem key='ETICO' value={1}>\r\n                        <FormattedMessage id=\"MASTER.CLASS.ETICO\" />\r\n                    </MenuItem>\r\n                    <MenuItem key='POPULAR' value={2}>\r\n                        <FormattedMessage id=\"MASTER.CLASS.POPULAR\" />\r\n                    </MenuItem>\r\n                </Select>\r\n                {formik.touched.classCode && Boolean(formik.errors.classCode) &&\r\n                  <p className=\"MuiFormHelperText-root Mui-error\"  style={{color: '#f018a6', fontSize: '0.75rem'}}>{formik.touched.classCode && formik.errors.classCode}</p>\r\n                }                \r\n        </FormControl>\r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            Cancelar\r\n          </Button>\r\n          <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formik.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(ActionDialog);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './_redux/Actions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst ProductPresentation = (props) => {\r\n    const classes = useStyles();\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ productPresentationData, setProductPresentations ] = React.useState([])\r\n    const [ therapeuticalClassData, setTherapeuticalClass ] = React.useState([])\r\n    const [ businessUnitsData, setBusinessUnits ] = React.useState([])\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false,\r\n        therapeuticalClass: [],\r\n        businessUnits: []\r\n    })\r\n\r\n    const getProductsPresentations = async() => {\r\n        let getProductPresentations = await props.getAllProductPresentations();\r\n        let getTherapeuticlass = await props.getAllTherapeuticlass();\r\n        let getBusinessUnit = await props.getAllBusinessUnits()\r\n        setProductPresentations(getProductPresentations)\r\n        setTherapeuticalClass(getTherapeuticlass)\r\n        setBusinessUnits(getBusinessUnit)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getProductsPresentations()\r\n    },[])\r\n\r\n    const editProductPresentation = (item) => {\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, item: item, therapeuticalClass: therapeuticalClassData, businessUnits: businessUnitsData})\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getProductsPresentations()\r\n    }\r\n\r\n    return (\r\n        <>\r\n           <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                    <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                        <MaterialTable\r\n                            title=\"Presentaciones\"\r\n                            columns={[\r\n                                {title: 'Ttulo', field: 'description'},\r\n                                {title: 'Gnero', field: 'classDescription'},\r\n                                {title: 'Unidad de Negocio', field: 'businessUnitDescription'},\r\n                                {title: 'Clase Teraputica', field: 'therapeuticalClassDescription'},\r\n                            ]}\r\n                            data={productPresentationData}\r\n                            isLoading={isLoading}\r\n                            options={{\r\n                                pageSize: 10,\r\n                                pageSizeOptions: [10,25,50, 100],\r\n                                searchFieldAlignment: 'left',\r\n                                actionsColumnIndex: -1,\r\n                            }}\r\n                            actions={[\r\n                                {\r\n                                    icon: 'edit',\r\n                                    tooltip: 'Editar',\r\n                                    onClick: (event, rowData) => editProductPresentation(rowData)\r\n                                }\r\n                            ]}\r\n                            localization={{\r\n                                toolbar: {\r\n                                    searchTooltip: 'Buscar',\r\n                                    searchPlaceholder: 'Buscar'\r\n                                },\r\n                                header: {\r\n                                    actions: ''\r\n                                },\r\n                                pagination: {\r\n                                    labelRowsSelect: 'resultados',\r\n                                    labelRowsPerPage: 'resultados',\r\n                                    labelDisplayedRows: '{from}-{to} de {count}'\r\n                                },\r\n                                body: {\r\n                                    emptyDataSourceMessage: '',\r\n                                }\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    {dialogAction.dialogVisible &&\r\n                        <ActionDialog action={dialogAction} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                    }\r\n                </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(ProductPresentation);","import axios from 'axios';\r\n\r\nexport const getAllProducts = () => {\r\n    return async function(getState) {\r\n        const product = await axios.get(`products`)\r\n        return product.data;\r\n    }\r\n}\r\nexport const getAllLaboratories = () => {\r\n    return async function(getState) {\r\n        const businessUnits = await axios.get(`laboratories`)\r\n        return businessUnits.data;\r\n    }\r\n}\r\n\r\nexport const updateProduct = (productCode, data) => {\r\n    return async function(getState) {\r\n        const update = await axios.put(`products/${productCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return update.data;\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { useFormik } from 'formik';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item, laboratories } } = props;\r\n    const [loading, setLoading] = React.useState(false);\r\n    \r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.laboratoryCode) {\r\n          errors.laboratoryCode = 'campo obligatorio';\r\n        }\r\n      \r\n        return errors;\r\n    }; \r\n    const formikProduct = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            laboratoryCode: actionType == 'edit' ? item.laboratoryCode : '' \r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    await props.updateProduct(item.code, JSON.stringify({laboratoryCode: values.laboratoryCode}))\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: \"Error. No se ha podido completar la accin\"} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n\r\n    return (\r\n        <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={dialogVisible} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText> {actionType == 'edit' ? `Editar ${item.description}` : 'Nuevo producto' } </DialogContentText>\r\n      <form onSubmit={formikProduct.handleSubmit}>\r\n        <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label className={(formikProduct.touched.laboratoryCode && Boolean(formikProduct.errors.laboratoryCode)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>Laboratorio</label>\r\n                <Select\r\n                    className={`mt-0`}\r\n                    fullWidth\r\n                    id=\"laboratoryCode\"\r\n                    name=\"laboratoryCode\"\r\n                    value={formikProduct.values.laboratoryCode}\r\n                    onChange={formikProduct.handleChange}\r\n                    error={formikProduct.touched.clase && Boolean(formikProduct.errors.laboratoryCode)}\r\n                    helperText={formikProduct.touched.laboratoryCode && formikProduct.errors.laboratoryCode}\r\n                >\r\n                    <MenuItem key=\"empty-line\" value={''}>&nbsp;</MenuItem>\r\n                    {laboratories.map((lab,key) => {\r\n                        return (\r\n                            <MenuItem value={lab.code} key={key}>{lab.description}</MenuItem>\r\n                        )\r\n                        })\r\n                    }\r\n                </Select>\r\n                {formikProduct.touched.clase && Boolean(formikProduct.errors.laboratoryCode) &&\r\n                  <p className=\"MuiFormHelperText-root Mui-error\">{formikProduct.touched.clase && formikProduct.errors.clase}</p>\r\n                }                \r\n        </FormControl>\r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={formikProduct.isSubmitting}>\r\n            Cancelar\r\n          </Button>\r\n          <Button \r\n            onClick={formikProduct.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={formikProduct.isSubmitting}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(ActionDialog);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './_redux/Actions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst Product = (props) => {\r\n    const classes = useStyles();\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ productData, setProducts ] = React.useState([])\r\n    const [ laboratories, setLaboratories ] = React.useState([])\r\n\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false,\r\n        laboratories: []\r\n    })\r\n\r\n    const getProducts = async() => {\r\n        let getProduct = await props.getAllProducts();\r\n        let getLaboratory = await props.getAllLaboratories();\r\n        setProducts(getProduct)\r\n        setLaboratories(getLaboratory)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getProducts()\r\n    },[])\r\n\r\n    const editProduct = (item) => {\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, item: item, laboratories})\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getProducts()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                    <MaterialTable\r\n                        title=\"Productos\"\r\n                        columns={[\r\n                            {title: 'Ttulo', field: 'description'},\r\n                            {title: 'Laboratorio', field: 'laboratoryDescription'}\r\n                        ]}\r\n                        data={productData}\r\n                        isLoading={isLoading}\r\n                        options={{\r\n                            pageSize: 10,\r\n                            pageSizeOptions: [10,25,50, 100],\r\n                            searchFieldAlignment: 'left',\r\n                            actionsColumnIndex: -1,\r\n                        }}\r\n                        actions={[\r\n                            {\r\n                                icon: 'edit',\r\n                                tooltip: 'Editar',\r\n                                onClick: (event, rowData) => editProduct(rowData)\r\n                            }\r\n                        ]}\r\n                        localization={{\r\n                            toolbar: {\r\n                                searchTooltip: 'Buscar',\r\n                                searchPlaceholder: 'Buscar'\r\n                            },\r\n                            header: {\r\n                                actions: ''\r\n                            },\r\n                            pagination: {\r\n                                labelRowsSelect: 'resultados',\r\n                                labelRowsPerPage: 'resultados',\r\n                                labelDisplayedRows: '{from}-{to} de {count}'\r\n                            },\r\n                            body: {\r\n                                emptyDataSourceMessage: '',\r\n                            }\r\n                        }}\r\n                    />\r\n                </div>\r\n                {dialogAction.dialogVisible &&\r\n                    <ActionDialog action={dialogAction} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(Product);","import axios from 'axios';\r\n\r\nexport const getAllProductGroup = () => {\r\n    return async function(getState) {\r\n        const productGroup = await axios.get(`products/groups`)\r\n        return productGroup.data;\r\n    }\r\n}\r\nexport const getAllProducts = () => {\r\n    return async function(getState) {\r\n        const products = await axios.get(`products`)\r\n        return products.data;\r\n    }\r\n}\r\n\r\nexport const getDetailProductGroup = (id) => {\r\n    return async function(getState) {\r\n        const detail = await axios.get(`products/group/${id}`)\r\n        return detail.data;\r\n    }\r\n}\r\n\r\nexport const createProductGroup = (data) => {\r\n    return async function(dispatch) {\r\n      const createProductGroup = await axios.post(`products/group`, data, { headers: { 'Content-Type':'application/json'}})\r\n      return createProductGroup.data;\r\n    }\r\n}\r\n\r\nexport const updateProductGroup = (productGroupCode, data) => {\r\n    return async function(getState) {\r\n        const update = await axios.put(`products/group/${productGroupCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return update.data;\r\n    }\r\n\r\n}\r\n\r\nexport const deleteProductGroup = (productGroupCode) => {\r\n    return async function(getState) {\r\n        const deleteProductGroup = await axios.delete(`products/group/${productGroupCode}`)\r\n        return deleteProductGroup.data;\r\n    }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport { injectIntl, FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport SelectItems, { createFilter } from 'react-select'\r\nimport { List } from 'react-virtualized';\r\nimport { useFormik } from 'formik';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst MenuList = props => {\r\n    const rows = props.children;\r\n    const rowRenderer = ({ key, index, isScrolling, isVisible, style }) => {\r\n        return (\r\n            <div key={key} style={style}>\r\n                {rows[index]}\r\n            </div>\r\n        )\r\n    }  \r\n    return (\r\n      <List\r\n        style={{ width: '100%' }}\r\n        width={800}\r\n        height={350}\r\n        rowHeight={30}\r\n        rowCount={rows.length}\r\n        rowRenderer={rowRenderer}\r\n      />\r\n    );\r\n};\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item, detail }, all_products, intl } = props;\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [ productGroupData, setProductGroupData ]  = React.useState([]);\r\n    const [ productSelecteds, setProductSelecteds ]  = React.useState([]);\r\n    const [ deleteErrors, setDeleteErrors] = React.useState({});\r\n\r\n    const parseProductGroup = () => {\r\n        const  productData = []\r\n        if(actionType == 'edit') {\r\n            const productFromDetail = [];\r\n            detail.map(productItem => {\r\n                productFromDetail.push({label: productItem.description, value: productItem.productCode })\r\n            })\r\n            setProductSelecteds(productFromDetail)\r\n        }\r\n        all_products.map(product => {\r\n            \r\n            let description = product.description;\r\n            productData.push({label: description.toUpperCase(), value: product.code  })\r\n        })\r\n        setProductGroupData(productData);\r\n    }\r\n    React.useEffect(() => {\r\n        parseProductGroup()\r\n    },[])\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        if(productSelecteds == null || productSelecteds.length == 0) {\r\n            errors.minItems = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        return errors;\r\n    };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            description: actionType == 'edit' ? item.description : ''\r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    let productCodes = []\r\n                    productSelecteds.map(productItem => {\r\n                        productCodes.push(productItem.value)\r\n                    })\r\n                    if(actionType == 'edit') {\r\n                        await props.updateProductGroup(item.code, JSON.stringify({description: values.description, productCodes}))\r\n                    }\r\n                    if(actionType == 'create') {\r\n                        await props.createProductGroup(JSON.stringify({description: values.description, productCodes}))\r\n                    }\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n    const onDeleteProductGroup = async() => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n                try {\r\n                    await props.deleteProductGroup(item.code)\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setDeleteErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                }\r\n        }, 500)   \r\n    }\r\n    \r\n    const renderContent = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            \r\n            return (\r\n                <form onSubmit={formik.handleSubmit}>\r\n                    <TextField\r\n                        className={`mb-4`}\r\n                        fullWidth\r\n                        id=\"description\"\r\n                        name=\"description\"\r\n                        label=\"Ttulo\"\r\n                        value={formik.values.description}\r\n                        autoComplete=\"off\"\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.description && Boolean(formik.errors.description)}\r\n                        helperText={formik.touched.description && formik.errors.description}\r\n                    />\r\n                    <FormControl className={`d-block mb-4 mt-2`}>\r\n                        <label className={Boolean(formik.errors.minItems) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n                            <FormattedMessage id=\"CUSTOM_MARKET_DEFINITION.TITLE.PRODUCT\" />\r\n                        </label>                        \r\n                        <div style={{width:'100%', height:400, marginRight:0, paddingRight: 0}}>\r\n                            <SelectItems\r\n                                disabled={false}\r\n                                isMulti={true}\r\n                                isSearchable={true}\r\n                                isOptionSelected={true}\r\n                                components={{ MenuList }}\r\n                                filterOption={createFilter({ignoreAccents: false})}\r\n                                onChange={setProductSelecteds}\r\n                                options={productGroupData}\r\n                                placeholder={intl.formatMessage({id: 'PRODUCT_GROUP.SELECT_TITLE'})}\r\n                                value={productSelecteds}\r\n                                openMenuOnClick={true}\r\n                                menuIsOpen={true}\r\n                            />\r\n                        </div>\r\n                        {Boolean(formik.errors.minItems) &&\r\n                            <span style={{color:'#f018a6', marginBottom: 20}}>{intl.formatMessage({id: 'FORM.ERROR.REQUIRED_FIELD'})}</span>\r\n                        }                            \r\n                    </FormControl>\r\n                </form>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <p><FormattedMessage id=\"PRODUCT_GROUP.DELETE_TITLE\" values={{ productGroup: item.description }}/></p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    const renderTitle = () => {\r\n        let title = '';\r\n        if(actionType == 'create') {\r\n            title = intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT\"})\r\n        }\r\n        if(actionType == 'edit') {\r\n            title = item.description\r\n        }\r\n        if(actionType == 'delete') {\r\n            title = intl.formatMessage({id: \"FORM.ACTION.DELETE\"})\r\n        }\r\n        return <span className=\"text-uppercase\">{title}</span>\r\n    }\r\n    const renderButtons = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <Button \r\n                    onClick={formik.handleSubmit} \r\n                    color=\"primary\" \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n                    <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <Button \r\n                    onClick={onDeleteProductGroup} \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-red\"></span>}\r\n                    <span style={{color: loading ? '#ccc' : 'red', paddingLeft:'25px'}}>Eliminar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n    \r\n    return (\r\n        <Dialog \r\n            maxWidth=\"sm\"\r\n            fullWidth={true}\r\n            open={dialogVisible} \r\n            onClose={handleClose} \r\n            aria-labelledby=\"form-dialog-title\"\r\n        >\r\n        <DialogContent>\r\n            <DialogContentText>\r\n                <>{renderTitle()}</>\r\n            </DialogContentText>\r\n            {renderContent()}\r\n        </DialogContent>\r\n        <DialogActions>\r\n            {formik.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{formik.errors.api}</div>\r\n            }  \r\n            {deleteErrors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{deleteErrors.api}</div>\r\n            }              \r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={loading ? true : false}>\r\n            {intl.formatMessage({id: actionType == 'edit' ? \"FORM.ACTION.CANCEL\" : \"FORM.ACTION.CLOSE\" })}\r\n          </Button>\r\n          {renderButtons()}\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ActionDialog));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as ProductGroupActions from './_redux/Actions';\r\nimport * as MercadosActions from '../Mercados/_redux/mercadosActions'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport { injectIntl } from \"react-intl\";\r\nimport Can from './../../config/Can';\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst actions = Object.assign({}, ProductGroupActions, MercadosActions);\r\nconst ProductGroup = (props) => {\r\n    const classes = useStyles();\r\n    const { intl } = props;\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ productGroupData, setProductGroups ] = React.useState([])\r\n    const [ all_products, setAllProducts ] = React.useState([])\r\n\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false,\r\n        all_products: []\r\n    })\r\n\r\n    const [ allowedPermission, setAllowedPermission ] = React.useState(false)\r\n\r\n    const getProductGroups = async() => {\r\n        let getProduct = await props.getAllProductGroup();\r\n        setProductGroups(getProduct)\r\n        const products = await props.getAllProducts();\r\n        setAllProducts(products)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getProductGroups()\r\n    },[])\r\n\r\n    const editProductGroup = async(item) => {\r\n        setLoading(true)\r\n        let getDetail = await props.getDetailProductGroup(item.code)\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, all_products: all_products, detail: getDetail, item: item  })\r\n        setLoading(false)\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getProductGroups()\r\n        await props.getProducts()\r\n    }\r\n    const deleteProductGroup = (item) => {\r\n        setDialogAction({actionType: 'delete', dialogVisible: true, item: item })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Can I=\"view\" a=\"manage-custom-market\" passThrough>\r\n                {(allowed) => setAllowedPermission(allowed)}\r\n            </Can>\r\n            <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                    <MaterialTable\r\n                        title={intl.formatMessage({id: \"MENU.MASTERS.PRODUCT_GROUP\"})}\r\n                        columns={[\r\n                            {title: 'Ttulo', field: 'description'},\r\n                        ]}\r\n                        data={productGroupData}\r\n                        isLoading={isLoading}\r\n                        options={{\r\n                            pageSize: 10,\r\n                            pageSizeOptions: [10,25,50, 100],\r\n                            searchFieldAlignment: 'left',\r\n                            actionsColumnIndex: -1,\r\n                        }}\r\n                        actions={\r\n                            [{\r\n                                icon: 'edit',\r\n                                tooltip: intl.formatMessage({id: \"ACTION.EDIT\"}),\r\n                                onClick: (event, rowData) => editProductGroup(rowData)\r\n                            },\r\n                            {\r\n                                icon: 'delete',\r\n                                tooltip: intl.formatMessage({id: \"FORM.ACTION.DELETE\"}) ,\r\n                                onClick: (event, rowData) => deleteProductGroup(rowData)\r\n                            },\r\n                            {\r\n                                icon: 'add',\r\n                                tooltip: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT\"}),    \r\n                                isFreeAction: true,\r\n                                onClick: () => setDialogAction({actionType: 'create', dialogVisible: true, all_products: all_products }),\r\n                                hidden: allowedPermission == true ? false: true\r\n                            }\r\n                        ]}\r\n                        localization={{\r\n                            toolbar: {\r\n                                searchTooltip: 'Buscar',\r\n                                searchPlaceholder: 'Buscar'\r\n                            },\r\n                            header: {\r\n                                actions: ''\r\n                            },\r\n                            pagination: {\r\n                                labelRowsSelect: 'resultados',\r\n                                labelRowsPerPage: 'resultados',\r\n                                labelDisplayedRows: '{from}-{to} de {count}'\r\n                            },\r\n                            body: {\r\n                                emptyDataSourceMessage: '',\r\n                            }\r\n                        }}\r\n                    />\r\n                </div>\r\n                {dialogAction.dialogVisible &&\r\n                    <ActionDialog action={dialogAction} all_products={all_products} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ProductGroup));","import axios from 'axios';\r\n\r\nexport const getAllProductPresentationGroup = () => {\r\n    return async function(getState) {\r\n        const productGroup = await axios.get(`productpresentations/groups`)\r\n        return productGroup.data;\r\n    }\r\n}\r\n\r\nexport const getAllProductPresentation = () => {\r\n    return async function(getState) {\r\n        const productPresentations = await axios.get(`productpresentations`)\r\n        return productPresentations.data;\r\n    }\r\n}\r\n\r\nexport const getDetailProductPresentationGroup = (id) => {\r\n    return async function(getState) {\r\n        const detail = await axios.get(`productpresentations/group/${id}`)\r\n        return detail.data;\r\n    }\r\n}\r\n\r\nexport const createProductPresentationGroup = (data) => {\r\n    return async function(dispatch) {\r\n      const createPPGroup = await axios.post(`productpresentations/group`, data, { headers: { 'Content-Type':'application/json'}})\r\n      return createPPGroup.data\r\n    }\r\n}\r\n\r\nexport const updateProductPresentationGroup = (productPresentationCode, data) => {\r\n    return async function(getState) {\r\n        const update = await axios.put(`productpresentations/group/${productPresentationCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return update.data;\r\n    }\r\n\r\n}\r\n\r\nexport const deleteProductPresentationGroup = (productPresentationGroupCode) => {\r\n    return async function(getState) {\r\n        const deleteProductPresentationGroup = await axios.delete(`productpresentations/group/${productPresentationGroupCode}`)\r\n        return deleteProductPresentationGroup.data;\r\n    }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport { injectIntl, FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select, { createFilter } from 'react-select'\r\nimport { List } from 'react-virtualized';\r\nimport { useFormik } from 'formik';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst MenuList = props => {\r\n    const rows = props.children;\r\n    const rowRenderer = ({ key, index, isScrolling, isVisible, style }) => {\r\n        return (\r\n            <div key={key} style={style}>\r\n                {rows[index]}\r\n            </div>\r\n        )\r\n    }  \r\n    return (\r\n      <List\r\n        style={{ width: '100%' }}\r\n        width={800}\r\n        height={350}\r\n        rowHeight={30}\r\n        rowCount={rows.length}\r\n        rowRenderer={rowRenderer}\r\n      />\r\n    );\r\n  };\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item, detail }, intl, all_productsPresentations } = props;\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [ productPresentationGroupData, setProductPresentationGroupData ]  = React.useState([]);\r\n    const [ productPresentationSelecteds, setProductPresentationSelecteds ]  = React.useState([]);\r\n    const [ deleteErrors, setDeleteErrors] = React.useState({});\r\n\r\n    const parseProductPresentationGroup = () => {\r\n        const  productData = []\r\n        if(actionType == 'edit') {\r\n            const productPresentationFromDetail = [];\r\n            detail.map(productPresentationItem => {\r\n                productPresentationFromDetail.push({label: productPresentationItem.description, value: productPresentationItem.code })\r\n            })\r\n            setProductPresentationSelecteds(productPresentationFromDetail)\r\n        }\r\n        all_productsPresentations.map(productPresentation => {\r\n            \r\n            let description = productPresentation.description;\r\n            productData.push({label: description.toUpperCase(), value: productPresentation.code  })\r\n        })\r\n        setProductPresentationGroupData(productData);\r\n        \r\n    }\r\n    React.useEffect(() => {\r\n        parseProductPresentationGroup()\r\n    },[])\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n      \r\n        if(productPresentationSelecteds == null || productPresentationSelecteds.length == 0) {\r\n            errors.minItems = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        return errors;\r\n    };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            description: actionType == 'edit' ? item.description : '' \r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    let productPresentationCodes = []\r\n                    productPresentationSelecteds.map(productItem => {\r\n                        productPresentationCodes.push(productItem.value)\r\n                    })\r\n                    if(actionType == 'edit') {\r\n                        await props.updateProductPresentationGroup(item.code, JSON.stringify({description: values.description, productPresentationCodes}))\r\n                    }\r\n                    if(actionType == 'create') {\r\n                        await props.createProductPresentationGroup(JSON.stringify({description: values.description, productPresentationCodes}))\r\n                    }\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n    const onDeleteProductPresentationGroup = async() => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n                try {\r\n                    await props.deleteProductPresentationGroup(item.code)\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setDeleteErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                }\r\n        }, 500)   \r\n    }\r\n    const renderContent = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <form onSubmit={formik.handleSubmit}>\r\n                    <TextField\r\n                        className={`mb-4`}\r\n                        fullWidth\r\n                        id=\"description\"\r\n                        name=\"description\"\r\n                        label=\"Ttulo\"\r\n                        value={formik.values.description}\r\n                        autoComplete=\"off\"\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.description && Boolean(formik.errors.description)}\r\n                        helperText={formik.touched.description && formik.errors.description}\r\n                    />\r\n                    <FormControl className={`d-block mb-4 mt-2`}>\r\n                        <label className={Boolean(formik.errors.minItems) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n                            <FormattedMessage id=\"CUSTOM_MARKET_DEFINITION.TITLE.PRODUCT_PRESENTATION\" />\r\n                        </label>                           \r\n                        <div style={{width:'100%', height:400, marginRight:0, paddingRight: 0}}>\r\n                            <Select\r\n                                disabled={false}\r\n                                isMulti={true}\r\n                                isSearchable={true}\r\n                                isOptionSelected={true}\r\n                                filterOption={createFilter({ignoreAccents: false})}\r\n                                components={{ MenuList }}\r\n                                onChange={setProductPresentationSelecteds}\r\n                                options={productPresentationGroupData}\r\n                                placeholder={intl.formatMessage({id: 'PRODUCT_PRESENTATION_GROUP.SELECT_TITLE'})}\r\n                                value={productPresentationSelecteds}\r\n                                openMenuOnClick={true}\r\n                                menuIsOpen={true}\r\n                            />\r\n                        </div>\r\n                        {Boolean(formik.errors.minItems) &&\r\n                            <span style={{color:'#f018a6', marginBottom: 20}}>{intl.formatMessage({id: 'FORM.ERROR.REQUIRED_FIELD'})}</span>\r\n                        }                            \r\n                    </FormControl>\r\n                </form>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <p><FormattedMessage id=\"PRODUCT_PRESENTATION_GROUP.DELETE_TITLE\" values={{ productPresentationGroup: item.description }}/></p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    const renderTitle = () => {\r\n        let title = '';\r\n        if(actionType == 'create') {\r\n            title = intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"})\r\n        }\r\n        if(actionType == 'edit') {\r\n            title = item.description\r\n        }\r\n        if(actionType == 'delete') {\r\n            title = intl.formatMessage({id: \"FORM.ACTION.DELETE\"})\r\n        }\r\n        return <span className=\"text-uppercase\">{title}</span>\r\n    }\r\n    const renderButtons = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <Button \r\n                    onClick={formik.handleSubmit} \r\n                    color=\"primary\" \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n                    <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <Button \r\n                    onClick={onDeleteProductPresentationGroup} \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-red\"></span>}\r\n                    <span style={{color: loading ? '#ccc' : 'red', paddingLeft:'25px'}}>Eliminar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n    return (\r\n        <Dialog \r\n            maxWidth=\"sm\"\r\n            fullWidth={true}\r\n            open={dialogVisible} \r\n            onClose={handleClose} \r\n            aria-labelledby=\"form-dialog-title\"\r\n        >\r\n        <DialogContent>\r\n            <DialogContentText>\r\n                <>{renderTitle()}</>\r\n            </DialogContentText>\r\n            {renderContent()}\r\n        </DialogContent>\r\n        <DialogActions>\r\n            {formik.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{formik.errors.api}</div>\r\n            }  \r\n            {deleteErrors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{deleteErrors.api}</div>\r\n            }                      \r\n            <Button \r\n                onClick={handleClose} \r\n                color=\"primary\" \r\n                disabled={loading ? true : false}>\r\n                {intl.formatMessage({ id: \"FORM.ACTION.CANCEL\" })}\r\n            </Button>\r\n            {renderButtons()}\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ActionDialog));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as ProductPresentationGroupActions from './_redux/Actions';\r\nimport * as MercadosActions from '../Mercados/_redux/mercadosActions'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport { injectIntl } from \"react-intl\";\r\nimport Can from './../../config/Can';\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst actions = Object.assign({}, ProductPresentationGroupActions, MercadosActions);\r\nconst ProductPresentationGroup = (props) => {\r\n    const classes = useStyles();\r\n    const { intl } = props;\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ productGroupData, setProductPresentationGroups ] = React.useState([])\r\n    const [ all_productsPresentations, setAllProductsPresentations ] = React.useState([])\r\n\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false,\r\n        laboratories: []\r\n    })\r\n    const [ allowedPermission, setAllowedPermission ] = React.useState(false)\r\n\r\n    const getProductPresentationGroups = async() => {\r\n        let getProduct = await props.getAllProductPresentationGroup();\r\n        setProductPresentationGroups(getProduct)\r\n        const productPresentation = await props.getAllProductPresentation();\r\n        setAllProductsPresentations(productPresentation)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getProductPresentationGroups()\r\n    },[])\r\n\r\n    const editProductPresentationGroup = async(item) => {\r\n        setLoading(true)\r\n        let getDetail = await props.getDetailProductPresentationGroup(item.code)\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, all_productsPresentations: all_productsPresentations, detail: getDetail, item: item  })\r\n        setLoading(false)\r\n        //setDialogAction({actionType: 'edit', dialogVisible: true, item: item })\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getProductPresentationGroups()\r\n        await props.getProductPresentations()\r\n    }\r\n    const deleteProductPresentationGroup = (item) => {\r\n        setDialogAction({actionType: 'delete', dialogVisible: true, item: item })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Can I=\"view\" a=\"manage-custom-market\" passThrough>\r\n                {(allowed) => setAllowedPermission(allowed)}\r\n            </Can>\r\n            <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                    <MaterialTable\r\n                        title={intl.formatMessage({id: \"MENU.MASTERS.PRODUCT_PRESENTATION_GROUP\"})}\r\n                        columns={[\r\n                            {title: 'Ttulo', field: 'description'},\r\n                        ]}\r\n                        data={productGroupData}\r\n                        isLoading={isLoading}\r\n                        options={{\r\n                            pageSize: 10,\r\n                            pageSizeOptions: [10,25,50, 100],\r\n                            searchFieldAlignment: 'left',\r\n                            actionsColumnIndex: -1,\r\n                        }}\r\n                        actions={[\r\n                            {\r\n                                icon: 'edit',\r\n                                tooltip: intl.formatMessage({id: \"ACTION.EDIT\"}),\r\n                                onClick: (event, rowData) => editProductPresentationGroup(rowData),\r\n                                hidden: allowedPermission == true ? false: true\r\n                            },\r\n                            {\r\n                                icon: 'delete',\r\n                                tooltip: intl.formatMessage({id: \"FORM.ACTION.DELETE\"}),\r\n                                onClick: (event, rowData) => deleteProductPresentationGroup(rowData),\r\n                                hidden: allowedPermission == true ? false: true\r\n                            },\r\n                            {\r\n                                icon: 'add',\r\n                                tooltip: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.PRODUCT_PRESENTATION\"}),    \r\n                                isFreeAction: true,\r\n                                onClick: () => setDialogAction({actionType: 'create', dialogVisible: true, all_productsPresentations: all_productsPresentations }),\r\n                                hidden: allowedPermission == true ? false: true\r\n                            }\r\n                        ]}\r\n                        localization={{\r\n                            toolbar: {\r\n                                searchTooltip: 'Buscar',\r\n                                searchPlaceholder: 'Buscar'\r\n                            },\r\n                            header: {\r\n                                actions: ''\r\n                            },\r\n                            pagination: {\r\n                                labelRowsSelect: 'resultados',\r\n                                labelRowsPerPage: 'resultados',\r\n                                labelDisplayedRows: '{from}-{to} de {count}'\r\n                            },\r\n                            body: {\r\n                                emptyDataSourceMessage: '',\r\n                            }\r\n                        }}\r\n                    />\r\n                </div>\r\n                {dialogAction.dialogVisible &&\r\n                    <ActionDialog action={dialogAction} all_productsPresentations={all_productsPresentations} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ProductPresentationGroup));","import axios from 'axios';\r\n\r\nexport const getAllLaboratoriesGroup = () => {\r\n    return async function(getState) {\r\n        const laboratoriesGroup = await axios.get(`laboratories/groups`)\r\n        return laboratoriesGroup.data;\r\n    }\r\n}\r\nexport const getAllLaboratories = () => {\r\n    return async function(getState) {\r\n        const laboratories = await axios.get(`laboratories`)\r\n        return laboratories.data;\r\n    }\r\n}\r\n\r\nexport const getDetailLaboratoryGroup = (id) => {\r\n    return async function(getState) {\r\n        const detail = await axios.get(`laboratories/group/${id}`)\r\n        return detail.data;\r\n    }\r\n}\r\n\r\nexport const createLaboratoryGroup = (data) => {\r\n    return async function(dispatch) {\r\n      const createLaboraotryGroup = await axios.post(`laboratories/group`, data, { headers: { 'Content-Type':'application/json'}})\r\n      return createLaboraotryGroup.data;\r\n    }\r\n}\r\n\r\nexport const updateLaboratoryGroup = (laboratoryGroupCode, data) => {\r\n    return async function(getState) {\r\n        const update = await axios.put(`laboratories/group/${laboratoryGroupCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return update.data;\r\n    }\r\n\r\n}\r\n\r\nexport const deleteLaboratoryGroup = (laboratoryGroupCode) => {\r\n    return async function(getState) {\r\n        const deleteLaboratoryGroup = await axios.delete(`laboratories/group/${laboratoryGroupCode}`)\r\n        return deleteLaboratoryGroup.data;\r\n    }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport { injectIntl, FormattedMessage } from \"react-intl\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport SelectItems, { createFilter } from 'react-select'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { List } from 'react-virtualized';\r\nimport { useFormik } from 'formik';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\nconst MenuList = props => {\r\n    const rows = props.children;\r\n    const rowRenderer = ({ key, index, isScrolling, isVisible, style }) => {\r\n        return (\r\n            <div key={key} style={style}>\r\n                {rows[index]}\r\n            </div>\r\n        )\r\n    }  \r\n    return (\r\n      <List\r\n        style={{ width: '100%' }}\r\n        width={800}\r\n        height={350}\r\n        rowHeight={30}\r\n        rowCount={rows.length}\r\n        rowRenderer={rowRenderer}\r\n      />\r\n    );\r\n};\r\n\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item, detail }, all_laboratories, intl } = props;\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [ laboratoryGroupData, setLaboratoryGroupData ]  = React.useState([]);\r\n    const [ laboratorySelecteds, setLaboratorySelecteds ]  = React.useState([]);\r\n    const [ deleteErrors, setDeleteErrors] = React.useState({});\r\n\r\n    const parseLaboratoriesGroup = () => {\r\n        const  laboratoryData = []\r\n        if(actionType == 'edit') {\r\n            const laboratoryFromDetail = [];\r\n            detail.map(laboratoryItem => {\r\n                laboratoryFromDetail.push({label: laboratoryItem.description, value: laboratoryItem.laboratoryCode })\r\n            })\r\n            setLaboratorySelecteds(laboratoryFromDetail)\r\n\r\n        }\r\n        all_laboratories.map(laboratory => {\r\n            \r\n            let description = laboratory.description;\r\n            laboratoryData.push({label: description.toUpperCase(), value: laboratory.code  })\r\n        })\r\n        setLaboratoryGroupData(laboratoryData);\r\n    }\r\n    React.useEffect(() => {\r\n        parseLaboratoriesGroup()\r\n    },[])\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n        if (!values.class) {\r\n          errors.class = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n      \r\n        if(laboratorySelecteds == null || laboratorySelecteds.length == 0) {\r\n            errors.minItems = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        return errors;\r\n    };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            description: actionType == 'edit' ? item.description : '',\r\n            class: actionType == 'edit' ? item.class : ''\r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    let laboratoryCodes = []\r\n                    laboratorySelecteds.map(laboratoryItem => {\r\n                        laboratoryCodes.push(laboratoryItem.value)\r\n                    })\r\n                    if(actionType == 'edit') {\r\n                        await props.updateLaboratoryGroup(item.code, JSON.stringify({description: values.description, class: values.class,  laboratoryCodes}))\r\n                    }\r\n                    if(actionType == 'create') {\r\n                        await props.createLaboratoryGroup(JSON.stringify({description: values.description, class: values.class,  laboratoryCodes}))\r\n                    }\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n    const onDeleteLaboratoryGroup = async() => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n            try {\r\n                await props.deleteLaboratoryGroup(item.code)\r\n                disableLoading();\r\n                props.closeDialogAndReload()\r\n            } catch(err) {\r\n                setDeleteErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                disableLoading();\r\n            }\r\n        }, 500)   \r\n    }\r\n    \r\n    const renderContent = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <form onSubmit={formik.handleSubmit}>\r\n                    <TextField\r\n                        className={`mb-4`}\r\n                        fullWidth\r\n                        id=\"description\"\r\n                        name=\"description\"\r\n                        label=\"Ttulo\"\r\n                        value={formik.values.description}\r\n                        autoComplete=\"off\"\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.description && Boolean(formik.errors.description)}\r\n                        helperText={formik.touched.description && formik.errors.description}\r\n                    />\r\n                    <FormControl className={`d-block mb-4 mt-0`}>\r\n                        <label className=\"pf-10\">\r\n                            <FormattedMessage id=\"LABORATORY_GROUP.FORM_CLASS\" />\r\n                        </label>\r\n                        <Select\r\n                            className={`mt-0`}\r\n                            fullWidth\r\n                            id=\"class\"\r\n                            name=\"class\"\r\n                            label={intl.formatMessage({id: 'LABORATORY_GROUP.FORM_CLASS'})}\r\n                            value={formik.values.class}\r\n                            onChange={formik.handleChange}\r\n                            error={formik.touched.class && Boolean(formik.errors.class)}\r\n                        >\r\n                            <MenuItem key='TOTAL' value={'T'} selected={formik.values.class == 'T' ? true : false}>\r\n                                <FormattedMessage id=\"MASTER.CLASS.TOTAL\" />\r\n                            </MenuItem>\r\n                            <MenuItem key='ETICO' value={'E'} selected={formik.values.class == 'E' ? true : false}>\r\n                                <FormattedMessage id=\"MASTER.CLASS.ETICO\" />\r\n                            </MenuItem>\r\n                            <MenuItem key='POPULAR' value={'P'} selected={formik.values.class == 'P' ? true : false}>\r\n                                <FormattedMessage id=\"MASTER.CLASS.POPULAR\" />\r\n                            </MenuItem>\r\n                        </Select>\r\n                    </FormControl>                        \r\n                    <FormControl className={`d-block mb-4 mt-2`}>\r\n                        <label className={Boolean(formik.errors.minItems) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n                            <FormattedMessage id=\"CUSTOM_MARKET_DEFINITION.TITLE.LABORATORY\" />\r\n                        </label>                        \r\n                        <div style={{width:'100%', height:400, marginRight:0, paddingRight: 0}}>\r\n                            <SelectItems\r\n                                disabled={false}\r\n                                isMulti={true}\r\n                                isSearchable={true}\r\n                                isOptionSelected={true}\r\n                                components={{ MenuList }}\r\n                                filterOption={createFilter({ignoreAccents: false})}\r\n                                onChange={setLaboratorySelecteds}\r\n                                options={laboratoryGroupData}\r\n                                placeholder={intl.formatMessage({id: 'LABORATORY_GROUP.SELECT_TITLE'})}\r\n                                value={laboratorySelecteds}\r\n                                openMenuOnClick={true}\r\n                                menuIsOpen={true}\r\n                            />\r\n                        </div>\r\n                        {Boolean(formik.errors.minItems) &&\r\n                            <span style={{color:'#f018a6', marginBottom: 20}}>{intl.formatMessage({id: 'FORM.ERROR.REQUIRED_FIELD'})}</span>\r\n                        }                           \r\n                    </FormControl>\r\n                </form>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <p><FormattedMessage id=\"LABORATORY_GROUP.DELETE_TITLE\" values={{ laboratoryGroup: item.description }}/></p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    const renderTitle = () => {\r\n        let title = '';\r\n        if(actionType == 'create') {\r\n            title = intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.LABORATORY\"})\r\n        }\r\n        if(actionType == 'edit') {\r\n            title = item.description\r\n        }\r\n        if(actionType == 'delete') {\r\n            title = intl.formatMessage({id: \"FORM.ACTION.DELETE\"})\r\n        }\r\n        return <span className=\"text-uppercase\">{title}</span>\r\n    }\r\n    const renderButtons = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <Button \r\n                    onClick={formik.handleSubmit} \r\n                    color=\"primary\" \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n                    <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <Button \r\n                    onClick={onDeleteLaboratoryGroup} \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-red\"></span>}\r\n                    <span style={{color: loading ? '#ccc' : 'red', paddingLeft:'25px'}}>Eliminar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n    \r\n    return (\r\n        <Dialog \r\n            maxWidth=\"sm\"\r\n            fullWidth={true}\r\n            open={dialogVisible} \r\n            onClose={handleClose} \r\n            aria-labelledby=\"form-dialog-title\"\r\n        >\r\n            <DialogContent>\r\n                <DialogContentText> \r\n                    <>{renderTitle()}</>\r\n                </DialogContentText>\r\n                {renderContent()}\r\n            </DialogContent>\r\n            <DialogActions>\r\n                {formik.errors.api &&\r\n                    <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{formik.errors.api}</div>\r\n                }  \r\n                {deleteErrors.api &&\r\n                    <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{deleteErrors.api}</div>\r\n                }                                   \r\n                <Button \r\n                    onClick={handleClose} \r\n                    color=\"primary\" \r\n                    disabled={loading ? true : false}>\r\n                    {intl.formatMessage({ id: \"FORM.ACTION.CANCEL\" })}\r\n                </Button>\r\n                {renderButtons()}\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ActionDialog));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as LaboratoryGroupActions from './_redux/Actions';\r\nimport * as MercadosActions from '../Mercados/_redux/mercadosActions'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport { injectIntl } from \"react-intl\";\r\nimport Can from './../../config/Can';\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\n\r\nconst actions = Object.assign({}, LaboratoryGroupActions, MercadosActions);\r\n\r\nconst LaboratoryGroup = (props) => {\r\n    const clases = useStyles()\r\n    const { intl } = props;\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ laboratoryGroupData, setLaboratoryGroups ] = React.useState([])\r\n    const [ all_laboratories, setAllLaboratories ] = React.useState([])\r\n\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false,\r\n        all_laboratories: []\r\n    })\r\n    const [ allowedPermission, setAllowedPermission ] = React.useState(false)\r\n\r\n    const getLaboratoriesGroups = async() => {\r\n        let laboratoriesGroups = await props.getAllLaboratoriesGroup();\r\n        setLaboratoryGroups(laboratoriesGroups)\r\n        let getLaboratories = await props.getAllLaboratories();\r\n        setAllLaboratories(getLaboratories)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getLaboratoriesGroups()\r\n    },[])\r\n\r\n    const editLaboratoryGroup = async(item) => {\r\n        setLoading(true)\r\n        let getDetail = await props.getDetailLaboratoryGroup(item.code)\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, all_laboratories: all_laboratories, detail: getDetail, item: item  })\r\n        setLoading(false)\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getLaboratoriesGroups()\r\n        await props.getLaboratories()\r\n    }\r\n    const deleteLaboratoryGroup = (item) => {\r\n        setDialogAction({actionType: 'delete', dialogVisible: true, item: item })\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <Can I=\"view\" a=\"manage-custom-market\" passThrough>\r\n                {(allowed) => setAllowedPermission(allowed)}\r\n            </Can>\r\n            <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                    <MaterialTable\r\n                        title={intl.formatMessage({id: \"MENU.MASTERS.LABORATORY_GROUP\"})}\r\n                        columns={[\r\n                            {title: 'Ttulo', field: 'description'},\r\n                            {title: intl.formatMessage({id: 'CUSTOM_MARKET_PREVIEW.CLASS'}), field: 'class'},\r\n                        ]}\r\n                        data={laboratoryGroupData}\r\n                        isLoading={isLoading}\r\n                        options={{\r\n                            pageSize: 10,\r\n                            pageSizeOptions: [10,25,50, 100],\r\n                            searchFieldAlignment: 'left',\r\n                            actionsColumnIndex: -1,\r\n                        }}\r\n                        actions={allowedPermission &&\r\n                            [{\r\n                                icon: 'edit',\r\n                                tooltip: 'Editar',\r\n                                onClick: (event, rowData) => editLaboratoryGroup(rowData),\r\n                            },\r\n                            {\r\n                                icon: 'delete',\r\n                                tooltip: intl.formatMessage({id: \"FORM.ACTION.DELETE\"}) ,\r\n                                onClick: (event, rowData) => deleteLaboratoryGroup(rowData)\r\n                            },\r\n                            {\r\n                                icon: 'add',\r\n                                tooltip: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.LABORATORY\"}),    \r\n                                isFreeAction: true,\r\n                                onClick: () => setDialogAction({actionType: 'create', dialogVisible: true, all_laboratories: all_laboratories })\r\n                            }\r\n                        ]}\r\n                        localization={{\r\n                            toolbar: {\r\n                                searchTooltip: 'Buscar',\r\n                                searchPlaceholder: 'Buscar'\r\n                            },\r\n                            header: {\r\n                                actions: ''\r\n                            },\r\n                            pagination: {\r\n                                labelRowsSelect: 'resultados',\r\n                                labelRowsPerPage: 'resultados',\r\n                                labelDisplayedRows: '{from}-{to} de {count}'\r\n                            },\r\n                            body: {\r\n                                emptyDataSourceMessage: '',\r\n                            }\r\n                        }}\r\n                    />\r\n                </div>\r\n                {dialogAction.dialogVisible &&\r\n                    <ActionDialog action={dialogAction} all_laboratories={all_laboratories} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null, mapDispatchToProps)(LaboratoryGroup));","import axios from 'axios';\r\n\r\nexport const getAllDrugGroup = () => {\r\n    return async function(getState) {\r\n        const drugGroup = await axios.get(`drugs/groups`)\r\n        return drugGroup.data;\r\n    }\r\n}\r\n\r\nexport const getAllDrugs = () => {\r\n    return async function(getState) {\r\n        const drugs = await axios.get(`drugs`)\r\n        return drugs.data;\r\n    }\r\n}\r\n\r\nexport const getDetailDrugGroup = (id) => {\r\n    return async function(getState) {\r\n        const detail = await axios.get(`drugs/group/${id}`)\r\n        return detail.data;\r\n    }\r\n}\r\n\r\nexport const createDrugGroup = (data) => {\r\n    return async function(dispatch) {\r\n      const createDrugGroup = await axios.post(`drugs/group`, data, { headers: { 'Content-Type':'application/json'}})\r\n      return createDrugGroup.data;\r\n    }\r\n}\r\n\r\nexport const updateDrugGroup = (drugGroupCode, data) => {\r\n    return async function(getState) {\r\n        const update = await axios.put(`drugs/group/${drugGroupCode}`, data, { headers: { 'Content-Type':'application/json'}})\r\n        return update.data;\r\n    }\r\n\r\n}\r\n\r\nexport const deleteDrugGroup = (drugGroupCode) => {\r\n    return async function(getState) {\r\n        const deleteDrugGroup = await axios.delete(`drugs/group/${drugGroupCode}`)\r\n        return deleteDrugGroup.data;\r\n    }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { List } from 'react-virtualized';\r\nimport { useFormik } from 'formik';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select, { createFilter } from 'react-select'\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\nimport { injectIntl, FormattedMessage } from \"react-intl\";\r\n\r\nconst MenuList = props => {\r\n    const rows = props.children;\r\n    const rowRenderer = ({ key, index, isScrolling, isVisible, style }) => {\r\n        return (\r\n            <div key={key} style={style}>\r\n                {rows[index]}\r\n            </div>\r\n        )\r\n    }  \r\n    return (\r\n      <List\r\n        style={{ width: '100%' }}\r\n        width={800}\r\n        height={350}\r\n        rowHeight={30}\r\n        rowCount={rows.length}\r\n        rowRenderer={rowRenderer}\r\n      />\r\n    );\r\n};\r\n\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, item, detail }, all_drugs, intl } = props;\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [ drugGroupData, setDrugGroupData ]  = React.useState([]);\r\n    const [ drugSelecteds, setDrugSelecteds ]  = React.useState([]);\r\n    const [ deleteErrors, setDeleteErrors] = React.useState({});\r\n\r\n    const parseDrugsGroup = () => {\r\n        const  drugData = []\r\n        if(actionType == 'edit') {\r\n            const drugsFromDetail = [];\r\n            detail.map(drugItem => {\r\n                drugsFromDetail.push({label: drugItem.description, value: drugItem.drugCode })\r\n            })\r\n            setDrugSelecteds(drugsFromDetail)\r\n        }\r\n        all_drugs.map(drug => {\r\n            \r\n            let description = drug.description;\r\n            drugData.push({label: description.toUpperCase(), value: drug.code  })\r\n        })\r\n        setDrugGroupData(drugData);\r\n    }\r\n    React.useEffect(() => {\r\n        parseDrugsGroup()\r\n    },[])\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.description) {\r\n          errors.description = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n      \r\n        if(drugSelecteds == null || drugSelecteds.length == 0) {\r\n            errors.minItems = <FormattedMessage id=\"FORM.ERROR.REQUIRED_FIELD\" />\r\n        }\r\n\r\n        return errors;\r\n    };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            description: actionType == 'edit' ? item.description : ''\r\n        },\r\n        validate: validate,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                    let drugCodes = []\r\n                    drugSelecteds.map(drugItem => {\r\n                        drugCodes.push(drugItem.value)\r\n                    })\r\n                    if(actionType == 'edit') {\r\n                        await props.updateDrugGroup(item.code, JSON.stringify({description: values.description, drugCodes}))\r\n                    }\r\n                    if(actionType == 'create') {\r\n                        await props.createDrugGroup(JSON.stringify({description: values.description, drugCodes}))\r\n                    }\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n    const onDeleteDrugGroup = async() => {\r\n        enableLoading();\r\n        setTimeout(async () => {\r\n                try {\r\n                    await props.deleteDrugGroup(item.code)\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setDeleteErrors( {api: <FormattedMessage id=\"FORM.ERROR.API_EXCEPTION\" />} )\r\n                    disableLoading();\r\n                }\r\n        }, 500)   \r\n    }\r\n    \r\n    const renderContent = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <form onSubmit={formik.handleSubmit}>\r\n                    <TextField\r\n                        className={`mb-4`}\r\n                        fullWidth\r\n                        id=\"description\"\r\n                        name=\"description\"\r\n                        label=\"Ttulo\"\r\n                        value={formik.values.description}\r\n                        autoComplete=\"off\"\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.description && Boolean(formik.errors.description)}\r\n                        helperText={formik.touched.description && formik.errors.description}\r\n                    />\r\n                    <FormControl className={`d-block mb-4 mt-2`}>\r\n                        <label className={Boolean(formik.errors.minItems) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>\r\n                            <FormattedMessage id=\"CUSTOM_MARKET_DEFINITION.TITLE.DRUG\" />\r\n                        </label>                        \r\n                        <div style={{width:'100%', height:400, marginRight:0, paddingRight: 0}}>\r\n                            <Select\r\n                                disabled={false}\r\n                                isMulti={true}\r\n                                isSearchable={true}\r\n                                isOptionSelected={true}\r\n                                components={{ MenuList }}\r\n                                filterOption={createFilter({ignoreAccents: false})}\r\n                                onChange={setDrugSelecteds}\r\n                                options={drugGroupData}\r\n                                placeholder={intl.formatMessage({id: 'DRUG_GROUP.SELECT_TITLE'})}\r\n                                value={drugSelecteds}\r\n                                openMenuOnClick={true}\r\n                                menuIsOpen={true}\r\n                            />\r\n                        </div>\r\n                        {Boolean(formik.errors.minItems) &&\r\n                            <span style={{color:'#f018a6', marginBottom: 20}}>{intl.formatMessage({id: 'FORM.ERROR.REQUIRED_FIELD'})}</span>\r\n                        }                           \r\n                    </FormControl>\r\n                </form>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <div className={[classes.root, 'mb-10']}>\r\n                    <p><FormattedMessage id=\"DRUG_GROUP.DELETE_TITLE\" values={{ drugGroup: item.description }}/></p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    const renderTitle = () => {\r\n        let title = '';\r\n        if(actionType == 'create') {\r\n            title = intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.DRUG\"})\r\n        }\r\n        if(actionType == 'edit') {\r\n            title = item.description\r\n        }\r\n        if(actionType == 'delete') {\r\n            title = intl.formatMessage({id: \"FORM.ACTION.DELETE\"})\r\n        }\r\n        return <span className=\"text-uppercase\">{title}</span>\r\n    }\r\n    const renderButtons = () => {\r\n        if(actionType == 'edit' || actionType == 'create') {\r\n            return (\r\n                <Button \r\n                    onClick={formik.handleSubmit} \r\n                    color=\"primary\" \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n                    <span style={{paddingLeft:'25px'}}>Guardar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        if(actionType == 'delete') {\r\n            return (\r\n                <Button \r\n                    onClick={onDeleteDrugGroup} \r\n                    disabled={loading ? true : false}\r\n                >\r\n                    {loading && <span className=\"ml-3 spinner spinner-red\"></span>}\r\n                    <span style={{color: loading ? '#ccc' : 'red', paddingLeft:'25px'}}>Eliminar</span>\r\n                </Button>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n    return (\r\n        <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={dialogVisible} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText>\r\n          <>{renderTitle()}</>\r\n      </DialogContentText>\r\n      {renderContent()}\r\n      </DialogContent>\r\n        <DialogActions>\r\n            {formik.errors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{formik.errors.api}</div>\r\n            }  \r\n            {deleteErrors.api &&\r\n                <div className=\"MuiFormLabel-root Mui-error text-left pl-5\" style={{width: '100%', color: '#f018a6'}}>{deleteErrors.api}</div>\r\n            }                                               \r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={loading ? true : false}>\r\n            {intl.formatMessage({ id: \"FORM.ACTION.CANCEL\" })}\r\n          </Button>\r\n          {renderButtons()}\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nfunction getItemObject(item) {\r\n    return JSON.parse(atob(item.value))\r\n}\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ActionDialog));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as DrugGroupActions from './_redux/Actions';\r\nimport * as MercadosActions from '../Mercados/_redux/mercadosActions'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MaterialTable from 'material-table'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { injectIntl, FormattedMessage } from \"react-intl\";\r\nimport Can from './../../config/Can';\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst actions = Object.assign({}, DrugGroupActions, MercadosActions);\r\nconst DrugGroup = (props) => {\r\n    const clases = useStyles()\r\n    const { intl } = props;\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ drugGroupData, setDrugGroupData ] = React.useState([])\r\n    const [ all_drugs, setAllDrugs ] = React.useState([])\r\n\r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        item: [],\r\n        dialogVisible: false,\r\n        detail: [],\r\n        all_drugs: []\r\n    })\r\n    const [ allowedPermission, setAllowedPermission ] = React.useState(false)\r\n\r\n    const getDrugGroups = async() => {\r\n        let getDrug = await props.getAllDrugGroup();\r\n        let allDrugs = await props.getAllDrugs()\r\n        setAllDrugs(allDrugs)\r\n        setDrugGroupData(getDrug)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getDrugGroups()\r\n    },[])\r\n\r\n    const editDrugGroup = async(item) => {\r\n        setLoading(true)\r\n        let getDetail = await props.getDetailDrugGroup(item.code)\r\n        setDialogAction({actionType: 'edit', dialogVisible: true, all_drugs: all_drugs, detail: getDetail, item: item  })\r\n        setLoading(false)\r\n    }\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, item: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getDrugGroups()\r\n        await props.getDrugs()\r\n    }\r\n    const deleteDrugGroup = (item) => {\r\n        setDialogAction({actionType: 'delete', dialogVisible: true, item: item })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Can I=\"view\" a=\"manage-custom-market\" passThrough>\r\n                {(allowed) => setAllowedPermission(allowed)}\r\n            </Can>\r\n            <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                    <MaterialTable\r\n                        title={intl.formatMessage({id: \"MENU.MASTERS.DRUG_GROUP\"})}\r\n                        columns={[\r\n                            {title: 'Ttulo', field: 'description'},\r\n                        ]}\r\n                        data={drugGroupData}\r\n                        isLoading={isLoading}\r\n                        options={{\r\n                            pageSize: 10,\r\n                            pageSizeOptions: [10,25,50, 100],\r\n                            searchFieldAlignment: 'left',\r\n                            actionsColumnIndex: -1,\r\n                        }}\r\n                        actions={allowedPermission &&\r\n                            [{\r\n                                icon: 'edit',\r\n                                tooltip: 'Editar',\r\n                                onClick: (event, rowData) => editDrugGroup(rowData),\r\n                            },\r\n                            {\r\n                                icon: 'delete',\r\n                                tooltip: intl.formatMessage({id: \"FORM.ACTION.DELETE\"}) ,\r\n                                onClick: (event, rowData) => deleteDrugGroup(rowData)\r\n                            },\r\n                            {\r\n                                icon: 'add',\r\n                                tooltip: intl.formatMessage({id: \"CUSTOM_MARKET_TAB.ACTION.CREATE_GROUP.DRUG\"}),    \r\n                                isFreeAction: true,\r\n                                onClick: () => setDialogAction({actionType: 'create', dialogVisible: true,all_drugs: all_drugs })\r\n                            },\r\n                        ]}\r\n                        localization={{\r\n                            toolbar: {\r\n                                searchTooltip: 'Buscar',\r\n                                searchPlaceholder: 'Buscar'\r\n                            },\r\n                            header: {\r\n                                actions: ''\r\n                            },\r\n                            pagination: {\r\n                                labelRowsSelect: 'resultados',\r\n                                labelRowsPerPage: 'resultados',\r\n                                labelDisplayedRows: '{from}-{to} de {count}'\r\n                            },\r\n                            body: {\r\n                                emptyDataSourceMessage: '',\r\n                            }\r\n                        }}\r\n                    />\r\n                </div>\r\n                {dialogAction.dialogVisible &&\r\n                    <ActionDialog action={dialogAction} all_drugs={all_drugs} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default injectIntl(connect(null,mapDispatchToProps)(DrugGroup));","import axios from 'axios';\r\n\r\nexport const getUsers = () => {\r\n    return async function(getState) {\r\n        const users = await axios.get(`users`)\r\n        return users.data;\r\n    }\r\n}\r\n\r\nexport const getUserPermissions = (userId) => {\r\n    return async function(getState) {\r\n        const userPermissions = await axios.get(`users/${userId}/permissions`)\r\n        return userPermissions.data;\r\n    }\r\n}\r\n\r\nexport const updateUserPermissions = (userId, permissions) => {\r\n    return async function(getState) {\r\n        const userPermissions = await axios.put(`users/${userId}/permissions`, permissions)\r\n        return userPermissions.data;\r\n    }\r\n}\r\n\r\nexport const getCustomMarketsFullTree = () => {\r\n    return async function(getState) {\r\n        const tree = await axios.get(`customMarkets/full-tree`)\r\n        return tree.data;\r\n    }\r\n}\r\n\r\nexport const updateUserAdministrator = (userId, data) => {\r\n    return async function(getState) {\r\n        const userPermissions = await axios.put(`users/${userId}`, data , { headers: { 'Content-Type':'application/json'}} )\r\n        return userPermissions.data;\r\n    }\r\n}\r\n\r\nexport const createUser = (data) => {\r\n    return async function(getState) {\r\n        const createNewUser = await axios.post(`users`, data , { headers: { 'Content-Type':'application/json'}} )\r\n        return createNewUser.data;\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport CheckboxTree from 'react-checkbox-tree';\r\nimport 'react-checkbox-tree/lib/react-checkbox-tree.css';\r\nimport { useStyles } from '../../../Style/GeneralStyles';\r\n\r\n/* eslint-disable react/jsx-one-expression-per-line */\r\nconst UserPermission = (props) => {\r\n    const { user } = props;\r\n    const clases = useStyles()\r\n    const [ stateClicked, setStateClicked ] = React.useState({})\r\n    const [ stateChecked, setStateChecked ] = React.useState([])\r\n    const [ stateExpanded, setStateExpanded ] = React.useState([])\r\n    const [ fullTree, setFullTree ] = React.useState([])\r\n    const [ userPermission, setUserPermission ] = React.useState([])\r\n    const [isSaving, setIsSaving] = React.useState(false);\r\n    const [switchFullAccess, setSwitchFullAccess] = React.useState(true);\r\n\r\n    const handleChangeSwitchFullAccess = (event) => {\r\n        setSwitchFullAccess(event.target.checked);\r\n    }; \r\n\r\n    const getCustomMarketsFullTree = async() => {\r\n        let customMarketsFullTree = await props.getCustomMarketsFullTree();\r\n        let treeData = generateNodeTree(customMarketsFullTree)\r\n        let userPermissions = await props.getUserPermissions(props.user);\r\n        setUserPermission(userPermissions)\r\n        setSwitchFullAccess(userPermissions.fullAccess)\r\n        loadTreeChecked(userPermissions, treeData)\r\n        //setLoading(false)\r\n    }\r\n\r\n    const generateNodeTree = (nodes) => {\r\n        const treeData = []\r\n         nodes.map(lineGroup => {\r\n             if (lineGroup.lineGroupCode > -1) {\r\n                let lines = []\r\n                if (lineGroup.lines.length == 1 && JSON.stringify(lineGroup.lines[0].customMarkets) == \"[{}]\") {\r\n                    lines = []\r\n                } else {\r\n                    lineGroup.lines.map(line => {\r\n                        let customMarkets = []\r\n                        line.customMarkets.map(customMarket => {\r\n                            if (customMarket.customMarketCode) {\r\n                                let customMarketKey = { value: customMarket.customMarketCode, type: 'custommarket' }\r\n                                let customMarketKeyEncoded = btoa(JSON.stringify(customMarketKey));\r\n                                customMarkets.push({value: customMarketKeyEncoded, label: customMarket.customMarketDescription.toUpperCase() })\r\n                            }\r\n                        })\r\n                        let lineKey = { value: line.lineCode, type: 'line' }\r\n                        let lineKeyEncoded = btoa(JSON.stringify(lineKey));\r\n                        if (customMarkets.length > 0) {\r\n                            lines.push({value: lineKeyEncoded, label: line.lineDescription, children: customMarkets })\r\n                        } else {\r\n                            lines.push({value: lineKeyEncoded, label: line.lineDescription.toUpperCase()})\r\n                        }\r\n                    })\r\n                }\r\n                let lineGroupKey = { value: lineGroup.lineGroupCode, type: 'linegroup'}\r\n                let lineGroupKeyEncoded = btoa(JSON.stringify(lineGroupKey));\r\n                if (lines.length > 0) {\r\n                    treeData.push({value: lineGroupKeyEncoded, label: lineGroup.lineGroupDescription, children: lines })\r\n                } else {\r\n                    treeData.push({value: lineGroupKeyEncoded, label: lineGroup.lineGroupDescription.toUpperCase()})\r\n                }\r\n            }\r\n         })\r\n        \r\n        setFullTree(treeData)\r\n        return treeData\r\n     }\r\n\r\n    const loadTreeChecked = (userPermissions, treeData) => {\r\n        let checked = []\r\n        userPermissions.customMarketCodes.map(customMarketCode => {\r\n            let customMarketKey = { value: customMarketCode, type: 'custommarket' }\r\n            let customMarketKeyEncoded = btoa(JSON.stringify(customMarketKey));\r\n            checked.push(customMarketKeyEncoded)\r\n        })\r\n\r\n        userPermissions.lineCodes.map(lineCode => {\r\n            let lineKey = { value: lineCode, type: 'line' }\r\n            let lineKeyEncoded = btoa(JSON.stringify(lineKey));\r\n            checked.push(lineKeyEncoded)\r\n            let lineFound = getLineInTree(lineKeyEncoded, treeData)\r\n            if (lineFound.length > 0 && lineFound[0].children) {\r\n                lineFound[0].children.map(customMarketCode => {\r\n                    checked.push(customMarketCode.value)\r\n                })\r\n            }\r\n        })\r\n        \r\n        userPermissions.lineGroupCodes.map(lineGroupCode => {\r\n            let lineGroupKey = { value: lineGroupCode, type: 'linegroup' }\r\n            let lineGroupKeyEncoded = btoa(JSON.stringify(lineGroupKey));\r\n            checked.push(lineGroupKeyEncoded)\r\n            let lineGroup = getLineGroupInTree(lineGroupKeyEncoded, treeData)\r\n            if (lineGroup.children) {\r\n                lineGroup.children.map(line => {\r\n                    if (line.children) {\r\n                        line.children.map(customMarketCode => {\r\n                            checked.push(customMarketCode.value)\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        })\r\n\r\n        setStateChecked(checked)\r\n    }\r\n\r\n    const getLineInTree = (lineKeyEncoded, treeData) => {\r\n        let lineFound = null\r\n        treeData.forEach(lineGroup => {\r\n            if (lineGroup.children) {\r\n                let line = lineGroup.children.filter(l => l.value == lineKeyEncoded)\r\n                if (line.length > 0) {\r\n                    lineFound = line\r\n                    return lineFound\r\n                }\r\n            }\r\n        });\r\n\r\n        return lineFound\r\n    }\r\n\r\n    const getLineGroupInTree = (lineGroupKeyEncoded, treeData) => {\r\n        let lineGroupFound = null\r\n        lineGroupFound = treeData.find(lg => lg.value == lineGroupKeyEncoded)\r\n        return lineGroupFound\r\n    }    \r\n\r\n    const updateUserPermission = (checked,targetNode) => {\r\n        let newUserPermission = userPermission\r\n        let nodeKey = JSON.parse(atob(targetNode.value))\r\n        \r\n        if (nodeKey.type == 'linegroup') {\r\n            const {customMarketCodes, lineCodes, lineGroupCodes} = getLineGroupChecked(targetNode, newUserPermission.lineGroupCodes, newUserPermission.lineCodes, newUserPermission.customMarketCodes) \r\n            newUserPermission.customMarketCodes = customMarketCodes\r\n            newUserPermission.lineCodes = lineCodes\r\n            newUserPermission.lineGroupCodes = lineGroupCodes\r\n\r\n        } else if (nodeKey.type == 'line') {\r\n            const {customMarketCodes, lineCodes, lineGroupCodes} = getLineChecked(checked, targetNode, newUserPermission.lineGroupCodes, newUserPermission.lineCodes, newUserPermission.customMarketCodes) \r\n            newUserPermission.customMarketCodes = customMarketCodes\r\n            newUserPermission.lineCodes = lineCodes\r\n            newUserPermission.lineGroupCodes = lineGroupCodes\r\n\r\n        } else if (nodeKey.type == 'custommarket') {\r\n            const {customMarketCodes, lineCodes, lineGroupCodes} = getCustomMarketChecked(fullTree, stateChecked, targetNode, newUserPermission.lineGroupCodes, newUserPermission.lineCodes, newUserPermission.customMarketCodes) \r\n            newUserPermission.customMarketCodes = customMarketCodes\r\n            newUserPermission.lineCodes = lineCodes\r\n            newUserPermission.lineGroupCodes = lineGroupCodes\r\n        }\r\n\r\n        setUserPermission(newUserPermission)\r\n    }\r\n\r\n    const getLineGroupChecked = (targetNode, lineGroupCodes, lineCodes, customMarketCodes) => {\r\n        let nodeKey = JSON.parse(atob(targetNode.value))\r\n        if (targetNode.checked) {\r\n            lineGroupCodes.push(nodeKey.value)\r\n        } else {\r\n            lineGroupCodes = lineGroupCodes.filter(lg => lg !== nodeKey.value)\r\n        }\r\n\r\n        if (targetNode.children?.length > 0) {\r\n            targetNode.children.map(line => {\r\n                let nodeLineKey = JSON.parse(atob(line.value))\r\n                lineCodes = lineCodes.filter(lg => lg !== nodeLineKey.value)\r\n                if (line.children?.length > 0) {\r\n                    line.children.map(customMarket => {\r\n                        let nodeCustomMarketKey = JSON.parse(atob(customMarket.value))\r\n                        customMarketCodes = customMarketCodes.filter(lg => lg !== nodeCustomMarketKey.value)\r\n                    })\r\n                }\r\n            })\r\n        }        \r\n\r\n        return {lineGroupCodes, lineCodes, customMarketCodes}\r\n    }\r\n\r\n    const getLineChecked = (stateChecked, targetNode, lineGroupCodes, lineCodes, customMarketCodes) => {\r\n        let nodeKey = JSON.parse(atob(targetNode.value))\r\n\r\n        if (targetNode.checked) {\r\n\r\n            let isFull = true\r\n            let lineCodeChilden = []\r\n            targetNode.parent.children.map(line => {\r\n                if (!stateChecked.find(x => x == line.value)) {\r\n                    isFull = false\r\n                } else {\r\n                    let nodeLineKey = JSON.parse(atob(line.value))\r\n                    lineCodeChilden.push(nodeLineKey.value)\r\n                }\r\n            })\r\n            if (isFull) {\r\n                let nodeKeyParent = JSON.parse(atob(targetNode.parent.value))\r\n                lineGroupCodes.push(nodeKeyParent.value)\r\n                lineCodes = lineCodes.filter(l => lineCodeChilden.indexOf(l) < 0)   \r\n            } else {\r\n                lineCodes.push(nodeKey.value)\r\n            }\r\n\r\n        } else {\r\n\r\n            let nodeKeyParent = JSON.parse(atob(targetNode.parent.value))\r\n            \r\n            if (lineGroupCodes.find(x => x == nodeKeyParent.value)) {\r\n                lineGroupCodes = lineGroupCodes.filter(lg => lg !== nodeKeyParent.value)\r\n                targetNode.parent.children.map(line => {\r\n                    let nodeKeyLine = JSON.parse(atob(line.value))\r\n                    if (nodeKey.value != nodeKeyLine.value) {\r\n                        lineCodes.push(nodeKeyLine.value)\r\n                    }\r\n                })\r\n            } else {\r\n                lineCodes = lineCodes.filter(lg => lg !== nodeKey.value)\r\n            }\r\n        }        \r\n\r\n        if (targetNode.children?.length > 0) {\r\n            targetNode.children.map(customMarket => {\r\n                let nodeCustomMarketKey = JSON.parse(atob(customMarket.value))\r\n                customMarketCodes = customMarketCodes.filter(lg => lg !== nodeCustomMarketKey.value)\r\n            })\r\n        }         \r\n\r\n        return {lineGroupCodes, lineCodes, customMarketCodes}\r\n    }\r\n\r\n    const getCustomMarketChecked = (fullTree, treeChecked, targetNode, lineGroupCodes, lineCodes, customMarketCodes) => {\r\n        let nodeKey = JSON.parse(atob(targetNode.value))\r\n\r\n        if (targetNode.checked) {\r\n\r\n            let isLineFull = true\r\n            let customMarketCodeChilden = []\r\n            targetNode.parent.children.map(customMarket => {\r\n                if (!treeChecked.find(x => x == customMarket.value) && customMarket.value != targetNode.value) {\r\n                    isLineFull = false\r\n                } else {\r\n                    let nodeLineKey = JSON.parse(atob(customMarket.value))\r\n                    customMarketCodeChilden.push(nodeLineKey.value)\r\n                }\r\n            })\r\n\r\n            if (isLineFull) {\r\n\r\n                let nodeKeyLine = JSON.parse(atob(targetNode.parent.value))\r\n                lineCodes.push(nodeKeyLine.value)\r\n                customMarketCodes = customMarketCodes.filter(cm => customMarketCodeChilden.indexOf(cm) < 0)   \r\n\r\n                let lineGroup = null\r\n                fullTree.forEach(lg => {\r\n                    if (lg.children) {\r\n                        if (lg.children.find(x => x.value == targetNode.parent.value)) {\r\n                            lineGroup = lg\r\n                        }\r\n                    }\r\n                });\r\n\r\n                if (lineGroup) {\r\n                    let isLineGroupFull = true\r\n                    let lineChilden = []\r\n                    lineGroup.children.map(line => {\r\n                        let nodeLineKey = JSON.parse(atob(line.value))\r\n                        if (!lineCodes.find(x => x == nodeLineKey.value)) {\r\n                            isLineGroupFull = false\r\n                        } else {\r\n                            lineChilden.push(nodeLineKey.value)\r\n                        }\r\n                    })\r\n                    \r\n                    if (isLineGroupFull) {\r\n                        let nodeLineGroupKey = JSON.parse(atob(lineGroup.value))\r\n                        lineGroupCodes.push(nodeLineGroupKey.value)\r\n                        lineCodes = lineCodes.filter(l => lineChilden.indexOf(l) < 0)   \r\n                    }\r\n\r\n                }\r\n\r\n            } else {\r\n                customMarketCodes.push(nodeKey.value)\r\n            }\r\n\r\n        } else {\r\n            // UNCHECKED CUSTOM MARKET\r\n            let nodeLineKey = JSON.parse(atob(targetNode.parent.value))\r\n            if (lineCodes.find(x => x == nodeLineKey.value)) { //FULL LINE ?\r\n\r\n                lineCodes = lineCodes.filter(l => l !== nodeLineKey.value)   \r\n\r\n                targetNode.parent.children.map(c => {\r\n                    let nodeCustomMarketKey = JSON.parse(atob(c.value))\r\n                    customMarketCodes.push(nodeCustomMarketKey.value)\r\n                })\r\n            } else { // FULL LINE GROUP ?\r\n\r\n                let lineGroupUnChecked = null\r\n                fullTree.forEach(lg => {\r\n                    if (lg.children) {\r\n                        if (lg.children.find(x => x.value == targetNode.parent.value)) {\r\n                            lineGroupUnChecked = lg\r\n                        }\r\n                    }\r\n                })\r\n                if (lineGroupUnChecked) {\r\n                    let nodeLineGroupUncheckedKey = JSON.parse(atob(lineGroupUnChecked.value))\r\n                    if (lineGroupCodes.find(x => x == nodeLineGroupUncheckedKey.value)) {\r\n                        lineGroupCodes = lineGroupCodes.filter(lg => lg !== nodeLineGroupUncheckedKey.value)\r\n\r\n                        lineGroupUnChecked.children.map(ln => {\r\n                            let line = JSON.parse(atob(ln.value))\r\n                            if (ln.value == targetNode.parent.value) {\r\n                                ln.children.map(({ value }) => {\r\n                                    let customMarketCode = JSON.parse(atob(value))\r\n                                    customMarketCodes.push(customMarketCode.value)\r\n                                })\r\n                            } else {\r\n                                lineCodes.push(line.value)\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n            customMarketCodes = customMarketCodes.filter(cm => cm !== nodeKey.value)\r\n        }        \r\n\r\n        return {lineGroupCodes, lineCodes, customMarketCodes}\r\n    }\r\n\r\n\r\n    const saveUserPermission = () => {\r\n        setIsSaving(true)\r\n        setTimeout(async () => {\r\n            try {\r\n                let userPermissionToSave = {}\r\n                if (switchFullAccess) {\r\n                    userPermissionToSave = {\r\n                        lineGroupCodes: [],\r\n                        lineCodes: [],\r\n                        customMarketCodes: []\r\n                    }\r\n                } else {\r\n                    userPermissionToSave = userPermission\r\n                }\r\n                userPermissionToSave.fullAccess = switchFullAccess\r\n                await props.updateUserPermissions(user, userPermissionToSave);    \r\n            } catch (e) {\r\n                alert('no se pudo completar la accion')\r\n            } finally {\r\n                setIsSaving(false)\r\n            }\r\n        }, 500)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        getCustomMarketsFullTree()\r\n    },[])\r\n\r\n    const onCheck = (checked, targetNode) => {\r\n        setStateChecked(checked);\r\n        updateUserPermission(checked,targetNode)\r\n    }\r\n\r\n    const onClick = (clicked) => {\r\n        setStateClicked(clicked);\r\n    }\r\n\r\n    const onExpand = (expanded) => {\r\n        setStateExpanded(expanded);\r\n    }\r\n\r\n    return (\r\n    <>\r\n        <FormControlLabel\r\n/*             className=\"float-left m-2\"\r\n            style={{position: 'absolute', left: '0px', zIndex: '2'}} */\r\n            control={\r\n                <Switch\r\n                    checked={switchFullAccess}\r\n                    onChange={handleChangeSwitchFullAccess}\r\n                    name=\"chkFullAccess\"\r\n                    color=\"primary\"\r\n                />\r\n            }\r\n            label=\"Full Access\"\r\n        />\r\n        <div className=\"clickable-labels\" style={{\r\n            display: switchFullAccess ? 'none' : '',\r\n            maxHeight: '64vh',\r\n            overflowY: 'auto',\r\n/*             overflowX: 'hidden',\r\n            width: '100vw' */\r\n            }}>\r\n            <CheckboxTree\r\n                checked={stateChecked}\r\n                expanded={stateExpanded}\r\n                iconsClass=\"fa5\"\r\n                nodes={fullTree}\r\n                expandOnClick\r\n                checkModel=\"all\"\r\n                onCheck={onCheck}\r\n                onClick={onClick}\r\n                onExpand={onExpand}\r\n                icons={{\r\n                    check: <CheckBoxIcon color=\"primary\"/>,\r\n                    uncheck: <CheckBoxOutlineBlankIcon />,\r\n                    halfCheck: <IndeterminateCheckBoxIcon />,\r\n                    expandClose: <span className=\"rct-icon rct-icon-expand-close\" />,\r\n                    expandOpen: <span className=\"rct-icon rct-icon-expand-open\" />,\r\n                    expandAll: <span className=\"rct-icon rct-icon-expand-all\" />,\r\n                    collapseAll: <span className=\"rct-icon rct-icon-collapse-all\" />,\r\n                    parentClose: <></>,\r\n                    parentOpen: <></>,\r\n                    leaf: <></>,\r\n                }}               \r\n            />\r\n        </div>\r\n        <div>          \r\n            <div\r\n                id=\"btn_save_permission\"\r\n                className={`btn btn-secondary font-weight-bold px-2 pl-4 pr-4 py-0 mt-10 mb-2`}\r\n                style={{fontWeight: '600'}}\r\n                onClick={() => { if (!isSaving) saveUserPermission()}}\r\n                disabled={!isSaving}\r\n            >\r\n                {isSaving && <span className=\"mr-6 spinner spinner-green\"></span>}            \r\n                <IconButton \r\n                    aria-label=\"\"  \r\n                    color=\"primary\" \r\n                    className=\"p-3\"\r\n                    >\r\n                    <span style={{color: isSaving? 'silver': '#17c191', fontSize: '14px'}}>\r\n                        <FormattedMessage id=\"FORM.ACTION.SAVE\" />\r\n                    </span>\r\n                </IconButton>\r\n            </div>\r\n        </div>\r\n    </>\r\n    );\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(UserPermission);","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport UserPermission from './UserPermissions'\r\n\r\nconst CustomMarketToolbar = (props) => {\r\n  return (\r\n    <Grid container spacing={1}>\r\n      <Grid item xs={12} className=\"pt-1 pb-0\">\r\n        <div\r\n          style={{\r\n            display: 'inline-flex',\r\n            alignItems: 'center',\r\n            flexWrap: 'wrap',\r\n            marginBottom:5\r\n            }}\r\n          id=\"btn_close_permission\"\r\n          className={`btn btn-secondary font-weight-bold px-2 py-0 mb-2`}\r\n          onClick={() => props.closePanel()}\r\n        >\r\n          <Tooltip title=\"Cerrar\">\r\n              <IconButton aria-label=\"Cerrar\"  color=\"primary\">\r\n                  <CloseIcon/> \r\n              </IconButton>\r\n          </Tooltip>                                \r\n        </div>\r\n        <span \r\n            className={`ml-10 text-uppercase`}\r\n            style={{ fontSize: '16px', fontWeight: '500', borderBottom: '2px solid #17c191', color: '#636060' }}>\r\n              <span style={{color: 'rgb(56 56 197 / 48%)'}} className=\"pl-4 pr-4\">{props.userData.dominio} \\ {props.userData.usuario}</span>\r\n        </span>\r\n        </Grid>\r\n        <Grid item xs={12} className=\"pt-0 pb-0\">\r\n          <UserPermission user={props.userData.id} />\r\n        </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default CustomMarketToolbar;","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../_redux/Actions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { injectIntl } from \"react-intl\";\r\nimport { useFormik } from 'formik';\r\nimport { TextField } from '@material-ui/core'\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst ActionDialog = (props) => {\r\n    const { action: { actionType, dialogVisible, user }, intl } = props;\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    const enableLoading = () => {\r\n        setLoading(true);\r\n    };\r\n    \r\n    const disableLoading = () => {\r\n        setLoading(false);\r\n    };  \r\n\r\n    const validateUser = values => {\r\n      const errors = {};\r\n      if(actionType == 'create') {\r\n        if (!values.usuario) {\r\n          errors.usuario = intl.formatMessage({id: 'FORM.ERROR.REQUIRED_FIELD'});\r\n        }\r\n        if (!values.dominio) {\r\n          errors.dominio = intl.formatMessage({id: 'FORM.ERROR.REQUIRED_FIELD'});\r\n        }\r\n      }\r\n    \r\n      return errors;\r\n  };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n          isAdmin: actionType == 'edit' ? user.isAdmin : false,\r\n          usuario: actionType == 'edit' ? user.usuario : '',\r\n          dominio: actionType == 'edit' ? user.dominio : ''\r\n        },\r\n        validate: validateUser,\r\n        onSubmit: (values, { setSubmitting, setErrors }) => {\r\n            enableLoading();\r\n            setTimeout(async () => {\r\n                try {\r\n                  if(actionType == 'edit') {\r\n                    await props.updateUserAdministrator(user.id, JSON.stringify({isAdmin: values.isAdmin, usuario: values.usuario, dominio: values.dominio}))\r\n                  }else{\r\n                    await props.createUser(JSON.stringify({isAdmin: values.isAdmin, usuario: values.usuario, dominio: values.dominio}))\r\n                  }\r\n                    disableLoading();\r\n                    props.closeDialogAndReload()\r\n                } catch(err) {\r\n                    setErrors( {api: \"Error. No se ha podido completar la accin\"} )\r\n                    disableLoading();\r\n                } finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const handleClose = () => {\r\n        props.closeDialog();\r\n    }\r\n\r\n    const userForm = () => {\r\n      if(actionType == 'edit') {\r\n        return (\r\n          <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label className={(formik.touched.isAdmin && Boolean(formik.errors.isAdmin)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>Perfil Administrador</label>\r\n                <Checkbox\r\n                    name='isAdmin'\r\n                    id='isAdmin'\r\n                    checked={formik.values.isAdmin}\r\n                    onChange={formik.handleChange}\r\n                />                \r\n          </FormControl>\r\n        )\r\n      }else{\r\n        return (\r\n          <>\r\n            <TextField\r\n                className={`mb-4`}\r\n                fullWidth\r\n                autoComplete='off'\r\n                name=\"usuario\"\r\n                label={intl.formatMessage({id: \"AUTH.LOGIN.USER_NAME\"})}\r\n                type='text'\r\n                onChange={formik.handleChange}\r\n                value={formik.values.usuario}\r\n                error={formik.touched.usuario && Boolean(formik.errors.usuario)}\r\n                helperText={formik.touched.usuario && formik.errors.usuario}                \r\n            />\r\n            <TextField\r\n                className={`mb-4`}\r\n                fullWidth\r\n                autoComplete='off'\r\n                name=\"dominio\"\r\n                label={intl.formatMessage({id: \"USERS.FORM.DOMAIN\"})}\r\n                type='text'\r\n                onChange={formik.handleChange}\r\n                value={formik.values.dominio}\r\n                error={formik.touched.dominio && Boolean(formik.errors.dominio)}\r\n                helperText={formik.touched.dominio && formik.errors.dominio}                \r\n            />\r\n            <FormControl className={`d-block mb-3 mt-2`}>\r\n            <label className={(formik.touched.isAdmin && Boolean(formik.errors.isAdmin)) ? 'pf-10 MuiFormLabel-root Mui-error' : 'pf-10' }>Perfil Administrador</label>\r\n                <Checkbox\r\n                    name='isAdmin'\r\n                    id='isAdmin'\r\n                    checked={formik.values.isAdmin}\r\n                    onChange={formik.handleChange}\r\n                />                \r\n            </FormControl>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n        <Dialog \r\n        maxWidth=\"sm\"\r\n        fullWidth={true}\r\n        open={dialogVisible} \r\n        onClose={handleClose} \r\n        aria-labelledby=\"form-dialog-title\"\r\n    >\r\n    <DialogContent>\r\n      <DialogContentText className=\"text-uppercase\">{actionType == 'edit' ? `${intl.formatMessage({id: \"ACTION.EDIT\"})}: ${user.dominio} / ${user.usuario}`: `${intl.formatMessage({id: \"USERS.CREATE.TITLE\"})}` } </DialogContentText>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        {userForm()}\r\n      </form>\r\n      </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            onClick={handleClose} \r\n            color=\"primary\" \r\n            disabled={loading ? true : false}>\r\n            {intl.formatMessage({id: 'FORM.ACTION.CANCEL'})}\r\n          </Button>\r\n          <Button \r\n            onClick={formik.handleSubmit} \r\n            color=\"primary\" \r\n            disabled={loading ? true : false}>\r\n            {loading && <span className=\"ml-3 spinner spinner-green\"></span>}\r\n            <span style={{paddingLeft:'25px'}}>{intl.formatMessage({id: 'FORM.ACTION.SAVE'})}</span>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default injectIntl(connect(null,mapDispatchToProps)(ActionDialog));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './_redux/Actions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PanelUserPermissions from './components/Panel'\r\nimport ActionDialog from './components/ActionDialog'\r\nimport MaterialTable from 'material-table'\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport { useStyles } from '../../Style/GeneralStyles';\r\n\r\nconst User = (props) => {\r\n    const classes = useStyles();\r\n    const { intl } = props;\r\n    const [ isLoading, setLoading ] = React.useState(true)\r\n    const [ usersData, setUsers ] = React.useState([])\r\n    const [ enableEditPermissions, setEnableEditPermission ] = React.useState({\r\n        visible: false,\r\n        user: []\r\n    }) \r\n    \r\n    const [ dialogAction, setDialogAction ] = React.useState({\r\n        actionType: '',\r\n        user: [],\r\n        dialogVisible: false,\r\n    })\r\n\r\n    const getUsers = async() => {\r\n        let getAllUsers = await props.getUsers();\r\n        setUsers(getAllUsers)\r\n        setLoading(false)\r\n    }\r\n    React.useEffect(() => {\r\n        getUsers()\r\n    },[])\r\n\r\n    const closeDialog = () => {\r\n        setDialogAction({actionType: '', dialogVisible: false, user: []})\r\n    }\r\n    const reload = async() => {\r\n        setLoading(true)\r\n        closeDialog()\r\n        await getUsers()\r\n    }\r\n    const openPanel = (item) => {\r\n        setEnableEditPermission({\r\n            visible: true,\r\n            user: item\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {enableEditPermissions.visible ? (\r\n                <PanelUserPermissions userData={enableEditPermissions.user} closePanel={() => setEnableEditPermission({visible: false, user: []})} />\r\n            ):(\r\n                <Grid container spacing={4} style={{ position: 'relative'}}>\r\n                    <div style={{ maxWidth: '100%', width:'100%' }}>\r\n                        <MaterialTable\r\n                            title={intl.formatMessage({id: \"USERS.TITLE\"})}\r\n                            columns={[\r\n                                {title: intl.formatMessage({id: \"USERS.USER\"}), field: 'usuario'},\r\n                                {title: intl.formatMessage({id: \"USERS.DOMAIN\"}), field: 'dominio'},\r\n                                {title: intl.formatMessage({id: \"USERS.PROFILE_ADMINISTRATOR\"}), field: 'isAdmin', render: rowData => <Checkbox checked={rowData.isAdmin ? true : false } readOnly={true} />}\r\n                            ]}\r\n                            data={usersData}\r\n                            isLoading={isLoading}\r\n                            options={{\r\n                                pageSize: 10,\r\n                                pageSizeOptions: [10,25,50, 100],\r\n                                searchFieldAlignment: 'left',\r\n                                actionsColumnIndex: -1,\r\n                            }}\r\n                            actions={[\r\n                                {\r\n                                    icon: 'add',\r\n                                    tooltip: intl.formatMessage({id: \"USERS.ACTION.CREATE\"}),\r\n                                    isFreeAction: true,\r\n                                    onClick: () => setDialogAction({actionType: 'create', dialogVisible: true, user: []}),\r\n                                    position:'toolbar',\r\n                                },\r\n                                {\r\n                                    icon: 'edit',\r\n                                    tooltip: intl.formatMessage({id: \"ACTION.EDIT\"}),\r\n                                    onClick: (event, rowData) =>setDialogAction({actionType: 'edit', dialogVisible: true, user: rowData})\r\n                                },\r\n                                {\r\n                                    icon: 'visibility',\r\n                                    tooltip: intl.formatMessage({id: \"USERS.ACTION.PERMISSION\"}) ,\r\n                                    onClick: (event, rowData) => openPanel(rowData)\r\n                                }\r\n                            ]}\r\n                            localization={{\r\n                                toolbar: {\r\n                                    searchTooltip: 'Buscar',\r\n                                    searchPlaceholder: 'Buscar'\r\n                                },\r\n                                header: {\r\n                                    actions: ''\r\n                                },\r\n                                pagination: {\r\n                                    labelRowsSelect: 'resultados',\r\n                                    labelRowsPerPage: 'resultados',\r\n                                    labelDisplayedRows: '{from}-{to} de {count}'\r\n                                },\r\n                                body: {\r\n                                    emptyDataSourceMessage: '',\r\n                                }\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    {dialogAction.dialogVisible &&\r\n                        <ActionDialog action={dialogAction} closeDialog={() => closeDialog()} closeDialogAndReload={() => reload()} />\r\n                    }\r\n                </Grid>\r\n\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(actions, dispatch);\r\n}\r\nexport default injectIntl(connect(null,mapDispatchToProps)(User));","import React, { Suspense } from \"react\";\r\nimport { Redirect, Switch } from \"react-router-dom\";\r\nimport { LayoutSplashScreen, ContentRoute } from \"../_metronic/layout\";\r\nimport Mercados from './modules/Mercados'\r\nimport BusinessUnit from './modules/BusinessUnit'\r\nimport ProductPresentation from './modules/ProductPresentation'\r\nimport Product from './modules/Product'\r\nimport ProductGroup from './modules/ProductGroup'\r\nimport ProductPresentationGroup from './modules/ProductPresentationGroup'\r\nimport LaboratoryGroup from './modules/LaboratoryGroup'\r\nimport DrugGroup from './modules/DrugGroup'\r\nimport User from './modules/User'\r\nimport Can from './config/Can';\r\n\r\nexport default function BasePage() {\r\n\r\n  return (\r\n    <Suspense fallback={<LayoutSplashScreen />}>\r\n      <Switch>\r\n        {\r\n          <Redirect exact from=\"/\" to=\"/administracion-mercados\" />\r\n        }\r\n        <ContentRoute path=\"/administracion-mercados\" component={Mercados} />\r\n        <Can I=\"view\" a=\"menu-maestros\">\r\n          <ContentRoute path=\"/maestros/unidad-negocios\" component={BusinessUnit} />\r\n          <ContentRoute path=\"/maestros/presentaciones\" component={ProductPresentation} />\r\n          <ContentRoute path=\"/maestros/productos\" component={Product} />\r\n          <ContentRoute path=\"/maestros/grupo-productos\" component={ProductGroup} />\r\n          <ContentRoute path=\"/maestros/grupo-presentaciones\" component={ProductPresentationGroup} />\r\n          <ContentRoute path=\"/maestros/grupo-laboratorios\" component={LaboratoryGroup} />\r\n          <ContentRoute path=\"/maestros/grupo-drogas\" component={DrugGroup} />\r\n          <ContentRoute path=\"/usuarios\" component={User} />\r\n        </Can>\r\n        {/* <Can I=\"view\" a=\"menu-usuarios\">\r\n          <ContentRoute path=\"/usuarios\" component={User} />\r\n        </Can> */}                \r\n        <Redirect to=\"error\" />\r\n        <ContentRoute path=\"/error\" />\r\n      </Switch>\r\n    </Suspense>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport const LOGIN_URL = \"users/authenticate\";\r\n\r\nexport async function login(userName, password) {\r\n  return await axios.post(LOGIN_URL, {userName, password}, {withCredentials: true});\r\n}","import React, { useState } from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport { connect } from \"react-redux\";\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport * as auth from \"../_redux/authRedux\";\r\nimport { login } from \"../_redux/authCrud\";\r\n\r\nconst initialValues = {\r\n  userName: '',\r\n  password: '',\r\n};\r\n\r\nfunction Login(props) {\r\n  const { intl } = props;\r\n  const [loading, setLoading] = useState(false);\r\n \r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const disableLoading = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  const getInputClasses = (fieldname) => {\r\n    return \"\";\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues,\r\n    onSubmit: (values, { setStatus, setSubmitting }) => {\r\n      enableLoading();\r\n      setTimeout(() => {\r\n        login(values.userName, values.password)\r\n          .then(({ data }) => {\r\n            disableLoading();\r\n            props.login(data);\r\n          })\r\n          .catch((e) => {\r\n            console.error(e)\r\n            disableLoading();\r\n            setSubmitting(false);\r\n            setStatus(\r\n              intl.formatMessage({\r\n                id: \"AUTH.VALIDATION.INVALID_LOGIN\",\r\n              })\r\n            );\r\n          });\r\n      }, 1000);\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className=\"login-form login-signin\" id=\"kt_login_signin_form\">\r\n      {/* begin::Head */}\r\n      <div className=\"text-center mb-10 mb-lg-20\">\r\n        <h3 className=\"font-size-h1\">\r\n          <FormattedMessage id=\"AUTH.LOGIN.TITLE\" />\r\n        </h3>\r\n        <p className=\"text-muted font-weight-bold\">\r\n          <FormattedMessage id=\"AUTH.LOGIN.SUB_TITLE\" />\r\n        </p>\r\n      </div>\r\n      {/* end::Head */}\r\n\r\n      {/*begin::Form*/}\r\n      <form\r\n        onSubmit={formik.handleSubmit}\r\n        className=\"form fv-plugins-bootstrap fv-plugins-framework\"\r\n      >\r\n        {formik.status ? (\r\n          <div className=\"mb-10 alert alert-custom alert-light-danger alert-dismissible\">\r\n            <div className=\"alert-text font-weight-bold\">{formik.status}</div>\r\n          </div>\r\n        ): null }\r\n\r\n        <div className=\"form-group fv-plugins-icon-container\">\r\n          <input\r\n            placeholder={intl.formatMessage({id: \"AUTH.LOGIN.USER_NAME\"})}\r\n            type=\"text\"\r\n            className={`form-control form-control-solid h-auto py-5 px-6 ${getInputClasses(\r\n              \"userName\"\r\n            )}`}\r\n            name=\"userName\"\r\n            autoComplete=\"off\"\r\n            {...formik.getFieldProps(\"userName\")}\r\n          />\r\n          {formik.touched.userName && formik.errors.userName ? (\r\n            <div className=\"fv-plugins-message-container\">\r\n              <div className=\"fv-help-block\">{formik.errors.userName}</div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        <div className=\"form-group fv-plugins-icon-container\">\r\n          <input\r\n            placeholder={intl.formatMessage({id: \"AUTH.LOGIN.PASSWORD\"})}\r\n            type=\"password\"\r\n            className={`form-control form-control-solid h-auto py-5 px-6 ${getInputClasses(\r\n              \"password\"\r\n            )}`}\r\n            name=\"password\"\r\n            {...formik.getFieldProps(\"password\")}\r\n          />\r\n          {formik.touched.password && formik.errors.password ? (\r\n            <div className=\"fv-plugins-message-container\">\r\n              <div className=\"fv-help-block\">{formik.errors.password}</div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        <div className=\"form-group float-right\">\r\n          <button\r\n            id=\"kt_login_signin_submit\"\r\n            type=\"submit\"\r\n            disabled={formik.isSubmitting}\r\n            className={`btn btn-primary font-weight-bold px-9 py-4 my-3`}\r\n          >\r\n            <span>\r\n              <FormattedMessage id=\"FORM.ACTION.LOGIN\" />\r\n            </span>\r\n            {loading && <span className=\"ml-3 spinner spinner-white\"></span>}\r\n          </button>\r\n        </div>\r\n      </form>\r\n      {/*end::Form*/}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default injectIntl(connect(null, auth.actions)(Login));\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { Link, Switch, Redirect } from \"react-router-dom\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { toAbsoluteUrl } from \"../../../../_metronic/_helpers\";\r\nimport { ContentRoute } from \"../../../../_metronic/layout\";\r\nimport Login from \"./Login\";\r\nimport \"../../../../_metronic/_assets/sass/pages/login/classic/login-1.scss\";\r\n\r\nexport function AuthPage() {\r\n  const today = new Date().getFullYear();\r\n  return (\r\n    <>\r\n      <div className=\"d-flex flex-column flex-root\">\r\n        {/*begin::Login*/}\r\n        <div\r\n          className=\"login login-1 login-signin-on d-flex flex-column flex-lg-row flex-row-fluid bg-white\"\r\n          id=\"kt_login\"\r\n        >\r\n          {/*begin::Aside*/}\r\n          <div\r\n            className=\"login-aside d-flex flex-row-auto bgi-size-cover bgi-no-repeat p-10 p-lg-10\"\r\n            style={{\r\n              backgroundImage: `url(${toAbsoluteUrl(\"/media/bg/bg-5.jpg\")})`,\r\n            }}\r\n          >\r\n            {/*begin: Aside Container*/}\r\n            <div className=\"d-flex flex-row-fluid flex-column justify-content-between\">\r\n              {/* start:: Aside header */}\r\n              <Link to=\"/\" className=\"flex-column-auto mt-5\">\r\n                <img\r\n                  alt=\"Logo\"\r\n                  className=\"max-h-70px\"\r\n                  src={toAbsoluteUrl(\"/media/logos/logo-auth.png\")}\r\n                />\r\n              </Link>\r\n              {/* end:: Aside header */}\r\n\r\n              {/* start:: Aside content */}\r\n              <div className=\"flex-column-fluid d-flex flex-column justify-content-center\">\r\n                <h3 className=\"font-size-h1 mb-5 text-white\">\r\n                  <FormattedMessage id=\"MDA.TITLE\" />\r\n                </h3>\r\n                <p className=\"font-weight-lighter text-white opacity-80\">\r\n                  <FormattedMessage id=\"MDA.SUB_TITLE\" />\r\n                </p>\r\n              </div>\r\n              {/* end:: Aside content */}\r\n\r\n              {/* start:: Aside footer for desktop */}\r\n              <div className=\"d-none flex-column-auto d-lg-flex justify-content-between mt-10\">\r\n                <div className=\"opacity-70 font-weight-bold\ttext-white\">\r\n                  <span className=\"text-white font-weight-bold mr-2\">{today.toString()} &copy;{\" \"} </span>\r\n                  <a\r\n                    href=\"http://www.solutica.com.ar\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"text-white text-hover-white\"\r\n                  >\r\n                    Solutica\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              {/* end:: Aside footer for desktop */}\r\n            </div>\r\n            {/*end: Aside Container*/}\r\n          </div>\r\n          {/*begin::Aside*/}\r\n\r\n          {/*begin::Content*/}\r\n          <div className=\"flex-row-fluid d-flex flex-column position-relative p-7 overflow-hidden\">\r\n            {/* begin::Content body */}\r\n            <div className=\"d-flex flex-column-fluid flex-center mt-30 mt-lg-0\">\r\n              <Switch>\r\n                <ContentRoute path=\"/auth/login\" component={Login} />\r\n                <Redirect from=\"/auth\" exact={true} to=\"/auth/login\" />\r\n                <Redirect to=\"/auth/login\" />\r\n              </Switch>\r\n            </div>\r\n            {/*end::Content body*/}\r\n\r\n            {/* begin::Mobile footer */}\r\n            <div className=\"d-flex d-lg-none flex-column-auto flex-column flex-sm-row justify-content-between align-items-center mt-5 p-5\">\r\n              <div className=\"text-dark-50 font-weight-bold order-2 order-sm-1 my-2\">\r\n                <span className=\"text-white font-weight-bold mr-2\">{today.toString()} &copy;{\" \"}</span>\r\n                <a\r\n                  href=\"http://www.solutica.com.ar\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"text-white text-hover-white\"\r\n                >\r\n                  Solutica\r\n                </a>\r\n              </div>\r\n            </div>\r\n            {/* end::Mobile footer */}\r\n          </div>\r\n          {/*end::Content*/}\r\n        </div>\r\n        {/*end::Login*/}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {LayoutSplashScreen} from \"../../../../_metronic/layout\";\r\nimport * as auth from \"../_redux/authRedux\";\r\nimport * as mercadosActions from \"../../Mercados/_redux/mercadosActions\";\r\n\r\nclass Logout extends Component {\r\n  componentDidMount() {\r\n    this.props.clearCustomMarkets();\r\n    this.props.logout();\r\n  }\r\n\r\n  render() {\r\n    const { hasAuthToken } = this.props;\r\n    return hasAuthToken ? <LayoutSplashScreen /> : <Redirect to=\"/auth/login\" />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    hasAuthToken: Boolean(state.auth.authToken)\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n  logout: () => dispatch(auth.actions.logout()),\r\n  clearCustomMarkets: () => dispatch(mercadosActions.resetCustomMarket())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Logout)\r\n","import React from \"react\";\r\nimport { toAbsoluteUrl } from \"../../../_metronic/_helpers\";\r\nimport \"../../../_metronic/_assets/sass/pages/error/error-5.scss\";\r\n\r\nexport function ErrorPage5() {\r\n  return (\r\n    <div className=\"d-flex flex-column flex-root\">\r\n      <div\r\n        className=\"error error-5 d-flex flex-row-fluid bgi-size-cover bgi-position-center\"\r\n        style={{\r\n          backgroundImage: `url(${toAbsoluteUrl(\"/media/error/bg5.jpg\")})`,\r\n        }}\r\n      >\r\n        <div className=\"container d-flex flex-row-fluid flex-column justify-content-md-center p-12\">\r\n          <h1 className=\"error-title font-weight-boldest text-info mt-10 mt-md-0 mb-12\">\r\n            Oops!\r\n          </h1>\r\n{/*           <p className=\"font-weight-boldest display-4\">\r\n            Something went wrong here.\r\n          </p>\r\n          <p className=\"font-size-h3\">\r\n            We're working on it and we'll get it fixed\r\n            <br />\r\n            as soon possible.\r\n            <br />\r\n            You can back or use our Help Center.\r\n          </p> */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { ErrorPage5 } from \"./ErrorPage5\";\r\n\r\nexport default function ErrorsPage() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/error\" component={ErrorPage5} />\r\n    </Switch>\r\n  );\r\n}\r\n","/**\r\n * High level router.\r\n *\r\n * Note: It's recommended to compose related routes in internal router\r\n * components (e.g: `src/app/modules/Auth/pages/AuthPage`, `src/app/BasePage`).\r\n */\r\n\r\nimport React from \"react\";\r\nimport { Redirect, Switch, Route } from \"react-router-dom\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { Layout } from \"../_metronic/layout\";\r\nimport BasePage from \"./BasePage\";\r\nimport { Logout, AuthPage } from \"./modules/Auth\";\r\nimport ErrorsPage from \"./modules/ErrorsExamples/ErrorsPage\";\r\n\r\nexport function Routes() {\r\n  const { isAuthorized } = useSelector(\r\n    ({ auth }) => ({\r\n      isAuthorized: auth.user != null,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  return (\r\n    <Switch>\r\n      {!isAuthorized ? (\r\n        /*Render auth page when user at `/auth` and not authorized.*/\r\n        <Route>\r\n          <AuthPage />\r\n        </Route>\r\n      ) : (\r\n        /*Otherwise redirect to root page (`/`)*/\r\n        <Redirect from=\"/auth\" to=\"/\" />\r\n      )}\r\n\r\n      <Route path=\"/error\" component={ErrorsPage} />\r\n      <Route path=\"/logout\" component={Logout} />\r\n\r\n      {!isAuthorized ? (\r\n        /*Redirect to `/auth` when user is not authorized*/\r\n        <Redirect to=\"/auth/login\" />\r\n      ) : (\r\n        <Layout>\r\n          <BasePage />\r\n        </Layout>\r\n      )}\r\n    </Switch>\r\n  );\r\n}\r\n","import React, {createContext} from \"react\";\r\nimport {useMemo} from \"react\";\r\nimport {useContext} from \"react\";\r\n\r\nconst I18N_CONFIG_KEY = process.env.REACT_APP_I18N_CONFIG_KEY || \"i18nConfig\";\r\nconst initialState = {\r\n    selectedLang: \"es\"\r\n  };\r\n\r\nfunction getConfig() {\r\n  const ls = localStorage.getItem(I18N_CONFIG_KEY);\r\n  if (ls) {\r\n    try {\r\n      return JSON.parse(ls);\r\n    } catch (er) {\r\n      console.error(er);\r\n    }\r\n  }\r\n  return initialState;\r\n}\r\n\r\n// Side effect\r\nexport function setLanguage(lang) {\r\n  localStorage.setItem(I18N_CONFIG_KEY, JSON.stringify({ selectedLang: lang }));\r\n  window.location.reload();\r\n}\r\n\r\nconst I18nContext = createContext();\r\n\r\nexport function useLang() {\r\n  return useContext(I18nContext).selectedLang;\r\n}\r\n\r\nexport function withI18n(Component) {\r\n  class WithI18n extends React.Component {\r\n    static displayName = `WithI18n(${Component.displayName || Component.name})`;\r\n\r\n    static contextType = I18nContext;\r\n\r\n    render() {\r\n      return <Component {...this.props} menu={this.context} />;\r\n    }\r\n  }\r\n\r\n  return WithI18n;\r\n}\r\n\r\nexport const I18nConsumer = I18nContext.Consumer;\r\n\r\nexport function MetronicI18nProvider({ children }) {\r\n  const lang = useMemo(getConfig, []);\r\n\r\n  return <I18nContext.Provider value={lang}>{children}</I18nContext.Provider>;\r\n}\r\n","import React from \"react\";\r\nimport {useLang} from \"./Metronici18n\";\r\nimport {IntlProvider} from \"react-intl\";\r\nimport \"@formatjs/intl-relativetimeformat/polyfill\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/en\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/de\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/es\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/fr\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/ja\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/zh\";\r\n\r\nimport deMessages from \"./messages/de\";\r\nimport enMessages from \"./messages/en\";\r\nimport esMessages from \"./messages/es\";\r\nimport frMessages from \"./messages/fr\";\r\nimport jaMessages from \"./messages/ja\";\r\nimport zhMessages from \"./messages/zh\";\r\n\r\nconst allMessages = {\r\n  de: deMessages,\r\n  en: enMessages,\r\n  es: esMessages,\r\n  fr: frMessages,\r\n  ja: jaMessages,\r\n  zh: zhMessages\r\n};\r\n\r\nexport function I18nProvider({ children }) {\r\n  const locale = useLang();\r\n  const messages = allMessages[locale];\r\n\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages}>\r\n      {children}\r\n    </IntlProvider>\r\n  );\r\n}\r\n","/**\r\n * Entry application component used to compose providers and render Routes.\r\n * */\r\n\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport { Routes } from \"../app/Routes\";\r\nimport { I18nProvider } from \"../_metronic/i18n\";\r\nimport { LayoutSplashScreen, MaterialThemeProvider } from \"../_metronic/layout\";\r\n\r\nexport default function App({ store, persistor, basename }) {\r\n  return (\r\n    /* Provide Redux store */\r\n    <Provider store={store}>\r\n      {/* Asynchronously persist redux stores and show `SplashScreen` while it's loading. */}\r\n      <PersistGate persistor={persistor} loading={<LayoutSplashScreen />}>\r\n        {/* Add high level `Suspense` in case if was not handled inside the React tree. */}\r\n        <React.Suspense fallback={<LayoutSplashScreen />}>\r\n          {/* Override `basename` (e.g: `homepage` in `package.json`) */}\r\n          <BrowserRouter basename={basename}>\r\n            {/*This library only returns the location that has been active before the recent location change in the current window lifetime.*/}\r\n            <MaterialThemeProvider>\r\n              {/* Provide `react-intl` context synchronized with Redux state.  */}\r\n              <I18nProvider>\r\n                {/* Render routes with provided `Layout`. */}\r\n                <Routes />\r\n              </I18nProvider>\r\n            </MaterialThemeProvider>\r\n          </BrowserRouter>\r\n        </React.Suspense>\r\n      </PersistGate>\r\n    </Provider>\r\n  );\r\n}\r\n","/**\r\n * Create React App entry point. This and `public/index.html` files can not be\r\n * changed or moved.\r\n */\r\nimport \"react-app-polyfill/ie11\";\r\nimport \"react-app-polyfill/stable\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport axios from \"axios\";\r\nimport * as _redux from \"./redux\";\r\nimport store, { persistor } from \"./redux/store\";\r\nimport App from \"./app/App\";\r\nimport \"./index.scss\"; // Standard version\r\n// import \"./sass/style.react.rtl.css\"; // RTL version\r\nimport \"./_metronic/_assets/plugins/keenthemes-icons/font/ki.css\";\r\nimport \"socicon/css/socicon.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport \"./_metronic/_assets/plugins/flaticon/flaticon.css\";\r\nimport \"./_metronic/_assets/plugins/flaticon2/flaticon.css\";\r\n// Datepicker\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport {\r\n  MetronicLayoutProvider,\r\n  MetronicSplashScreenProvider,\r\n  MetronicSubheaderProvider\r\n} from \"./_metronic/layout\";\r\nimport {MetronicI18nProvider} from \"./_metronic/i18n\";\r\n\r\n/**\r\n * Base URL of the website.\r\n *\r\n * @see https://facebook.github.io/create-react-app/docs/using-the-public-folder\r\n */\r\nconst { PUBLIC_URL } = process.env;\r\n/**\r\n * Creates `axios-mock-adapter` instance for provided `axios` instance, add\r\n * basic Metronic mocks and returns it.\r\n *\r\n * @see https://github.com/ctimmerm/axios-mock-adapter\r\n */\r\n\r\n/**\r\n * Inject metronic interceptors for axios.\r\n *\r\n * @see https://github.com/axios/axios#interceptors\r\n */\r\n_redux.setupAxios(axios, store);\r\n\r\nReactDOM.render(\r\n  <MetronicI18nProvider>\r\n    <MetronicLayoutProvider>\r\n      <MetronicSubheaderProvider>\r\n        <MetronicSplashScreenProvider>\r\n          <App store={store} persistor={persistor} basename={PUBLIC_URL} />\r\n        </MetronicSplashScreenProvider>\r\n      </MetronicSubheaderProvider>\r\n    </MetronicLayoutProvider>\r\n  </MetronicI18nProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","/* eslint-disable */\n\"use strict\";\r\n// DOCS: https://javascript.info/cookie\r\n\r\n// Component Definition\r\nexport var KTCookie = function() {\r\n  return {\r\n    // returns the cookie with the given name,\r\n    // or undefined if not found\r\n    getCookie: function(name) {\r\n      var matches = document.cookie.match(new RegExp(\r\n        \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n      ));\r\n      return matches ? decodeURIComponent(matches[1]) : undefined;\r\n    },\r\n    // Please note that a cookie value is encoded,\r\n    // so getCookie uses a built-in decodeURIComponent function to decode it.\r\n    setCookie: function(name, value, options) {\r\n      if (!options) {\r\n          options = {};\r\n      }\r\n\r\n      options = Object.assign({}, {path: '/'}, options);\r\n\r\n      if (options.expires instanceof Date) {\r\n        options.expires = options.expires.toUTCString();\r\n      }\r\n\r\n      var updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n\r\n      for (var optionKey in options) {\r\n        if (!options.hasOwnProperty(optionKey)) {\r\n          continue;\r\n        }\r\n        updatedCookie += \"; \" + optionKey;\r\n        var optionValue = options[optionKey];\r\n        if (optionValue !== true) {\r\n          updatedCookie += \"=\" + optionValue;\r\n        }\r\n      }\r\n\r\n      document.cookie = updatedCookie;\r\n    },\r\n    // To delete a cookie, we can call it with a negative expiration date:\r\n    deleteCookie: function(name) {\r\n      setCookie(name, \"\", {\r\n        'max-age': -1\r\n      })\r\n    }\r\n  }\r\n}();\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n  // module.exports = KTCookie;\r\n}\r\n","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./util\";\r\n\r\n// Component Definition\r\nvar KTOffcanvas = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.getById(elementId);\r\n    var body = KTUtil.getBody();\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        attrCustom: ''\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('offcanvas')) {\r\n                the = KTUtil.data(element).get('offcanvas');\r\n            } else {\r\n                // Reset offcanvas\r\n                Plugin.init(options);\r\n\r\n                // Build offcanvas\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('offcanvas', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            the.classBase = the.options.baseClass;\r\n            the.attrCustom = the.options.attrCustom;\r\n            the.classShown = the.classBase + '-on';\r\n            the.classOverlay = the.classBase + '-overlay';\r\n            the.target;\r\n\r\n            the.state = KTUtil.hasClass(element, the.classShown) ? 'shown' : 'hidden';\r\n        },\r\n\r\n        build: function() {\r\n            // offcanvas toggle\r\n            if (the.options.toggleBy) {\r\n                if (typeof the.options.toggleBy === 'string') {\r\n                    KTUtil.addEvent(KTUtil.getById(the.options.toggleBy), 'click', function(e) {\r\n                        e.preventDefault();\r\n                        the.target = this;\r\n                        Plugin.toggle();\r\n                    });\r\n                } else if (the.options.toggleBy && the.options.toggleBy[0]) {\r\n                    if (the.options.toggleBy[0].target) {\r\n                        for (var i in the.options.toggleBy) {\r\n                            KTUtil.addEvent(KTUtil.getById(the.options.toggleBy[i].target), 'click', function(e) {\r\n                                e.preventDefault();\r\n                                the.target = this;\r\n                                Plugin.toggle();\r\n                            });\r\n                        }\r\n                    } else {\r\n                        for (var i in the.options.toggleBy) {\r\n                            KTUtil.addEvent(KTUtil.getById(the.options.toggleBy[i]), 'click', function(e) {\r\n                                e.preventDefault();\r\n                                the.target = this;\r\n                                Plugin.toggle();\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                } else if (the.options.toggleBy && the.options.toggleBy.target) {\r\n                    KTUtil.addEvent( KTUtil.getById(the.options.toggleBy.target), 'click', function(e) {\r\n                        e.preventDefault();\r\n                        the.target = this;\r\n                        Plugin.toggle();\r\n                    });\r\n                }\r\n            }\r\n\r\n            // offcanvas close\r\n            var closeBy = KTUtil.getById(the.options.closeBy);\r\n            if (closeBy) {\r\n                KTUtil.addEvent(closeBy, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    the.target = this;\r\n                    Plugin.hide();\r\n                });\r\n            }\r\n        },\r\n\r\n        isShown: function() {\r\n            return (the.state == 'shown' ? true : false);\r\n        },\r\n\r\n        toggle: function() {;\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            if (the.state == 'shown') {\r\n                Plugin.hide();\r\n            } else {\r\n                Plugin.show();\r\n            }\r\n        },\r\n\r\n        show: function() {\r\n            if (the.state == 'shown') {\r\n                return;\r\n            }\r\n\r\n            Plugin.eventTrigger('beforeShow');\r\n\r\n            Plugin.toggleClass('show');\r\n\r\n            // Offcanvas panel\r\n            KTUtil.attr(body, 'data-offcanvas-' + the.classBase, 'on');\r\n            KTUtil.addClass(element, the.classShown);\r\n\r\n            if (the.attrCustom.length > 0) {\r\n                KTUtil.attr(body, 'data-offcanvas-' + the.classCustom, 'on');\r\n                //KTUtil.addClass(body, the.classCustom);\r\n            }\r\n\r\n            the.state = 'shown';\r\n\r\n            if (the.options.overlay) {\r\n                the.overlay = KTUtil.insertAfter(document.createElement('DIV') , element );\r\n                KTUtil.addClass(the.overlay, the.classOverlay);\r\n\r\n                KTUtil.addEvent(the.overlay, 'click', function(e) {\r\n                    //e.stopPropagation();\r\n                    e.preventDefault();\r\n                    Plugin.hide(the.target);\r\n                });\r\n            }\r\n\r\n            Plugin.eventTrigger('afterShow');\r\n        },\r\n\r\n        hide: function() {\r\n            if (the.state == 'hidden') {\r\n                return;\r\n            }\r\n\r\n            Plugin.eventTrigger('beforeHide');\r\n\r\n            Plugin.toggleClass('hide');\r\n\r\n            KTUtil.removeAttr(body, 'data-offcanvas-' + the.classBase);\r\n            KTUtil.removeClass(element, the.classShown);\r\n\r\n            if (the.attrCustom.length > 0) {\r\n                KTUtil.removeAttr(body, 'data-offcanvas-' + the.attrCustom);\r\n            }\r\n\r\n            the.state = 'hidden';\r\n\r\n            if (the.options.overlay && the.overlay) {\r\n                KTUtil.remove(the.overlay);\r\n            }\r\n\r\n            Plugin.eventTrigger('afterHide');\r\n        },\r\n\r\n        toggleClass: function(mode) {\r\n            var id = KTUtil.attr(the.target, 'id');\r\n            var toggleBy;\r\n\r\n            if (the.options.toggleBy && the.options.toggleBy[0] && the.options.toggleBy[0].target) {\r\n                for (var i in the.options.toggleBy) {\r\n                    if (the.options.toggleBy[i].target === id) {\r\n                        toggleBy = the.options.toggleBy[i];\r\n                    }\r\n                }\r\n            } else if (the.options.toggleBy && the.options.toggleBy.target) {\r\n                toggleBy = the.options.toggleBy;\r\n            }\r\n\r\n            if (toggleBy) {\r\n                var el = KTUtil.getById(toggleBy.target);\r\n\r\n                if (mode === 'show') {\r\n                    KTUtil.addClass(el, toggleBy.state);\r\n                }\r\n\r\n                if (mode === 'hide') {\r\n                    KTUtil.removeClass(el, toggleBy.state);\r\n                }\r\n            }\r\n        },\r\n\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     * @param options\r\n     */\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Check if canvas is shown\r\n     * @returns {boolean}\r\n     */\r\n    the.isShown = function() {\r\n        return Plugin.isShown();\r\n    };\r\n\r\n    /**\r\n     * Set to hide the canvas\r\n     */\r\n    the.hide = function() {\r\n        return Plugin.hide();\r\n    };\r\n\r\n    /**\r\n     * Set to show the canvas\r\n     */\r\n    the.show = function() {\r\n        return Plugin.show();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     * @param name\r\n     * @param handler\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     * @param name\r\n     * @param handler\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTOffcanvas;\r\n}\r\n\nexport default KTOffcanvas;","/* eslint-disable */\n\"use strict\";\n\nimport PerfectScrollbar from \"perfect-scrollbar\";\n\nimport { KTCookie } from \"./cookie.js\";\r\n\r\n/**\r\n * @class KTUtil  base utilize class that privides helper functions\r\n */\r\n\r\n// Polyfills\r\n/**\r\n * Element.matches() polyfill (simple version)\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\r\n */\r\nif (!Element.prototype.matches) {\r\n\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\r\n}\r\n\r\n/**\r\n * Element.closest() polyfill\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\r\n */\r\nif (!Element.prototype.closest) {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\r\n\t}\r\n\tElement.prototype.closest = function (s) {\r\n\t\tvar el = this;\r\n\t\tvar ancestor = this;\r\n\t\tif (!document.documentElement.contains(el)) return null;\r\n\t\tdo {\r\n\t\t\tif (ancestor.matches(s)) return ancestor;\r\n\t\t\tancestor = ancestor.parentElement;\r\n\t\t} while (ancestor !== null);\r\n\t\treturn null;\r\n\t};\r\n}\r\n\r\n/**\r\n * ChildNode.remove() polyfill\r\n * https://gomakethings.com/removing-an-element-from-the-dom-the-es6-way/\r\n * @author Chris Ferdinandi\r\n * @license MIT\r\n */\r\n(function (elem) {\r\n\tfor (var i = 0; i < elem.length; i++) {\r\n\t\tif (!window[elem[i]] || 'remove' in window[elem[i]].prototype) continue;\r\n\t\twindow[elem[i]].prototype.remove = function () {\r\n\t\t\tthis.parentNode.removeChild(this);\r\n\t\t};\r\n\t}\r\n})(['Element', 'CharacterData', 'DocumentType']);\r\n\r\n\r\n//\r\n// requestAnimationFrame polyfill by Erik Mller.\r\n//  With fixes from Paul Irish and Tino Zijdel\r\n//\r\n//  http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n//  http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n//\r\n//  MIT license\r\n//\r\n(function() {\r\n    var lastTime = 0;\r\n    var vendors = ['webkit', 'moz'];\r\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame =\r\n            window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n\r\n    if (!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function(callback) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = window.setTimeout(function() {\r\n                callback(currTime + timeToCall);\r\n            }, timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n\r\n    if (!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function(id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\n// Source: https://github.com/jserz/js_piece/blob/master/DOM/ParentNode/prepend()/prepend().md\r\n(function(arr) {\r\n    arr.forEach(function(item) {\r\n        if (item.hasOwnProperty('prepend')) {\r\n            return;\r\n        }\r\n        Object.defineProperty(item, 'prepend', {\r\n            configurable: true,\r\n            enumerable: true,\r\n            writable: true,\r\n            value: function prepend() {\r\n                var argArr = Array.prototype.slice.call(arguments),\r\n                    docFrag = document.createDocumentFragment();\r\n\r\n                argArr.forEach(function(argItem) {\r\n                    var isNode = argItem instanceof Node;\r\n                    docFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));\r\n                });\r\n\r\n                this.insertBefore(docFrag, this.firstChild);\r\n            }\r\n        });\r\n    });\r\n})([Element.prototype, Document.prototype, DocumentFragment.prototype]);\r\n\r\n// getAttributeNames\r\nif (Element.prototype.getAttributeNames == undefined) {\r\n  Element.prototype.getAttributeNames = function () {\r\n    var attributes = this.attributes;\r\n    var length = attributes.length;\r\n    var result = new Array(length);\r\n    for (var i = 0; i < length; i++) {\r\n      result[i] = attributes[i].name;\r\n    }\r\n    return result;\r\n  };\r\n}\r\n\r\n// Global variables\r\nwindow.KTUtilElementDataStore = {};\r\nwindow.KTUtilElementDataStoreID = 0;\r\nwindow.KTUtilDelegatedEventHandlers = {};\r\n\r\nexport var KTUtil = function() {\r\n    var resizeHandlers = [];\r\n\r\n    /** @type {object} breakpoints The device width breakpoints **/\r\n    var breakpoints = {\r\n        sm: 544, // Small screen / phone\r\n        md: 768, // Medium screen / tablet\r\n        lg: 992, // Large screen / desktop\r\n        xl: 1200 // Extra large screen / wide desktop\r\n    };\r\n\r\n    /**\r\n     * Handle window resize event with some\r\n     * delay to attach event handlers upon resize complete\r\n     */\r\n    var _windowResizeHandler = function() {\r\n        var _runResizeHandlers = function() {\r\n            // reinitialize other subscribed elements\r\n            for (var i = 0; i < resizeHandlers.length; i++) {\r\n                var each = resizeHandlers[i];\r\n                each.call();\r\n            }\r\n        };\r\n\r\n        var timer;\r\n\r\n        window.addEventListener('resize', function() {\r\n            KTUtil.throttle(timer, function() {\r\n                _runResizeHandlers();\r\n            }, 200);\r\n        });\r\n    };\r\n\r\n    return {\r\n        /**\r\n         * Class main initializer.\r\n         * @param {object} settings.\r\n         * @returns null\r\n         */\r\n        //main function to initiate the theme\r\n        init: function(settings) {\r\n            if (settings && settings.breakpoints) {\r\n                breakpoints = settings.breakpoints;\r\n            }\r\n\r\n            _windowResizeHandler();\r\n        },\r\n\r\n        /**\r\n         * Adds window resize event handler.\r\n         * @param {function} callback function.\r\n         */\r\n        addResizeHandler: function(callback) {\r\n            resizeHandlers.push(callback);\r\n        },\r\n\r\n        /**\r\n         * Removes window resize event handler.\r\n         * @param {function} callback function.\r\n         */\r\n        removeResizeHandler: function(callback) {\r\n            for (var i = 0; i < resizeHandlers.length; i++) {\r\n                if (callback === resizeHandlers[i]) {\r\n                    delete resizeHandlers[i];\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Trigger window resize handlers.\r\n         */\r\n        runResizeHandlers: function() {\r\n            _runResizeHandlers();\r\n        },\r\n\r\n        resize: function() {\r\n            if (typeof(Event) === 'function') {\r\n                // modern browsers\r\n                window.dispatchEvent(new Event('resize'));\r\n            } else {\r\n                // for IE and other old browsers\r\n                // causes deprecation warning on modern browsers\r\n                var evt = window.document.createEvent('UIEvents');\r\n                evt.initUIEvent('resize', true, false, window, 0);\r\n                window.dispatchEvent(evt);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get GET parameter value from URL.\r\n         * @param {string} paramName Parameter name.\r\n         * @returns {string}\r\n         */\r\n        getURLParam: function(paramName) {\r\n            var searchString = window.location.search.substring(1),\r\n                i, val, params = searchString.split(\"&\");\r\n\r\n            for (i = 0; i < params.length; i++) {\r\n                val = params[i].split(\"=\");\r\n                if (val[0] == paramName) {\r\n                    return unescape(val[1]);\r\n                }\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * Checks whether current device is mobile touch.\r\n         * @returns {boolean}\r\n         */\r\n        isMobileDevice: function() {\r\n            var test = (this.getViewPort().width < this.getBreakpoint('lg') ? true : false);\r\n\r\n            if (test === false) {\r\n                // For use within normal web clients\r\n                test = navigator.userAgent.match(/iPad/i) != null;\r\n            }\r\n\r\n            return test;\r\n        },\r\n\r\n        /**\r\n         * Checks whether current device is desktop.\r\n         * @returns {boolean}\r\n         */\r\n        isDesktopDevice: function() {\r\n            return KTUtil.isMobileDevice() ? false : true;\r\n        },\r\n\r\n        /**\r\n         * Gets browser window viewport size. Ref:\r\n         * http://andylangton.co.uk/articles/javascript/get-viewport-size-javascript/\r\n         * @returns {object}\r\n         */\r\n        getViewPort: function() {\r\n            var e = window,\r\n                a = 'inner';\r\n            if (!('innerWidth' in window)) {\r\n                a = 'client';\r\n                e = document.documentElement || document.body;\r\n            }\r\n\r\n            return {\r\n                width: e[a + 'Width'],\r\n                height: e[a + 'Height']\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Checks whether given device mode is currently activated.\r\n         * @param {string} mode Responsive mode name(e.g: desktop,\r\n         *     desktop-and-tablet, tablet, tablet-and-mobile, mobile)\r\n         * @returns {boolean}\r\n         */\r\n        isInResponsiveRange: function(mode) {\r\n            var breakpoint = this.getViewPort().width;\r\n\r\n            if (mode == 'general') {\r\n                return true;\r\n            } else if (mode == 'desktop' && breakpoint >= (this.getBreakpoint('lg') + 1)) {\r\n                return true;\r\n            } else if (mode == 'tablet' && (breakpoint >= (this.getBreakpoint('md') + 1) && breakpoint < this.getBreakpoint('lg'))) {\r\n                return true;\r\n            } else if (mode == 'mobile' && breakpoint <= this.getBreakpoint('md')) {\r\n                return true;\r\n            } else if (mode == 'desktop-and-tablet' && breakpoint >= (this.getBreakpoint('md') + 1)) {\r\n                return true;\r\n            } else if (mode == 'tablet-and-mobile' && breakpoint <= this.getBreakpoint('lg')) {\r\n                return true;\r\n            } else if (mode == 'minimal-desktop-and-below' && breakpoint <= this.getBreakpoint('xl')) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n\t\t/**\r\n         * Checks whether given device mode is currently activated.\r\n         * @param {string} mode Responsive mode name(e.g: desktop,\r\n         *     desktop-and-tablet, tablet, tablet-and-mobile, mobile)\r\n         * @returns {boolean}\r\n         */\r\n        isBreakpointUp: function(mode) {\r\n            var width = this.getViewPort().width;\r\n\t\t\tvar breakpoint = this.getBreakpoint(mode);\r\n\r\n\t\t\treturn (width >= breakpoint);\r\n        },\r\n\r\n\t\tisBreakpointDown: function(mode) {\r\n            var width = this.getViewPort().width;\r\n\t\t\tvar breakpoint = this.getBreakpoint(mode);\r\n\r\n\t\t\treturn (width < breakpoint);\r\n        },\r\n\r\n        /**\r\n         * Generates unique ID for give prefix.\r\n         * @param {string} prefix Prefix for generated ID\r\n         * @returns {boolean}\r\n         */\r\n        getUniqueID: function(prefix) {\r\n            return prefix + Math.floor(Math.random() * (new Date()).getTime());\r\n        },\r\n\r\n        /**\r\n         * Gets window width for give breakpoint mode.\r\n         * @param {string} mode Responsive mode name(e.g: xl, lg, md, sm)\r\n         * @returns {number}\r\n         */\r\n        getBreakpoint: function(mode) {\r\n            return breakpoints[mode];\r\n        },\r\n\r\n        /**\r\n         * Checks whether object has property matchs given key path.\r\n         * @param {object} obj Object contains values paired with given key path\r\n         * @param {string} keys Keys path seperated with dots\r\n         * @returns {object}\r\n         */\r\n        isset: function(obj, keys) {\r\n            var stone;\r\n\r\n            keys = keys || '';\r\n\r\n            if (keys.indexOf('[') !== -1) {\r\n                throw new Error('Unsupported object path notation.');\r\n            }\r\n\r\n            keys = keys.split('.');\r\n\r\n            do {\r\n                if (obj === undefined) {\r\n                    return false;\r\n                }\r\n\r\n                stone = keys.shift();\r\n\r\n                if (!obj.hasOwnProperty(stone)) {\r\n                    return false;\r\n                }\r\n\r\n                obj = obj[stone];\r\n\r\n            } while (keys.length);\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Gets highest z-index of the given element parents\r\n         * @param {object} el jQuery element object\r\n         * @returns {number}\r\n         */\r\n        getHighestZindex: function(el) {\r\n            var position, value;\r\n\r\n            while (el && el !== document) {\r\n                // Ignore z-index if position is set to a value where z-index is ignored by the browser\r\n                // This makes behavior of this function consistent across browsers\r\n                // WebKit always returns auto if the element is positioned\r\n                position = KTUtil.css(el, 'position');\r\n\r\n                if (position === \"absolute\" || position === \"relative\" || position === \"fixed\") {\r\n                    // IE returns 0 when zIndex is not specified\r\n                    // other browsers return a string\r\n                    // we ignore the case of nested elements with an explicit value of 0\r\n                    // <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\r\n                    value = parseInt(KTUtil.css(el, 'z-index'));\r\n\r\n                    if (!isNaN(value) && value !== 0) {\r\n                        return value;\r\n                    }\r\n                }\r\n\r\n                el = el.parentNode;\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * Checks whether the element has any parent with fixed positionfreg\r\n         * @param {object} el jQuery element object\r\n         * @returns {boolean}\r\n         */\r\n        hasFixedPositionedParent: function(el) {\r\n            var position;\r\n\r\n            while (el && el !== document) {\r\n                position = KTUtil.css(el, 'position');\r\n\r\n                if (position === \"fixed\") {\r\n                    return true;\r\n                }\r\n\r\n                el = el.parentNode;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Simulates delay\r\n         */\r\n        sleep: function(milliseconds) {\r\n            var start = new Date().getTime();\r\n            for (var i = 0; i < 1e7; i++) {\r\n                if ((new Date().getTime() - start) > milliseconds) {\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Gets randomly generated integer value within given min and max range\r\n         * @param {number} min Range start value\r\n         * @param {number} max Range end value\r\n         * @returns {number}\r\n         */\r\n        getRandomInt: function(min, max) {\r\n            return Math.floor(Math.random() * (max - min + 1)) + min;\r\n        },\r\n\r\n        /**\r\n         * Checks whether Angular library is included\r\n         * @returns {boolean}\r\n         */\r\n        isAngularVersion: function() {\r\n            return window.Zone !== undefined ? true : false;\r\n        },\r\n\r\n        // Deep extend:  $.extend(true, {}, objA, objB);\r\n        deepExtend: function(out) {\r\n            out = out || {};\r\n\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                var obj = arguments[i];\r\n                if (!obj) continue;\r\n\r\n                for (var key in obj) {\r\n                    if (!obj.hasOwnProperty(key)) {\r\n                        continue;\r\n                    }\r\n\r\n                    // based on https://javascriptweblog.wordpress.com/2011/08/08/fixing-the-javascript-typeof-operator/\r\n                    if ( Object.prototype.toString.call(obj[key]) === '[object Object]' ) {\r\n                        out[key] = KTUtil.deepExtend(out[key], obj[key]);\r\n                        continue;\r\n                    }\r\n\r\n                    out[key] = obj[key];\r\n                }\r\n            }\r\n\r\n            return out;\r\n        },\r\n\r\n        // extend:  $.extend({}, objA, objB);\r\n        extend: function(out) {\r\n            out = out || {};\r\n\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                if (!arguments[i])\r\n                    continue;\r\n\r\n                for (var key in arguments[i]) {\r\n                    if (arguments[i].hasOwnProperty(key))\r\n                        out[key] = arguments[i][key];\r\n                }\r\n            }\r\n\r\n            return out;\r\n        },\r\n\r\n        getById: function(el) {\r\n            if (typeof el === 'string') {\r\n                return document.getElementById(el);\r\n            } else {\r\n                return el;\r\n            }\r\n        },\r\n\r\n        getByTag: function(query) {\r\n            return document.getElementsByTagName(query);\r\n        },\r\n\r\n        getByTagName: function(query) {\r\n            return document.getElementsByTagName(query);\r\n        },\r\n\r\n        getByClass: function(query) {\r\n            return document.getElementsByClassName(query);\r\n        },\r\n\r\n        getBody: function() {\r\n            return document.getElementsByTagName('body')[0];\r\n        },\r\n\r\n        /**\r\n         * Checks whether the element has given classes\r\n         * @param {object} el jQuery element object\r\n         * @param {string} Classes string\r\n         * @returns {boolean}\r\n         */\r\n        hasClasses: function(el, classes) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            var classesArr = classes.split(\" \");\r\n\r\n            for (var i = 0; i < classesArr.length; i++) {\r\n                if (KTUtil.hasClass(el, KTUtil.trim(classesArr[i])) == false) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        hasClass: function(el, className) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            return el.classList ? el.classList.contains(className) : new RegExp('\\\\b' + className + '\\\\b').test(el.className);\r\n        },\r\n\r\n        addClass: function(el, className) {\r\n            if (!el || typeof className === 'undefined') {\r\n                return;\r\n            }\r\n\r\n            var classNames = className.split(' ');\r\n\r\n            if (el.classList) {\r\n                for (var i = 0; i < classNames.length; i++) {\r\n                    if (classNames[i] && classNames[i].length > 0) {\r\n                        el.classList.add(KTUtil.trim(classNames[i]));\r\n                    }\r\n                }\r\n            } else if (!KTUtil.hasClass(el, className)) {\r\n                for (var x = 0; x < classNames.length; x++) {\r\n                    el.className += ' ' + KTUtil.trim(classNames[x]);\r\n                }\r\n            }\r\n        },\r\n\r\n        removeClass: function(el, className) {\r\n          if (!el || typeof className === 'undefined') {\r\n                return;\r\n            }\r\n\r\n            var classNames = className.split(' ');\r\n\r\n            if (el.classList) {\r\n                for (var i = 0; i < classNames.length; i++) {\r\n                    el.classList.remove(KTUtil.trim(classNames[i]));\r\n                }\r\n            } else if (KTUtil.hasClass(el, className)) {\r\n                for (var x = 0; x < classNames.length; x++) {\r\n                    el.className = el.className.replace(new RegExp('\\\\b' + KTUtil.trim(classNames[x]) + '\\\\b', 'g'), '');\r\n                }\r\n            }\r\n        },\r\n\r\n        triggerCustomEvent: function(el, eventName, data) {\r\n            var event;\r\n            if (window.CustomEvent) {\r\n                event = new CustomEvent(eventName, {\r\n                    detail: data\r\n                });\r\n            } else {\r\n                event = document.createEvent('CustomEvent');\r\n                event.initCustomEvent(eventName, true, true, data);\r\n            }\r\n\r\n            el.dispatchEvent(event);\r\n        },\r\n\r\n        triggerEvent: function(node, eventName) {\r\n            // Make sure we use the ownerDocument from the provided node to avoid cross-window problems\r\n            var doc;\r\n            if (node.ownerDocument) {\r\n                doc = node.ownerDocument;\r\n            } else if (node.nodeType == 9) {\r\n                // the node may be the document itself, nodeType 9 = DOCUMENT_NODE\r\n                doc = node;\r\n            } else {\r\n                throw new Error(\"Invalid node passed to fireEvent: \" + node.id);\r\n            }\r\n\r\n            if (node.dispatchEvent) {\r\n                // Gecko-style approach (now the standard) takes more work\r\n                var eventClass = \"\";\r\n\r\n                // Different events have different event classes.\r\n                // If this switch statement can't map an eventName to an eventClass,\r\n                // the event firing is going to fail.\r\n                switch (eventName) {\r\n                case \"click\": // Dispatching of 'click' appears to not work correctly in Safari. Use 'mousedown' or 'mouseup' instead.\r\n                case \"mouseenter\":\r\n                case \"mouseleave\":\r\n                case \"mousedown\":\r\n                case \"mouseup\":\r\n                    eventClass = \"MouseEvents\";\r\n                    break;\r\n\r\n                case \"focus\":\r\n                case \"change\":\r\n                case \"blur\":\r\n                case \"select\":\r\n                    eventClass = \"HTMLEvents\";\r\n                    break;\r\n\r\n                default:\r\n                    throw \"fireEvent: Couldn't find an event class for event '\" + eventName + \"'.\";\r\n                    break;\r\n                }\r\n                var event = doc.createEvent(eventClass);\r\n\r\n                var bubbles = eventName == \"change\" ? false : true;\r\n                event.initEvent(eventName, bubbles, true); // All events created as bubbling and cancelable.\r\n\r\n                event.synthetic = true; // allow detection of synthetic events\r\n                // The second parameter says go ahead with the default action\r\n                node.dispatchEvent(event, true);\r\n            } else if (node.fireEvent) {\r\n                // IE-old school style\r\n                var event = doc.createEventObject();\r\n                event.synthetic = true; // allow detection of synthetic events\r\n                node.fireEvent(\"on\" + eventName, event);\r\n            }\r\n        },\r\n\r\n        index: function( el ){\r\n            var c = el.parentNode.children, i = 0;\r\n            for(; i < c.length; i++ )\r\n                if( c[i] == el ) return i;\r\n        },\r\n\r\n        trim: function(string) {\r\n            return string.trim();\r\n        },\r\n\r\n        eventTriggered: function(e) {\r\n            if (e.currentTarget.dataset.triggered) {\r\n                return true;\r\n            } else {\r\n                e.currentTarget.dataset.triggered = true;\r\n\r\n                return false;\r\n            }\r\n        },\r\n\r\n        remove: function(el) {\r\n            if (el && el.parentNode) {\r\n                el.parentNode.removeChild(el);\r\n            }\r\n        },\r\n\r\n        find: function(parent, query) {\r\n            parent = KTUtil.getById(parent);\r\n            if (parent) {\r\n                return parent.querySelector(query);\r\n            }\r\n        },\r\n\r\n        findAll: function(parent, query) {\r\n            parent = KTUtil.getById(parent);\r\n            if (parent) {\r\n                return parent.querySelectorAll(query);\r\n            }\r\n        },\r\n\r\n        insertAfter: function(el, referenceNode) {\r\n            return referenceNode.parentNode.insertBefore(el, referenceNode.nextSibling);\r\n        },\r\n\r\n        parents: function(elem, selector) {\r\n            // Element.matches() polyfill\r\n            if (!Element.prototype.matches) {\r\n                Element.prototype.matches =\r\n                    Element.prototype.matchesSelector ||\r\n                    Element.prototype.mozMatchesSelector ||\r\n                    Element.prototype.msMatchesSelector ||\r\n                    Element.prototype.oMatchesSelector ||\r\n                    Element.prototype.webkitMatchesSelector ||\r\n                    function(s) {\r\n                        var matches = (this.document || this.ownerDocument).querySelectorAll(s),\r\n                            i = matches.length;\r\n                        while (--i >= 0 && matches.item(i) !== this) {}\r\n                        return i > -1;\r\n                    };\r\n            }\r\n\r\n            // Set up a parent array\r\n            var parents = [];\r\n\r\n            // Push each parent element to the array\r\n            for ( ; elem && elem !== document; elem = elem.parentNode ) {\r\n                if (selector) {\r\n                    if (elem.matches(selector)) {\r\n                        parents.push(elem);\r\n                    }\r\n                    continue;\r\n                }\r\n                parents.push(elem);\r\n            }\r\n\r\n            // Return our parent array\r\n            return parents;\r\n        },\r\n\r\n        children: function(el, selector, log) {\r\n            if (!el || !el.childNodes) {\r\n                return;\r\n            }\r\n\r\n            var result = [],\r\n                i = 0,\r\n                l = el.childNodes.length;\r\n\r\n            for (var i; i < l; ++i) {\r\n                if (el.childNodes[i].nodeType == 1 && KTUtil.matches(el.childNodes[i], selector, log)) {\r\n                    result.push(el.childNodes[i]);\r\n                }\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        child: function(el, selector, log) {\r\n            var children = KTUtil.children(el, selector, log);\r\n\r\n            return children ? children[0] : null;\r\n        },\r\n\r\n        matches: function(el, selector, log) {\r\n            var p = Element.prototype;\r\n            var f = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || function(s) {\r\n                return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\r\n            };\r\n\r\n            if (el && el.tagName) {\r\n                return f.call(el, selector);\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        data: function(el) {\r\n            return {\r\n                set: function(name, data) {\r\n                    if (!el) {\r\n                        return;\r\n                    }\r\n\r\n                    if (el.customDataTag === undefined) {\r\n                        window.KTUtilElementDataStoreID++;\r\n                        el.customDataTag = window.KTUtilElementDataStoreID;\r\n                    }\r\n\r\n                    if (window.KTUtilElementDataStore[el.customDataTag] === undefined) {\r\n                        window.KTUtilElementDataStore[el.customDataTag] = {};\r\n                    }\r\n\r\n                    window.KTUtilElementDataStore[el.customDataTag][name] = data;\r\n                },\r\n\r\n                get: function(name) {\r\n                    if (!el) {\r\n                        return;\r\n                    }\r\n\r\n                    if (el.customDataTag === undefined) {\r\n                        return null;\r\n                    }\r\n\r\n                    return this.has(name) ? window.KTUtilElementDataStore[el.customDataTag][name] : null;\r\n                },\r\n\r\n                has: function(name) {\r\n                    if (!el) {\r\n                        return false;\r\n                    }\r\n\r\n                    if (el.customDataTag === undefined) {\r\n                        return false;\r\n                    }\r\n\r\n                    return (window.KTUtilElementDataStore[el.customDataTag] && window.KTUtilElementDataStore[el.customDataTag][name]) ? true : false;\r\n                },\r\n\r\n                remove: function(name) {\r\n                    if (el && this.has(name)) {\r\n                        delete window.KTUtilElementDataStore[el.customDataTag][name];\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n        outerWidth: function(el, margin) {\r\n            var width;\r\n\r\n            if (margin === true) {\r\n                width = parseFloat(el.offsetWidth);\r\n                width += parseFloat(KTUtil.css(el, 'margin-left')) + parseFloat(KTUtil.css(el, 'margin-right'));\r\n\r\n                return parseFloat(width);\r\n            } else {\r\n                width = parseFloat(el.offsetWidth);\r\n\r\n                return width;\r\n            }\r\n        },\r\n\r\n        offset: function(el) {\r\n            var rect, win;\r\n\r\n            if ( !el ) {\r\n                return;\r\n            }\r\n\r\n            // Return zeros for disconnected and hidden (display: none) elements (gh-2310)\r\n            // Support: IE <=11 only\r\n            // Running getBoundingClientRect on a\r\n            // disconnected node in IE throws an error\r\n\r\n            if ( !el.getClientRects().length ) {\r\n                return { top: 0, left: 0 };\r\n            }\r\n\r\n            // Get document-relative position by adding viewport scroll to viewport-relative gBCR\r\n            rect = el.getBoundingClientRect();\r\n            win = el.ownerDocument.defaultView;\r\n\r\n            return {\r\n                top: rect.top + win.pageYOffset,\r\n                left: rect.left + win.pageXOffset\r\n            };\r\n        },\r\n\r\n        height: function(el) {\r\n            return KTUtil.css(el, 'height');\r\n        },\r\n\r\n        outerHeight: function(el, withMargin) {\r\n            var height = el.offsetHeight;\r\n            var style;\r\n\r\n            if (typeof withMargin !== 'undefined' && withMargin === true) {\r\n                style = getComputedStyle(el);\r\n                height += parseInt(style.marginTop) + parseInt(style.marginBottom);\r\n\r\n                return height;\r\n            } else {\r\n                return height;\r\n            }\r\n        },\r\n\r\n        visible: function(el) {\r\n            return !(el.offsetWidth === 0 && el.offsetHeight === 0);\r\n        },\r\n\r\n        attr: function(el, name, value) {\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                el.setAttribute(name, value);\r\n            } else {\r\n                return el.getAttribute(name);\r\n            }\r\n        },\r\n\r\n        hasAttr: function(el, name) {\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            return el.getAttribute(name) ? true : false;\r\n        },\r\n\r\n        removeAttr: function(el, name) {\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            el.removeAttribute(name);\r\n        },\r\n\r\n        animate: function(from, to, duration, update, easing, done) {\r\n            /**\r\n             * TinyAnimate.easings\r\n             *  Adapted from jQuery Easing\r\n             */\r\n            var easings = {};\r\n            var easing;\r\n\r\n            easings.linear = function(t, b, c, d) {\r\n                return c * t / d + b;\r\n            };\r\n\r\n            easing = easings.linear;\r\n\r\n            // Early bail out if called incorrectly\r\n            if (typeof from !== 'number' ||\r\n                typeof to !== 'number' ||\r\n                typeof duration !== 'number' ||\r\n                typeof update !== 'function') {\r\n                return;\r\n            }\r\n\r\n            // Create mock done() function if necessary\r\n            if (typeof done !== 'function') {\r\n                done = function() {};\r\n            }\r\n\r\n            // Pick implementation (requestAnimationFrame | setTimeout)\r\n            var rAF = window.requestAnimationFrame || function(callback) {\r\n                window.setTimeout(callback, 1000 / 50);\r\n            };\r\n\r\n            // Animation loop\r\n            var canceled = false;\r\n            var change = to - from;\r\n\r\n            function loop(timestamp) {\r\n                var time = (timestamp || +new Date()) - start;\r\n\r\n                if (time >= 0) {\r\n                    update(easing(time, from, change, duration));\r\n                }\r\n                if (time >= 0 && time >= duration) {\r\n                    update(to);\r\n                    done();\r\n                } else {\r\n                    rAF(loop);\r\n                }\r\n            }\r\n\r\n            update(from);\r\n\r\n            // Start animation loop\r\n            var start = window.performance && window.performance.now ? window.performance.now() : +new Date();\r\n\r\n            rAF(loop);\r\n        },\r\n\r\n        actualCss: function(el, prop, cache) {\r\n            var css = '';\r\n\r\n            if (el instanceof HTMLElement === false) {\r\n                return;\r\n            }\r\n\r\n            if (!el.getAttribute('kt-hidden-' + prop) || cache === false) {\r\n                var value;\r\n\r\n                // the element is hidden so:\r\n                // making the el block so we can meassure its height but still be hidden\r\n                css = el.style.cssText;\r\n                el.style.cssText = 'position: absolute; visibility: hidden; display: block;';\r\n\r\n                if (prop == 'width') {\r\n                    value = el.offsetWidth;\r\n                } else if (prop == 'height') {\r\n                    value = el.offsetHeight;\r\n                }\r\n\r\n                el.style.cssText = css;\r\n\r\n                // store it in cache\r\n                el.setAttribute('kt-hidden-' + prop, value);\r\n\r\n                return parseFloat(value);\r\n            } else {\r\n                // store it in cache\r\n                return parseFloat(el.getAttribute('kt-hidden-' + prop));\r\n            }\r\n        },\r\n\r\n        actualHeight: function(el, cache) {\r\n            return KTUtil.actualCss(el, 'height', cache);\r\n        },\r\n\r\n        actualWidth: function(el, cache) {\r\n            return KTUtil.actualCss(el, 'width', cache);\r\n        },\r\n\r\n        getScroll: function(element, method) {\r\n            // The passed in `method` value should be 'Top' or 'Left'\r\n            method = 'scroll' + method;\r\n            return (element == window || element == document) ? (\r\n                self[(method == 'scrollTop') ? 'pageYOffset' : 'pageXOffset'] ||\r\n                (browserSupportsBoxModel && document.documentElement[method]) ||\r\n                document.body[method]\r\n            ) : element[method];\r\n        },\r\n\r\n        css: function(el, styleProp, value) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                el.style[styleProp] = value;\r\n            } else {\r\n                var defaultView = (el.ownerDocument || document).defaultView;\r\n                // W3C standard way:\r\n                if (defaultView && defaultView.getComputedStyle) {\r\n                    // sanitize property name to css notation\r\n                    // (hyphen separated words eg. font-Size)\r\n                    styleProp = styleProp.replace(/([A-Z])/g, \"-$1\").toLowerCase();\r\n                    return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\r\n                } else if (el.currentStyle) { // IE\r\n                    // sanitize property name to camelCase\r\n                    styleProp = styleProp.replace(/\\-(\\w)/g, function(str, letter) {\r\n                        return letter.toUpperCase();\r\n                    });\r\n                    value = el.currentStyle[styleProp];\r\n                    // convert other units to pixels on IE\r\n                    if (/^\\d+(em|pt|%|ex)?$/i.test(value)) {\r\n                        return (function(value) {\r\n                            var oldLeft = el.style.left,\r\n                                oldRsLeft = el.runtimeStyle.left;\r\n                            el.runtimeStyle.left = el.currentStyle.left;\r\n                            el.style.left = value || 0;\r\n                            value = el.style.pixelLeft + \"px\";\r\n                            el.style.left = oldLeft;\r\n                            el.runtimeStyle.left = oldRsLeft;\r\n                            return value;\r\n                        })(value);\r\n                    }\r\n                    return value;\r\n                }\r\n            }\r\n        },\r\n\r\n        slide: function(el, dir, speed, callback, recalcMaxHeight) {\r\n            if (!el || (dir == 'up' && KTUtil.visible(el) === false) || (dir == 'down' && KTUtil.visible(el) === true)) {\r\n                return;\r\n            }\r\n\r\n            speed = (speed ? speed : 600);\r\n            var calcHeight = KTUtil.actualHeight(el);\r\n            var calcPaddingTop = false;\r\n            var calcPaddingBottom = false;\r\n\r\n            if (KTUtil.css(el, 'padding-top') && KTUtil.data(el).has('slide-padding-top') !== true) {\r\n                KTUtil.data(el).set('slide-padding-top', KTUtil.css(el, 'padding-top'));\r\n            }\r\n\r\n            if (KTUtil.css(el, 'padding-bottom') && KTUtil.data(el).has('slide-padding-bottom') !== true) {\r\n                KTUtil.data(el).set('slide-padding-bottom', KTUtil.css(el, 'padding-bottom'));\r\n            }\r\n\r\n            if (KTUtil.data(el).has('slide-padding-top')) {\r\n                calcPaddingTop = parseInt(KTUtil.data(el).get('slide-padding-top'));\r\n            }\r\n\r\n            if (KTUtil.data(el).has('slide-padding-bottom')) {\r\n                calcPaddingBottom = parseInt(KTUtil.data(el).get('slide-padding-bottom'));\r\n            }\r\n\r\n            if (dir == 'up') { // up\r\n                el.style.cssText = 'display: block; overflow: hidden;';\r\n\r\n                if (calcPaddingTop) {\r\n                    KTUtil.animate(0, calcPaddingTop, speed, function(value) {\r\n                        el.style.paddingTop = (calcPaddingTop - value) + 'px';\r\n                    }, 'linear');\r\n                }\r\n\r\n                if (calcPaddingBottom) {\r\n                    KTUtil.animate(0, calcPaddingBottom, speed, function(value) {\r\n                        el.style.paddingBottom = (calcPaddingBottom - value) + 'px';\r\n                    }, 'linear');\r\n                }\r\n\r\n                KTUtil.animate(0, calcHeight, speed, function(value) {\r\n                    el.style.height = (calcHeight - value) + 'px';\r\n                }, 'linear', function() {\r\n                    el.style.height = '';\r\n                    el.style.display = 'none';\r\n\r\n                    if (typeof callback === 'function') {\r\n                        callback();\r\n                    }\r\n                });\r\n\r\n\r\n            } else if (dir == 'down') { // down\r\n                el.style.cssText = 'display: block; overflow: hidden;';\r\n\r\n                if (calcPaddingTop) {\r\n                    KTUtil.animate(0, calcPaddingTop, speed, function(value) {//\r\n                        el.style.paddingTop = value + 'px';\r\n                    }, 'linear', function() {\r\n                        el.style.paddingTop = '';\r\n                    });\r\n                }\r\n\r\n                if (calcPaddingBottom) {\r\n                    KTUtil.animate(0, calcPaddingBottom, speed, function(value) {\r\n                        el.style.paddingBottom = value + 'px';\r\n                    }, 'linear', function() {\r\n                        el.style.paddingBottom = '';\r\n                    });\r\n                }\r\n\r\n                KTUtil.animate(0, calcHeight, speed, function(value) {\r\n                    el.style.height = value + 'px';\r\n                }, 'linear', function() {\r\n                    el.style.height = '';\r\n                    el.style.display = '';\r\n                    el.style.overflow = '';\r\n\r\n                    if (typeof callback === 'function') {\r\n                        callback();\r\n                    }\r\n                });\r\n            }\r\n        },\r\n\r\n        slideUp: function(el, speed, callback) {\r\n            KTUtil.slide(el, 'up', speed, callback);\r\n        },\r\n\r\n        slideDown: function(el, speed, callback) {\r\n            KTUtil.slide(el, 'down', speed, callback);\r\n        },\r\n\r\n        show: function(el, display) {\r\n            if (typeof el !== 'undefined') {\r\n                el.style.display = (display ? display : 'block');\r\n            }\r\n        },\r\n\r\n        hide: function(el) {\r\n            if (typeof el !== 'undefined') {\r\n                el.style.display = 'none';\r\n            }\r\n        },\r\n\r\n        addEvent: function(el, type, handler, one) {\r\n            if (typeof el !== 'undefined' && el !== null) {\r\n                el.addEventListener(type, handler);\r\n            }\r\n        },\r\n\r\n        removeEvent: function(el, type, handler) {\r\n            if (el !== null) {\r\n                el.removeEventListener(type, handler);\r\n            }\r\n        },\r\n\r\n        on: function(element, selector, event, handler) {\r\n            if (!selector) {\r\n                return;\r\n            }\r\n\r\n            var eventId = KTUtil.getUniqueID('event');\r\n\r\n            window.KTUtilDelegatedEventHandlers[eventId] = function(e) {\r\n                var targets = element.querySelectorAll(selector);\r\n                var target = e.target;\r\n\r\n                while (target && target !== element) {\r\n                    for (var i = 0, j = targets.length; i < j; i++) {\r\n                        if (target === targets[i]) {\r\n                            handler.call(target, e);\r\n                        }\r\n                    }\r\n\r\n                    target = target.parentNode;\r\n                }\r\n            }\r\n\r\n            KTUtil.addEvent(element, event, window.KTUtilDelegatedEventHandlers[eventId]);\r\n\r\n            return eventId;\r\n        },\r\n\r\n        off: function(element, event, eventId) {\r\n            if (!element || !window.KTUtilDelegatedEventHandlers[eventId]) {\r\n                return;\r\n            }\r\n\r\n            KTUtil.removeEvent(element, event, window.KTUtilDelegatedEventHandlers[eventId]);\r\n\r\n            delete window.KTUtilDelegatedEventHandlers[eventId];\r\n        },\r\n\r\n        one: function onetime(el, type, callback) {\r\n            el.addEventListener(type, function callee(e) {\r\n                // remove event\r\n                if (e.target && e.target.removeEventListener) {\r\n                    e.target.removeEventListener(e.type, callee);\r\n                }\r\n\r\n                // need to verify from https://themeforest.net/author_dashboard#comment_23615588\r\n                if (el && el.removeEventListener) {\r\n\t\t\t\t    e.currentTarget.removeEventListener(e.type, callee);\r\n\t\t\t    }\r\n\r\n                // call handler\r\n                return callback(e);\r\n            });\r\n        },\r\n\r\n        hash: function(str) {\r\n            var hash = 0,\r\n                i, chr;\r\n\r\n            if (str.length === 0) return hash;\r\n            for (i = 0; i < str.length; i++) {\r\n                chr = str.charCodeAt(i);\r\n                hash = ((hash << 5) - hash) + chr;\r\n                hash |= 0; // Convert to 32bit integer\r\n            }\r\n\r\n            return hash;\r\n        },\r\n\r\n        animateClass: function(el, animationName, callback) {\r\n            var animation;\r\n            var animations = {\r\n                animation: 'animationend',\r\n                OAnimation: 'oAnimationEnd',\r\n                MozAnimation: 'mozAnimationEnd',\r\n                WebkitAnimation: 'webkitAnimationEnd',\r\n                msAnimation: 'msAnimationEnd',\r\n            };\r\n\r\n            for (var t in animations) {\r\n                if (el.style[t] !== undefined) {\r\n                    animation = animations[t];\r\n                }\r\n            }\r\n\r\n            KTUtil.addClass(el, 'animated ' + animationName);\r\n\r\n            KTUtil.one(el, animation, function() {\r\n                KTUtil.removeClass(el, 'animated ' + animationName);\r\n            });\r\n\r\n            if (callback) {\r\n                KTUtil.one(el, animation, callback);\r\n            }\r\n        },\r\n\r\n        transitionEnd: function(el, callback) {\r\n            var transition;\r\n            var transitions = {\r\n                transition: 'transitionend',\r\n                OTransition: 'oTransitionEnd',\r\n                MozTransition: 'mozTransitionEnd',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                msTransition: 'msTransitionEnd'\r\n            };\r\n\r\n            for (var t in transitions) {\r\n                if (el.style[t] !== undefined) {\r\n                    transition = transitions[t];\r\n                }\r\n            }\r\n\r\n            KTUtil.one(el, transition, callback);\r\n        },\r\n\r\n        animationEnd: function(el, callback) {\r\n            var animation;\r\n            var animations = {\r\n                animation: 'animationend',\r\n                OAnimation: 'oAnimationEnd',\r\n                MozAnimation: 'mozAnimationEnd',\r\n                WebkitAnimation: 'webkitAnimationEnd',\r\n                msAnimation: 'msAnimationEnd'\r\n            };\r\n\r\n            for (var t in animations) {\r\n                if (el.style[t] !== undefined) {\r\n                    animation = animations[t];\r\n                }\r\n            }\r\n\r\n            KTUtil.one(el, animation, callback);\r\n        },\r\n\r\n        animateDelay: function(el, value) {\r\n            var vendors = ['webkit-', 'moz-', 'ms-', 'o-', ''];\r\n            for (var i = 0; i < vendors.length; i++) {\r\n                KTUtil.css(el, vendors[i] + 'animation-delay', value);\r\n            }\r\n        },\r\n\r\n        animateDuration: function(el, value) {\r\n            var vendors = ['webkit-', 'moz-', 'ms-', 'o-', ''];\r\n            for (var i = 0; i < vendors.length; i++) {\r\n                KTUtil.css(el, vendors[i] + 'animation-duration', value);\r\n            }\r\n        },\r\n\r\n        scrollTo: function(target, offset, duration) {\r\n            var duration = duration ? duration : 500;\r\n            var targetPos = target ? KTUtil.offset(target).top : 0;\r\n            var scrollPos = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\r\n            var from, to;\r\n\r\n            if (offset) {\r\n                scrollPos += offset;\r\n            }\r\n\r\n            from = scrollPos;\r\n            to = targetPos;\r\n\r\n            KTUtil.animate(from, to, duration, function(value) {\r\n                document.documentElement.scrollTop = value;\r\n                document.body.parentNode.scrollTop = value;\r\n                document.body.scrollTop = value;\r\n            }); //, easing, done\r\n        },\r\n\r\n        scrollTop: function(offset, duration) {\r\n            KTUtil.scrollTo(null, offset, duration);\r\n        },\r\n\r\n        isArray: function(obj) {\r\n            return obj && Array.isArray(obj);\r\n        },\r\n\r\n        ready: function(callback) {\r\n            if (document.attachEvent ? document.readyState === \"complete\" : document.readyState !== \"loading\") {\r\n                callback();\r\n            } else {\r\n                document.addEventListener('DOMContentLoaded', callback);\r\n            }\r\n        },\r\n\r\n        isEmpty: function(obj) {\r\n            for (var prop in obj) {\r\n                if (obj.hasOwnProperty(prop)) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        numberString: function(nStr) {\r\n            nStr += '';\r\n            var x = nStr.split('.');\r\n            var x1 = x[0];\r\n            var x2 = x.length > 1 ? '.' + x[1] : '';\r\n            var rgx = /(\\d+)(\\d{3})/;\r\n            while (rgx.test(x1)) {\r\n                x1 = x1.replace(rgx, '$1' + ',' + '$2');\r\n            }\r\n            return x1 + x2;\r\n        },\r\n\r\n        detectIE: function() {\r\n            var ua = window.navigator.userAgent;\r\n\r\n            // Test values; Uncomment to check result \r\n\r\n            // IE 10\r\n            // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\r\n\r\n            // IE 11\r\n            // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\r\n\r\n            // Edge 12 (Spartan)\r\n            // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\r\n\r\n            // Edge 13\r\n            // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\r\n\r\n            var msie = ua.indexOf('MSIE ');\r\n            if (msie > 0) {\r\n                // IE 10 or older => return version number\r\n                return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n            }\r\n\r\n            var trident = ua.indexOf('Trident/');\r\n            if (trident > 0) {\r\n                // IE 11 => return version number\r\n                var rv = ua.indexOf('rv:');\r\n                return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\r\n            }\r\n\r\n            var edge = ua.indexOf('Edge/');\r\n            if (edge > 0) {\r\n                // Edge (IE 12+) => return version number\r\n                return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\r\n            }\r\n\r\n            // other browser\r\n            return false;\r\n        },\r\n\r\n        isRTL: function() {\r\n            var html = KTUtil.getByTagName('html')[0];\r\n\r\n            if (html) {\r\n                return (KTUtil.attr(html, 'direction') == 'rtl');\r\n            }\r\n        },\r\n\r\n        // Scroller\r\n        scrollInit: function(element, options) {\r\n            if (!element) {\r\n                return;\r\n            }\r\n\r\n            // Learn more: https://github.com/mdbootstrap/perfect-scrollbar#options\r\n            var pluginDefOptions = {\r\n                wheelSpeed: 0.5,\r\n                swipeEasing: true,\r\n                wheelPropagation: false,\r\n                minScrollbarLength: 40,\r\n                maxScrollbarLength: 300,\r\n                suppressScrollX: true\r\n            };\r\n\r\n            options = KTUtil.deepExtend({}, pluginDefOptions, options);\r\n\r\n            // Define init function\r\n            function init() {\r\n                var ps;\r\n                var height;\r\n\r\n                // Get extra options via data attributes\r\n                var attrs = element.getAttributeNames();\r\n                if (attrs.length > 0) {\r\n                    attrs.forEach(function(attrName) {\r\n            \t\t\t// more options; https://github.com/ganlanyuan/tiny-slider#options\r\n            \t\t\tif ((/^data-.*/g).test(attrName)) {\r\n                            if (['scroll', 'height', 'mobile-height'].includes(optionName) == false) {\r\n                                var optionName = attrName.replace('data-', '').toLowerCase().replace(/(?:[\\s-])\\w/g, function(match) {\r\n                \t\t\t\t\treturn match.replace('-', '').toUpperCase();\r\n                \t\t\t\t});\r\n\r\n                                options[optionName] = KTUtil.filterBoolean(element.getAttribute(attrName));\r\n                            }\r\n            \t\t\t}\r\n            \t\t});\r\n                }\r\n\r\n                if (options.height instanceof Function) {\r\n                    height = options.height.call();\r\n                } else {\r\n                    if (KTUtil.isMobileDevice() === true && options.mobileHeight) {\r\n                        height = parseInt(options.mobileHeight);\r\n                    } else if (options.height) {\r\n                        height = parseInt(options.height);\r\n                    } else {\r\n                        height = parseInt(KTUtil.css(element, 'height'));\r\n                    }\r\n                }\r\n\r\n                if (height === false) {\r\n                    KTUtil.scrollDestroy(element, true);\r\n\r\n                    return;\r\n                }\r\n\r\n                height = parseInt(height);\r\n\r\n                // Destroy scroll on table and mobile modes\r\n                if ((options.mobileNativeScroll || options.disableForMobile) && KTUtil.isMobileDevice() === true) {\r\n                    ps = KTUtil.data(element).get('ps');\r\n                    if (ps) {\r\n                        if (options.resetHeightOnDestroy) {\r\n                            KTUtil.css(element, 'height', 'auto');\r\n                        } else {\r\n                            KTUtil.css(element, 'overflow', 'auto');\r\n                            if (height > 0) {\r\n                                KTUtil.css(element, 'height', height + 'px');\r\n                            }\r\n                        }\r\n\r\n                        ps.destroy();\r\n                        ps = KTUtil.data(element).remove('ps');\r\n                    } else if (height > 0){\r\n                        KTUtil.css(element, 'overflow', 'auto');\r\n                        KTUtil.css(element, 'height', height + 'px');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                if (height > 0) {\r\n                    KTUtil.css(element, 'height', height + 'px');\r\n                }\r\n\r\n                if (options.desktopNativeScroll) {\r\n                    KTUtil.css(element, 'overflow', 'auto');\r\n                    return;\r\n                }\r\n\r\n                // Pass options via HTML Attributes\r\n                if (KTUtil.attr(element, 'data-window-scroll') == 'true') {\r\n                     options.windowScroll = true;\r\n                }\r\n\r\n                // Init scroll\r\n                ps = KTUtil.data(element).get('ps');\r\n\r\n                if (ps) {\r\n                    ps.update();\r\n                } else {\r\n                    KTUtil.css(element, 'overflow', 'hidden');\r\n                    KTUtil.addClass(element, 'scroll');\r\n\r\n                    ps = new PerfectScrollbar(element, options);\r\n\r\n                    KTUtil.data(element).set('ps', ps);\r\n                }\r\n\r\n                // Remember scroll position in cookie\r\n                var uid = KTUtil.attr(element, 'id');\n                try {\n                  if (uid) {\n                    var cookie = KTCookie.getCookie(uid);\n                    if (options.rememberPosition === true && cookie) {\n                      var pos = parseInt(cookie);\n                      if (pos > 0) {\n                          element.scrollTop = pos;\n                      }\n                      element.addEventListener('ps-scroll-y', function() {\n                          KTCookie.setCookie(uid, element.scrollTop, {});\n                      });\n                    }\n                  }\n                }\n                catch (e) {\n                    console.error(e);\n                }\r\n\r\n                // Todo:Consider using Localstorage\r\n                if (options.rememberPosition === true && KTCookie && uid) {\r\n                    if (KTCookie.getCookie(uid)) {\r\n                        var pos = parseInt(KTCookie.getCookie(uid));\r\n\r\n                        if (pos > 0) {\r\n                            element.scrollTop = pos;\r\n                        }\r\n                    }\r\n\r\n                    element.addEventListener('ps-scroll-y', function() {\r\n                        KTCookie.setCookie(uid, element.scrollTop);\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Init\r\n            init();\r\n\r\n            // Handle window resize\r\n            if (options.handleWindowResize) {\r\n                KTUtil.addResizeHandler(function() {\r\n                    init();\r\n                });\r\n            }\r\n        },\r\n\r\n        scrollUpdate: function(element) {\r\n            var ps = KTUtil.data(element).get('ps');\r\n            if (ps) {\r\n                ps.update();\r\n            }\r\n        },\r\n\r\n        scrollUpdateAll: function(parent) {\r\n            var scrollers = KTUtil.findAll(parent, '.ps');\r\n            for (var i = 0, len = scrollers.length; i < len; i++) {\r\n                KTUtil.scrollUpdate(scrollers[i]);\r\n            }\r\n        },\r\n\r\n        scrollDestroy: function(element, resetAll) {\r\n            var ps = KTUtil.data(element).get('ps');\r\n\r\n            if (ps) {\r\n                ps.destroy();\r\n                ps = KTUtil.data(element).remove('ps');\r\n            }\r\n\r\n            if (element && resetAll) {\r\n                element.style.setProperty('overflow', '');\r\n                element.style.setProperty('height', '');\r\n            }\r\n        },\r\n\r\n        filterBoolean: function(val) {\r\n            // Convert string boolean\r\n\t\t\tif (val === true || val === 'true') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif (val === false || val === 'false') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n            return val;\r\n        },\r\n\r\n        setHTML: function(el, html) {\r\n            el.innerHTML = html;\r\n        },\r\n\r\n        getHTML: function(el) {\r\n            if (el) {\r\n                return el.innerHTML;\r\n            }\r\n        },\r\n\r\n        getDocumentHeight: function() {\r\n            var body = document.body;\r\n            var html = document.documentElement;\r\n\r\n            return Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight );\r\n        },\r\n\r\n        getScrollTop: function() {\r\n            return  (document.scrollingElement || document.documentElement).scrollTop;\r\n        },\r\n\r\n        changeColor: function(col, amt) {\r\n\r\n            var usePound = false;\r\n\r\n            if (col[0] == \"#\") {\r\n                col = col.slice(1);\r\n                usePound = true;\r\n            }\r\n\r\n            var num = parseInt(col,16);\r\n\r\n            var r = (num >> 16) + amt;\r\n\r\n            if (r > 255) r = 255;\r\n            else if  (r < 0) r = 0;\r\n\r\n            var b = ((num >> 8) & 0x00FF) + amt;\r\n\r\n            if (b > 255) b = 255;\r\n            else if  (b < 0) b = 0;\r\n\r\n            var g = (num & 0x0000FF) + amt;\r\n\r\n            if (g > 255) g = 255;\r\n            else if (g < 0) g = 0;\r\n\r\n            return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\r\n\r\n        },\r\n\r\n        // Throttle function: Input as function which needs to be throttled and delay is the time interval in milliseconds\r\n        throttle:  function (timer, func, delay) {\r\n        \t// If setTimeout is already scheduled, no need to do anything\r\n        \tif (timer) {\r\n        \t\treturn;\r\n        \t}\r\n\r\n        \t// Schedule a setTimeout after delay seconds\r\n        \ttimer  =  setTimeout(function () {\r\n        \t\tfunc();\r\n\r\n        \t\t// Once setTimeout function execution is finished, timerId = undefined so that in <br>\r\n        \t\t// the next scroll event function execution can be scheduled by the setTimeout\r\n        \t\ttimer  =  undefined;\r\n        \t}, delay);\r\n        },\r\n\r\n        // Debounce function: Input as function which needs to be debounced and delay is the debounced time in milliseconds\r\n        debounce: function (timer, func, delay) {\r\n        \t// Cancels the setTimeout method execution\r\n        \tclearTimeout(timer)\r\n\r\n        \t// Executes the func after delay time.\r\n        \ttimer  =  setTimeout(func, delay);\r\n        },\r\n\r\n        btnWait: function(el, cls, message, disable) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            if (typeof disable !== 'undefined' && disable === true) {\r\n                KTUtil.attr(el, \"disabled\", true);\r\n            }\r\n\r\n            if (cls) {\r\n                KTUtil.addClass(el, cls);\r\n                KTUtil.attr(el, \"wait-class\", cls);\r\n            }\r\n\r\n            if (message) {\r\n                var caption = KTUtil.find(el, '.btn-caption');\r\n\r\n                if (caption) {\r\n                    KTUtil.data(caption).set('caption', KTUtil.getHTML(caption));\r\n                    KTUtil.setHTML(caption, message);\r\n                } else {\r\n                    KTUtil.data(el).set('caption', KTUtil.getHTML(el));\r\n                    KTUtil.setHTML(el, message);\r\n                }\r\n            }\r\n        },\r\n\r\n        btnRelease: function(el) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            /// Show loading state on button\r\n            KTUtil.removeAttr(el, \"disabled\");\r\n\r\n            if (KTUtil.hasAttr(el, \"wait-class\")) {\r\n                KTUtil.removeClass(el, KTUtil.attr(el, \"wait-class\"));\r\n            }\r\n\r\n            var caption = KTUtil.find(el, '.btn-caption');\r\n\r\n            if (caption && KTUtil.data(caption).has('caption')) {\r\n                KTUtil.setHTML(caption, KTUtil.data(caption).get('caption'));\r\n            } else if (KTUtil.data(el).has('caption')) {\r\n                KTUtil.setHTML(el, KTUtil.data(el).get('caption'));\r\n            }\r\n        },\r\n\r\n        isOffscreen: function(el, direction, offset) {\r\n            offset = offset || 0;\r\n\r\n            var windowWidth = KTUtil.getViewPort().width;\r\n            var windowHeight = KTUtil.getViewPort().height;\r\n\r\n            var top = KTUtil.offset(el).top;\r\n            var height = KTUtil.outerHeight(el) + offset;\r\n            var left = KTUtil.offset(el).left;\r\n            var width = KTUtil.outerWidth(el) + offset;\r\n\r\n            if (direction == 'bottom') {\r\n                if (windowHeight < top + height) {\r\n                    return true;\r\n                } else if (windowHeight > top + height * 1.5) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            if (direction == 'top') {\r\n                if (top < 0) {\r\n                    return true;\r\n                } else if (top > height) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            if (direction == 'left') {\r\n                if (left < 0) {\r\n                    return true;\r\n                } else if (left * 2 > width) {\r\n                    //console.log('left 2');\r\n                    //return true;\r\n                }\r\n            }\r\n\r\n            if (direction == 'right') {\r\n                if (windowWidth < left + width) {\r\n                    return true;\r\n                } else {\r\n                    //console.log('right 2');\r\n                    //return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n    }\r\n}();\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTUtil;\r\n}\r\n\r\n// Initialize KTUtil class on document ready\r\nKTUtil.ready(function() {\r\n\tif (typeof KTAppSettings !== 'undefined') {\r\n\t\tKTUtil.init(KTAppSettings);\r\n\t} else {\r\n\t\tKTUtil.init();\r\n\t}\r\n});\r\n\r\n// CSS3 Transitions only after page load(.page-loading class added to body tag and remove with JS on page load)\r\nwindow.onload = function() {\r\n    var result = KTUtil.getByTagName('body');\r\n    if (result && result[0]) {\r\n        KTUtil.removeClass(result[0], 'page-loading');\r\n    }\r\n}\r\n","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./util\";\r\n\r\n// Component Definition\r\nvar KTMenu = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.getById(elementId);\r\n    var body = KTUtil.getBody();\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        // scrollable area with Perfect Scroll\r\n        scroll: {\r\n            rememberPosition: false\r\n        },\r\n\r\n        // accordion submenu mode\r\n        accordion: {\r\n            slideSpeed: 200, // accordion toggle slide speed in milliseconds\r\n            autoScroll: false, // enable auto scrolling(focus) to the clicked menu item\r\n            autoScrollSpeed: 1200,\r\n            expandAll: true // allow having multiple expanded accordions in the menu\r\n        },\r\n\r\n        // dropdown submenu mode\r\n        dropdown: {\r\n            timeout: 500 // timeout in milliseconds to show and hide the hoverable submenu dropdown\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {KTMenu}\r\n         */\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('menu')) {\r\n                the = KTUtil.data(element).get('menu');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // reset menu\r\n                Plugin.reset();\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('menu', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n            the.uid = KTUtil.getUniqueID();\r\n        },\r\n\r\n        update: function(options) {\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            KTUtil.data(element).set('menu', the);\r\n        },\r\n\r\n        reload: function() {\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            // reset submenu props\r\n            Plugin.resetSubmenuProps();\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KTMenu}\r\n         */\r\n        build: function() {\r\n            // General accordion submenu toggle\r\n            the.eventHandlers['event_1'] = KTUtil.on( element, '.menu-toggle', 'click', Plugin.handleSubmenuAccordion);\r\n\r\n            // Dropdown mode(hoverable)\r\n            if (Plugin.getSubmenuMode() === 'dropdown' || Plugin.isConditionalSubmenuDropdown()) {\r\n                // dropdown submenu - hover toggle\r\n                the.eventHandlers['event_2'] = KTUtil.on( element, '[data-menu-toggle=\"hover\"]', 'mouseover', Plugin.handleSubmenuDrodownHoverEnter);\r\n                the.eventHandlers['event_3'] = KTUtil.on( element, '[data-menu-toggle=\"hover\"]', 'mouseout', Plugin.handleSubmenuDrodownHoverExit);\r\n\r\n                // dropdown submenu - click toggle\r\n                the.eventHandlers['event_4'] = KTUtil.on( element, '[data-menu-toggle=\"click\"] > .menu-toggle, [data-menu-toggle=\"click\"] > .menu-link .menu-toggle', 'click', Plugin.handleSubmenuDropdownClick);\r\n                the.eventHandlers['event_5'] = KTUtil.on( element, '[data-menu-toggle=\"tab\"] > .menu-toggle, [data-menu-toggle=\"tab\"] > .menu-link .menu-toggle', 'click', Plugin.handleSubmenuDropdownTabClick);\r\n            }\r\n\r\n            // Handle general link click\r\n            the.eventHandlers['event_6'] = KTUtil.on(element, '.menu-item > .menu-link:not(.menu-toggle):not(.menu-link-toggle-skip)', 'click', Plugin.handleLinkClick);\r\n\r\n            // Init scrollable menu\r\n            if (the.options.scroll && the.options.scroll.height) {\r\n                Plugin.scrollInit();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KTMenu}\r\n         */\r\n        reset: function() {\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_1']);\r\n\r\n            // dropdown submenu - hover toggle\r\n            KTUtil.off( element, 'mouseover', the.eventHandlers['event_2']);\r\n            KTUtil.off( element, 'mouseout', the.eventHandlers['event_3']);\r\n\r\n            // dropdown submenu - click toggle\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_4']);\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_5']);\r\n\r\n            // handle link click\r\n            KTUtil.off(element, 'click', the.eventHandlers['event_6']);\r\n        },\r\n\r\n        /**\r\n         * Init scroll menu\r\n         *\r\n        */\r\n        scrollInit: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollDestroy(element, true);\r\n                KTUtil.scrollInit(element, {mobileNativeScroll: true, windowScroll: false, resetHeightOnDestroy: true, handleWindowResize: true, height: the.options.scroll.height, rememberPosition: the.options.scroll.rememberPosition});\r\n            } else {\r\n                KTUtil.scrollDestroy(element, true);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Update scroll menu\r\n        */\r\n        scrollUpdate: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollUpdate(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Scroll top\r\n        */\r\n        scrollTop: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollTop(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KTMenu}\r\n         */\r\n        getSubmenuMode: function(el) {\r\n            if ( KTUtil.isBreakpointUp('lg') ) {\r\n                if (el && KTUtil.hasAttr(el, 'data-menu-toggle') && KTUtil.attr(el, 'data-menu-toggle') == 'hover') {\r\n                    return 'dropdown';\r\n                }\r\n\r\n                if ( KTUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                    if ( KTUtil.hasClasses(body, the.options.submenu.desktop.state.body) ) {\r\n                        return the.options.submenu.desktop.state.mode;\r\n                    } else {\r\n                        return the.options.submenu.desktop.default;\r\n                    }\r\n                } else if ( KTUtil.isset(the.options.submenu, 'desktop') ) {\r\n                    return the.options.submenu.desktop;\r\n                }\r\n            } else if ( KTUtil.isBreakpointUp('md') && KTUtil.isBreakpointDown('lg') && KTUtil.isset(the.options.submenu, 'tablet') ) {\r\n                return the.options.submenu.tablet;\r\n            } else if ( KTUtil.isBreakpointDown('md') && KTUtil.isset(the.options.submenu, 'mobile') ) {\r\n                return the.options.submenu.mobile;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KTMenu}\r\n         */\r\n        isConditionalSubmenuDropdown: function() {\r\n            if ( KTUtil.isBreakpointUp('lg') && KTUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n\r\n        /**\r\n         * Reset submenu attributes\r\n         * @returns {KTMenu}\r\n         */\r\n        resetSubmenuProps: function(e) {\r\n            var submenus = KTUtil.findAll(element, '.menu-submenu');\r\n            if ( submenus ) {\r\n                for (var i = 0, len = submenus.length; i < len; i++) {\r\n                    var submenu = submenus[0];\r\n\r\n                    KTUtil.css(submenu, 'display', '');\r\n                    KTUtil.css(submenu, 'overflow', '');\r\n\r\n                    if (submenu.hasAttribute('data-hor-direction')) {\r\n                        KTUtil.removeClass(submenu, 'menu-submenu-left');\r\n                        KTUtil.removeClass(submenu, 'menu-submenu-right');\r\n                        KTUtil.addClass(submenu, submenu.getAttribute('data-hor-direction'));\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDrodownHoverEnter: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n\r\n            if ( item.getAttribute('data-hover') == '1' ) {\r\n                item.removeAttribute('data-hover');\r\n                clearTimeout( item.getAttribute('data-timeout') );\r\n                item.removeAttribute('data-timeout');\r\n            }\r\n\r\n            Plugin.showSubmenuDropdown(item);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDrodownHoverExit: function(e) {\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n            var time = the.options.dropdown.timeout;\r\n\r\n            var timeout = setTimeout(function() {\r\n                if ( item.getAttribute('data-hover') == '1' ) {\r\n                    Plugin.hideSubmenuDropdown(item, true);\r\n                }\r\n            }, time);\r\n\r\n            item.setAttribute('data-hover', '1');\r\n            item.setAttribute('data-timeout', timeout);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownClick: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this.closest('.menu-item');\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('submenuToggle', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( item.getAttribute('data-menu-submenu-mode') == 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( KTUtil.hasClass(item, 'menu-item-hover') === false ) {\r\n                KTUtil.addClass(item, 'menu-item-open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            } else {\r\n                KTUtil.removeClass(item, 'menu-item-open-dropdown' );\r\n                Plugin.hideSubmenuDropdown(item, true);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles tab click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownTabClick: function(e) {\r\n            if (Plugin.getSubmenuMode(this) === 'accordion') {\r\n                return;\r\n            }\r\n            var item = this.closest('.menu-item');\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('submenuToggle', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if (item.getAttribute('data-menu-submenu-mode') == 'accordion') {\r\n                return;\r\n            }\r\n\r\n            if (KTUtil.hasClass(item, 'menu-item-hover') == false) {\r\n                KTUtil.addClass(item, 'menu-item-open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles link click\r\n         * @returns {KTMenu}\r\n         */\r\n        handleLinkClick: function(e) {\r\n            var submenu = this.closest('.menu-item.menu-item-submenu');\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('linkClick', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( submenu && Plugin.getSubmenuMode(submenu) === 'dropdown' ) {\r\n                Plugin.hideSubmenuDropdowns();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu dropdown close on link click\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownClose: function(e, el) {\r\n            // exit if its not submenu dropdown mode\r\n            if (Plugin.getSubmenuMode(el) === 'accordion') {\r\n                return;\r\n            }\r\n\r\n            var shown = element.querySelectorAll('.menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)');\r\n\r\n            // check if currently clicked link's parent item ha\r\n            if (shown.length > 0 && KTUtil.hasClass(el, 'menu-toggle') === false && el.querySelectorAll('.menu-toggle').length === 0) {\r\n                // close opened dropdown menus\r\n                for (var i = 0, len = shown.length; i < len; i++) {\r\n                    Plugin.hideSubmenuDropdown(shown[0], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuAccordion: function(e, el) {\r\n            var query;\r\n            var item = el ? el : this;\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('submenuToggle', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( Plugin.getSubmenuMode(el) === 'dropdown' && (query = item.closest('.menu-item') ) ) {\r\n                if (query.getAttribute('data-menu-submenu-mode') != 'accordion' ) {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            var li = item.closest('.menu-item');\r\n            var submenu = KTUtil.child(li, '.menu-submenu, .menu-inner');\r\n\r\n            if (KTUtil.hasClass(item.closest('.menu-item'), 'menu-item-open-always')) {\r\n                return;\r\n            }\r\n\r\n            if ( li && submenu ) {\r\n                e.preventDefault();\r\n                var speed = the.options.accordion.slideSpeed;\r\n                var hasClosables = false;\r\n\r\n                if ( KTUtil.hasClass(li, 'menu-item-open') === false ) {\r\n                    // hide other accordions\r\n                    if ( the.options.accordion.expandAll === false ) {\r\n                        var subnav = item.closest('.menu-nav, .menu-subnav');\r\n                        var closables = KTUtil.children(subnav, '.menu-item.menu-item-open.menu-item-submenu:not(.menu-item-here):not(.menu-item-open-always)');\r\n\r\n                        if ( subnav && closables ) {\r\n                            for (var i = 0, len = closables.length; i < len; i++) {\r\n                                var el_ = closables[0];\r\n                                var submenu_ = KTUtil.child(el_, '.menu-submenu');\r\n                                if ( submenu_ ) {\r\n                                    KTUtil.slideUp(submenu_, speed, function() {\r\n                                        Plugin.scrollUpdate();\r\n                                        KTUtil.removeClass(el_, 'menu-item-open');\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    KTUtil.slideDown(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.scrollUpdate();\r\n\r\n                        Plugin.eventTrigger('submenuToggle', submenu, e);\r\n                    });\r\n\r\n                    KTUtil.addClass(li, 'menu-item-open');\r\n\r\n                } else {\r\n                    KTUtil.slideUp(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.scrollUpdate();\r\n                        Plugin.eventTrigger('submenuToggle', submenu, e);\r\n                    });\r\n\r\n                    KTUtil.removeClass(li, 'menu-item-open');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * scroll to item function\r\n         * @returns {KTMenu}\r\n         */\r\n        scrollToItem: function(item) {\r\n            // handle auto scroll for accordion submenus\r\n            if ( KTUtil.isBreakpointUp('lg')  && the.options.accordion.autoScroll && element.getAttribute('data-menu-scroll') !== '1' ) {\r\n                KTUtil.scrollTo(item, the.options.accordion.autoScrollSpeed);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Hide submenu dropdown\r\n         * @returns {KTMenu}\r\n         */\r\n        hideSubmenuDropdown: function(item, classAlso) {\r\n            // remove submenu activation class\r\n            if ( classAlso ) {\r\n                KTUtil.removeClass(item, 'menu-item-hover');\r\n                KTUtil.removeClass(item, 'menu-item-active-tab');\r\n            }\r\n\r\n            // clear timeout\r\n            item.removeAttribute('data-hover');\r\n\r\n            if ( item.getAttribute('data-menu-toggle-class') ) {\r\n                KTUtil.removeClass(body, item.getAttribute('data-menu-toggle-class'));\r\n            }\r\n\r\n            var timeout = item.getAttribute('data-timeout');\r\n            item.removeAttribute('data-timeout');\r\n            clearTimeout(timeout);\r\n        },\r\n\r\n        /**\r\n         * Hide submenu dropdowns\r\n         * @returns {KTMenu}\r\n         */\r\n        hideSubmenuDropdowns: function() {\r\n            var items;\r\n            if ( items = element.querySelectorAll('.menu-item-submenu.menu-item-hover:not(.menu-item-tabs):not([data-menu-toggle=\"tab\"])') ) {\r\n                for (var j = 0, cnt = items.length; j < cnt; j++) {\r\n                    Plugin.hideSubmenuDropdown(items[j], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KTMenu}\r\n         */\r\n        showSubmenuDropdown: function(item) {\r\n            // close active submenus\r\n            var list = element.querySelectorAll('.menu-item-submenu.menu-item-hover, .menu-item-submenu.menu-item-active-tab');\r\n\r\n            if ( list ) {\r\n                for (var i = 0, len = list.length; i < len; i++) {\r\n                    var el = list[i];\r\n                    if ( item !== el && el.contains(item) === false && item.contains(el) === false ) {\r\n                        Plugin.hideSubmenuDropdown(el, true);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // add submenu activation class\r\n            KTUtil.addClass(item, 'menu-item-hover');\r\n\r\n            // Change the alignment of submenu is offscreen.\r\n            var submenu = KTUtil.find(item, '.menu-submenu');\r\n\r\n            if (submenu && submenu.hasAttribute('data-hor-direction') === false) {\r\n                if (KTUtil.hasClass(submenu, 'menu-submenu-left')) {\r\n                    submenu.setAttribute('data-hor-direction', 'menu-submenu-left');\r\n                } else if (KTUtil.hasClass(submenu, 'menu-submenu-right')) {\r\n                    submenu.setAttribute('data-hor-direction', 'menu-submenu-right');\r\n                }\r\n            }\r\n\r\n            if ( submenu && KTUtil.isOffscreen(submenu, 'left', 15) === true ) {\r\n                KTUtil.removeClass(submenu, 'menu-submenu-left');\r\n                KTUtil.addClass(submenu, 'menu-submenu-right');\r\n            } else if ( submenu && KTUtil.isOffscreen(submenu, 'right', 15) === true ) {\r\n                KTUtil.removeClass(submenu, 'menu-submenu-right');\r\n                KTUtil.addClass(submenu, 'menu-submenu-left');\r\n            }\r\n\r\n            if ( item.getAttribute('data-menu-toggle-class') ) {\r\n                KTUtil.addClass(body, item.getAttribute('data-menu-toggle-class'));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu slide toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        createSubmenuDropdownClickDropoff: function(el) {\r\n            var query;\r\n            var zIndex = (query = KTUtil.child(el, '.menu-submenu') ? KTUtil.css(query, 'z-index') : 0) - 1;\r\n\r\n            var dropoff = document.createElement('<div class=\"menu-dropoff\" style=\"background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: ' + zIndex + '\"></div>');\r\n\r\n            body.appendChild(dropoff);\r\n\r\n            KTUtil.addEvent(dropoff, 'click', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                KTUtil.remove(this);\r\n                Plugin.hideSubmenuDropdown(el, true);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        pauseDropdownHover: function(time) {\r\n            var date = new Date();\r\n\r\n            the.pauseDropdownHoverTime = date.getTime() + time;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        resumeDropdownHover: function() {\r\n            var date = new Date();\r\n\r\n            return (date.getTime() > the.pauseDropdownHoverTime ? true : false);\r\n        },\r\n\r\n        /**\r\n         * Reset menu's current active item\r\n         * @returns {KTMenu}\r\n         */\r\n        resetActiveItem: function(item) {\r\n            var list;\r\n            var parents;\r\n\r\n            list = element.querySelectorAll('.menu-item-active');\r\n\r\n            for (var i = 0, len = list.length; i < len; i++) {\r\n                var el = list[0];\r\n                KTUtil.removeClass(el, 'menu-item-active');\r\n                KTUtil.hide( KTUtil.child(el, '.menu-submenu') );\r\n                parents = KTUtil.parents(el, '.menu-item-submenu') || [];\r\n\r\n                for (var i_ = 0, len_ = parents.length; i_ < len_; i_++) {\r\n                    var el_ = parents[i];\r\n                    KTUtil.removeClass(el_, 'menu-item-open');\r\n                    KTUtil.hide( KTUtil.child(el_, '.menu-submenu') );\r\n                }\r\n            }\r\n\r\n            // close open submenus\r\n            if ( the.options.accordion.expandAll === false ) {\r\n                if ( list = element.querySelectorAll('.menu-item-open') ) {\r\n                    for (var i = 0, len = list.length; i < len; i++) {\r\n                        KTUtil.removeClass(parents[0], 'menu-item-open');\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sets menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        setActiveItem: function(item) {\r\n            // reset current active item\r\n            Plugin.resetActiveItem();\r\n\r\n            var parents = KTUtil.parents(item, '.menu-item-submenu') || [];\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                KTUtil.addClass(parents[i], 'menu-item-open');\r\n            }\r\n\r\n            KTUtil.addClass(item, 'menu-item-active');\r\n        },\r\n\r\n        /**\r\n         * Returns page breadcrumbs for the menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        getBreadcrumbs: function(item) {\r\n            var query;\r\n            var breadcrumbs = [];\r\n            var link = KTUtil.child(item, '.menu-link');\r\n\r\n            breadcrumbs.push({\r\n                text: (query = KTUtil.child(link, '.menu-text') ? query.innerHTML : ''),\r\n                title: link.getAttribute('title'),\r\n                href: link.getAttribute('href')\r\n            });\r\n\r\n            var parents = KTUtil.parents(item, '.menu-item-submenu');\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                var submenuLink = KTUtil.child(parents[i], '.menu-link');\r\n\r\n                breadcrumbs.push({\r\n                    text: (query = KTUtil.child(submenuLink, '.menu-text') ? query.innerHTML : ''),\r\n                    title: submenuLink.getAttribute('title'),\r\n                    href: submenuLink.getAttribute('href')\r\n                });\r\n            }\r\n\r\n            return  breadcrumbs.reverse();\r\n        },\r\n\r\n        /**\r\n         * Returns page title for the menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        getPageTitle: function(item) {\r\n            var query;\r\n\r\n            return (query = KTUtil.child(item, '.menu-text') ? query.innerHTML : '');\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, target, e) {\r\n            for (var i = 0; i < the.events.length; i++ ) {\r\n                var event = the.events[i];\r\n                if ( event.name == name ) {\r\n                    if ( event.one == true ) {\r\n                        if ( event.fired == false ) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, target, e);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, target, e);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        },\r\n\r\n        removeEvent: function(name) {\r\n            if (the.events[name]) {\r\n                delete the.events[name];\r\n            }\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Update scroll\r\n     */\r\n    the.scrollUpdate = function() {\r\n        return Plugin.scrollUpdate();\r\n    };\r\n\r\n    /**\r\n     * Re-init scroll\r\n     */\r\n    the.scrollReInit = function() {\r\n        return Plugin.scrollInit();\r\n    };\r\n\r\n    /**\r\n     * Scroll top\r\n     */\r\n    the.scrollTop = function() {\r\n        return Plugin.scrollTop();\r\n    };\r\n\r\n    /**\r\n     * Set active menu item\r\n     */\r\n    the.setActiveItem = function(item) {\r\n        return Plugin.setActiveItem(item);\r\n    };\r\n\r\n    the.reload = function() {\r\n        return Plugin.reload();\r\n    };\r\n\r\n    the.update = function(options) {\r\n        return Plugin.update(options);\r\n    };\r\n\r\n    /**\r\n     * Set breadcrumb for menu item\r\n     */\r\n    the.getBreadcrumbs = function(item) {\r\n        return Plugin.getBreadcrumbs(item);\r\n    };\r\n\r\n    /**\r\n     * Set page title for menu item\r\n     */\r\n    the.getPageTitle = function(item) {\r\n        return Plugin.getPageTitle(item);\r\n    };\r\n\r\n    /**\r\n     * Get submenu mode\r\n     */\r\n    the.getSubmenuMode = function(el) {\r\n        return Plugin.getSubmenuMode(el);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdown\r\n     * @returns {Object}\r\n     */\r\n    the.hideDropdown = function(item) {\r\n        Plugin.hideSubmenuDropdown(item, true);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdowns\r\n     * @returns {Object}\r\n     */\r\n    the.hideDropdowns = function() {\r\n        Plugin.hideSubmenuDropdowns();\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {Object}\r\n     */\r\n    the.pauseDropdownHover = function(time) {\r\n        Plugin.pauseDropdownHover(time);\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {Object}\r\n     */\r\n    the.resumeDropdownHover = function() {\r\n        return Plugin.resumeDropdownHover();\r\n    };\r\n\r\n    /**\r\n     * Register event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    the.off = function(name) {\r\n        return Plugin.removeEvent(name);\r\n    };\r\n\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Handle plugin on window resize\r\n    KTUtil.addResizeHandler(function() {\r\n        if (init) {\r\n            the.reload();\r\n        }\r\n    });\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTMenu;\r\n}\r\n\r\n// Plugin global lazy initialization\r\ndocument.addEventListener(\"click\", function (e) {\r\n    var body = KTUtil.getByTagName('body')[0];\r\n    var query;\r\n    if ( query = body.querySelectorAll('.menu-nav .menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)[data-menu-toggle=\"click\"]') ) {\r\n        for (var i = 0, len = query.length; i < len; i++) {\r\n            var element = query[i].closest('.menu-nav').parentNode;\r\n\r\n            if ( element ) {\r\n                var the = KTUtil.data(element).get('menu');\r\n\r\n                if ( !the ) {\r\n                    break;\r\n                }\r\n\r\n                if ( !the || the.getSubmenuMode() !== 'dropdown' ) {\r\n                    break;\r\n                }\r\n\r\n                if ( e.target !== element && element.contains(e.target) === false ) {\r\n                    the.hideDropdowns();\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n\nexport default KTMenu;","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./util\";\r\n\r\n// Component Definition\r\nvar KTToggle = function(toggleElement, targetElement, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = toggleElement;\r\n    var target = targetElement;\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        targetToggleMode: 'class' // class|attribute\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('toggle')) {\r\n                the = KTUtil.data(element).get('toggle');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('toggle', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subtoggle click toggle\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            // Merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            //alert(the.options.target.tagName);\r\n            the.target = target;\r\n\r\n            the.targetState = the.options.targetState;\r\n            the.toggleState = the.options.toggleState;\r\n\r\n            if (the.options.targetToggleMode == 'class') {\r\n                the.state = KTUtil.hasClasses(the.target, the.targetState) ? 'on' : 'off';\r\n            } else {\r\n                the.state = KTUtil.hasAttr(the.target, 'data-' + the.targetState) ? KTUtil.attr(the.target, 'data-' + the.targetState) : 'off';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Setup toggle\r\n         */\r\n        build: function() {\r\n            KTUtil.addEvent(element, 'mouseup', Plugin.toggle);\r\n        },\r\n\r\n        /**\r\n         * Handles offcanvas click toggle\r\n         */\r\n        toggle: function(e) {\r\n            Plugin.eventTrigger('beforeToggle');\r\n\r\n            if (the.state == 'off') {\r\n                Plugin.toggleOn();\r\n            } else {\r\n                Plugin.toggleOff();\r\n            }\r\n\r\n            Plugin.eventTrigger('afterToggle');\r\n\r\n            e.preventDefault();\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles toggle click toggle\r\n         */\r\n        toggleOn: function() {\r\n            Plugin.eventTrigger('beforeOn');\r\n\r\n            if (the.options.targetToggleMode == 'class') {\r\n                KTUtil.addClass(the.target, the.targetState);\r\n            } else {\r\n                KTUtil.attr(the.target, 'data-' + the.targetState, 'on');\r\n            }\r\n\r\n            if (the.toggleState) {\r\n                KTUtil.addClass(element, the.toggleState);\r\n            }\r\n\r\n            the.state = 'on';\r\n\r\n            Plugin.eventTrigger('afterOn');\r\n\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles toggle click toggle\r\n         */\r\n        toggleOff: function() {\r\n            Plugin.eventTrigger('beforeOff');\r\n\r\n            if (the.options.targetToggleMode == 'class') {\r\n                KTUtil.removeClass(the.target, the.targetState);\r\n            } else {\r\n                KTUtil.removeAttr(the.target, 'data-' + the.targetState);\r\n            }\r\n\r\n            if (the.toggleState) {\r\n                KTUtil.removeClass(element, the.toggleState);\r\n            }\r\n\r\n            the.state = 'off';\r\n\r\n            Plugin.eventTrigger('afterOff');\r\n\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Get toggle state\r\n     */\r\n    the.getState = function() {\r\n        return the.state;\r\n    };\r\n\r\n    /**\r\n     * Toggle\r\n     */\r\n    the.toggle = function() {\r\n        return Plugin.toggle();\r\n    };\r\n\r\n    /**\r\n     * Toggle on\r\n     */\r\n    the.toggleOn = function() {\r\n        return Plugin.toggleOn();\r\n    };\r\n\r\n    /**\r\n     * Toggle off\r\n     */\r\n    the.toggleOff = function() {\r\n        return Plugin.toggleOff();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     * @returns {KTToggle}\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     * @returns {KTToggle}\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTToggle;\r\n}\r\n\nexport default KTToggle;","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./util\";\r\n\r\n// Component Definition\r\nvar KTCard = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.getById(elementId);\r\n    var body = KTUtil.getBody();\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        toggleSpeed: 400,\r\n        sticky: {\r\n            releseOnReverse: false,\r\n            offset: 300,\r\n            zIndex: 101\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('card')) {\r\n                the = KTUtil.data(element).get('card');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('card', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Init card\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n            the.header = KTUtil.child(element, '.card-header');\r\n            the.footer = KTUtil.child(element, '.card-footer');\r\n\r\n            if (KTUtil.child(element, '.card-body')) {\r\n                the.body = KTUtil.child(element, '.card-body');\r\n            } else if (KTUtil.child(element, '.form')) {\r\n                the.body = KTUtil.child(element, '.form');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Build Form Wizard\r\n         */\r\n        build: function() {\r\n            // Remove\r\n            var remove = KTUtil.find(the.header, '[data-card-tool=remove]');\r\n            if (remove) {\r\n                KTUtil.addEvent(remove, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.remove();\r\n                });\r\n            }\r\n\r\n            // Reload\r\n            var reload = KTUtil.find(the.header, '[data-card-tool=reload]');\r\n            if (reload) {\r\n                KTUtil.addEvent(reload, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.reload();\r\n                });\r\n            }\r\n\r\n            // Toggle\r\n            var toggle = KTUtil.find(the.header, '[data-card-tool=toggle]');\r\n            if (toggle) {\r\n                KTUtil.addEvent(toggle, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.toggle();\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Enable stickt mode\r\n         */\r\n        initSticky: function() {\r\n            var lastScrollTop = 0;\r\n            var offset = the.options.sticky.offset;\r\n\r\n            if (!the.header) {\r\n                return;\r\n            }\r\n\r\n\t        window.addEventListener('scroll', Plugin.onScrollSticky);\r\n        },\r\n\r\n\t    /**\r\n\t     * Window scroll handle event for sticky card\r\n\t     */\r\n\t    onScrollSticky: function(e) {\r\n\t\t    var offset = the.options.sticky.offset;\r\n\r\n\t\t    if(isNaN(offset)) return;\r\n\r\n\t\t    var st = KTUtil.getScrollTop();\r\n\r\n\t\t    if (st >= offset && KTUtil.hasClass(body, 'card-sticky-on') === false) {\r\n\t\t\t    Plugin.eventTrigger('stickyOn');\r\n\r\n\t\t\t    KTUtil.addClass(body, 'card-sticky-on');\r\n\r\n\t\t\t    Plugin.updateSticky();\r\n\r\n\t\t    } else if ((st*1.5) <= offset && KTUtil.hasClass(body, 'card-sticky-on')) {\r\n\t\t\t    // Back scroll mode\r\n\t\t\t    Plugin.eventTrigger('stickyOff');\r\n\r\n\t\t\t    KTUtil.removeClass(body, 'card-sticky-on');\r\n\r\n\t\t\t    Plugin.resetSticky();\r\n\t\t    }\r\n\t    },\r\n\r\n        updateSticky: function() {\r\n            if (!the.header) {\r\n                return;\r\n            }\r\n\r\n            var top;\r\n\r\n            if (KTUtil.hasClass(body, 'card-sticky-on')) {\r\n                if (the.options.sticky.position.top instanceof Function) {\r\n                    top = parseInt(the.options.sticky.position.top.call(this, the));\r\n                } else {\r\n                    top = parseInt(the.options.sticky.position.top);\r\n                }\r\n\r\n                var left;\r\n                if (the.options.sticky.position.left instanceof Function) {\r\n                    left = parseInt(the.options.sticky.position.left.call(this, the));\r\n                } else {\r\n                    left = parseInt(the.options.sticky.position.left);\r\n                }\r\n\r\n                var right;\r\n                if (the.options.sticky.position.right instanceof Function) {\r\n                    right = parseInt(the.options.sticky.position.right.call(this, the));\r\n                } else {\r\n                    right = parseInt(the.options.sticky.position.right);\r\n                }\r\n\r\n                KTUtil.css(the.header, 'z-index', the.options.sticky.zIndex);\r\n                KTUtil.css(the.header, 'top', top + 'px');\r\n                KTUtil.css(the.header, 'left', left + 'px');\r\n                KTUtil.css(the.header, 'right', right + 'px');\r\n            }\r\n        },\r\n\r\n        resetSticky: function() {\r\n            if (!the.header) {\r\n                return;\r\n            }\r\n\r\n            if (KTUtil.hasClass(body, 'card-sticky-on') === false) {\r\n                KTUtil.css(the.header, 'z-index', '');\r\n                KTUtil.css(the.header, 'top', '');\r\n                KTUtil.css(the.header, 'left', '');\r\n                KTUtil.css(the.header, 'right', '');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Remove card\r\n         */\r\n        remove: function() {\r\n            if (Plugin.eventTrigger('beforeRemove') === false) {\r\n                return;\r\n            }\r\n\r\n            KTUtil.remove(element);\r\n\r\n            Plugin.eventTrigger('afterRemove');\r\n        },\r\n\r\n        /**\r\n         * Set content\r\n         */\r\n        setContent: function(html) {\r\n            if (html) {\r\n                the.body.innerHTML = html;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get body\r\n         */\r\n        getBody: function() {\r\n            return the.body;\r\n        },\r\n\r\n        /**\r\n         * Get self\r\n         */\r\n        getSelf: function() {\r\n            return element;\r\n        },\r\n\r\n        /**\r\n         * Reload\r\n         */\r\n        reload: function() {\r\n            Plugin.eventTrigger('reload');\r\n        },\r\n\r\n        /**\r\n         * Toggle\r\n         */\r\n        toggle: function() {\r\n            if (KTUtil.hasClass(element, 'card-collapse') || KTUtil.hasClass(element, 'card-collapsed')) {\r\n                Plugin.expand();\r\n            } else {\r\n                Plugin.collapse();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Collapse\r\n         */\r\n        collapse: function() {\r\n            if (Plugin.eventTrigger('beforeCollapse') === false) {\r\n                return;\r\n            }\r\n\r\n            KTUtil.slideUp(the.body, the.options.toggleSpeed, function() {\r\n                Plugin.eventTrigger('afterCollapse');\r\n            });\r\n\r\n            KTUtil.addClass(element, 'card-collapse');\r\n        },\r\n\r\n        /**\r\n         * Expand\r\n         */\r\n        expand: function() {\r\n            if (Plugin.eventTrigger('beforeExpand') === false) {\r\n                return;\r\n            }\r\n\r\n            KTUtil.slideDown(the.body, the.options.toggleSpeed, function() {\r\n                Plugin.eventTrigger('afterExpand');\r\n            });\r\n\r\n            KTUtil.removeClass(element, 'card-collapse');\r\n            KTUtil.removeClass(element, 'card-collapsed');\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            //KTUtil.triggerCustomEvent(name);\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Remove card\r\n     */\r\n    the.remove = function() {\r\n        return Plugin.remove(html);\r\n    };\r\n\r\n    /**\r\n     * Init sticky card\r\n     */\r\n    the.initSticky = function() {\r\n        return Plugin.initSticky();\r\n    };\r\n\r\n    /**\r\n     * Rerender sticky layout\r\n     */\r\n    the.updateSticky = function() {\r\n        return Plugin.updateSticky();\r\n    };\r\n\r\n    /**\r\n     * Reset the sticky\r\n     */\r\n    the.resetSticky = function() {\r\n        return Plugin.resetSticky();\r\n    };\r\n\r\n\t/**\r\n\t * Destroy sticky card\r\n\t */\r\n\tthe.destroySticky = function() {\r\n\t\tPlugin.resetSticky();\r\n\t\twindow.removeEventListener('scroll', Plugin.onScrollSticky);\r\n\t};\r\n\r\n    /**\r\n     * Reload card\r\n     */\r\n    the.reload = function() {\r\n        return Plugin.reload();\r\n    };\r\n\r\n    /**\r\n     * Set card content\r\n     */\r\n    the.setContent = function(html) {\r\n        return Plugin.setContent(html);\r\n    };\r\n\r\n    /**\r\n     * Toggle card\r\n     */\r\n    the.toggle = function() {\r\n        return Plugin.toggle();\r\n    };\r\n\r\n    /**\r\n     * Collapse card\r\n     */\r\n    the.collapse = function() {\r\n        return Plugin.collapse();\r\n    };\r\n\r\n    /**\r\n     * Expand card\r\n     */\r\n    the.expand = function() {\r\n        return Plugin.expand();\r\n    };\r\n\r\n    /**\r\n     * Get cardbody\r\n     * @returns {jQuery}\r\n     */\r\n    the.getBody = function() {\r\n        return Plugin.getBody();\r\n    };\r\n\r\n    /**\r\n     * Get cardbody\r\n     * @returns {jQuery}\r\n     */\r\n    the.getSelf = function() {\r\n        return Plugin.getSelf();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTCard;\r\n}\r\n\nexport default KTCard;","/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./util\";\r\n\r\n// Component Definition\r\nvar KTScrolltop = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.getById(elementId);\r\n    var body = KTUtil.getBody();\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        offset: 300,\r\n        speed: 6000\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {mscrolltop}\r\n         */\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('scrolltop')) {\r\n                the = KTUtil.data(element).get('scrolltop');\r\n            } else {\r\n                // reset scrolltop\r\n                Plugin.init(options);\r\n\r\n                // build scrolltop\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('scrolltop', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subscrolltop click toggle\r\n         * @returns {mscrolltop}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n        },\r\n\r\n        build: function() {\r\n            var timer;\r\n\r\n            window.addEventListener('scroll', function() {\r\n                KTUtil.throttle(timer, function() {\r\n                    Plugin.handle();\r\n                }, 200);\r\n            });\r\n\r\n            // handle button click\r\n            KTUtil.addEvent(element, 'click', Plugin.scroll);\r\n        },\r\n\r\n        /**\r\n         * Handles scrolltop click scrollTop\r\n         */\r\n        handle: function() {\r\n            var pos = KTUtil.getScrollTop(); // current vertical position\r\n\r\n            if (pos > the.options.offset) {\r\n                if (body.hasAttribute('data-scrolltop') === false) {\r\n                    body.setAttribute('data-scrolltop', 'on');\r\n                }\r\n            } else {\r\n                if (body.hasAttribute('data-scrolltop') === true) {\r\n                    body.removeAttribute('data-scrolltop');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles scrolltop click scrollTop\r\n         */\r\n        scroll: function(e) {\r\n            e.preventDefault();\r\n\r\n            KTUtil.scrollTop(0, the.options.speed);\r\n        },\r\n\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                       return event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Get subscrolltop mode\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Set scrolltop content\r\n     * @returns {mscrolltop}\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTScrolltop;\r\n}\r\n\nexport default KTScrolltop;"],"sourceRoot":""}